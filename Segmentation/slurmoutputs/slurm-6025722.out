Changed directory to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs.

JobID: 6025722
======
Time: Thu Jan 14 21:44:17 GMT 2021
Running on master node: wbic-cs-34
Current directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Nodes allocated:
================
wbic-cs-34

numtasks=1, numnodes=1, mpi_tasks_per_node=1 (OMP_NUM_THREADS=1)

Executing command:
==================
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh /lustre/scratch/wbic-beta/ccn30/ENCRYPT 25846/20200211_U-ID48025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Beginning ASHS for:  25846
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 54: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/original: No such file or directory
Beginning ASHS for:  25846
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/n42_t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 65: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/N4T2: No such file or directory
Beginning ASHS for:  25846
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/n42_t2.nii
ashs_main execution log
  timestamp:   Thu Jan 14 21:44:18 GMT 2021
  invocation:  /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_main.sh -I 25846 -a /home/ccn30/ENCRYPT/atlases/utrechtatlas -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/n42_t2.nii -w /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 -N
  directory:   /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
  environment:
    ASHS_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii
    ASHS_ROOT=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
    ASHS_SKIP_ANTS=1
    ASHS_SKIP_RIGID=1
    ASHS_SUBJID=25846
    ASHS_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/n42_t2.nii
    ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
Atlas    : /home/ccn30/ENCRYPT/atlases/utrechtatlas
T1 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii
T2 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/n42_t2.nii
WorkDir  : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
Not using SGE or GNU parallel
****************************************
Starting stage 1: Normalization to T1 population template
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 1: Normalization to T1 population 
template
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_template_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  Skip Rigid: 1
  Skip Ants: 1
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ TEMP_T1_FULL=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz
+ TEMP_T1_MASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_AFF_T1TEMP_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_MPRAGE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_d.nii.gz
+ echo 'ASHS_MPRAGE_DENOISE = 0'
ASHS_MPRAGE_DENOISE = 0
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_d.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/n42_t2.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/n42_t2.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_TSE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_d.nii.gz
+ ashs_align_t1t2 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local OVERRIDE_MAT=
+ local OVERRIDE_MODE=
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat ]]
+ export FSLOUTPUTTYPE=NIFTI_GZ
+ FSLOUTPUTTYPE=NIFTI_GZ
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -resample 100x100x100% -region 20x20x0% 60x60x100% -type short -o /tmp/ashs.YIec2QbO/tse_iso.nii.gz
+ [[ -n '' ]]
+ local INIT_RIGID
+ [[ -n '' ]]
+ INIT_RIGID=-ia-identity
+ greedy -d 3 -a -dof 6 -m MI -n 100x100x10 -i /tmp/ashs.YIec2QbO/tse_iso.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -ia-identity -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
Executing with the default number of threads: 24
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1701.03   GNORM= 56.543
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1745.198      35.489       0.018
   2    3     -1785.262      24.214       1.000
   3    4     -1798.004      15.406       1.000
   4    5     -1803.217       6.408       1.000
   5    6     -1804.129       4.515       1.000
   6    7     -1804.947       4.035       1.000
   7    8     -1805.080       2.421       1.000
   8    9     -1805.112       1.809       1.000
   9   10     -1805.151       1.849       1.000
  10   12     -1805.158       1.423       0.179
  11   14     -1805.163       2.511       0.313
  12   15     -1805.179       1.903       1.000
  13   17     -1805.187       1.429       0.314
  14   18     -1805.190       1.337       1.000
  15   19     -1805.194       0.949       1.000
  16   20     -1805.195       0.718       1.000
  17   21     -1805.197       0.695       1.000
  18   24     -1805.197       0.801       0.113
  19   25     -1805.198       0.634       1.000
  20   28     -1805.199       1.443       0.303
  21   30     -1805.199       0.910       0.185
  22   31     -1805.199       1.085       1.000
  23   33     -1805.199       0.577       0.368
  24   34     -1805.199       0.716       1.000
  25   36     -1805.199       0.646       0.126
  26   37     -1805.199       0.343       1.000
  27   39     -1805.200       0.771       5.000
  28   42     -1805.200       0.985       0.051
  29   44     -1805.200       0.733       0.499
  30   46     -1805.200       1.866       0.237
  31   48     -1805.200       1.010       0.304
  32   49     -1805.200       1.107       1.000
  33   51     -1805.200       0.745       0.339
  34   53     -1805.200       0.411       5.000
  35   54     -1805.201       0.735       1.000
  36   55     -1805.201       0.406       1.000
  37   58     -1805.201       0.531       0.036
  38   63     -1805.201       0.728       6.917
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999998 0.00126004 -0.00164764 -0.245627 
-0.00135824 0.998135 -0.0610293 1.74475 
0.00156767 0.0610314 0.998135 -2.85915 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1472.48   GNORM= 29.7845
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1486.667      31.480       0.034
   2    3     -1499.919      29.964       1.000
   3    5     -1547.628      27.635       0.301
   4    7     -1556.372      17.574       0.283
   5    8     -1558.489       8.622       1.000
   6    9     -1558.920       9.880       1.000
   7   10     -1559.419       5.482       1.000
   8   11     -1559.755       1.998       1.000
   9   12     -1559.800       1.401       1.000
  10   13     -1559.822       1.093       1.000
  11   14     -1559.839       1.278       1.000
  12   15     -1559.850       0.277       1.000
  13   16     -1559.853       0.382       1.000
  14   18     -1559.854       0.461       0.471
  15   20     -1559.854       0.296       0.241
  16   21     -1559.854       0.179       1.000
  17   22     -1559.854       0.113       1.000
  18   23     -1559.854       0.121       1.000
  19   25     -1559.854       0.103       0.255
  20   26     -1559.854       0.062       1.000
  21   29     -1559.854       0.052       2.805
  22   31     -1559.854       0.100       0.374
  23   34     -1559.854       0.060       0.040
  24   37     -1559.854       0.067       0.039
  25   38     -1559.854       0.049       1.000
  26   40     -1559.854       0.035       0.161
  27   41     -1559.854       0.093       1.000
  28   42     -1559.854       0.076       1.000
  29   43     -1559.854       0.064       1.000
  30   44     -1559.854       0.122       1.000
  31   46     -1559.854       0.049       0.291
  32   47     -1559.854       0.099       1.000
  33   48     -1559.854       0.045       1.000
  34   49     -1559.854       0.049       1.000
  35   50     -1559.854       0.053       1.000
  36   51     -1559.854       0.026       1.000
  37   53     -1559.854       0.044       5.000
  38   54     -1559.854       0.049       1.000
  39   56     -1559.854       0.051       0.414
  40   57     -1559.854       0.043       1.000
  41   58     -1559.854       0.021       1.000
  42   59     -1559.854       0.018       1.000
  43   61     -1559.854       0.014       0.253
  44   62     -1559.854       0.029       1.000
  45   64     -1559.854       0.025       0.410
  46   68     -1559.854       0.052       0.040
  47   70     -1559.854       0.048       0.224
  48   72     -1559.854       0.016       0.290
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999978 0.00202083 -0.00626414 -0.156275 
-0.00210245 0.999913 -0.013051 0.349773 
0.00623721 0.0130639 0.999895 -1.01731 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1619.16   GNORM= 74.8273
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1624.336      23.812       0.002
   2    4     -1625.387      22.256       1.000
   3    5     -1628.945      37.442       1.000
   4    6     -1634.847      59.912       1.000
   5    7     -1641.330      57.572       1.000
   6    9     -1643.504      39.343       0.442
   7   10     -1645.032       8.605       1.000
   8   11     -1645.172       4.758       1.000
Final RAS Transform: 
0.99996 0.00198657 -0.00867787 -0.0890489 
-0.00203086 0.999985 -0.0050979 0.133601 
0.00866761 0.00511532 0.999949 -0.722913 
0 0 0 1 

+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.25
+ local PROGRESS=0.25
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.25'
CHUNK 0 0.2 0.25
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.25
====================================
         PROGRESS: 0               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat ]]
+ [[ -n 1 ]]
+ echo 'Skipping Affine Registration'
Skipping Affine Registration
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.5'
CHUNK 0 0.2 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.5
====================================
         PROGRESS: 0               
====================================
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz ]]
+ greedy -d 3 -m NCC 2x2x2 -e 0.5 -n 60x60x20x0 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz -oinv /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz -gm /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 71.6159
LEVEL 1 of 4
  Smoothing sigmas: [9.11606, 9.11606, 6.92825], [3.72161, 3.72161, 2.82845]
Level     0,  Iter     0:    Energy =   0.0409
Level     0,  Iter     1:    Energy =   0.0448
Level     0,  Iter     2:    Energy =   0.0483
Level     0,  Iter     3:    Energy =   0.0510
Level     0,  Iter     4:    Energy =   0.0532
Level     0,  Iter     5:    Energy =   0.0546
Level     0,  Iter     6:    Energy =   0.0551
Level     0,  Iter     7:    Energy =   0.0554
Level     0,  Iter     8:    Energy =   0.0554
Level     0,  Iter     9:    Energy =   0.0556
Level     0,  Iter    10:    Energy =   0.0556
Level     0,  Iter    11:    Energy =   0.0559
Level     0,  Iter    12:    Energy =   0.0559
Level     0,  Iter    13:    Energy =   0.0562
Level     0,  Iter    14:    Energy =   0.0562
Level     0,  Iter    15:    Energy =   0.0564
Level     0,  Iter    16:    Energy =   0.0563
Level     0,  Iter    17:    Energy =   0.0565
Level     0,  Iter    18:    Energy =   0.0564
Level     0,  Iter    19:    Energy =   0.0565
Level     0,  Iter    20:    Energy =   0.0564
Level     0,  Iter    21:    Energy =   0.0566
Level     0,  Iter    22:    Energy =   0.0565
Level     0,  Iter    23:    Energy =   0.0566
Level     0,  Iter    24:    Energy =   0.0565
Level     0,  Iter    25:    Energy =   0.0566
Level     0,  Iter    26:    Energy =   0.0565
Level     0,  Iter    27:    Energy =   0.0566
Level     0,  Iter    28:    Energy =   0.0565
Level     0,  Iter    29:    Energy =   0.0566
Level     0,  Iter    30:    Energy =   0.0566
Level     0,  Iter    31:    Energy =   0.0566
Level     0,  Iter    32:    Energy =   0.0566
Level     0,  Iter    33:    Energy =   0.0567
Level     0,  Iter    34:    Energy =   0.0566
Level     0,  Iter    35:    Energy =   0.0567
Level     0,  Iter    36:    Energy =   0.0566
Level     0,  Iter    37:    Energy =   0.0566
Level     0,  Iter    38:    Energy =   0.0566
Level     0,  Iter    39:    Energy =   0.0566
Level     0,  Iter    40:    Energy =   0.0566
Level     0,  Iter    41:    Energy =   0.0566
Level     0,  Iter    42:    Energy =   0.0566
Level     0,  Iter    43:    Energy =   0.0566
Level     0,  Iter    44:    Energy =   0.0566
Level     0,  Iter    45:    Energy =   0.0567
Level     0,  Iter    46:    Energy =   0.0566
Level     0,  Iter    47:    Energy =   0.0567
Level     0,  Iter    48:    Energy =   0.0566
Level     0,  Iter    49:    Energy =   0.0567
Level     0,  Iter    50:    Energy =   0.0566
Level     0,  Iter    51:    Energy =   0.0567
Level     0,  Iter    52:    Energy =   0.0566
Level     0,  Iter    53:    Energy =   0.0567
Level     0,  Iter    54:    Energy =   0.0567
Level     0,  Iter    55:    Energy =   0.0567
Level     0,  Iter    56:    Energy =   0.0567
Level     0,  Iter    57:    Energy =   0.0568
Level     0,  Iter    58:    Energy =   0.0567
Level     0,  Iter    59:    Energy =   0.0568
END OF LEVEL     0    DetJac Range:   0.4147  to   1.9008 
  Avg. Gradient Time  : 0.0207s  38.67% 
  Avg. Gaussian Time  : 0.0259s  48.40% 
  Avg. Iteration Time : 0.0535s 
LEVEL 2 of 4
  Smoothing sigmas: [4.55803, 4.55803, 3.46412], [1.86081, 1.86081, 1.41422]
Level     1,  Iter     0:    Energy =   0.0541
Level     1,  Iter     1:    Energy =   0.0567
Level     1,  Iter     2:    Energy =   0.0593
Level     1,  Iter     3:    Energy =   0.0613
Level     1,  Iter     4:    Energy =   0.0625
Level     1,  Iter     5:    Energy =   0.0635
Level     1,  Iter     6:    Energy =   0.0644
Level     1,  Iter     7:    Energy =   0.0660
Level     1,  Iter     8:    Energy =   0.0667
Level     1,  Iter     9:    Energy =   0.0673
Level     1,  Iter    10:    Energy =   0.0678
Level     1,  Iter    11:    Energy =   0.0683
Level     1,  Iter    12:    Energy =   0.0684
Level     1,  Iter    13:    Energy =   0.0689
Level     1,  Iter    14:    Energy =   0.0688
Level     1,  Iter    15:    Energy =   0.0695
Level     1,  Iter    16:    Energy =   0.0694
Level     1,  Iter    17:    Energy =   0.0698
Level     1,  Iter    18:    Energy =   0.0696
Level     1,  Iter    19:    Energy =   0.0702
Level     1,  Iter    20:    Energy =   0.0701
Level     1,  Iter    21:    Energy =   0.0703
Level     1,  Iter    22:    Energy =   0.0701
Level     1,  Iter    23:    Energy =   0.0705
Level     1,  Iter    24:    Energy =   0.0703
Level     1,  Iter    25:    Energy =   0.0706
Level     1,  Iter    26:    Energy =   0.0704
Level     1,  Iter    27:    Energy =   0.0708
Level     1,  Iter    28:    Energy =   0.0706
Level     1,  Iter    29:    Energy =   0.0709
Level     1,  Iter    30:    Energy =   0.0707
Level     1,  Iter    31:    Energy =   0.0710
Level     1,  Iter    32:    Energy =   0.0709
Level     1,  Iter    33:    Energy =   0.0711
Level     1,  Iter    34:    Energy =   0.0708
Level     1,  Iter    35:    Energy =   0.0711
Level     1,  Iter    36:    Energy =   0.0711
Level     1,  Iter    37:    Energy =   0.0713
Level     1,  Iter    38:    Energy =   0.0710
Level     1,  Iter    39:    Energy =   0.0712
Level     1,  Iter    40:    Energy =   0.0714
Level     1,  Iter    41:    Energy =   0.0714
Level     1,  Iter    42:    Energy =   0.0712
Level     1,  Iter    43:    Energy =   0.0713
Level     1,  Iter    44:    Energy =   0.0715
Level     1,  Iter    45:    Energy =   0.0715
Level     1,  Iter    46:    Energy =   0.0712
Level     1,  Iter    47:    Energy =   0.0714
Level     1,  Iter    48:    Energy =   0.0716
Level     1,  Iter    49:    Energy =   0.0716
Level     1,  Iter    50:    Energy =   0.0713
Level     1,  Iter    51:    Energy =   0.0714
Level     1,  Iter    52:    Energy =   0.0717
Level     1,  Iter    53:    Energy =   0.0717
Level     1,  Iter    54:    Energy =   0.0714
Level     1,  Iter    55:    Energy =   0.0715
Level     1,  Iter    56:    Energy =   0.0717
Level     1,  Iter    57:    Energy =   0.0717
Level     1,  Iter    58:    Energy =   0.0714
Level     1,  Iter    59:    Energy =   0.0715
END OF LEVEL     1    DetJac Range:   0.1004  to   3.0031 
  Avg. Gradient Time  : 0.1418s  37.68% 
  Avg. Gaussian Time  : 0.1933s  51.37% 
  Avg. Iteration Time : 0.3763s 
LEVEL 3 of 4
  Smoothing sigmas: [2.27901, 2.27901, 1.73206], [0.930404, 0.930404, 0.707111]
Level     2,  Iter     0:    Energy =   0.0519
Level     2,  Iter     1:    Energy =   0.0536
Level     2,  Iter     2:    Energy =   0.0553
Level     2,  Iter     3:    Energy =   0.0568
Level     2,  Iter     4:    Energy =   0.0582
Level     2,  Iter     5:    Energy =   0.0595
Level     2,  Iter     6:    Energy =   0.0605
Level     2,  Iter     7:    Energy =   0.0614
Level     2,  Iter     8:    Energy =   0.0621
Level     2,  Iter     9:    Energy =   0.0627
Level     2,  Iter    10:    Energy =   0.0632
Level     2,  Iter    11:    Energy =   0.0637
Level     2,  Iter    12:    Energy =   0.0642
Level     2,  Iter    13:    Energy =   0.0647
Level     2,  Iter    14:    Energy =   0.0650
Level     2,  Iter    15:    Energy =   0.0651
Level     2,  Iter    16:    Energy =   0.0653
Level     2,  Iter    17:    Energy =   0.0654
Level     2,  Iter    18:    Energy =   0.0655
Level     2,  Iter    19:    Energy =   0.0656
END OF LEVEL     2    DetJac Range:   0.0525  to   5.5850 
  Avg. Gradient Time  : 1.1981s  33.57% 
  Avg. Gaussian Time  : 2.0689s  57.98% 
  Avg. Iteration Time : 3.5684s 
LEVEL 4 of 4
  Smoothing sigmas: [1.13951, 1.13951, 0.866031], [0.465202, 0.465202, 0.353556]

real	6m37.173s
user	11m55.132s
sys	0m18.880s
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.9
+ local PROGRESS=0.9
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.9'
CHUNK 0 0.2 0.9
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.9
====================================
         PROGRESS: 0               
====================================
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/reslice_mprage_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 24
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/reslice_tse_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 24
+ ashs_reslice_to_template /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 /home/ccn30/ENCRYPT/atlases/utrechtatlas
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local ATLAS=/home/ccn30/ENCRYPT/atlases/utrechtatlas
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ local side
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 24
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 24
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.0085
Thresholding #1
  Mapping range [0.0085, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz /tmp/ashs.YIec2QbO/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 24
+ c3d /tmp/ashs.YIec2QbO/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/seg_left.nii.gz ]]
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 24
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 24
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.00831
Thresholding #1
  Mapping range [0.00831, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz /tmp/ashs.YIec2QbO/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 24
+ c3d /tmp/ashs.YIec2QbO/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/seg_right.nii.gz ]]
+ [[ -f '' ]]
+ [[ -n '' ]]
+ for side in '$SIDES'
+ ashs_registration_qc left
+ local side=left
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_left.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_left.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.YIec2QbO/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.YIec2QbO/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.YIec2QbO/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.YIec2QbO/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.YIec2QbO/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.YIec2QbO/sag_tse_%02d.png
++ ls /tmp/ashs.YIec2QbO/cor_mprage_00.png /tmp/ashs.YIec2QbO/cor_mprage_01.png /tmp/ashs.YIec2QbO/cor_mprage_02.png /tmp/ashs.YIec2QbO/cor_mprage_03.png /tmp/ashs.YIec2QbO/cor_mprage_04.png /tmp/ashs.YIec2QbO/cor_temp_00.png /tmp/ashs.YIec2QbO/cor_temp_01.png /tmp/ashs.YIec2QbO/cor_temp_02.png /tmp/ashs.YIec2QbO/cor_temp_03.png /tmp/ashs.YIec2QbO/cor_temp_04.png /tmp/ashs.YIec2QbO/cor_tse_00.png /tmp/ashs.YIec2QbO/cor_tse_01.png /tmp/ashs.YIec2QbO/cor_tse_02.png /tmp/ashs.YIec2QbO/cor_tse_03.png /tmp/ashs.YIec2QbO/cor_tse_04.png /tmp/ashs.YIec2QbO/sag_mprage_00.png /tmp/ashs.YIec2QbO/sag_mprage_01.png /tmp/ashs.YIec2QbO/sag_temp_00.png /tmp/ashs.YIec2QbO/sag_temp_01.png /tmp/ashs.YIec2QbO/sag_tse_00.png /tmp/ashs.YIec2QbO/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_mprage_00.png /tmp/ashs.YIec2QbO/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_mprage_01.png /tmp/ashs.YIec2QbO/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_mprage_02.png /tmp/ashs.YIec2QbO/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_mprage_03.png /tmp/ashs.YIec2QbO/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_mprage_04.png /tmp/ashs.YIec2QbO/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_temp_00.png /tmp/ashs.YIec2QbO/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_temp_01.png /tmp/ashs.YIec2QbO/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_temp_02.png /tmp/ashs.YIec2QbO/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_temp_03.png /tmp/ashs.YIec2QbO/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_temp_04.png /tmp/ashs.YIec2QbO/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_tse_00.png /tmp/ashs.YIec2QbO/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_tse_01.png /tmp/ashs.YIec2QbO/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_tse_02.png /tmp/ashs.YIec2QbO/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_tse_03.png /tmp/ashs.YIec2QbO/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_tse_04.png /tmp/ashs.YIec2QbO/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/sag_mprage_00.png /tmp/ashs.YIec2QbO/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/sag_mprage_01.png /tmp/ashs.YIec2QbO/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/sag_temp_00.png /tmp/ashs.YIec2QbO/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/sag_temp_01.png /tmp/ashs.YIec2QbO/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/sag_tse_00.png /tmp/ashs.YIec2QbO/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/sag_tse_01.png /tmp/ashs.YIec2QbO/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.YIec2QbO/cor_temp_00.png /tmp/ashs.YIec2QbO/cor_temp_01.png /tmp/ashs.YIec2QbO/cor_temp_02.png /tmp/ashs.YIec2QbO/cor_temp_03.png /tmp/ashs.YIec2QbO/cor_temp_04.png /tmp/ashs.YIec2QbO/sag_temp_00.png /tmp/ashs.YIec2QbO/sag_temp_01.png /tmp/ashs.YIec2QbO/cor_mprage_00.png /tmp/ashs.YIec2QbO/cor_mprage_01.png /tmp/ashs.YIec2QbO/cor_mprage_02.png /tmp/ashs.YIec2QbO/cor_mprage_03.png /tmp/ashs.YIec2QbO/cor_mprage_04.png /tmp/ashs.YIec2QbO/sag_mprage_00.png /tmp/ashs.YIec2QbO/sag_mprage_01.png /tmp/ashs.YIec2QbO/cor_tse_00.png /tmp/ashs.YIec2QbO/cor_tse_01.png /tmp/ashs.YIec2QbO/cor_tse_02.png /tmp/ashs.YIec2QbO/cor_tse_03.png /tmp/ashs.YIec2QbO/cor_tse_04.png /tmp/ashs.YIec2QbO/sag_tse_00.png /tmp/ashs.YIec2QbO/sag_tse_01.png /tmp/ashs.YIec2QbO/qa.png
+ convert /tmp/ashs.YIec2QbO/qa.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa
+ montage -label 25846:left /tmp/ashs.YIec2QbO/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_registration_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (left)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_registration_left_qa.png
+ for side in '$SIDES'
+ ashs_registration_qc right
+ local side=right
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_right.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_right.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.YIec2QbO/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.YIec2QbO/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.YIec2QbO/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.YIec2QbO/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.YIec2QbO/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.YIec2QbO/sag_tse_%02d.png
++ ls /tmp/ashs.YIec2QbO/cor_mprage_00.png /tmp/ashs.YIec2QbO/cor_mprage_01.png /tmp/ashs.YIec2QbO/cor_mprage_02.png /tmp/ashs.YIec2QbO/cor_mprage_03.png /tmp/ashs.YIec2QbO/cor_mprage_04.png /tmp/ashs.YIec2QbO/cor_temp_00.png /tmp/ashs.YIec2QbO/cor_temp_01.png /tmp/ashs.YIec2QbO/cor_temp_02.png /tmp/ashs.YIec2QbO/cor_temp_03.png /tmp/ashs.YIec2QbO/cor_temp_04.png /tmp/ashs.YIec2QbO/cor_tse_00.png /tmp/ashs.YIec2QbO/cor_tse_01.png /tmp/ashs.YIec2QbO/cor_tse_02.png /tmp/ashs.YIec2QbO/cor_tse_03.png /tmp/ashs.YIec2QbO/cor_tse_04.png /tmp/ashs.YIec2QbO/sag_mprage_00.png /tmp/ashs.YIec2QbO/sag_mprage_01.png /tmp/ashs.YIec2QbO/sag_temp_00.png /tmp/ashs.YIec2QbO/sag_temp_01.png /tmp/ashs.YIec2QbO/sag_tse_00.png /tmp/ashs.YIec2QbO/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_mprage_00.png /tmp/ashs.YIec2QbO/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_mprage_01.png /tmp/ashs.YIec2QbO/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_mprage_02.png /tmp/ashs.YIec2QbO/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_mprage_03.png /tmp/ashs.YIec2QbO/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_mprage_04.png /tmp/ashs.YIec2QbO/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_temp_00.png /tmp/ashs.YIec2QbO/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_temp_01.png /tmp/ashs.YIec2QbO/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_temp_02.png /tmp/ashs.YIec2QbO/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_temp_03.png /tmp/ashs.YIec2QbO/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_temp_04.png /tmp/ashs.YIec2QbO/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_tse_00.png /tmp/ashs.YIec2QbO/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_tse_01.png /tmp/ashs.YIec2QbO/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_tse_02.png /tmp/ashs.YIec2QbO/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_tse_03.png /tmp/ashs.YIec2QbO/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/cor_tse_04.png /tmp/ashs.YIec2QbO/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/sag_mprage_00.png /tmp/ashs.YIec2QbO/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/sag_mprage_01.png /tmp/ashs.YIec2QbO/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/sag_temp_00.png /tmp/ashs.YIec2QbO/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/sag_temp_01.png /tmp/ashs.YIec2QbO/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/sag_tse_00.png /tmp/ashs.YIec2QbO/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.YIec2QbO/sag_tse_01.png /tmp/ashs.YIec2QbO/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.YIec2QbO/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.YIec2QbO/cor_temp_00.png /tmp/ashs.YIec2QbO/cor_temp_01.png /tmp/ashs.YIec2QbO/cor_temp_02.png /tmp/ashs.YIec2QbO/cor_temp_03.png /tmp/ashs.YIec2QbO/cor_temp_04.png /tmp/ashs.YIec2QbO/sag_temp_00.png /tmp/ashs.YIec2QbO/sag_temp_01.png /tmp/ashs.YIec2QbO/cor_mprage_00.png /tmp/ashs.YIec2QbO/cor_mprage_01.png /tmp/ashs.YIec2QbO/cor_mprage_02.png /tmp/ashs.YIec2QbO/cor_mprage_03.png /tmp/ashs.YIec2QbO/cor_mprage_04.png /tmp/ashs.YIec2QbO/sag_mprage_00.png /tmp/ashs.YIec2QbO/sag_mprage_01.png /tmp/ashs.YIec2QbO/cor_tse_00.png /tmp/ashs.YIec2QbO/cor_tse_01.png /tmp/ashs.YIec2QbO/cor_tse_02.png /tmp/ashs.YIec2QbO/cor_tse_03.png /tmp/ashs.YIec2QbO/cor_tse_04.png /tmp/ashs.YIec2QbO/sag_tse_00.png /tmp/ashs.YIec2QbO/sag_tse_01.png /tmp/ashs.YIec2QbO/qa.png
+ convert /tmp/ashs.YIec2QbO/qa.png -bordercolor Black -border 1x1 /tmp/ashs.YIec2QbO/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa
+ montage -label 25846:right /tmp/ashs.YIec2QbO/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_registration_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (right)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_registration_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 1'
CHUNK 0 0.2 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 1
====================================
         PROGRESS: 0               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 1 successful
------------------------------------------------
[0m
****************************************
Starting stage 2: Initial ROI registration to all T2 atlases
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 2: Initial ROI registration to 
all T2 atlases
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 000 left 0
+ local tid=000
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.789722
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3849.53   GNORM= 416.461
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3884.102     214.970       0.000
   2    4     -3900.570     216.814       1.000
   3    5     -3973.497     337.274       1.000
   4    6     -4011.045     294.883       1.000
   5    7     -4033.375     145.036       1.000
   6    8     -4049.607     101.915       1.000
   7    9     -4056.802     107.509       1.000
   8   10     -4069.896     118.578       1.000
   9   11     -4070.411     254.665       1.000
  10   12     -4090.003     112.600       1.000
  11   13     -4093.064      45.868       1.000
  12   14     -4093.942      37.443       1.000
  13   15     -4096.717      61.408       1.000
  14   16     -4099.869      66.606       1.000
  15   17     -4101.819     142.905       1.000
  16   18     -4106.995      39.450       1.000
  17   19     -4108.872      21.265       1.000
  18   20     -4109.614      28.176       1.000
  19   21     -4110.612      44.621       1.000
  20   22     -4111.569      33.643       1.000
  21   23     -4112.518      19.603       1.000
  22   25     -4112.697      13.047       0.461
  23   26     -4112.771       7.313       1.000
  24   27     -4112.812       8.243       1.000
  25   28     -4112.877      14.613       1.000
  26   29     -4112.926       3.366       1.000
  27   30     -4112.929       6.624       1.000
  28   31     -4112.940      10.191       1.000
  29   32     -4112.959      11.655       1.000
  30   33     -4113.018      19.816       1.000
  31   34     -4113.051       4.776       1.000
  32   35     -4113.060       4.124       1.000
  33   36     -4113.070       4.632       1.000
  34   37     -4113.081       2.589       1.000
  35   38     -4113.082       2.630       1.000
  36   39     -4113.098       4.440       1.000
  37   41     -4113.134      12.046       0.233
  38   43     -4113.143      11.963       0.429
  39   45     -4113.153       4.012       0.435
  40   46     -4113.158       1.961       1.000
Final RAS Transform: 
0.972895 0.00769251 -0.0181595 -0.447082 
0.00675903 1.0002 0.00766996 0.0684207 
-0.0391824 0.0052763 1.05429 -0.830217 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2835.79   GNORM= 282.56
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2853.842     152.157       0.000
   2    4     -2861.512      98.678       1.000
   3    5     -2866.468      33.308       1.000
   4    6     -2867.379      23.345       1.000
   5    7     -2868.749      68.823       1.000
   6    8     -2870.493      59.509       1.000
   7    9     -2872.535     109.177       1.000
   8   10     -2874.656      29.212       1.000
   9   11     -2875.003      23.289       1.000
  10   12     -2875.724      28.444       1.000
  11   13     -2877.113      62.147       1.000
  12   14     -2878.922      48.745       1.000
  13   15     -2880.397      29.130       1.000
  14   16     -2880.501      38.861       1.000
  15   17     -2880.741      13.389       1.000
  16   18     -2880.833      10.950       1.000
  17   19     -2881.329      28.891       1.000
  18   20     -2881.688      31.293       1.000
  19   21     -2881.884      36.867       1.000
  20   22     -2882.725      18.638       1.000
  21   23     -2883.123       9.855       1.000
  22   24     -2883.365      29.552       1.000
  23   25     -2883.657      17.011       1.000
  24   26     -2883.793      11.750       1.000
  25   27     -2884.035      13.940       1.000
  26   29     -2884.176       8.648       0.291
  27   30     -2884.268       9.076       1.000
  28   31     -2884.281      27.098       1.000
  29   32     -2884.514      13.540       1.000
  30   33     -2884.617      12.784       1.000
  31   34     -2884.672       7.592       1.000
  32   35     -2884.803      12.750       1.000
  33   36     -2884.850       8.104       1.000
  34   37     -2884.916       6.338       1.000
  35   38     -2884.986       5.614       1.000
  36   39     -2885.022       5.444       1.000
  37   40     -2885.089       6.078       1.000
  38   41     -2885.109       8.682       1.000
  39   42     -2885.142       2.794       1.000
  40   43     -2885.146       2.826       1.000
Final RAS Transform: 
0.989891 0.00366634 -0.0418783 -0.0704547 
0.00595116 1.00378 0.00859298 0.363386 
-0.033845 0.00149299 1.05353 -0.92945 
0 0 0 1 

Final RAS Transform: 
0.989891 0.00366634 -0.0418783 -0.0704547 
0.00595116 1.00378 0.00859298 0.363386 
-0.033845 0.00149299 1.05353 -0.92945 
0 0 0 1 


real	0m10.223s
user	0m17.852s
sys	0m0.468s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.783315
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1207
Level     0,  Iter     1:    Energy =   0.1275
Level     0,  Iter     2:    Energy =   0.1347
Level     0,  Iter     3:    Energy =   0.1401
Level     0,  Iter     4:    Energy =   0.1440
Level     0,  Iter     5:    Energy =   0.1458
Level     0,  Iter     6:    Energy =   0.1477
Level     0,  Iter     7:    Energy =   0.1489
Level     0,  Iter     8:    Energy =   0.1501
Level     0,  Iter     9:    Energy =   0.1508
Level     0,  Iter    10:    Energy =   0.1515
Level     0,  Iter    11:    Energy =   0.1520
Level     0,  Iter    12:    Energy =   0.1528
Level     0,  Iter    13:    Energy =   0.1532
Level     0,  Iter    14:    Energy =   0.1538
Level     0,  Iter    15:    Energy =   0.1540
Level     0,  Iter    16:    Energy =   0.1543
Level     0,  Iter    17:    Energy =   0.1544
Level     0,  Iter    18:    Energy =   0.1547
Level     0,  Iter    19:    Energy =   0.1548
Level     0,  Iter    20:    Energy =   0.1549
Level     0,  Iter    21:    Energy =   0.1550
Level     0,  Iter    22:    Energy =   0.1550
Level     0,  Iter    23:    Energy =   0.1551
Level     0,  Iter    24:    Energy =   0.1549
Level     0,  Iter    25:    Energy =   0.1553
Level     0,  Iter    26:    Energy =   0.1550
Level     0,  Iter    27:    Energy =   0.1552
Level     0,  Iter    28:    Energy =   0.1549
Level     0,  Iter    29:    Energy =   0.1549
Level     0,  Iter    30:    Energy =   0.1550
Level     0,  Iter    31:    Energy =   0.1549
Level     0,  Iter    32:    Energy =   0.1551
Level     0,  Iter    33:    Energy =   0.1549
Level     0,  Iter    34:    Energy =   0.1552
Level     0,  Iter    35:    Energy =   0.1549
Level     0,  Iter    36:    Energy =   0.1555
Level     0,  Iter    37:    Energy =   0.1551
Level     0,  Iter    38:    Energy =   0.1558
Level     0,  Iter    39:    Energy =   0.1554
Level     0,  Iter    40:    Energy =   0.1562
Level     0,  Iter    41:    Energy =   0.1556
Level     0,  Iter    42:    Energy =   0.1566
Level     0,  Iter    43:    Energy =   0.1560
Level     0,  Iter    44:    Energy =   0.1569
Level     0,  Iter    45:    Energy =   0.1561
Level     0,  Iter    46:    Energy =   0.1572
Level     0,  Iter    47:    Energy =   0.1566
Level     0,  Iter    48:    Energy =   0.1571
Level     0,  Iter    49:    Energy =   0.1560
Level     0,  Iter    50:    Energy =   0.1574
Level     0,  Iter    51:    Energy =   0.1567
Level     0,  Iter    52:    Energy =   0.1577
Level     0,  Iter    53:    Energy =   0.1563
Level     0,  Iter    54:    Energy =   0.1576
Level     0,  Iter    55:    Energy =   0.1566
Level     0,  Iter    56:    Energy =   0.1579
Level     0,  Iter    57:    Energy =   0.1566
Level     0,  Iter    58:    Energy =   0.1577
Level     0,  Iter    59:    Energy =   0.1567
END OF LEVEL     0    DetJac Range:   0.3644  to   2.2224 
  Avg. Gradient Time  : 0.0084s  34.61% 
  Avg. Gaussian Time  : 0.0120s  49.89% 
  Avg. Iteration Time : 0.0241s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1026
Level     1,  Iter     1:    Energy =   0.1089
Level     1,  Iter     2:    Energy =   0.1135
Level     1,  Iter     3:    Energy =   0.1170
Level     1,  Iter     4:    Energy =   0.1202
Level     1,  Iter     5:    Energy =   0.1228
Level     1,  Iter     6:    Energy =   0.1249
Level     1,  Iter     7:    Energy =   0.1264
Level     1,  Iter     8:    Energy =   0.1279
Level     1,  Iter     9:    Energy =   0.1292
Level     1,  Iter    10:    Energy =   0.1305
Level     1,  Iter    11:    Energy =   0.1313
Level     1,  Iter    12:    Energy =   0.1316
Level     1,  Iter    13:    Energy =   0.1319
Level     1,  Iter    14:    Energy =   0.1322
Level     1,  Iter    15:    Energy =   0.1324
Level     1,  Iter    16:    Energy =   0.1328
Level     1,  Iter    17:    Energy =   0.1329
Level     1,  Iter    18:    Energy =   0.1333
Level     1,  Iter    19:    Energy =   0.1334
Level     1,  Iter    20:    Energy =   0.1337
Level     1,  Iter    21:    Energy =   0.1338
Level     1,  Iter    22:    Energy =   0.1340
Level     1,  Iter    23:    Energy =   0.1341
Level     1,  Iter    24:    Energy =   0.1343
Level     1,  Iter    25:    Energy =   0.1344
Level     1,  Iter    26:    Energy =   0.1346
Level     1,  Iter    27:    Energy =   0.1347
Level     1,  Iter    28:    Energy =   0.1348
Level     1,  Iter    29:    Energy =   0.1349
Level     1,  Iter    30:    Energy =   0.1348
Level     1,  Iter    31:    Energy =   0.1351
Level     1,  Iter    32:    Energy =   0.1350
Level     1,  Iter    33:    Energy =   0.1354
Level     1,  Iter    34:    Energy =   0.1352
Level     1,  Iter    35:    Energy =   0.1357
Level     1,  Iter    36:    Energy =   0.1355
Level     1,  Iter    37:    Energy =   0.1358
Level     1,  Iter    38:    Energy =   0.1356
Level     1,  Iter    39:    Energy =   0.1359
Level     1,  Iter    40:    Energy =   0.1358
Level     1,  Iter    41:    Energy =   0.1359
Level     1,  Iter    42:    Energy =   0.1358
Level     1,  Iter    43:    Energy =   0.1361
Level     1,  Iter    44:    Energy =   0.1359
Level     1,  Iter    45:    Energy =   0.1362
Level     1,  Iter    46:    Energy =   0.1360
Level     1,  Iter    47:    Energy =   0.1364
Level     1,  Iter    48:    Energy =   0.1362
Level     1,  Iter    49:    Energy =   0.1365
Level     1,  Iter    50:    Energy =   0.1363
Level     1,  Iter    51:    Energy =   0.1367
Level     1,  Iter    52:    Energy =   0.1364
Level     1,  Iter    53:    Energy =   0.1368
Level     1,  Iter    54:    Energy =   0.1365
Level     1,  Iter    55:    Energy =   0.1369
Level     1,  Iter    56:    Energy =   0.1366
Level     1,  Iter    57:    Energy =   0.1370
Level     1,  Iter    58:    Energy =   0.1367
Level     1,  Iter    59:    Energy =   0.1371
END OF LEVEL     1    DetJac Range:   0.1194  to   2.7864 
  Avg. Gradient Time  : 0.0469s  32.75% 
  Avg. Gaussian Time  : 0.0777s  54.21% 
  Avg. Iteration Time : 0.1433s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0684
Level     2,  Iter     1:    Energy =   0.0712
Level     2,  Iter     2:    Energy =   0.0743
Level     2,  Iter     3:    Energy =   0.0769
Level     2,  Iter     4:    Energy =   0.0791
Level     2,  Iter     5:    Energy =   0.0806
Level     2,  Iter     6:    Energy =   0.0814
Level     2,  Iter     7:    Energy =   0.0822
Level     2,  Iter     8:    Energy =   0.0833
Level     2,  Iter     9:    Energy =   0.0844
Level     2,  Iter    10:    Energy =   0.0855
Level     2,  Iter    11:    Energy =   0.0867
Level     2,  Iter    12:    Energy =   0.0878
Level     2,  Iter    13:    Energy =   0.0887
Level     2,  Iter    14:    Energy =   0.0891
Level     2,  Iter    15:    Energy =   0.0895
Level     2,  Iter    16:    Energy =   0.0897
Level     2,  Iter    17:    Energy =   0.0901
Level     2,  Iter    18:    Energy =   0.0902
Level     2,  Iter    19:    Energy =   0.0902
END OF LEVEL     2    DetJac Range:   0.0663  to   3.4970 
  Avg. Gradient Time  : 0.3294s  30.53% 
  Avg. Gaussian Time  : 0.6004s  55.65% 
  Avg. Iteration Time : 1.0789s 

real	0m36.836s
user	1m7.308s
sys	0m1.584s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.2 0.205769
+ echo 'CHUNK 0.2 0.205769 1'
CHUNK 0.2 0.205769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.2 0.205769 1
====================================
         PROGRESS: 0.2               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 001 left 0
+ local tid=001
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.744224
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3924.15   GNORM= 272.764
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3979.310     246.696       0.001
   2    4     -3987.783     263.669       1.000
   3    5     -3999.414     152.414       1.000
   4    6     -4012.434     112.801       1.000
   5    7     -4025.448     134.924       1.000
   6    8     -4041.249     125.227       1.000
   7    9     -4046.846      82.192       1.000
   8   10     -4051.139      62.839       1.000
   9   11     -4057.439      76.668       1.000
  10   12     -4060.450      53.924       1.000
  11   13     -4061.776      41.695       1.000
  12   14     -4063.670      35.699       1.000
  13   15     -4070.217     122.870       1.000
  14   16     -4071.823      88.665       1.000
  15   17     -4074.720      22.421       1.000
  16   18     -4075.173      18.366       1.000
  17   19     -4075.898      32.015       1.000
  18   20     -4076.228      33.424       1.000
  19   21     -4076.528      12.019       1.000
  20   23     -4076.860      18.244       5.000
  21   25     -4077.065      24.689       0.463
  22   26     -4077.456      27.776       1.000
  23   28     -4077.565      21.261       0.269
  24   29     -4077.725      13.812       1.000
  25   30     -4077.872       9.328       1.000
  26   31     -4077.936      10.431       1.000
  27   32     -4077.967       3.813       1.000
  28   33     -4077.977       5.650       1.000
  29   34     -4077.986       6.858       1.000
  30   36     -4078.006      12.561       0.315
  31   37     -4078.031       8.079       1.000
  32   38     -4078.054       3.477       1.000
  33   39     -4078.060       5.815       1.000
  34   40     -4078.086       6.454       1.000
  35   42     -4078.094       2.069       0.293
Final RAS Transform: 
0.984084 0.0240027 0.040386 0.521701 
0.0114749 1.01218 0.0403288 0.516874 
-0.0126262 -0.000435528 1.01248 -0.171686 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2844.73   GNORM= 281.651
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2856.501      65.749       0.000
   2    4     -2857.651      50.719       1.000
   3    5     -2859.231      48.125       1.000
   4    6     -2862.455      76.702       1.000
   5    7     -2866.628      72.163       1.000
   6    8     -2872.982      86.111       1.000
   7   10     -2875.575      66.683       0.442
   8   11     -2878.048      44.833       1.000
   9   12     -2880.719      44.304       1.000
  10   13     -2883.229      31.973       1.000
  11   14     -2884.800      21.930       1.000
  12   15     -2885.621      25.982       1.000
  13   16     -2886.289      38.606       1.000
  14   17     -2887.666      21.567       1.000
  15   18     -2888.503      50.334       1.000
  16   19     -2889.503      27.048       1.000
  17   20     -2890.461      20.522       1.000
  18   21     -2890.787      11.772       1.000
  19   22     -2890.972      15.808       1.000
  20   23     -2891.296      45.621       1.000
  21   24     -2891.935      23.826       1.000
  22   25     -2892.645      21.132       1.000
  23   26     -2893.020      23.008       1.000
  24   27     -2893.150       9.522       1.000
  25   28     -2893.216      11.728       1.000
  26   29     -2893.349      18.760       1.000
  27   30     -2893.544      14.208       1.000
  28   31     -2893.758       7.545       1.000
  29   32     -2893.883       9.825       1.000
  30   33     -2893.954       6.395       1.000
  31   34     -2894.210       9.091       1.000
  32   36     -2894.223       2.873       0.278
  33   37     -2894.231       2.941       1.000
  34   38     -2894.236       2.498       1.000
  35   39     -2894.253       3.635       1.000
  36   41     -2894.263       4.640       0.236
  37   42     -2894.273       4.694       1.000
  38   43     -2894.284       2.973       1.000
  39   44     -2894.287       4.879       1.000
  40   45     -2894.291       4.621       1.000
  41   46     -2894.297       2.148       1.000
  42   47     -2894.302       1.416       1.000
  43   48     -2894.305       1.904       1.000
  44   49     -2894.306       3.491       1.000
  45   50     -2894.315       3.899       1.000
  46   52     -2894.316       3.470       0.458
  47   53     -2894.321       1.678       1.000
  48   54     -2894.325       1.104       1.000
Final RAS Transform: 
0.998129 0.0110131 0.00574045 0.39657 
0.0191291 1.01875 0.0452672 0.867203 
-0.00974942 0.00390933 1.00782 -0.0943886 
0 0 0 1 

Final RAS Transform: 
0.998129 0.0110131 0.00574045 0.39657 
0.0191291 1.01875 0.0452672 0.867203 
-0.00974942 0.00390933 1.00782 -0.0943886 
0 0 0 1 


real	0m10.140s
user	0m17.704s
sys	0m0.448s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.739727
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1203
Level     0,  Iter     1:    Energy =   0.1271
Level     0,  Iter     2:    Energy =   0.1329
Level     0,  Iter     3:    Energy =   0.1367
Level     0,  Iter     4:    Energy =   0.1404
Level     0,  Iter     5:    Energy =   0.1426
Level     0,  Iter     6:    Energy =   0.1444
Level     0,  Iter     7:    Energy =   0.1455
Level     0,  Iter     8:    Energy =   0.1465
Level     0,  Iter     9:    Energy =   0.1471
Level     0,  Iter    10:    Energy =   0.1476
Level     0,  Iter    11:    Energy =   0.1481
Level     0,  Iter    12:    Energy =   0.1485
Level     0,  Iter    13:    Energy =   0.1488
Level     0,  Iter    14:    Energy =   0.1491
Level     0,  Iter    15:    Energy =   0.1491
Level     0,  Iter    16:    Energy =   0.1494
Level     0,  Iter    17:    Energy =   0.1493
Level     0,  Iter    18:    Energy =   0.1496
Level     0,  Iter    19:    Energy =   0.1494
Level     0,  Iter    20:    Energy =   0.1497
Level     0,  Iter    21:    Energy =   0.1496
Level     0,  Iter    22:    Energy =   0.1499
Level     0,  Iter    23:    Energy =   0.1496
Level     0,  Iter    24:    Energy =   0.1500
Level     0,  Iter    25:    Energy =   0.1498
Level     0,  Iter    26:    Energy =   0.1501
Level     0,  Iter    27:    Energy =   0.1499
Level     0,  Iter    28:    Energy =   0.1502
Level     0,  Iter    29:    Energy =   0.1500
Level     0,  Iter    30:    Energy =   0.1502
Level     0,  Iter    31:    Energy =   0.1500
Level     0,  Iter    32:    Energy =   0.1503
Level     0,  Iter    33:    Energy =   0.1501
Level     0,  Iter    34:    Energy =   0.1503
Level     0,  Iter    35:    Energy =   0.1501
Level     0,  Iter    36:    Energy =   0.1503
Level     0,  Iter    37:    Energy =   0.1501
Level     0,  Iter    38:    Energy =   0.1503
Level     0,  Iter    39:    Energy =   0.1501
Level     0,  Iter    40:    Energy =   0.1504
Level     0,  Iter    41:    Energy =   0.1502
Level     0,  Iter    42:    Energy =   0.1504
Level     0,  Iter    43:    Energy =   0.1502
Level     0,  Iter    44:    Energy =   0.1504
Level     0,  Iter    45:    Energy =   0.1502
Level     0,  Iter    46:    Energy =   0.1504
Level     0,  Iter    47:    Energy =   0.1502
Level     0,  Iter    48:    Energy =   0.1504
Level     0,  Iter    49:    Energy =   0.1502
Level     0,  Iter    50:    Energy =   0.1504
Level     0,  Iter    51:    Energy =   0.1502
Level     0,  Iter    52:    Energy =   0.1504
Level     0,  Iter    53:    Energy =   0.1502
Level     0,  Iter    54:    Energy =   0.1504
Level     0,  Iter    55:    Energy =   0.1502
Level     0,  Iter    56:    Energy =   0.1504
Level     0,  Iter    57:    Energy =   0.1502
Level     0,  Iter    58:    Energy =   0.1504
Level     0,  Iter    59:    Energy =   0.1502
END OF LEVEL     0    DetJac Range:   0.4053  to   1.9630 
  Avg. Gradient Time  : 0.0072s  34.79% 
  Avg. Gaussian Time  : 0.0103s  49.47% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1031
Level     1,  Iter     1:    Energy =   0.1092
Level     1,  Iter     2:    Energy =   0.1143
Level     1,  Iter     3:    Energy =   0.1181
Level     1,  Iter     4:    Energy =   0.1212
Level     1,  Iter     5:    Energy =   0.1239
Level     1,  Iter     6:    Energy =   0.1255
Level     1,  Iter     7:    Energy =   0.1272
Level     1,  Iter     8:    Energy =   0.1294
Level     1,  Iter     9:    Energy =   0.1309
Level     1,  Iter    10:    Energy =   0.1316
Level     1,  Iter    11:    Energy =   0.1320
Level     1,  Iter    12:    Energy =   0.1321
Level     1,  Iter    13:    Energy =   0.1324
Level     1,  Iter    14:    Energy =   0.1325
Level     1,  Iter    15:    Energy =   0.1326
Level     1,  Iter    16:    Energy =   0.1328
Level     1,  Iter    17:    Energy =   0.1329
Level     1,  Iter    18:    Energy =   0.1333
Level     1,  Iter    19:    Energy =   0.1332
Level     1,  Iter    20:    Energy =   0.1338
Level     1,  Iter    21:    Energy =   0.1336
Level     1,  Iter    22:    Energy =   0.1343
Level     1,  Iter    23:    Energy =   0.1340
Level     1,  Iter    24:    Energy =   0.1348
Level     1,  Iter    25:    Energy =   0.1345
Level     1,  Iter    26:    Energy =   0.1350
Level     1,  Iter    27:    Energy =   0.1349
Level     1,  Iter    28:    Energy =   0.1350
Level     1,  Iter    29:    Energy =   0.1349
Level     1,  Iter    30:    Energy =   0.1351
Level     1,  Iter    31:    Energy =   0.1349
Level     1,  Iter    32:    Energy =   0.1353
Level     1,  Iter    33:    Energy =   0.1351
Level     1,  Iter    34:    Energy =   0.1355
Level     1,  Iter    35:    Energy =   0.1353
Level     1,  Iter    36:    Energy =   0.1356
Level     1,  Iter    37:    Energy =   0.1354
Level     1,  Iter    38:    Energy =   0.1357
Level     1,  Iter    39:    Energy =   0.1355
Level     1,  Iter    40:    Energy =   0.1358
Level     1,  Iter    41:    Energy =   0.1356
Level     1,  Iter    42:    Energy =   0.1359
Level     1,  Iter    43:    Energy =   0.1357
Level     1,  Iter    44:    Energy =   0.1360
Level     1,  Iter    45:    Energy =   0.1358
Level     1,  Iter    46:    Energy =   0.1360
Level     1,  Iter    47:    Energy =   0.1358
Level     1,  Iter    48:    Energy =   0.1361
Level     1,  Iter    49:    Energy =   0.1359
Level     1,  Iter    50:    Energy =   0.1361
Level     1,  Iter    51:    Energy =   0.1359
Level     1,  Iter    52:    Energy =   0.1362
Level     1,  Iter    53:    Energy =   0.1360
Level     1,  Iter    54:    Energy =   0.1362
Level     1,  Iter    55:    Energy =   0.1360
Level     1,  Iter    56:    Energy =   0.1363
Level     1,  Iter    57:    Energy =   0.1361
Level     1,  Iter    58:    Energy =   0.1364
Level     1,  Iter    59:    Energy =   0.1361
END OF LEVEL     1    DetJac Range:   0.2089  to   3.1746 
  Avg. Gradient Time  : 0.0410s  32.55% 
  Avg. Gaussian Time  : 0.0688s  54.61% 
  Avg. Iteration Time : 0.1260s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0693
Level     2,  Iter     1:    Energy =   0.0721
Level     2,  Iter     2:    Energy =   0.0749
Level     2,  Iter     3:    Energy =   0.0772
Level     2,  Iter     4:    Energy =   0.0792
Level     2,  Iter     5:    Energy =   0.0812
Level     2,  Iter     6:    Energy =   0.0831
Level     2,  Iter     7:    Energy =   0.0847
Level     2,  Iter     8:    Energy =   0.0858
Level     2,  Iter     9:    Energy =   0.0866
Level     2,  Iter    10:    Energy =   0.0874
Level     2,  Iter    11:    Energy =   0.0881
Level     2,  Iter    12:    Energy =   0.0883
Level     2,  Iter    13:    Energy =   0.0885
Level     2,  Iter    14:    Energy =   0.0885
Level     2,  Iter    15:    Energy =   0.0885
Level     2,  Iter    16:    Energy =   0.0886
Level     2,  Iter    17:    Energy =   0.0886
Level     2,  Iter    18:    Energy =   0.0888
Level     2,  Iter    19:    Energy =   0.0889
END OF LEVEL     2    DetJac Range:   0.1065  to   3.6817 
  Avg. Gradient Time  : 0.2956s  31.11% 
  Avg. Gaussian Time  : 0.5262s  55.37% 
  Avg. Iteration Time : 0.9503s 

real	0m32.452s
user	0m59.104s
sys	0m1.388s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.205769 0.211538
+ echo 'CHUNK 0.205769 0.211538 1'
CHUNK 0.205769 0.211538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.205769 0.211538 1
====================================
         PROGRESS: 0.205769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 002 left 0
+ local tid=002
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.546432
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3732.15   GNORM= 273.647
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3795.511     104.682       0.002
   2    5     -3799.114      96.591       0.437
   3    7     -3814.622      81.939       5.000
   4    8     -3833.573     135.482       1.000
   5    9     -3845.080     114.617       1.000
   6   10     -3851.921      52.386       1.000
   7   11     -3857.157      49.550       1.000
   8   12     -3862.007     121.173       1.000
   9   13     -3868.589     120.837       1.000
  10   14     -3872.734      43.460       1.000
  11   15     -3875.954      36.669       1.000
  12   16     -3879.657      37.481       1.000
  13   17     -3879.727      53.187       1.000
  14   18     -3882.674      24.910       1.000
  15   19     -3884.535      32.539       1.000
  16   20     -3886.905      44.623       1.000
  17   22     -3887.853      55.345       0.343
  18   23     -3888.842      31.730       1.000
  19   24     -3889.287      20.369       1.000
  20   25     -3889.570       9.458       1.000
  21   26     -3889.632      10.104       1.000
  22   27     -3889.820      11.370       1.000
  23   28     -3890.631      27.473       1.000
  24   29     -3891.156      28.313       1.000
  25   30     -3891.400      23.604       1.000
  26   31     -3891.646       9.220       1.000
  27   32     -3891.683      13.050       1.000
  28   33     -3891.697       4.552       1.000
  29   35     -3891.716       8.808       5.000
  30   36     -3891.731       9.775       1.000
  31   37     -3891.826      17.346       1.000
  32   38     -3891.914       9.718       1.000
  33   39     -3891.997       7.334       1.000
  34   41     -3892.009       9.054       0.361
  35   42     -3892.033       5.285       1.000
  36   44     -3892.056       4.207       0.370
  37   45     -3892.082       6.297       1.000
  38   46     -3892.087       3.790       1.000
  39   47     -3892.099       7.385       1.000
  40   48     -3892.112       3.437       1.000
Final RAS Transform: 
0.966283 -0.0117986 0.0178031 -0.903549 
0.0292138 1.02947 0.0658545 1.2792 
-0.00569218 -0.00504077 1.00575 0.114444 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2797.21   GNORM= 195.283
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2806.322     102.219       0.000
   2    4     -2810.385      82.928       1.000
   3    5     -2815.805      48.006       1.000
   4    6     -2818.027      39.129       1.000
   5    7     -2823.161      64.071       1.000
   6    8     -2825.842      29.808       1.000
   7    9     -2826.987      29.050       1.000
   8   11     -2827.559      52.045       0.336
   9   13     -2831.508      49.435       5.000
  10   14     -2836.982      56.556       1.000
  11   16     -2838.359      28.694       0.292
  12   17     -2838.716       9.563       1.000
  13   19     -2839.014      10.301       5.000
  14   21     -2839.408      41.291       0.151
  15   22     -2840.377      20.915       1.000
  16   23     -2840.895      12.507       1.000
  17   24     -2841.383      11.961       1.000
  18   25     -2841.791      19.894       1.000
  19   27     -2841.989      23.417       0.423
  20   28     -2842.138       7.506       1.000
  21   29     -2842.181       5.447       1.000
  22   30     -2842.209       6.801       1.000
  23   31     -2842.265       8.305       1.000
  24   32     -2842.394      12.136       1.000
  25   33     -2842.568      11.768       1.000
  26   34     -2842.816      17.508       1.000
  27   35     -2842.943      11.526       1.000
  28   36     -2843.008       6.902       1.000
  29   38     -2843.061      10.111       0.422
  30   39     -2843.111       3.715       1.000
  31   40     -2843.123       5.641       1.000
  32   41     -2843.162       6.411       1.000
  33   43     -2843.199      11.600       0.444
  34   44     -2843.256       6.040       1.000
  35   45     -2843.302       6.113       1.000
  36   46     -2843.351       8.702       1.000
  37   47     -2843.402       5.272       1.000
  38   48     -2843.457       8.121       1.000
  39   49     -2843.486       4.067       1.000
  40   50     -2843.519       8.638       1.000
  41   51     -2843.568       6.919       1.000
  42   52     -2843.600       3.292       1.000
  43   53     -2843.617       2.389       1.000
  44   54     -2843.640       5.003       1.000
  45   55     -2843.650       2.779       1.000
  46   56     -2843.659       2.730       1.000
  47   57     -2843.679       4.124       1.000
  48   59     -2843.683       6.713       0.442
  49   60     -2843.723      10.113       1.000
  50   61     -2843.824       6.795       1.000
Final RAS Transform: 
0.986021 -0.00952514 0.0129008 -0.373591 
0.0152322 1.01435 0.0464091 0.674076 
-0.00653624 -0.00114622 1.02403 0.11567 
0 0 0 1 

Final RAS Transform: 
0.986021 -0.00952514 0.0129008 -0.373591 
0.0152322 1.01435 0.0464091 0.674076 
-0.00653624 -0.00114622 1.02403 0.11567 
0 0 0 1 


real	0m10.159s
user	0m17.644s
sys	0m0.504s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.55083
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1150
Level     0,  Iter     1:    Energy =   0.1206
Level     0,  Iter     2:    Energy =   0.1263
Level     0,  Iter     3:    Energy =   0.1303
Level     0,  Iter     4:    Energy =   0.1331
Level     0,  Iter     5:    Energy =   0.1346
Level     0,  Iter     6:    Energy =   0.1360
Level     0,  Iter     7:    Energy =   0.1368
Level     0,  Iter     8:    Energy =   0.1376
Level     0,  Iter     9:    Energy =   0.1381
Level     0,  Iter    10:    Energy =   0.1386
Level     0,  Iter    11:    Energy =   0.1390
Level     0,  Iter    12:    Energy =   0.1395
Level     0,  Iter    13:    Energy =   0.1399
Level     0,  Iter    14:    Energy =   0.1404
Level     0,  Iter    15:    Energy =   0.1410
Level     0,  Iter    16:    Energy =   0.1414
Level     0,  Iter    17:    Energy =   0.1416
Level     0,  Iter    18:    Energy =   0.1419
Level     0,  Iter    19:    Energy =   0.1421
Level     0,  Iter    20:    Energy =   0.1424
Level     0,  Iter    21:    Energy =   0.1425
Level     0,  Iter    22:    Energy =   0.1428
Level     0,  Iter    23:    Energy =   0.1428
Level     0,  Iter    24:    Energy =   0.1431
Level     0,  Iter    25:    Energy =   0.1431
Level     0,  Iter    26:    Energy =   0.1433
Level     0,  Iter    27:    Energy =   0.1433
Level     0,  Iter    28:    Energy =   0.1436
Level     0,  Iter    29:    Energy =   0.1437
Level     0,  Iter    30:    Energy =   0.1438
Level     0,  Iter    31:    Energy =   0.1436
Level     0,  Iter    32:    Energy =   0.1437
Level     0,  Iter    33:    Energy =   0.1436
Level     0,  Iter    34:    Energy =   0.1438
Level     0,  Iter    35:    Energy =   0.1437
Level     0,  Iter    36:    Energy =   0.1439
Level     0,  Iter    37:    Energy =   0.1438
Level     0,  Iter    38:    Energy =   0.1441
Level     0,  Iter    39:    Energy =   0.1440
Level     0,  Iter    40:    Energy =   0.1443
Level     0,  Iter    41:    Energy =   0.1442
Level     0,  Iter    42:    Energy =   0.1444
Level     0,  Iter    43:    Energy =   0.1444
Level     0,  Iter    44:    Energy =   0.1446
Level     0,  Iter    45:    Energy =   0.1445
Level     0,  Iter    46:    Energy =   0.1447
Level     0,  Iter    47:    Energy =   0.1446
Level     0,  Iter    48:    Energy =   0.1448
Level     0,  Iter    49:    Energy =   0.1447
Level     0,  Iter    50:    Energy =   0.1448
Level     0,  Iter    51:    Energy =   0.1447
Level     0,  Iter    52:    Energy =   0.1449
Level     0,  Iter    53:    Energy =   0.1448
Level     0,  Iter    54:    Energy =   0.1449
Level     0,  Iter    55:    Energy =   0.1448
Level     0,  Iter    56:    Energy =   0.1449
Level     0,  Iter    57:    Energy =   0.1448
Level     0,  Iter    58:    Energy =   0.1449
Level     0,  Iter    59:    Energy =   0.1447
END OF LEVEL     0    DetJac Range:   0.2933  to   1.9393 
  Avg. Gradient Time  : 0.0073s  34.71% 
  Avg. Gaussian Time  : 0.0104s  49.70% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0989
Level     1,  Iter     1:    Energy =   0.1049
Level     1,  Iter     2:    Energy =   0.1086
Level     1,  Iter     3:    Energy =   0.1122
Level     1,  Iter     4:    Energy =   0.1151
Level     1,  Iter     5:    Energy =   0.1175
Level     1,  Iter     6:    Energy =   0.1193
Level     1,  Iter     7:    Energy =   0.1210
Level     1,  Iter     8:    Energy =   0.1225
Level     1,  Iter     9:    Energy =   0.1232
Level     1,  Iter    10:    Energy =   0.1246
Level     1,  Iter    11:    Energy =   0.1247
Level     1,  Iter    12:    Energy =   0.1259
Level     1,  Iter    13:    Energy =   0.1261
Level     1,  Iter    14:    Energy =   0.1265
Level     1,  Iter    15:    Energy =   0.1266
Level     1,  Iter    16:    Energy =   0.1272
Level     1,  Iter    17:    Energy =   0.1271
Level     1,  Iter    18:    Energy =   0.1278
Level     1,  Iter    19:    Energy =   0.1278
Level     1,  Iter    20:    Energy =   0.1282
Level     1,  Iter    21:    Energy =   0.1281
Level     1,  Iter    22:    Energy =   0.1288
Level     1,  Iter    23:    Energy =   0.1287
Level     1,  Iter    24:    Energy =   0.1292
Level     1,  Iter    25:    Energy =   0.1290
Level     1,  Iter    26:    Energy =   0.1295
Level     1,  Iter    27:    Energy =   0.1293
Level     1,  Iter    28:    Energy =   0.1297
Level     1,  Iter    29:    Energy =   0.1296
Level     1,  Iter    30:    Energy =   0.1298
Level     1,  Iter    31:    Energy =   0.1296
Level     1,  Iter    32:    Energy =   0.1301
Level     1,  Iter    33:    Energy =   0.1300
Level     1,  Iter    34:    Energy =   0.1302
Level     1,  Iter    35:    Energy =   0.1300
Level     1,  Iter    36:    Energy =   0.1304
Level     1,  Iter    37:    Energy =   0.1302
Level     1,  Iter    38:    Energy =   0.1305
Level     1,  Iter    39:    Energy =   0.1303
Level     1,  Iter    40:    Energy =   0.1307
Level     1,  Iter    41:    Energy =   0.1304
Level     1,  Iter    42:    Energy =   0.1307
Level     1,  Iter    43:    Energy =   0.1305
Level     1,  Iter    44:    Energy =   0.1308
Level     1,  Iter    45:    Energy =   0.1306
Level     1,  Iter    46:    Energy =   0.1309
Level     1,  Iter    47:    Energy =   0.1307
Level     1,  Iter    48:    Energy =   0.1310
Level     1,  Iter    49:    Energy =   0.1308
Level     1,  Iter    50:    Energy =   0.1310
Level     1,  Iter    51:    Energy =   0.1308
Level     1,  Iter    52:    Energy =   0.1312
Level     1,  Iter    53:    Energy =   0.1310
Level     1,  Iter    54:    Energy =   0.1312
Level     1,  Iter    55:    Energy =   0.1309
Level     1,  Iter    56:    Energy =   0.1313
Level     1,  Iter    57:    Energy =   0.1311
Level     1,  Iter    58:    Energy =   0.1312
Level     1,  Iter    59:    Energy =   0.1310
END OF LEVEL     1    DetJac Range:   0.1223  to   3.2642 
  Avg. Gradient Time  : 0.0413s  32.66% 
  Avg. Gaussian Time  : 0.0689s  54.50% 
  Avg. Iteration Time : 0.1264s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0698
Level     2,  Iter     1:    Energy =   0.0725
Level     2,  Iter     2:    Energy =   0.0748
Level     2,  Iter     3:    Energy =   0.0771
Level     2,  Iter     4:    Energy =   0.0790
Level     2,  Iter     5:    Energy =   0.0805
Level     2,  Iter     6:    Energy =   0.0818
Level     2,  Iter     7:    Energy =   0.0830
Level     2,  Iter     8:    Energy =   0.0841
Level     2,  Iter     9:    Energy =   0.0851
Level     2,  Iter    10:    Energy =   0.0860
Level     2,  Iter    11:    Energy =   0.0869
Level     2,  Iter    12:    Energy =   0.0876
Level     2,  Iter    13:    Energy =   0.0884
Level     2,  Iter    14:    Energy =   0.0890
Level     2,  Iter    15:    Energy =   0.0896
Level     2,  Iter    16:    Energy =   0.0902
Level     2,  Iter    17:    Energy =   0.0901
Level     2,  Iter    18:    Energy =   0.0905
Level     2,  Iter    19:    Energy =   0.0904
END OF LEVEL     2    DetJac Range:   0.0319  to   3.9624 
  Avg. Gradient Time  : 0.2955s  31.09% 
  Avg. Gaussian Time  : 0.5265s  55.40% 
  Avg. Iteration Time : 0.9504s 

real	0m32.506s
user	0m59.256s
sys	0m1.340s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.211538 0.217308
+ echo 'CHUNK 0.211538 0.217308 1'
CHUNK 0.211538 0.217308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.211538 0.217308 1
====================================
         PROGRESS: 0.211538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 003 left 0
+ local tid=003
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.252747
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3119.31   GNORM= 540.541
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3176.004     190.937       0.000
   2    4     -3189.713     169.151       1.000
   3    5     -3230.676     126.598       1.000
   4    6     -3255.145     161.745       1.000
   5    7     -3291.803     161.172       1.000
   6    9     -3325.023     196.070       0.419
   7   10     -3340.247     300.277       1.000
   8   11     -3355.111      79.726       1.000
   9   12     -3358.121      73.137       1.000
  10   13     -3365.426     143.609       1.000
  11   14     -3377.477     108.651       1.000
  12   15     -3403.056      49.860       1.000
  13   16     -3417.894      69.184       1.000
  14   17     -3418.677     204.334       1.000
  15   18     -3425.987      35.433       1.000
  16   19     -3426.876      19.666       1.000
  17   20     -3427.572      16.135       1.000
  18   22     -3428.230      22.210       0.462
  19   23     -3428.837      24.173       1.000
  20   24     -3429.300      20.172       1.000
  21   25     -3429.350      23.549       1.000
  22   26     -3429.458      12.383       1.000
  23   27     -3429.495      14.060       1.000
  24   28     -3429.541       5.944       1.000
  25   29     -3429.570       7.177       1.000
  26   31     -3429.590      12.313       0.437
  27   32     -3429.652      13.426       1.000
  28   33     -3429.765       9.206       1.000
  29   34     -3429.823       8.818       1.000
  30   36     -3429.856      11.870       0.125
  31   37     -3429.894       8.296       1.000
  32   38     -3429.921       3.437       1.000
  33   39     -3429.937       5.995       1.000
  34   40     -3430.002       8.987       1.000
  35   41     -3430.008       9.707       1.000
  36   42     -3430.058       5.524       1.000
  37   44     -3430.075       8.168       0.448
  38   45     -3430.100       5.211       1.000
  39   47     -3430.102       2.494       0.143
Final RAS Transform: 
0.916636 0.00207974 0.00775984 -2.26319 
-0.00815813 1.00535 0.0705872 -0.45842 
-0.0361645 0.00162548 0.991749 -1.13485 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2407.24   GNORM= 291.629
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2421.487      57.804       0.000
   2    4     -2422.196      21.802       1.000
   3    5     -2422.381      22.285       1.000
   4    6     -2423.851      54.926       1.000
   5    7     -2425.407      62.839       1.000
   6    8     -2431.720      53.693       1.000
   7    9     -2434.224      62.449       1.000
   8   10     -2435.921      37.457       1.000
   9   11     -2438.166      44.854       1.000
  10   12     -2439.515      42.998       1.000
  11   13     -2440.766      33.486       1.000
  12   14     -2441.387      16.903       1.000
  13   15     -2441.528      10.331       1.000
  14   16     -2441.726      20.418       1.000
  15   17     -2442.074      28.543       1.000
  16   18     -2443.311      39.372       1.000
  17   19     -2444.348      32.731       1.000
  18   21     -2445.174      41.437       0.444
  19   22     -2446.450      13.491       1.000
  20   23     -2446.685      14.148       1.000
  21   25     -2446.779      13.652       0.383
  22   26     -2446.851      14.026       1.000
  23   27     -2447.161       8.652       1.000
  24   28     -2447.556      19.149       1.000
  25   29     -2447.836      16.213       1.000
  26   30     -2448.084      10.176       1.000
  27   31     -2448.222       9.560       1.000
  28   32     -2448.236      13.388       1.000
  29   33     -2448.286       4.369       1.000
  30   34     -2448.312       5.728       1.000
  31   35     -2448.379      13.347       1.000
  32   36     -2448.484      15.131       1.000
  33   38     -2448.571      10.103       0.434
  34   39     -2448.652       8.482       1.000
  35   41     -2448.700       6.014       0.500
  36   42     -2448.763       5.997       1.000
  37   43     -2448.857       6.424       1.000
  38   44     -2448.887      14.520       1.000
  39   45     -2448.935       4.755       1.000
  40   46     -2448.959       4.302       1.000
  41   47     -2449.029       6.643       1.000
  42   48     -2449.102       9.823       1.000
  43   49     -2449.171      10.719       1.000
  44   51     -2449.366      13.319       0.442
  45   53     -2449.486       5.113       0.482
  46   54     -2449.522       4.695       1.000
  47   55     -2449.538       7.663       1.000
  48   56     -2449.571       3.240       1.000
  49   57     -2449.579       3.111       1.000
  50   58     -2449.621       4.002       1.000
  51   59     -2449.684       7.567       1.000
  52   60     -2449.700      17.717       1.000
  53   61     -2449.739       8.076       1.000
Final RAS Transform: 
0.941178 -0.0157663 -0.0327815 -2.11472 
-0.00612756 1.00199 0.0543869 -0.546732 
-0.0272891 0.00491543 0.99498 -0.895141 
0 0 0 1 

Final RAS Transform: 
0.941178 -0.0157663 -0.0327815 -2.11472 
-0.00612756 1.00199 0.0543869 -0.546732 
-0.0272891 0.00491543 0.99498 -0.895141 
0 0 0 1 


real	0m10.285s
user	0m17.900s
sys	0m0.496s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.250856
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1013
Level     0,  Iter     1:    Energy =   0.1081
Level     0,  Iter     2:    Energy =   0.1140
Level     0,  Iter     3:    Energy =   0.1186
Level     0,  Iter     4:    Energy =   0.1215
Level     0,  Iter     5:    Energy =   0.1231
Level     0,  Iter     6:    Energy =   0.1245
Level     0,  Iter     7:    Energy =   0.1253
Level     0,  Iter     8:    Energy =   0.1264
Level     0,  Iter     9:    Energy =   0.1269
Level     0,  Iter    10:    Energy =   0.1277
Level     0,  Iter    11:    Energy =   0.1281
Level     0,  Iter    12:    Energy =   0.1287
Level     0,  Iter    13:    Energy =   0.1290
Level     0,  Iter    14:    Energy =   0.1295
Level     0,  Iter    15:    Energy =   0.1297
Level     0,  Iter    16:    Energy =   0.1301
Level     0,  Iter    17:    Energy =   0.1301
Level     0,  Iter    18:    Energy =   0.1305
Level     0,  Iter    19:    Energy =   0.1305
Level     0,  Iter    20:    Energy =   0.1308
Level     0,  Iter    21:    Energy =   0.1308
Level     0,  Iter    22:    Energy =   0.1311
Level     0,  Iter    23:    Energy =   0.1310
Level     0,  Iter    24:    Energy =   0.1313
Level     0,  Iter    25:    Energy =   0.1312
Level     0,  Iter    26:    Energy =   0.1314
Level     0,  Iter    27:    Energy =   0.1314
Level     0,  Iter    28:    Energy =   0.1316
Level     0,  Iter    29:    Energy =   0.1315
Level     0,  Iter    30:    Energy =   0.1317
Level     0,  Iter    31:    Energy =   0.1317
Level     0,  Iter    32:    Energy =   0.1318
Level     0,  Iter    33:    Energy =   0.1318
Level     0,  Iter    34:    Energy =   0.1320
Level     0,  Iter    35:    Energy =   0.1319
Level     0,  Iter    36:    Energy =   0.1322
Level     0,  Iter    37:    Energy =   0.1320
Level     0,  Iter    38:    Energy =   0.1323
Level     0,  Iter    39:    Energy =   0.1321
Level     0,  Iter    40:    Energy =   0.1323
Level     0,  Iter    41:    Energy =   0.1322
Level     0,  Iter    42:    Energy =   0.1324
Level     0,  Iter    43:    Energy =   0.1323
Level     0,  Iter    44:    Energy =   0.1324
Level     0,  Iter    45:    Energy =   0.1323
Level     0,  Iter    46:    Energy =   0.1325
Level     0,  Iter    47:    Energy =   0.1324
Level     0,  Iter    48:    Energy =   0.1325
Level     0,  Iter    49:    Energy =   0.1324
Level     0,  Iter    50:    Energy =   0.1326
Level     0,  Iter    51:    Energy =   0.1325
Level     0,  Iter    52:    Energy =   0.1326
Level     0,  Iter    53:    Energy =   0.1325
Level     0,  Iter    54:    Energy =   0.1326
Level     0,  Iter    55:    Energy =   0.1325
Level     0,  Iter    56:    Energy =   0.1327
Level     0,  Iter    57:    Energy =   0.1325
Level     0,  Iter    58:    Energy =   0.1327
Level     0,  Iter    59:    Energy =   0.1326
END OF LEVEL     0    DetJac Range:   0.3524  to   1.9780 
  Avg. Gradient Time  : 0.0074s  34.27% 
  Avg. Gaussian Time  : 0.0108s  50.37% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0897
Level     1,  Iter     1:    Energy =   0.0950
Level     1,  Iter     2:    Energy =   0.0989
Level     1,  Iter     3:    Energy =   0.1024
Level     1,  Iter     4:    Energy =   0.1053
Level     1,  Iter     5:    Energy =   0.1080
Level     1,  Iter     6:    Energy =   0.1102
Level     1,  Iter     7:    Energy =   0.1123
Level     1,  Iter     8:    Energy =   0.1141
Level     1,  Iter     9:    Energy =   0.1157
Level     1,  Iter    10:    Energy =   0.1172
Level     1,  Iter    11:    Energy =   0.1175
Level     1,  Iter    12:    Energy =   0.1174
Level     1,  Iter    13:    Energy =   0.1185
Level     1,  Iter    14:    Energy =   0.1183
Level     1,  Iter    15:    Energy =   0.1194
Level     1,  Iter    16:    Energy =   0.1190
Level     1,  Iter    17:    Energy =   0.1201
Level     1,  Iter    18:    Energy =   0.1201
Level     1,  Iter    19:    Energy =   0.1202
Level     1,  Iter    20:    Energy =   0.1199
Level     1,  Iter    21:    Energy =   0.1207
Level     1,  Iter    22:    Energy =   0.1204
Level     1,  Iter    23:    Energy =   0.1212
Level     1,  Iter    24:    Energy =   0.1209
Level     1,  Iter    25:    Energy =   0.1216
Level     1,  Iter    26:    Energy =   0.1212
Level     1,  Iter    27:    Energy =   0.1222
Level     1,  Iter    28:    Energy =   0.1218
Level     1,  Iter    29:    Energy =   0.1222
Level     1,  Iter    30:    Energy =   0.1217
Level     1,  Iter    31:    Energy =   0.1224
Level     1,  Iter    32:    Energy =   0.1220
Level     1,  Iter    33:    Energy =   0.1224
Level     1,  Iter    34:    Energy =   0.1220
Level     1,  Iter    35:    Energy =   0.1227
Level     1,  Iter    36:    Energy =   0.1223
Level     1,  Iter    37:    Energy =   0.1226
Level     1,  Iter    38:    Energy =   0.1222
Level     1,  Iter    39:    Energy =   0.1227
Level     1,  Iter    40:    Energy =   0.1223
Level     1,  Iter    41:    Energy =   0.1228
Level     1,  Iter    42:    Energy =   0.1224
Level     1,  Iter    43:    Energy =   0.1229
Level     1,  Iter    44:    Energy =   0.1224
Level     1,  Iter    45:    Energy =   0.1230
Level     1,  Iter    46:    Energy =   0.1226
Level     1,  Iter    47:    Energy =   0.1230
Level     1,  Iter    48:    Energy =   0.1226
Level     1,  Iter    49:    Energy =   0.1232
Level     1,  Iter    50:    Energy =   0.1228
Level     1,  Iter    51:    Energy =   0.1231
Level     1,  Iter    52:    Energy =   0.1227
Level     1,  Iter    53:    Energy =   0.1233
Level     1,  Iter    54:    Energy =   0.1229
Level     1,  Iter    55:    Energy =   0.1233
Level     1,  Iter    56:    Energy =   0.1228
Level     1,  Iter    57:    Energy =   0.1235
Level     1,  Iter    58:    Energy =   0.1231
Level     1,  Iter    59:    Energy =   0.1234
END OF LEVEL     1    DetJac Range:   0.1584  to   3.5017 
  Avg. Gradient Time  : 0.0416s  32.86% 
  Avg. Gaussian Time  : 0.0688s  54.37% 
  Avg. Iteration Time : 0.1265s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0620
Level     2,  Iter     1:    Energy =   0.0646
Level     2,  Iter     2:    Energy =   0.0677
Level     2,  Iter     3:    Energy =   0.0702
Level     2,  Iter     4:    Energy =   0.0722
Level     2,  Iter     5:    Energy =   0.0741
Level     2,  Iter     6:    Energy =   0.0756
Level     2,  Iter     7:    Energy =   0.0770
Level     2,  Iter     8:    Energy =   0.0782
Level     2,  Iter     9:    Energy =   0.0791
Level     2,  Iter    10:    Energy =   0.0798
Level     2,  Iter    11:    Energy =   0.0804
Level     2,  Iter    12:    Energy =   0.0810
Level     2,  Iter    13:    Energy =   0.0815
Level     2,  Iter    14:    Energy =   0.0819
Level     2,  Iter    15:    Energy =   0.0822
Level     2,  Iter    16:    Energy =   0.0827
Level     2,  Iter    17:    Energy =   0.0831
Level     2,  Iter    18:    Energy =   0.0834
Level     2,  Iter    19:    Energy =   0.0838
END OF LEVEL     2    DetJac Range:   0.0506  to   5.4033 
  Avg. Gradient Time  : 0.2924s  30.80% 
  Avg. Gaussian Time  : 0.5280s  55.61% 
  Avg. Iteration Time : 0.9494s 

real	0m32.559s
user	0m59.232s
sys	0m1.424s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.217308 0.223077
+ echo 'CHUNK 0.217308 0.223077 1'
CHUNK 0.217308 0.223077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.217308 0.223077 1
====================================
         PROGRESS: 0.217308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 004 left 0
+ local tid=004
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.623432
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3701.22   GNORM= 380.569
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3743.099     265.390       0.001
   2    4     -3768.660     187.074       1.000
   3    5     -3796.787      97.382       1.000
   4    6     -3805.658      81.734       1.000
   5    7     -3831.932     268.032       1.000
   6    8     -3856.352     116.413       1.000
   7    9     -3863.792      84.982       1.000
   8   10     -3873.077     112.967       1.000
   9   11     -3879.964     157.037       1.000
  10   12     -3887.882      75.212       1.000
  11   13     -3890.445      45.901       1.000
  12   14     -3891.978      44.720       1.000
  13   15     -3896.828      92.241       1.000
  14   16     -3899.432      40.347       1.000
  15   17     -3900.529      34.674       1.000
  16   18     -3901.543      38.683       1.000
  17   19     -3903.869      56.900       1.000
  18   20     -3904.353     108.380       1.000
  19   21     -3906.870      26.243       1.000
  20   22     -3907.212      25.686       1.000
  21   24     -3907.573      31.505       0.398
  22   25     -3907.958      17.516       1.000
  23   26     -3908.607      23.812       1.000
  24   27     -3908.963      27.679       1.000
  25   28     -3909.413      19.587       1.000
  26   29     -3909.829      21.993       1.000
  27   30     -3910.114      12.949       1.000
  28   31     -3910.308      17.194       1.000
  29   32     -3910.455      14.026       1.000
  30   33     -3910.637      41.248       1.000
  31   34     -3910.957      27.259       1.000
  32   35     -3911.036      23.189       1.000
  33   36     -3911.312      11.995       1.000
  34   37     -3911.369       5.214       1.000
  35   38     -3911.409       7.632       1.000
  36   40     -3911.435       6.355       0.040
  37   42     -3911.441       5.130       0.217
  38   43     -3911.445       5.235       1.000
  39   44     -3911.458       4.399       1.000
  40   46     -3911.459       3.508       0.224
  41   47     -3911.469       2.551       1.000
Final RAS Transform: 
0.949838 0.00372263 0.0583898 -0.732313 
0.00764792 1.03611 0.0558393 0.980478 
-0.00342826 -0.00207605 1.03714 0.577014 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2800.67   GNORM= 244.667
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2816.910     112.123       0.000
   2    4     -2821.862      53.059       1.000
   3    5     -2823.153      21.836       1.000
   4    6     -2823.638      25.997       1.000
   5    7     -2824.996      51.599       1.000
   6    8     -2827.953      84.170       1.000
   7    9     -2833.020      96.310       1.000
   8   11     -2834.229     116.018       0.235
   9   12     -2836.726      38.021       1.000
  10   13     -2837.436      17.946       1.000
  11   14     -2837.719      20.357       1.000
  12   15     -2838.185      26.857       1.000
  13   16     -2839.074      33.242       1.000
  14   18     -2839.559      39.439       0.521
  15   19     -2839.961      19.520       1.000
  16   20     -2840.236      15.228       1.000
  17   21     -2840.969      49.799       1.000
  18   22     -2841.608      16.196       1.000
  19   23     -2841.965      11.864       1.000
  20   24     -2842.121      10.875       1.000
  21   25     -2842.220       9.550       1.000
  22   26     -2842.599      20.071       1.000
  23   27     -2842.791      17.877       1.000
  24   29     -2842.861      12.564       0.177
  25   30     -2842.975       5.765       1.000
  26   31     -2843.028       4.116       1.000
  27   32     -2843.127       8.134       1.000
  28   33     -2843.188       6.594       1.000
  29   34     -2843.245       7.007       1.000
  30   35     -2843.407       7.154       1.000
  31   36     -2843.470      17.153       1.000
  32   37     -2843.632       6.329       1.000
  33   38     -2843.695      10.802       1.000
  34   39     -2843.733       6.326       1.000
  35   40     -2843.772       3.559       1.000
  36   41     -2843.791       2.286       1.000
  37   42     -2843.797       2.549       1.000
  38   44     -2843.812       9.586       0.329
  39   45     -2843.835       8.059       1.000
  40   47     -2843.859       2.918       0.413
  41   48     -2843.874       1.755       1.000
Final RAS Transform: 
0.969701 -0.00245987 0.0417408 -0.227942 
0.00608992 1.02686 0.0600933 0.726351 
-0.008662 0.00144914 1.0352 0.442307 
0 0 0 1 

Final RAS Transform: 
0.969701 -0.00245987 0.0417408 -0.227942 
0.00608992 1.02686 0.0600933 0.726351 
-0.008662 0.00144914 1.0352 0.442307 
0 0 0 1 


real	0m9.808s
user	0m16.824s
sys	0m0.620s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.629664
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1154
Level     0,  Iter     1:    Energy =   0.1216
Level     0,  Iter     2:    Energy =   0.1273
Level     0,  Iter     3:    Energy =   0.1315
Level     0,  Iter     4:    Energy =   0.1351
Level     0,  Iter     5:    Energy =   0.1380
Level     0,  Iter     6:    Energy =   0.1406
Level     0,  Iter     7:    Energy =   0.1419
Level     0,  Iter     8:    Energy =   0.1432
Level     0,  Iter     9:    Energy =   0.1443
Level     0,  Iter    10:    Energy =   0.1449
Level     0,  Iter    11:    Energy =   0.1459
Level     0,  Iter    12:    Energy =   0.1462
Level     0,  Iter    13:    Energy =   0.1473
Level     0,  Iter    14:    Energy =   0.1476
Level     0,  Iter    15:    Energy =   0.1487
Level     0,  Iter    16:    Energy =   0.1488
Level     0,  Iter    17:    Energy =   0.1500
Level     0,  Iter    18:    Energy =   0.1501
Level     0,  Iter    19:    Energy =   0.1512
Level     0,  Iter    20:    Energy =   0.1512
Level     0,  Iter    21:    Energy =   0.1514
Level     0,  Iter    22:    Energy =   0.1513
Level     0,  Iter    23:    Energy =   0.1520
Level     0,  Iter    24:    Energy =   0.1519
Level     0,  Iter    25:    Energy =   0.1524
Level     0,  Iter    26:    Energy =   0.1522
Level     0,  Iter    27:    Energy =   0.1522
Level     0,  Iter    28:    Energy =   0.1521
Level     0,  Iter    29:    Energy =   0.1527
Level     0,  Iter    30:    Energy =   0.1524
Level     0,  Iter    31:    Energy =   0.1526
Level     0,  Iter    32:    Energy =   0.1525
Level     0,  Iter    33:    Energy =   0.1531
Level     0,  Iter    34:    Energy =   0.1529
Level     0,  Iter    35:    Energy =   0.1529
Level     0,  Iter    36:    Energy =   0.1528
Level     0,  Iter    37:    Energy =   0.1535
Level     0,  Iter    38:    Energy =   0.1531
Level     0,  Iter    39:    Energy =   0.1528
Level     0,  Iter    40:    Energy =   0.1526
Level     0,  Iter    41:    Energy =   0.1528
Level     0,  Iter    42:    Energy =   0.1526
Level     0,  Iter    43:    Energy =   0.1531
Level     0,  Iter    44:    Energy =   0.1529
Level     0,  Iter    45:    Energy =   0.1528
Level     0,  Iter    46:    Energy =   0.1526
Level     0,  Iter    47:    Energy =   0.1531
Level     0,  Iter    48:    Energy =   0.1528
Level     0,  Iter    49:    Energy =   0.1528
Level     0,  Iter    50:    Energy =   0.1528
Level     0,  Iter    51:    Energy =   0.1534
Level     0,  Iter    52:    Energy =   0.1531
Level     0,  Iter    53:    Energy =   0.1529
Level     0,  Iter    54:    Energy =   0.1528
Level     0,  Iter    55:    Energy =   0.1533
Level     0,  Iter    56:    Energy =   0.1530
Level     0,  Iter    57:    Energy =   0.1529
Level     0,  Iter    58:    Energy =   0.1528
Level     0,  Iter    59:    Energy =   0.1533
END OF LEVEL     0    DetJac Range:   0.3553  to   2.2160 
  Avg. Gradient Time  : 0.0073s  34.41% 
  Avg. Gaussian Time  : 0.0106s  50.02% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1047
Level     1,  Iter     1:    Energy =   0.1093
Level     1,  Iter     2:    Energy =   0.1130
Level     1,  Iter     3:    Energy =   0.1157
Level     1,  Iter     4:    Energy =   0.1181
Level     1,  Iter     5:    Energy =   0.1203
Level     1,  Iter     6:    Energy =   0.1226
Level     1,  Iter     7:    Energy =   0.1250
Level     1,  Iter     8:    Energy =   0.1268
Level     1,  Iter     9:    Energy =   0.1281
Level     1,  Iter    10:    Energy =   0.1291
Level     1,  Iter    11:    Energy =   0.1299
Level     1,  Iter    12:    Energy =   0.1305
Level     1,  Iter    13:    Energy =   0.1311
Level     1,  Iter    14:    Energy =   0.1312
Level     1,  Iter    15:    Energy =   0.1310
Level     1,  Iter    16:    Energy =   0.1315
Level     1,  Iter    17:    Energy =   0.1314
Level     1,  Iter    18:    Energy =   0.1319
Level     1,  Iter    19:    Energy =   0.1316
Level     1,  Iter    20:    Energy =   0.1322
Level     1,  Iter    21:    Energy =   0.1319
Level     1,  Iter    22:    Energy =   0.1325
Level     1,  Iter    23:    Energy =   0.1321
Level     1,  Iter    24:    Energy =   0.1326
Level     1,  Iter    25:    Energy =   0.1325
Level     1,  Iter    26:    Energy =   0.1329
Level     1,  Iter    27:    Energy =   0.1325
Level     1,  Iter    28:    Energy =   0.1331
Level     1,  Iter    29:    Energy =   0.1330
Level     1,  Iter    30:    Energy =   0.1332
Level     1,  Iter    31:    Energy =   0.1328
Level     1,  Iter    32:    Energy =   0.1334
Level     1,  Iter    33:    Energy =   0.1331
Level     1,  Iter    34:    Energy =   0.1336
Level     1,  Iter    35:    Energy =   0.1331
Level     1,  Iter    36:    Energy =   0.1337
Level     1,  Iter    37:    Energy =   0.1334
Level     1,  Iter    38:    Energy =   0.1337
Level     1,  Iter    39:    Energy =   0.1333
Level     1,  Iter    40:    Energy =   0.1338
Level     1,  Iter    41:    Energy =   0.1336
Level     1,  Iter    42:    Energy =   0.1338
Level     1,  Iter    43:    Energy =   0.1334
Level     1,  Iter    44:    Energy =   0.1340
Level     1,  Iter    45:    Energy =   0.1337
Level     1,  Iter    46:    Energy =   0.1340
Level     1,  Iter    47:    Energy =   0.1335
Level     1,  Iter    48:    Energy =   0.1341
Level     1,  Iter    49:    Energy =   0.1338
Level     1,  Iter    50:    Energy =   0.1341
Level     1,  Iter    51:    Energy =   0.1336
Level     1,  Iter    52:    Energy =   0.1342
Level     1,  Iter    53:    Energy =   0.1339
Level     1,  Iter    54:    Energy =   0.1342
Level     1,  Iter    55:    Energy =   0.1338
Level     1,  Iter    56:    Energy =   0.1343
Level     1,  Iter    57:    Energy =   0.1340
Level     1,  Iter    58:    Energy =   0.1343
Level     1,  Iter    59:    Energy =   0.1339
END OF LEVEL     1    DetJac Range:   0.1730  to   2.8744 
  Avg. Gradient Time  : 0.0416s  32.69% 
  Avg. Gaussian Time  : 0.0693s  54.51% 
  Avg. Iteration Time : 0.1271s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0700
Level     2,  Iter     1:    Energy =   0.0722
Level     2,  Iter     2:    Energy =   0.0739
Level     2,  Iter     3:    Energy =   0.0764
Level     2,  Iter     4:    Energy =   0.0786
Level     2,  Iter     5:    Energy =   0.0804
Level     2,  Iter     6:    Energy =   0.0819
Level     2,  Iter     7:    Energy =   0.0831
Level     2,  Iter     8:    Energy =   0.0842
Level     2,  Iter     9:    Energy =   0.0852
Level     2,  Iter    10:    Energy =   0.0861
Level     2,  Iter    11:    Energy =   0.0870
Level     2,  Iter    12:    Energy =   0.0880
Level     2,  Iter    13:    Energy =   0.0882
Level     2,  Iter    14:    Energy =   0.0892
Level     2,  Iter    15:    Energy =   0.0892
Level     2,  Iter    16:    Energy =   0.0900
Level     2,  Iter    17:    Energy =   0.0900
Level     2,  Iter    18:    Energy =   0.0907
Level     2,  Iter    19:    Energy =   0.0905
END OF LEVEL     2    DetJac Range:   0.1060  to   4.3925 
  Avg. Gradient Time  : 0.2923s  30.80% 
  Avg. Gaussian Time  : 0.5275s  55.58% 
  Avg. Iteration Time : 0.9490s 

real	0m32.569s
user	0m59.076s
sys	0m1.576s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.223077 0.228846
+ echo 'CHUNK 0.223077 0.228846 1'
CHUNK 0.223077 0.228846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.223077 0.228846 1
====================================
         PROGRESS: 0.223077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 005 left 0
+ local tid=005
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.702135
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3255.63   GNORM= 273.389
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3289.262     209.272       0.001
   2    4     -3313.071     161.394       1.000
   3    5     -3346.477     186.931       1.000
   4    6     -3373.024      87.589       1.000
   5    7     -3384.778     100.428       1.000
   6    8     -3392.824      77.648       1.000
   7    9     -3414.312      79.164       1.000
   8   11     -3417.462     105.609       0.119
   9   12     -3423.556      72.546       1.000
  10   13     -3428.314      44.669       1.000
  11   14     -3430.971      40.936       1.000
  12   15     -3434.884      95.156       1.000
  13   16     -3439.133      75.373       1.000
  14   17     -3444.738      50.845       1.000
  15   19     -3446.340      26.790       0.455
  16   20     -3447.392      19.206       1.000
  17   22     -3447.628      19.392       0.300
  18   23     -3448.192      20.992       1.000
  19   24     -3448.718      27.456       1.000
  20   25     -3448.972      11.309       1.000
  21   26     -3449.131       9.714       1.000
  22   27     -3449.181       7.193       1.000
  23   29     -3449.237       6.726       0.157
  24   30     -3449.318       7.754       1.000
  25   31     -3449.485       7.769       1.000
  26   32     -3449.602       8.828       1.000
  27   33     -3449.677       7.053       1.000
  28   34     -3449.713       5.519       1.000
  29   36     -3449.726       6.000       0.412
  30   37     -3449.736       3.453       1.000
  31   38     -3449.752       4.111       1.000
  32   39     -3449.764       6.011       1.000
  33   40     -3449.769       7.067       1.000
  34   41     -3449.792       2.541       1.000
  35   43     -3449.794       2.766       0.473
  36   45     -3449.806       5.553       5.000
  37   46     -3449.806       2.954       1.000
  38   47     -3449.806       3.208       1.000
  39   48     -3449.808       2.509       1.000
  40   49     -3449.811       2.850       1.000
  41   51     -3449.814       2.897       0.262
  42   52     -3449.819       2.848       1.000
  43   53     -3449.822       3.146       1.000
  44   54     -3449.824       1.639       1.000
  45   55     -3449.833       3.092       1.000
  46   57     -3449.834       4.264       0.273
  47   58     -3449.844       2.505       1.000
  48   59     -3449.846       4.107       1.000
  49   60     -3449.853       1.495       1.000
Final RAS Transform: 
0.949936 0.000349224 0.036163 -0.834199 
0.0010695 0.987732 0.0408852 -0.138789 
-0.0207576 -0.00577472 1.02454 -0.310392 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2295.04   GNORM= 227.777
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2308.991      64.370       0.000
   2    4     -2311.167      56.829       1.000
   3    5     -2316.329      72.213       1.000
   4    6     -2322.878      91.767       1.000
   5    7     -2333.150     103.804       1.000
   6    8     -2344.667      92.230       1.000
   7    9     -2353.291      38.813       1.000
   8   10     -2354.700      18.992       1.000
   9   11     -2355.757      16.059       1.000
  10   13     -2356.132      39.997       0.331
  11   14     -2356.781      18.707       1.000
  12   15     -2357.129      16.168       1.000
  13   16     -2357.492      10.256       1.000
  14   18     -2358.441      31.549       5.000
  15   19     -2359.376      23.939       1.000
  16   20     -2361.532       8.816       1.000
  17   22     -2361.810      15.707       0.380
  18   23     -2362.091      10.339       1.000
  19   24     -2362.202      12.168       1.000
  20   25     -2363.070      15.877       1.000
  21   26     -2364.883      10.868       1.000
  22   28     -2365.348      26.651       0.416
  23   29     -2365.925      12.554       1.000
  24   30     -2365.952      26.161       1.000
  25   31     -2366.138      11.656       1.000
  26   32     -2366.270      11.247       1.000
  27   33     -2366.381      10.633       1.000
  28   34     -2366.583      12.971       1.000
  29   35     -2366.679      16.142       1.000
  30   36     -2366.732       3.986       1.000
  31   37     -2366.749       3.507       1.000
  32   38     -2366.758       7.012       1.000
  33   39     -2366.781       5.061       1.000
  34   40     -2366.860       6.546       1.000
  35   42     -2366.925       4.277       0.352
  36   43     -2366.979       4.530       1.000
  37   45     -2367.021       5.411       0.273
  38   46     -2367.057       8.228       1.000
  39   47     -2367.080       4.054       1.000
  40   48     -2367.102       3.150       1.000
  41   49     -2367.111       4.003       1.000
  42   51     -2367.117       2.870       0.158
  43   52     -2367.124       2.318       1.000
  44   53     -2367.125       2.713       1.000
  45   54     -2367.128       2.509       1.000
  46   56     -2367.135       1.982       0.028
  47   57     -2367.136       1.576       1.000
Final RAS Transform: 
0.970921 -0.016961 0.00362908 -0.793326 
0.0127024 1.00505 0.0239797 0.320817 
-0.0147714 -0.0079872 1.03019 -0.210569 
0 0 0 1 

Final RAS Transform: 
0.970921 -0.016961 0.00362908 -0.793326 
0.0127024 1.00505 0.0239797 0.320817 
-0.0147714 -0.0079872 1.03019 -0.210569 
0 0 0 1 


real	0m9.467s
user	0m16.464s
sys	0m0.512s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.703019
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0983
Level     0,  Iter     1:    Energy =   0.1061
Level     0,  Iter     2:    Energy =   0.1138
Level     0,  Iter     3:    Energy =   0.1201
Level     0,  Iter     4:    Energy =   0.1243
Level     0,  Iter     5:    Energy =   0.1267
Level     0,  Iter     6:    Energy =   0.1282
Level     0,  Iter     7:    Energy =   0.1295
Level     0,  Iter     8:    Energy =   0.1314
Level     0,  Iter     9:    Energy =   0.1322
Level     0,  Iter    10:    Energy =   0.1330
Level     0,  Iter    11:    Energy =   0.1338
Level     0,  Iter    12:    Energy =   0.1347
Level     0,  Iter    13:    Energy =   0.1353
Level     0,  Iter    14:    Energy =   0.1355
Level     0,  Iter    15:    Energy =   0.1365
Level     0,  Iter    16:    Energy =   0.1375
Level     0,  Iter    17:    Energy =   0.1378
Level     0,  Iter    18:    Energy =   0.1374
Level     0,  Iter    19:    Energy =   0.1379
Level     0,  Iter    20:    Energy =   0.1386
Level     0,  Iter    21:    Energy =   0.1386
Level     0,  Iter    22:    Energy =   0.1381
Level     0,  Iter    23:    Energy =   0.1385
Level     0,  Iter    24:    Energy =   0.1387
Level     0,  Iter    25:    Energy =   0.1391
Level     0,  Iter    26:    Energy =   0.1386
Level     0,  Iter    27:    Energy =   0.1391
Level     0,  Iter    28:    Energy =   0.1393
Level     0,  Iter    29:    Energy =   0.1394
Level     0,  Iter    30:    Energy =   0.1390
Level     0,  Iter    31:    Energy =   0.1393
Level     0,  Iter    32:    Energy =   0.1394
Level     0,  Iter    33:    Energy =   0.1396
Level     0,  Iter    34:    Energy =   0.1391
Level     0,  Iter    35:    Energy =   0.1395
Level     0,  Iter    36:    Energy =   0.1398
Level     0,  Iter    37:    Energy =   0.1398
Level     0,  Iter    38:    Energy =   0.1394
Level     0,  Iter    39:    Energy =   0.1397
Level     0,  Iter    40:    Energy =   0.1398
Level     0,  Iter    41:    Energy =   0.1398
Level     0,  Iter    42:    Energy =   0.1395
Level     0,  Iter    43:    Energy =   0.1396
Level     0,  Iter    44:    Energy =   0.1397
Level     0,  Iter    45:    Energy =   0.1398
Level     0,  Iter    46:    Energy =   0.1397
Level     0,  Iter    47:    Energy =   0.1398
Level     0,  Iter    48:    Energy =   0.1399
Level     0,  Iter    49:    Energy =   0.1400
Level     0,  Iter    50:    Energy =   0.1397
Level     0,  Iter    51:    Energy =   0.1400
Level     0,  Iter    52:    Energy =   0.1400
Level     0,  Iter    53:    Energy =   0.1401
Level     0,  Iter    54:    Energy =   0.1398
Level     0,  Iter    55:    Energy =   0.1399
Level     0,  Iter    56:    Energy =   0.1398
Level     0,  Iter    57:    Energy =   0.1400
Level     0,  Iter    58:    Energy =   0.1398
Level     0,  Iter    59:    Energy =   0.1400
END OF LEVEL     0    DetJac Range:   0.2303  to   2.1629 
  Avg. Gradient Time  : 0.0073s  34.42% 
  Avg. Gaussian Time  : 0.0106s  50.03% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0893
Level     1,  Iter     1:    Energy =   0.0935
Level     1,  Iter     2:    Energy =   0.0978
Level     1,  Iter     3:    Energy =   0.1016
Level     1,  Iter     4:    Energy =   0.1042
Level     1,  Iter     5:    Energy =   0.1059
Level     1,  Iter     6:    Energy =   0.1083
Level     1,  Iter     7:    Energy =   0.1106
Level     1,  Iter     8:    Energy =   0.1122
Level     1,  Iter     9:    Energy =   0.1138
Level     1,  Iter    10:    Energy =   0.1154
Level     1,  Iter    11:    Energy =   0.1171
Level     1,  Iter    12:    Energy =   0.1170
Level     1,  Iter    13:    Energy =   0.1175
Level     1,  Iter    14:    Energy =   0.1176
Level     1,  Iter    15:    Energy =   0.1179
Level     1,  Iter    16:    Energy =   0.1180
Level     1,  Iter    17:    Energy =   0.1182
Level     1,  Iter    18:    Energy =   0.1184
Level     1,  Iter    19:    Energy =   0.1184
Level     1,  Iter    20:    Energy =   0.1187
Level     1,  Iter    21:    Energy =   0.1187
Level     1,  Iter    22:    Energy =   0.1190
Level     1,  Iter    23:    Energy =   0.1189
Level     1,  Iter    24:    Energy =   0.1193
Level     1,  Iter    25:    Energy =   0.1191
Level     1,  Iter    26:    Energy =   0.1196
Level     1,  Iter    27:    Energy =   0.1194
Level     1,  Iter    28:    Energy =   0.1198
Level     1,  Iter    29:    Energy =   0.1196
Level     1,  Iter    30:    Energy =   0.1199
Level     1,  Iter    31:    Energy =   0.1197
Level     1,  Iter    32:    Energy =   0.1200
Level     1,  Iter    33:    Energy =   0.1198
Level     1,  Iter    34:    Energy =   0.1201
Level     1,  Iter    35:    Energy =   0.1199
Level     1,  Iter    36:    Energy =   0.1201
Level     1,  Iter    37:    Energy =   0.1200
Level     1,  Iter    38:    Energy =   0.1203
Level     1,  Iter    39:    Energy =   0.1201
Level     1,  Iter    40:    Energy =   0.1205
Level     1,  Iter    41:    Energy =   0.1202
Level     1,  Iter    42:    Energy =   0.1206
Level     1,  Iter    43:    Energy =   0.1203
Level     1,  Iter    44:    Energy =   0.1206
Level     1,  Iter    45:    Energy =   0.1204
Level     1,  Iter    46:    Energy =   0.1206
Level     1,  Iter    47:    Energy =   0.1204
Level     1,  Iter    48:    Energy =   0.1206
Level     1,  Iter    49:    Energy =   0.1205
Level     1,  Iter    50:    Energy =   0.1207
Level     1,  Iter    51:    Energy =   0.1205
Level     1,  Iter    52:    Energy =   0.1207
Level     1,  Iter    53:    Energy =   0.1205
Level     1,  Iter    54:    Energy =   0.1208
Level     1,  Iter    55:    Energy =   0.1206
Level     1,  Iter    56:    Energy =   0.1209
Level     1,  Iter    57:    Energy =   0.1207
Level     1,  Iter    58:    Energy =   0.1209
Level     1,  Iter    59:    Energy =   0.1207
END OF LEVEL     1    DetJac Range:   0.1505  to   2.9636 
  Avg. Gradient Time  : 0.0413s  32.68% 
  Avg. Gaussian Time  : 0.0689s  54.50% 
  Avg. Iteration Time : 0.1264s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0610
Level     2,  Iter     1:    Energy =   0.0635
Level     2,  Iter     2:    Energy =   0.0662
Level     2,  Iter     3:    Energy =   0.0685
Level     2,  Iter     4:    Energy =   0.0706
Level     2,  Iter     5:    Energy =   0.0722
Level     2,  Iter     6:    Energy =   0.0738
Level     2,  Iter     7:    Energy =   0.0752
Level     2,  Iter     8:    Energy =   0.0766
Level     2,  Iter     9:    Energy =   0.0778
Level     2,  Iter    10:    Energy =   0.0784
Level     2,  Iter    11:    Energy =   0.0792
Level     2,  Iter    12:    Energy =   0.0800
Level     2,  Iter    13:    Energy =   0.0806
Level     2,  Iter    14:    Energy =   0.0810
Level     2,  Iter    15:    Energy =   0.0815
Level     2,  Iter    16:    Energy =   0.0818
Level     2,  Iter    17:    Energy =   0.0822
Level     2,  Iter    18:    Energy =   0.0826
Level     2,  Iter    19:    Energy =   0.0828
END OF LEVEL     2    DetJac Range:   0.0795  to   4.5279 
  Avg. Gradient Time  : 0.2940s  30.87% 
  Avg. Gaussian Time  : 0.5288s  55.54% 
  Avg. Iteration Time : 0.9523s 

real	0m32.646s
user	0m59.284s
sys	0m1.416s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.228846 0.234615
+ echo 'CHUNK 0.228846 0.234615 1'
CHUNK 0.228846 0.234615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.228846 0.234615 1
====================================
         PROGRESS: 0.228846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 006 left 0
+ local tid=006
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.572046
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3464.42   GNORM= 246.673
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3491.628     277.965       0.001
   2    4     -3519.340     185.822       1.000
   3    5     -3539.679     197.977       1.000
   4    6     -3561.466     122.665       1.000
   5    7     -3588.658      93.293       1.000
   6    8     -3615.586     102.576       1.000
   7    9     -3647.118     170.920       1.000
   8   11     -3660.013     177.317       0.458
   9   12     -3679.454      68.564       1.000
  10   13     -3687.118      87.201       1.000
  11   14     -3703.052      93.317       1.000
  12   15     -3706.510     227.127       1.000
  13   17     -3727.160     124.071       0.453
  14   18     -3743.194     110.265       1.000
  15   19     -3745.709      74.499       1.000
  16   20     -3748.321      26.248       1.000
  17   21     -3749.092      27.309       1.000
  18   22     -3755.518      49.585       1.000
  19   24     -3757.096      44.678       0.312
  20   25     -3758.478      46.555       1.000
  21   26     -3762.240      64.628       1.000
  22   27     -3764.651      60.382       1.000
  23   28     -3766.050      57.915       1.000
  24   29     -3767.038      20.494       1.000
  25   30     -3767.478      17.503       1.000
  26   32     -3768.032      27.230       0.440
  27   33     -3768.935      18.067       1.000
  28   35     -3769.143      16.351       0.302
  29   36     -3769.244       8.987       1.000
  30   37     -3769.269       6.076       1.000
  31   38     -3769.290       5.347       1.000
  32   40     -3769.347      11.891       0.386
  33   42     -3769.371      14.482       0.360
  34   43     -3769.404      10.541       1.000
  35   44     -3769.429       5.670       1.000
  36   45     -3769.450       4.099       1.000
  37   46     -3769.454       3.221       1.000
  38   47     -3769.461       3.486       1.000
  39   48     -3769.465       2.814       1.000
  40   49     -3769.466       5.461       1.000
Final RAS Transform: 
0.890982 0.00613983 0.0395141 -2.82147 
-0.00944811 0.99523 0.0341391 -0.462561 
-0.0186316 0.00821765 1.03595 0.0998987 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2624.87   GNORM= 462.482
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2666.124      92.467       0.000
   2    4     -2668.776      59.009       1.000
   3    5     -2670.971      68.839       1.000
   4    6     -2674.743      81.098       1.000
   5    7     -2680.425      94.623       1.000
   6    8     -2686.431      62.782       1.000
   7    9     -2689.314      35.239       1.000
   8   10     -2691.850      40.545       1.000
   9   11     -2695.030      66.077       1.000
  10   12     -2699.346      75.064       1.000
  11   13     -2705.802      68.864       1.000
  12   14     -2709.436      27.267       1.000
  13   15     -2710.275      25.872       1.000
  14   16     -2711.639      39.775       1.000
  15   17     -2716.585      41.474       1.000
  16   18     -2717.435      69.118       1.000
  17   19     -2720.344      26.281       1.000
  18   20     -2720.862      27.248       1.000
  19   21     -2721.209      15.960       1.000
  20   22     -2721.623      12.619       1.000
  21   23     -2722.255      22.656       1.000
  22   24     -2723.076      28.670       1.000
  23   25     -2724.644      36.284       1.000
  24   27     -2725.234      52.535       0.155
  25   28     -2726.387      13.555       1.000
  26   29     -2726.552       7.140       1.000
  27   30     -2726.703       7.617       1.000
  28   32     -2726.849      11.068       0.494
  29   33     -2727.206      10.597       1.000
  30   35     -2727.418      16.934       0.277
  31   36     -2727.699       8.677       1.000
  32   38     -2727.760       4.034       0.467
  33   39     -2727.783       3.665       1.000
  34   40     -2727.800       3.556       1.000
  35   41     -2727.810       2.254       1.000
  36   42     -2727.831       8.357       1.000
  37   43     -2727.866       2.877       1.000
  38   44     -2727.883       3.520       1.000
  39   46     -2727.894       4.442       0.290
  40   47     -2727.896       1.937       1.000
  41   48     -2727.901       2.863       1.000
  42   49     -2727.904       3.587       1.000
  43   50     -2727.904       6.720       1.000
  44   51     -2727.922       3.419       1.000
  45   53     -2727.929       2.092       0.361
  46   54     -2727.933       4.289       1.000
  47   55     -2727.936       4.828       1.000
  48   56     -2727.940       1.685       1.000
  49   57     -2727.944       1.549       1.000
  50   59     -2727.947       2.088       0.394
  51   61     -2727.952       3.463       0.117
Final RAS Transform: 
0.937488 -0.00370617 0.0452956 -1.56248 
-0.00920219 1.00543 0.0579745 -0.292418 
-0.0194857 0.00708994 1.03323 -0.0469192 
0 0 0 1 

Final RAS Transform: 
0.937488 -0.00370617 0.0452956 -1.56248 
-0.00920219 1.00543 0.0579745 -0.292418 
-0.0194857 0.00708994 1.03323 -0.0469192 
0 0 0 1 


real	0m10.154s
user	0m17.660s
sys	0m0.492s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.575873
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1097
Level     0,  Iter     1:    Energy =   0.1159
Level     0,  Iter     2:    Energy =   0.1223
Level     0,  Iter     3:    Energy =   0.1278
Level     0,  Iter     4:    Energy =   0.1310
Level     0,  Iter     5:    Energy =   0.1323
Level     0,  Iter     6:    Energy =   0.1335
Level     0,  Iter     7:    Energy =   0.1343
Level     0,  Iter     8:    Energy =   0.1351
Level     0,  Iter     9:    Energy =   0.1359
Level     0,  Iter    10:    Energy =   0.1364
Level     0,  Iter    11:    Energy =   0.1371
Level     0,  Iter    12:    Energy =   0.1376
Level     0,  Iter    13:    Energy =   0.1381
Level     0,  Iter    14:    Energy =   0.1384
Level     0,  Iter    15:    Energy =   0.1386
Level     0,  Iter    16:    Energy =   0.1389
Level     0,  Iter    17:    Energy =   0.1392
Level     0,  Iter    18:    Energy =   0.1394
Level     0,  Iter    19:    Energy =   0.1396
Level     0,  Iter    20:    Energy =   0.1397
Level     0,  Iter    21:    Energy =   0.1398
Level     0,  Iter    22:    Energy =   0.1399
Level     0,  Iter    23:    Energy =   0.1400
Level     0,  Iter    24:    Energy =   0.1401
Level     0,  Iter    25:    Energy =   0.1401
Level     0,  Iter    26:    Energy =   0.1401
Level     0,  Iter    27:    Energy =   0.1402
Level     0,  Iter    28:    Energy =   0.1403
Level     0,  Iter    29:    Energy =   0.1403
Level     0,  Iter    30:    Energy =   0.1403
Level     0,  Iter    31:    Energy =   0.1403
Level     0,  Iter    32:    Energy =   0.1404
Level     0,  Iter    33:    Energy =   0.1403
Level     0,  Iter    34:    Energy =   0.1404
Level     0,  Iter    35:    Energy =   0.1403
Level     0,  Iter    36:    Energy =   0.1404
Level     0,  Iter    37:    Energy =   0.1403
Level     0,  Iter    38:    Energy =   0.1404
Level     0,  Iter    39:    Energy =   0.1403
Level     0,  Iter    40:    Energy =   0.1404
Level     0,  Iter    41:    Energy =   0.1403
Level     0,  Iter    42:    Energy =   0.1404
Level     0,  Iter    43:    Energy =   0.1403
Level     0,  Iter    44:    Energy =   0.1404
Level     0,  Iter    45:    Energy =   0.1403
Level     0,  Iter    46:    Energy =   0.1404
Level     0,  Iter    47:    Energy =   0.1403
Level     0,  Iter    48:    Energy =   0.1404
Level     0,  Iter    49:    Energy =   0.1404
Level     0,  Iter    50:    Energy =   0.1406
Level     0,  Iter    51:    Energy =   0.1404
Level     0,  Iter    52:    Energy =   0.1406
Level     0,  Iter    53:    Energy =   0.1405
Level     0,  Iter    54:    Energy =   0.1406
Level     0,  Iter    55:    Energy =   0.1405
Level     0,  Iter    56:    Energy =   0.1406
Level     0,  Iter    57:    Energy =   0.1405
Level     0,  Iter    58:    Energy =   0.1406
Level     0,  Iter    59:    Energy =   0.1406
END OF LEVEL     0    DetJac Range:   0.3864  to   2.0158 
  Avg. Gradient Time  : 0.0072s  34.45% 
  Avg. Gaussian Time  : 0.0104s  49.90% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0998
Level     1,  Iter     1:    Energy =   0.1045
Level     1,  Iter     2:    Energy =   0.1090
Level     1,  Iter     3:    Energy =   0.1120
Level     1,  Iter     4:    Energy =   0.1143
Level     1,  Iter     5:    Energy =   0.1169
Level     1,  Iter     6:    Energy =   0.1190
Level     1,  Iter     7:    Energy =   0.1206
Level     1,  Iter     8:    Energy =   0.1219
Level     1,  Iter     9:    Energy =   0.1229
Level     1,  Iter    10:    Energy =   0.1241
Level     1,  Iter    11:    Energy =   0.1253
Level     1,  Iter    12:    Energy =   0.1264
Level     1,  Iter    13:    Energy =   0.1265
Level     1,  Iter    14:    Energy =   0.1263
Level     1,  Iter    15:    Energy =   0.1273
Level     1,  Iter    16:    Energy =   0.1270
Level     1,  Iter    17:    Energy =   0.1280
Level     1,  Iter    18:    Energy =   0.1277
Level     1,  Iter    19:    Energy =   0.1282
Level     1,  Iter    20:    Energy =   0.1279
Level     1,  Iter    21:    Energy =   0.1286
Level     1,  Iter    22:    Energy =   0.1283
Level     1,  Iter    23:    Energy =   0.1286
Level     1,  Iter    24:    Energy =   0.1284
Level     1,  Iter    25:    Energy =   0.1287
Level     1,  Iter    26:    Energy =   0.1285
Level     1,  Iter    27:    Energy =   0.1288
Level     1,  Iter    28:    Energy =   0.1287
Level     1,  Iter    29:    Energy =   0.1288
Level     1,  Iter    30:    Energy =   0.1288
Level     1,  Iter    31:    Energy =   0.1289
Level     1,  Iter    32:    Energy =   0.1289
Level     1,  Iter    33:    Energy =   0.1290
Level     1,  Iter    34:    Energy =   0.1289
Level     1,  Iter    35:    Energy =   0.1291
Level     1,  Iter    36:    Energy =   0.1290
Level     1,  Iter    37:    Energy =   0.1293
Level     1,  Iter    38:    Energy =   0.1291
Level     1,  Iter    39:    Energy =   0.1294
Level     1,  Iter    40:    Energy =   0.1292
Level     1,  Iter    41:    Energy =   0.1296
Level     1,  Iter    42:    Energy =   0.1292
Level     1,  Iter    43:    Energy =   0.1297
Level     1,  Iter    44:    Energy =   0.1293
Level     1,  Iter    45:    Energy =   0.1296
Level     1,  Iter    46:    Energy =   0.1293
Level     1,  Iter    47:    Energy =   0.1293
Level     1,  Iter    48:    Energy =   0.1293
Level     1,  Iter    49:    Energy =   0.1292
Level     1,  Iter    50:    Energy =   0.1293
Level     1,  Iter    51:    Energy =   0.1292
Level     1,  Iter    52:    Energy =   0.1294
Level     1,  Iter    53:    Energy =   0.1292
Level     1,  Iter    54:    Energy =   0.1295
Level     1,  Iter    55:    Energy =   0.1293
Level     1,  Iter    56:    Energy =   0.1296
Level     1,  Iter    57:    Energy =   0.1294
Level     1,  Iter    58:    Energy =   0.1296
Level     1,  Iter    59:    Energy =   0.1294
END OF LEVEL     1    DetJac Range:   0.1257  to   2.9291 
  Avg. Gradient Time  : 0.0416s  32.87% 
  Avg. Gaussian Time  : 0.0687s  54.34% 
  Avg. Iteration Time : 0.1265s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0679
Level     2,  Iter     1:    Energy =   0.0709
Level     2,  Iter     2:    Energy =   0.0732
Level     2,  Iter     3:    Energy =   0.0753
Level     2,  Iter     4:    Energy =   0.0772
Level     2,  Iter     5:    Energy =   0.0790
Level     2,  Iter     6:    Energy =   0.0805
Level     2,  Iter     7:    Energy =   0.0816
Level     2,  Iter     8:    Energy =   0.0826
Level     2,  Iter     9:    Energy =   0.0838
Level     2,  Iter    10:    Energy =   0.0850
Level     2,  Iter    11:    Energy =   0.0860
Level     2,  Iter    12:    Energy =   0.0868
Level     2,  Iter    13:    Energy =   0.0872
Level     2,  Iter    14:    Energy =   0.0874
Level     2,  Iter    15:    Energy =   0.0876
Level     2,  Iter    16:    Energy =   0.0877
Level     2,  Iter    17:    Energy =   0.0878
Level     2,  Iter    18:    Energy =   0.0878
Level     2,  Iter    19:    Energy =   0.0879
END OF LEVEL     2    DetJac Range:   0.0637  to   3.8672 
  Avg. Gradient Time  : 0.2901s  30.71% 
  Avg. Gaussian Time  : 0.5260s  55.69% 
  Avg. Iteration Time : 0.9446s 

real	0m32.371s
user	0m58.884s
sys	0m1.460s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.234615 0.240385
+ echo 'CHUNK 0.234615 0.240385 1'
CHUNK 0.234615 0.240385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.234615 0.240385 1
====================================
         PROGRESS: 0.234615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 007 left 0
+ local tid=007
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.41663
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3070.34   GNORM= 430.61
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3128.973     339.765       0.001
   2    4     -3170.899     220.577       1.000
   3    5     -3197.305      86.137       1.000
   4    6     -3202.089      69.445       1.000
   5    7     -3209.499      79.066       1.000
   6    8     -3226.646      74.756       1.000
   7   10     -3230.823     105.646       0.268
   8   11     -3235.597      58.972       1.000
   9   12     -3238.806      43.379       1.000
  10   13     -3241.742      35.401       1.000
  11   14     -3242.781      24.088       1.000
  12   15     -3244.671      25.735       1.000
  13   16     -3245.004     121.784       1.000
  14   17     -3248.371      46.633       1.000
  15   18     -3250.775      25.821       1.000
  16   19     -3252.152      51.830       1.000
  17   21     -3252.615      26.583       0.481
  18   22     -3252.930      12.783       1.000
  19   23     -3253.088      14.969       1.000
  20   24     -3253.428      49.880       1.000
  21   25     -3253.927      34.244       1.000
  22   26     -3254.284      15.117       1.000
  23   27     -3254.455      11.032       1.000
  24   28     -3254.673      11.513       1.000
  25   29     -3254.881      19.866       1.000
  26   30     -3255.014      11.135       1.000
  27   31     -3255.088       7.373       1.000
  28   32     -3255.105      21.260       1.000
  29   33     -3255.189       7.262       1.000
  30   34     -3255.200       7.838       1.000
  31   35     -3255.220       4.250       1.000
  32   36     -3255.244       3.967       1.000
  33   37     -3255.294       5.082       1.000
  34   38     -3255.605      14.789       1.000
  35   40     -3255.661       6.068       0.341
  36   41     -3255.690       4.579       1.000
  37   43     -3255.697       8.203       0.252
  38   44     -3255.706       5.247       1.000
  39   45     -3255.712       4.679       1.000
  40   46     -3255.724       7.523       1.000
  41   47     -3255.730       5.197       1.000
  42   48     -3255.736       5.047       1.000
  43   49     -3255.737       4.134       1.000
  44   50     -3255.749       5.117       1.000
  45   51     -3255.782       6.725       1.000
  46   52     -3255.787       4.350       1.000
  47   53     -3255.798       3.978       1.000
  48   54     -3255.807       1.881       1.000
  49   55     -3255.810       2.650       1.000
Final RAS Transform: 
0.995635 -0.0107617 0.0205481 0.0841 
0.025565 1.02507 0.0686531 0.886804 
0.00719913 -0.00831594 1.00069 0.617434 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2570.89   GNORM= 200.234
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2581.985     100.765       0.000
   2    4     -2586.959      89.119       1.000
   3    5     -2592.184      50.546       1.000
   4    6     -2594.109      38.524       1.000
   5    7     -2599.188      49.406       1.000
   6    8     -2603.289      50.258       1.000
   7    9     -2606.432      41.337       1.000
   8   10     -2608.568      44.258       1.000
   9   11     -2609.705      45.040       1.000
  10   12     -2611.095      35.523       1.000
  11   13     -2611.659      27.159       1.000
  12   14     -2612.330      17.762       1.000
  13   15     -2612.713      13.273       1.000
  14   16     -2614.126      13.183       1.000
  15   18     -2614.968      39.795       0.321
  16   19     -2616.370      22.512       1.000
  17   20     -2617.082      13.540       1.000
  18   21     -2617.655      19.601       1.000
  19   23     -2617.898      13.359       0.440
  20   24     -2618.040      10.420       1.000
  21   25     -2618.092      22.048       1.000
  22   26     -2618.310      15.321       1.000
  23   27     -2618.448       6.541       1.000
  24   28     -2618.566      10.872       1.000
  25   29     -2618.862       9.315       1.000
  26   31     -2618.992      13.812       0.505
  27   32     -2619.112       4.916       1.000
  28   33     -2619.209       7.763       1.000
  29   34     -2619.257      12.408       1.000
  30   35     -2619.325       8.688       1.000
  31   36     -2619.462       6.945       1.000
  32   37     -2619.546       8.194       1.000
  33   38     -2619.598       3.902       1.000
  34   39     -2619.646       6.512       1.000
  35   40     -2619.713      17.021       1.000
  36   41     -2619.821       7.706       1.000
  37   42     -2619.950       5.934       1.000
  38   43     -2620.046       6.033       1.000
  39   45     -2620.073      13.804       0.153
  40   46     -2620.116      10.579       1.000
  41   47     -2620.165       4.180       1.000
  42   48     -2620.189       3.203       1.000
  43   49     -2620.205       3.167       1.000
  44   50     -2620.241       3.770       1.000
  45   53     -2620.245       5.497       0.018
  46   54     -2620.259       3.725       1.000
  47   55     -2620.273       3.315       1.000
  48   56     -2620.310       6.496       1.000
  49   57     -2620.349       8.068       1.000
  50   58     -2620.377       2.389       1.000
  51   59     -2620.385       2.992       1.000
  52   61     -2620.391       1.542       0.238
Final RAS Transform: 
0.992049 -0.002352 0.0123809 -0.00445991 
0.0168886 1.0099 0.043472 0.419891 
-0.00510577 0.00180659 1.02093 0.373047 
0 0 0 1 

Final RAS Transform: 
0.992049 -0.002352 0.0123809 -0.00445991 
0.0168886 1.0099 0.043472 0.419891 
-0.00510577 0.00180659 1.02093 0.373047 
0 0 0 1 


real	0m10.365s
user	0m18.192s
sys	0m0.416s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.424209
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0964
Level     0,  Iter     1:    Energy =   0.1025
Level     0,  Iter     2:    Energy =   0.1074
Level     0,  Iter     3:    Energy =   0.1111
Level     0,  Iter     4:    Energy =   0.1131
Level     0,  Iter     5:    Energy =   0.1148
Level     0,  Iter     6:    Energy =   0.1157
Level     0,  Iter     7:    Energy =   0.1167
Level     0,  Iter     8:    Energy =   0.1173
Level     0,  Iter     9:    Energy =   0.1180
Level     0,  Iter    10:    Energy =   0.1184
Level     0,  Iter    11:    Energy =   0.1190
Level     0,  Iter    12:    Energy =   0.1192
Level     0,  Iter    13:    Energy =   0.1196
Level     0,  Iter    14:    Energy =   0.1198
Level     0,  Iter    15:    Energy =   0.1201
Level     0,  Iter    16:    Energy =   0.1202
Level     0,  Iter    17:    Energy =   0.1205
Level     0,  Iter    18:    Energy =   0.1206
Level     0,  Iter    19:    Energy =   0.1209
Level     0,  Iter    20:    Energy =   0.1209
Level     0,  Iter    21:    Energy =   0.1212
Level     0,  Iter    22:    Energy =   0.1212
Level     0,  Iter    23:    Energy =   0.1214
Level     0,  Iter    24:    Energy =   0.1215
Level     0,  Iter    25:    Energy =   0.1217
Level     0,  Iter    26:    Energy =   0.1217
Level     0,  Iter    27:    Energy =   0.1219
Level     0,  Iter    28:    Energy =   0.1219
Level     0,  Iter    29:    Energy =   0.1221
Level     0,  Iter    30:    Energy =   0.1221
Level     0,  Iter    31:    Energy =   0.1223
Level     0,  Iter    32:    Energy =   0.1223
Level     0,  Iter    33:    Energy =   0.1224
Level     0,  Iter    34:    Energy =   0.1225
Level     0,  Iter    35:    Energy =   0.1226
Level     0,  Iter    36:    Energy =   0.1226
Level     0,  Iter    37:    Energy =   0.1227
Level     0,  Iter    38:    Energy =   0.1228
Level     0,  Iter    39:    Energy =   0.1228
Level     0,  Iter    40:    Energy =   0.1229
Level     0,  Iter    41:    Energy =   0.1229
Level     0,  Iter    42:    Energy =   0.1231
Level     0,  Iter    43:    Energy =   0.1231
Level     0,  Iter    44:    Energy =   0.1232
Level     0,  Iter    45:    Energy =   0.1231
Level     0,  Iter    46:    Energy =   0.1233
Level     0,  Iter    47:    Energy =   0.1232
Level     0,  Iter    48:    Energy =   0.1233
Level     0,  Iter    49:    Energy =   0.1232
Level     0,  Iter    50:    Energy =   0.1234
Level     0,  Iter    51:    Energy =   0.1233
Level     0,  Iter    52:    Energy =   0.1234
Level     0,  Iter    53:    Energy =   0.1233
Level     0,  Iter    54:    Energy =   0.1234
Level     0,  Iter    55:    Energy =   0.1234
Level     0,  Iter    56:    Energy =   0.1235
Level     0,  Iter    57:    Energy =   0.1234
Level     0,  Iter    58:    Energy =   0.1235
Level     0,  Iter    59:    Energy =   0.1234
END OF LEVEL     0    DetJac Range:   0.2588  to   1.9381 
  Avg. Gradient Time  : 0.0072s  34.52% 
  Avg. Gaussian Time  : 0.0104s  49.83% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0921
Level     1,  Iter     1:    Energy =   0.0968
Level     1,  Iter     2:    Energy =   0.1002
Level     1,  Iter     3:    Energy =   0.1034
Level     1,  Iter     4:    Energy =   0.1063
Level     1,  Iter     5:    Energy =   0.1086
Level     1,  Iter     6:    Energy =   0.1108
Level     1,  Iter     7:    Energy =   0.1130
Level     1,  Iter     8:    Energy =   0.1146
Level     1,  Iter     9:    Energy =   0.1158
Level     1,  Iter    10:    Energy =   0.1168
Level     1,  Iter    11:    Energy =   0.1175
Level     1,  Iter    12:    Energy =   0.1182
Level     1,  Iter    13:    Energy =   0.1189
Level     1,  Iter    14:    Energy =   0.1195
Level     1,  Iter    15:    Energy =   0.1199
Level     1,  Iter    16:    Energy =   0.1204
Level     1,  Iter    17:    Energy =   0.1204
Level     1,  Iter    18:    Energy =   0.1209
Level     1,  Iter    19:    Energy =   0.1208
Level     1,  Iter    20:    Energy =   0.1213
Level     1,  Iter    21:    Energy =   0.1213
Level     1,  Iter    22:    Energy =   0.1217
Level     1,  Iter    23:    Energy =   0.1216
Level     1,  Iter    24:    Energy =   0.1220
Level     1,  Iter    25:    Energy =   0.1221
Level     1,  Iter    26:    Energy =   0.1224
Level     1,  Iter    27:    Energy =   0.1222
Level     1,  Iter    28:    Energy =   0.1227
Level     1,  Iter    29:    Energy =   0.1227
Level     1,  Iter    30:    Energy =   0.1227
Level     1,  Iter    31:    Energy =   0.1229
Level     1,  Iter    32:    Energy =   0.1228
Level     1,  Iter    33:    Energy =   0.1231
Level     1,  Iter    34:    Energy =   0.1230
Level     1,  Iter    35:    Energy =   0.1233
Level     1,  Iter    36:    Energy =   0.1232
Level     1,  Iter    37:    Energy =   0.1234
Level     1,  Iter    38:    Energy =   0.1234
Level     1,  Iter    39:    Energy =   0.1235
Level     1,  Iter    40:    Energy =   0.1235
Level     1,  Iter    41:    Energy =   0.1236
Level     1,  Iter    42:    Energy =   0.1235
Level     1,  Iter    43:    Energy =   0.1238
Level     1,  Iter    44:    Energy =   0.1236
Level     1,  Iter    45:    Energy =   0.1240
Level     1,  Iter    46:    Energy =   0.1238
Level     1,  Iter    47:    Energy =   0.1242
Level     1,  Iter    48:    Energy =   0.1239
Level     1,  Iter    49:    Energy =   0.1243
Level     1,  Iter    50:    Energy =   0.1241
Level     1,  Iter    51:    Energy =   0.1244
Level     1,  Iter    52:    Energy =   0.1242
Level     1,  Iter    53:    Energy =   0.1246
Level     1,  Iter    54:    Energy =   0.1243
Level     1,  Iter    55:    Energy =   0.1247
Level     1,  Iter    56:    Energy =   0.1244
Level     1,  Iter    57:    Energy =   0.1248
Level     1,  Iter    58:    Energy =   0.1246
Level     1,  Iter    59:    Energy =   0.1249
END OF LEVEL     1    DetJac Range:   0.1556  to   3.2287 
  Avg. Gradient Time  : 0.0415s  32.86% 
  Avg. Gaussian Time  : 0.0687s  54.35% 
  Avg. Iteration Time : 0.1264s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0672
Level     2,  Iter     1:    Energy =   0.0699
Level     2,  Iter     2:    Energy =   0.0723
Level     2,  Iter     3:    Energy =   0.0743
Level     2,  Iter     4:    Energy =   0.0759
Level     2,  Iter     5:    Energy =   0.0772
Level     2,  Iter     6:    Energy =   0.0783
Level     2,  Iter     7:    Energy =   0.0792
Level     2,  Iter     8:    Energy =   0.0801
Level     2,  Iter     9:    Energy =   0.0808
Level     2,  Iter    10:    Energy =   0.0816
Level     2,  Iter    11:    Energy =   0.0823
Level     2,  Iter    12:    Energy =   0.0830
Level     2,  Iter    13:    Energy =   0.0836
Level     2,  Iter    14:    Energy =   0.0842
Level     2,  Iter    15:    Energy =   0.0848
Level     2,  Iter    16:    Energy =   0.0853
Level     2,  Iter    17:    Energy =   0.0858
Level     2,  Iter    18:    Energy =   0.0862
Level     2,  Iter    19:    Energy =   0.0866
END OF LEVEL     2    DetJac Range:   0.0766  to   4.1698 
  Avg. Gradient Time  : 0.2915s  30.79% 
  Avg. Gaussian Time  : 0.5265s  55.61% 
  Avg. Iteration Time : 0.9467s 

real	0m32.446s
user	0m59.040s
sys	0m1.420s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.240385 0.246154
+ echo 'CHUNK 0.240385 0.246154 1'
CHUNK 0.240385 0.246154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.240385 0.246154 1
====================================
         PROGRESS: 0.240385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 008 left 0
+ local tid=008
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.418438
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2573.28   GNORM= 199.825
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2588.914     157.288       0.001
   2    4     -2601.243     122.728       1.000
   3    5     -2629.555     124.570       1.000
   4    6     -2646.999      68.610       1.000
   5    7     -2659.657      56.931       1.000
   6    8     -2671.711      61.246       1.000
   7    9     -2691.882      71.036       1.000
   8   11     -2693.385      91.501       0.083
   9   12     -2705.142      62.906       1.000
  10   13     -2709.194      33.985       1.000
  11   14     -2713.814      26.672       1.000
  12   16     -2717.269      57.663       0.413
  13   17     -2721.339      18.383       1.000
  14   19     -2722.831      63.039       0.328
  15   20     -2725.438      37.385       1.000
  16   21     -2726.797      21.799       1.000
  17   22     -2727.368      21.290       1.000
  18   23     -2727.895      17.765       1.000
  19   24     -2728.063       7.389       1.000
  20   25     -2728.212       9.067       1.000
  21   27     -2728.284      11.309       0.335
  22   29     -2728.427      26.493       0.359
  23   32     -2729.410      25.744       3.058
  24   34     -2729.582      26.018       0.092
  25   35     -2730.094      16.509       1.000
  26   36     -2730.254      11.322       1.000
  27   37     -2730.613      11.972       1.000
  28   39     -2730.651       7.847       0.369
  29   40     -2730.690      10.051       1.000
  30   41     -2730.757       7.427       1.000
  31   42     -2730.871       6.388       1.000
  32   44     -2731.053       7.934       0.437
  33   45     -2731.082       6.105       1.000
  34   46     -2731.125       6.127       1.000
  35   48     -2731.139       3.381       0.485
  36   50     -2731.140       1.886       0.243
Final RAS Transform: 
0.927187 -0.0272713 0.0544517 -2.55775 
0.0153446 1.00331 0.0546607 0.314514 
-0.0115175 -0.0245289 1.02917 -0.443365 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2001.87   GNORM= 106.631
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2005.812      45.619       0.001
   2    4     -2007.323      48.736       1.000
   3    5     -2016.865      73.172       1.000
   4    6     -2032.480     123.738       1.000
   5    7     -2049.932     181.006       1.000
   6    8     -2067.001      87.339       1.000
   7    9     -2072.493      28.328       1.000
   8   10     -2073.585      37.839       1.000
   9   11     -2074.957      59.770       1.000
  10   12     -2080.588      76.065       1.000
  11   13     -2085.417      67.381       1.000
  12   14     -2091.669      83.952       1.000
  13   15     -2098.544      41.602       1.000
  14   16     -2107.156      51.867       1.000
  15   18     -2108.385      12.357       0.389
  16   19     -2108.741      14.529       1.000
  17   20     -2109.133      23.048       1.000
  18   21     -2110.007      17.338       1.000
  19   22     -2110.499      16.339       1.000
  20   23     -2111.453      22.528       1.000
  21   24     -2112.480      20.338       1.000
  22   25     -2113.337      40.688       1.000
  23   26     -2113.974       9.632       1.000
  24   27     -2114.468      18.024       1.000
  25   28     -2115.050      29.531       1.000
  26   29     -2116.127      46.188       1.000
  27   30     -2116.911      30.288       1.000
  28   31     -2117.303      11.893       1.000
  29   32     -2117.525      10.589       1.000
  30   33     -2117.812      26.325       1.000
  31   34     -2118.110      21.699       1.000
  32   36     -2118.489      13.142       0.348
  33   37     -2118.747       6.409       1.000
  34   38     -2118.868       8.965       1.000
  35   39     -2118.993       6.144       1.000
  36   41     -2119.029      11.585       0.296
  37   42     -2119.111      10.022       1.000
  38   43     -2119.158       6.002       1.000
  39   44     -2119.179       4.504       1.000
  40   45     -2119.219       4.950       1.000
  41   46     -2119.257       4.609       1.000
  42   47     -2119.362       7.188       1.000
  43   48     -2119.486       6.268       1.000
  44   50     -2119.506      10.362       0.244
  45   51     -2119.555       5.229       1.000
  46   52     -2119.567       3.142       1.000
  47   54     -2119.568       2.684       0.267
  48   56     -2119.602       3.351       5.000
  49   57     -2119.645       4.762       1.000
  50   59     -2119.661       4.017       0.301
Final RAS Transform: 
0.994546 -0.0272293 0.00684846 -0.638229 
0.00846195 1.00204 0.0388106 0.237913 
-0.00924093 -0.00867097 1.04623 -0.0363813 
0 0 0 1 

Final RAS Transform: 
0.994546 -0.0272293 0.00684846 -0.638229 
0.00846195 1.00204 0.0388106 0.237913 
-0.00924093 -0.00867097 1.04623 -0.0363813 
0 0 0 1 


real	0m10.295s
user	0m17.984s
sys	0m0.428s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.426993
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0779
Level     0,  Iter     1:    Energy =   0.0832
Level     0,  Iter     2:    Energy =   0.0894
Level     0,  Iter     3:    Energy =   0.0947
Level     0,  Iter     4:    Energy =   0.0983
Level     0,  Iter     5:    Energy =   0.0998
Level     0,  Iter     6:    Energy =   0.1013
Level     0,  Iter     7:    Energy =   0.1024
Level     0,  Iter     8:    Energy =   0.1032
Level     0,  Iter     9:    Energy =   0.1040
Level     0,  Iter    10:    Energy =   0.1045
Level     0,  Iter    11:    Energy =   0.1053
Level     0,  Iter    12:    Energy =   0.1056
Level     0,  Iter    13:    Energy =   0.1064
Level     0,  Iter    14:    Energy =   0.1066
Level     0,  Iter    15:    Energy =   0.1074
Level     0,  Iter    16:    Energy =   0.1075
Level     0,  Iter    17:    Energy =   0.1083
Level     0,  Iter    18:    Energy =   0.1083
Level     0,  Iter    19:    Energy =   0.1090
Level     0,  Iter    20:    Energy =   0.1089
Level     0,  Iter    21:    Energy =   0.1093
Level     0,  Iter    22:    Energy =   0.1092
Level     0,  Iter    23:    Energy =   0.1097
Level     0,  Iter    24:    Energy =   0.1095
Level     0,  Iter    25:    Energy =   0.1100
Level     0,  Iter    26:    Energy =   0.1098
Level     0,  Iter    27:    Energy =   0.1103
Level     0,  Iter    28:    Energy =   0.1101
Level     0,  Iter    29:    Energy =   0.1106
Level     0,  Iter    30:    Energy =   0.1104
Level     0,  Iter    31:    Energy =   0.1108
Level     0,  Iter    32:    Energy =   0.1105
Level     0,  Iter    33:    Energy =   0.1111
Level     0,  Iter    34:    Energy =   0.1108
Level     0,  Iter    35:    Energy =   0.1112
Level     0,  Iter    36:    Energy =   0.1110
Level     0,  Iter    37:    Energy =   0.1114
Level     0,  Iter    38:    Energy =   0.1111
Level     0,  Iter    39:    Energy =   0.1116
Level     0,  Iter    40:    Energy =   0.1113
Level     0,  Iter    41:    Energy =   0.1118
Level     0,  Iter    42:    Energy =   0.1115
Level     0,  Iter    43:    Energy =   0.1119
Level     0,  Iter    44:    Energy =   0.1116
Level     0,  Iter    45:    Energy =   0.1120
Level     0,  Iter    46:    Energy =   0.1117
Level     0,  Iter    47:    Energy =   0.1121
Level     0,  Iter    48:    Energy =   0.1119
Level     0,  Iter    49:    Energy =   0.1123
Level     0,  Iter    50:    Energy =   0.1120
Level     0,  Iter    51:    Energy =   0.1124
Level     0,  Iter    52:    Energy =   0.1121
Level     0,  Iter    53:    Energy =   0.1125
Level     0,  Iter    54:    Energy =   0.1122
Level     0,  Iter    55:    Energy =   0.1125
Level     0,  Iter    56:    Energy =   0.1122
Level     0,  Iter    57:    Energy =   0.1127
Level     0,  Iter    58:    Energy =   0.1124
Level     0,  Iter    59:    Energy =   0.1128
END OF LEVEL     0    DetJac Range:   0.2382  to   2.9556 
  Avg. Gradient Time  : 0.0073s  34.42% 
  Avg. Gaussian Time  : 0.0107s  50.12% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0783
Level     1,  Iter     1:    Energy =   0.0829
Level     1,  Iter     2:    Energy =   0.0865
Level     1,  Iter     3:    Energy =   0.0897
Level     1,  Iter     4:    Energy =   0.0928
Level     1,  Iter     5:    Energy =   0.0955
Level     1,  Iter     6:    Energy =   0.0976
Level     1,  Iter     7:    Energy =   0.0995
Level     1,  Iter     8:    Energy =   0.1014
Level     1,  Iter     9:    Energy =   0.1029
Level     1,  Iter    10:    Energy =   0.1041
Level     1,  Iter    11:    Energy =   0.1047
Level     1,  Iter    12:    Energy =   0.1049
Level     1,  Iter    13:    Energy =   0.1059
Level     1,  Iter    14:    Energy =   0.1060
Level     1,  Iter    15:    Energy =   0.1070
Level     1,  Iter    16:    Energy =   0.1071
Level     1,  Iter    17:    Energy =   0.1080
Level     1,  Iter    18:    Energy =   0.1078
Level     1,  Iter    19:    Energy =   0.1084
Level     1,  Iter    20:    Energy =   0.1084
Level     1,  Iter    21:    Energy =   0.1083
Level     1,  Iter    22:    Energy =   0.1086
Level     1,  Iter    23:    Energy =   0.1085
Level     1,  Iter    24:    Energy =   0.1091
Level     1,  Iter    25:    Energy =   0.1089
Level     1,  Iter    26:    Energy =   0.1094
Level     1,  Iter    27:    Energy =   0.1092
Level     1,  Iter    28:    Energy =   0.1098
Level     1,  Iter    29:    Energy =   0.1094
Level     1,  Iter    30:    Energy =   0.1103
Level     1,  Iter    31:    Energy =   0.1099
Level     1,  Iter    32:    Energy =   0.1107
Level     1,  Iter    33:    Energy =   0.1104
Level     1,  Iter    34:    Energy =   0.1111
Level     1,  Iter    35:    Energy =   0.1108
Level     1,  Iter    36:    Energy =   0.1112
Level     1,  Iter    37:    Energy =   0.1110
Level     1,  Iter    38:    Energy =   0.1114
Level     1,  Iter    39:    Energy =   0.1112
Level     1,  Iter    40:    Energy =   0.1113
Level     1,  Iter    41:    Energy =   0.1111
Level     1,  Iter    42:    Energy =   0.1115
Level     1,  Iter    43:    Energy =   0.1113
Level     1,  Iter    44:    Energy =   0.1115
Level     1,  Iter    45:    Energy =   0.1114
Level     1,  Iter    46:    Energy =   0.1116
Level     1,  Iter    47:    Energy =   0.1115
Level     1,  Iter    48:    Energy =   0.1116
Level     1,  Iter    49:    Energy =   0.1115
Level     1,  Iter    50:    Energy =   0.1117
Level     1,  Iter    51:    Energy =   0.1116
Level     1,  Iter    52:    Energy =   0.1117
Level     1,  Iter    53:    Energy =   0.1116
Level     1,  Iter    54:    Energy =   0.1119
Level     1,  Iter    55:    Energy =   0.1117
Level     1,  Iter    56:    Energy =   0.1119
Level     1,  Iter    57:    Energy =   0.1118
Level     1,  Iter    58:    Energy =   0.1120
Level     1,  Iter    59:    Energy =   0.1119
END OF LEVEL     1    DetJac Range:   0.0645  to   4.3286 
  Avg. Gradient Time  : 0.0414s  32.49% 
  Avg. Gaussian Time  : 0.0691s  54.16% 
  Avg. Iteration Time : 0.1275s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0578
Level     2,  Iter     1:    Energy =   0.0605
Level     2,  Iter     2:    Energy =   0.0629
Level     2,  Iter     3:    Energy =   0.0654
Level     2,  Iter     4:    Energy =   0.0672
Level     2,  Iter     5:    Energy =   0.0690
Level     2,  Iter     6:    Energy =   0.0706
Level     2,  Iter     7:    Energy =   0.0719
Level     2,  Iter     8:    Energy =   0.0728
Level     2,  Iter     9:    Energy =   0.0735
Level     2,  Iter    10:    Energy =   0.0740
Level     2,  Iter    11:    Energy =   0.0747
Level     2,  Iter    12:    Energy =   0.0754
Level     2,  Iter    13:    Energy =   0.0761
Level     2,  Iter    14:    Energy =   0.0767
Level     2,  Iter    15:    Energy =   0.0773
Level     2,  Iter    16:    Energy =   0.0779
Level     2,  Iter    17:    Energy =   0.0785
Level     2,  Iter    18:    Energy =   0.0791
Level     2,  Iter    19:    Energy =   0.0794
END OF LEVEL     2    DetJac Range:   0.0779  to   6.0189 
  Avg. Gradient Time  : 0.2914s  30.77% 
  Avg. Gaussian Time  : 0.5268s  55.63% 
  Avg. Iteration Time : 0.9469s 

real	0m32.641s
user	0m59.472s
sys	0m1.240s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.246154 0.251923
+ echo 'CHUNK 0.246154 0.251923 1'
CHUNK 0.246154 0.251923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.246154 0.251923 1
====================================
         PROGRESS: 0.246154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 009 left 0
+ local tid=009
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.747982
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3938.83   GNORM= 913.694
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4079.346     357.552       0.000
   2    4     -4115.802     289.665       1.000
   3    5     -4162.045     160.466       1.000
   4    6     -4172.519      93.819       1.000
   5    7     -4184.657     115.444       1.000
   6    8     -4203.446     113.268       1.000
   7   10     -4209.602     181.530       0.322
   8   11     -4220.031      86.693       1.000
   9   12     -4225.565      84.145       1.000
  10   13     -4233.699      87.145       1.000
  11   14     -4238.918      64.453       1.000
  12   15     -4243.014      56.391       1.000
  13   16     -4249.418     117.486       1.000
  14   17     -4253.099      74.364       1.000
  15   18     -4254.175      17.801       1.000
  16   19     -4254.337      15.980       1.000
  17   20     -4254.430      22.862       1.000
  18   21     -4254.600      12.502       1.000
  19   22     -4254.890      12.645       1.000
  20   23     -4255.215      17.896       1.000
  21   25     -4255.379      13.854       0.379
  22   26     -4255.466      12.946       1.000
  23   27     -4255.524      13.822       1.000
  24   28     -4255.556      10.149       1.000
  25   29     -4255.638      14.168       1.000
  26   30     -4255.784      20.154       1.000
  27   31     -4255.902      16.402       1.000
  28   32     -4256.091      12.479       1.000
  29   33     -4256.168       9.854       1.000
  30   34     -4256.177      16.616       1.000
  31   35     -4256.260      17.259       1.000
  32   36     -4256.337      12.049       1.000
  33   37     -4256.380      12.835       1.000
  34   38     -4256.438      12.055       1.000
  35   40     -4256.568      12.734       0.503
  36   41     -4256.675      15.679       1.000
  37   42     -4256.846       9.342       1.000
  38   43     -4256.907      14.453       1.000
  39   44     -4256.983      12.231       1.000
  40   45     -4257.017       8.346       1.000
  41   47     -4257.030       9.242       0.347
  42   48     -4257.057       8.325       1.000
  43   50     -4257.079       4.769       0.221
  44   51     -4257.108       4.533       1.000
  45   53     -4257.114       8.002       0.159
  46   54     -4257.134       3.864       1.000
  47   55     -4257.142       3.741       1.000
  48   56     -4257.150       6.159       1.000
  49   57     -4257.154       6.089       1.000
  50   58     -4257.163       4.157       1.000
  51   59     -4257.171       3.676       1.000
  52   60     -4257.180       3.810       1.000
  53   61     -4257.183       2.555       1.000
Final RAS Transform: 
0.95639 -0.00439687 0.00297236 -1.01176 
0.0153579 1.0148 0.0280645 0.702346 
-0.0219092 0.00300474 1.01669 0.124894 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3138.52   GNORM= 299.548
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3150.501      43.829       0.000
   2    4     -3150.801      19.002       1.000
   3    6     -3151.271      32.834       5.000
   4    7     -3151.885      44.411       1.000
   5    8     -3152.849      47.447       1.000
   6    9     -3156.924      54.158       1.000
   7   10     -3158.758      39.320       1.000
   8   11     -3160.002      34.920       1.000
   9   13     -3162.495      60.787       0.328
  10   14     -3163.291      55.156       1.000
  11   15     -3163.991      20.207       1.000
  12   16     -3164.226      14.481       1.000
  13   17     -3164.377      15.199       1.000
  14   18     -3164.485       8.022       1.000
  15   19     -3164.680      20.522       1.000
  16   20     -3164.930      28.217       1.000
  17   21     -3165.178      18.742       1.000
  18   22     -3165.721      15.394       1.000
  19   23     -3166.567      26.095       1.000
  20   24     -3166.837      42.740       1.000
  21   25     -3167.255      10.305       1.000
  22   26     -3167.314      10.548       1.000
  23   27     -3167.357       7.324       1.000
  24   28     -3167.414       9.892       1.000
  25   29     -3167.513      12.018       1.000
  26   30     -3167.656      17.205       1.000
  27   31     -3167.794      12.975       1.000
  28   32     -3167.926       7.539       1.000
  29   33     -3168.021      18.607       1.000
  30   34     -3168.082       5.902       1.000
  31   35     -3168.115       8.136       1.000
  32   36     -3168.197       5.021       1.000
  33   37     -3168.229       5.994       1.000
  34   39     -3168.243       6.524       0.192
  35   40     -3168.268       4.833       1.000
  36   41     -3168.296       3.705       1.000
  37   42     -3168.348       6.429       1.000
  38   44     -3168.364       4.509       0.447
  39   45     -3168.382      12.351       1.000
  40   46     -3168.416       4.878       1.000
  41   47     -3168.429       2.992       1.000
  42   48     -3168.452       5.321       1.000
  43   49     -3168.466       5.262       1.000
  44   51     -3168.472       2.358       0.037
  45   52     -3168.478       2.197       1.000
  46   53     -3168.491       3.192       1.000
  47   54     -3168.491       1.693       1.000
  48   55     -3168.500       3.356       1.000
Final RAS Transform: 
0.973255 -0.00351305 0.0110434 -0.375808 
0.0171841 1.02416 0.0421877 0.929166 
-0.00870475 -0.00028692 1.01045 0.3856 
0 0 0 1 

Final RAS Transform: 
0.973255 -0.00351305 0.0110434 -0.375808 
0.0171841 1.02416 0.0421877 0.929166 
-0.00870475 -0.00028692 1.01045 0.3856 
0 0 0 1 


real	0m9.807s
user	0m17.036s
sys	0m0.468s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.747741
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1282
Level     0,  Iter     1:    Energy =   0.1337
Level     0,  Iter     2:    Energy =   0.1388
Level     0,  Iter     3:    Energy =   0.1428
Level     0,  Iter     4:    Energy =   0.1454
Level     0,  Iter     5:    Energy =   0.1472
Level     0,  Iter     6:    Energy =   0.1488
Level     0,  Iter     7:    Energy =   0.1500
Level     0,  Iter     8:    Energy =   0.1510
Level     0,  Iter     9:    Energy =   0.1514
Level     0,  Iter    10:    Energy =   0.1519
Level     0,  Iter    11:    Energy =   0.1522
Level     0,  Iter    12:    Energy =   0.1525
Level     0,  Iter    13:    Energy =   0.1528
Level     0,  Iter    14:    Energy =   0.1531
Level     0,  Iter    15:    Energy =   0.1532
Level     0,  Iter    16:    Energy =   0.1535
Level     0,  Iter    17:    Energy =   0.1535
Level     0,  Iter    18:    Energy =   0.1538
Level     0,  Iter    19:    Energy =   0.1537
Level     0,  Iter    20:    Energy =   0.1541
Level     0,  Iter    21:    Energy =   0.1540
Level     0,  Iter    22:    Energy =   0.1544
Level     0,  Iter    23:    Energy =   0.1541
Level     0,  Iter    24:    Energy =   0.1545
Level     0,  Iter    25:    Energy =   0.1539
Level     0,  Iter    26:    Energy =   0.1547
Level     0,  Iter    27:    Energy =   0.1543
Level     0,  Iter    28:    Energy =   0.1546
Level     0,  Iter    29:    Energy =   0.1544
Level     0,  Iter    30:    Energy =   0.1544
Level     0,  Iter    31:    Energy =   0.1544
Level     0,  Iter    32:    Energy =   0.1543
Level     0,  Iter    33:    Energy =   0.1544
Level     0,  Iter    34:    Energy =   0.1543
Level     0,  Iter    35:    Energy =   0.1544
Level     0,  Iter    36:    Energy =   0.1543
Level     0,  Iter    37:    Energy =   0.1544
Level     0,  Iter    38:    Energy =   0.1542
Level     0,  Iter    39:    Energy =   0.1545
Level     0,  Iter    40:    Energy =   0.1542
Level     0,  Iter    41:    Energy =   0.1545
Level     0,  Iter    42:    Energy =   0.1542
Level     0,  Iter    43:    Energy =   0.1545
Level     0,  Iter    44:    Energy =   0.1543
Level     0,  Iter    45:    Energy =   0.1545
Level     0,  Iter    46:    Energy =   0.1543
Level     0,  Iter    47:    Energy =   0.1545
Level     0,  Iter    48:    Energy =   0.1542
Level     0,  Iter    49:    Energy =   0.1545
Level     0,  Iter    50:    Energy =   0.1542
Level     0,  Iter    51:    Energy =   0.1544
Level     0,  Iter    52:    Energy =   0.1542
Level     0,  Iter    53:    Energy =   0.1544
Level     0,  Iter    54:    Energy =   0.1542
Level     0,  Iter    55:    Energy =   0.1544
Level     0,  Iter    56:    Energy =   0.1542
Level     0,  Iter    57:    Energy =   0.1543
Level     0,  Iter    58:    Energy =   0.1542
Level     0,  Iter    59:    Energy =   0.1543
END OF LEVEL     0    DetJac Range:   0.3752  to   1.8885 
  Avg. Gradient Time  : 0.0073s  34.71% 
  Avg. Gaussian Time  : 0.0104s  49.68% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1057
Level     1,  Iter     1:    Energy =   0.1111
Level     1,  Iter     2:    Energy =   0.1154
Level     1,  Iter     3:    Energy =   0.1194
Level     1,  Iter     4:    Energy =   0.1228
Level     1,  Iter     5:    Energy =   0.1256
Level     1,  Iter     6:    Energy =   0.1278
Level     1,  Iter     7:    Energy =   0.1291
Level     1,  Iter     8:    Energy =   0.1294
Level     1,  Iter     9:    Energy =   0.1310
Level     1,  Iter    10:    Energy =   0.1310
Level     1,  Iter    11:    Energy =   0.1326
Level     1,  Iter    12:    Energy =   0.1324
Level     1,  Iter    13:    Energy =   0.1338
Level     1,  Iter    14:    Energy =   0.1335
Level     1,  Iter    15:    Energy =   0.1345
Level     1,  Iter    16:    Energy =   0.1342
Level     1,  Iter    17:    Energy =   0.1352
Level     1,  Iter    18:    Energy =   0.1348
Level     1,  Iter    19:    Energy =   0.1355
Level     1,  Iter    20:    Energy =   0.1352
Level     1,  Iter    21:    Energy =   0.1359
Level     1,  Iter    22:    Energy =   0.1355
Level     1,  Iter    23:    Energy =   0.1360
Level     1,  Iter    24:    Energy =   0.1357
Level     1,  Iter    25:    Energy =   0.1362
Level     1,  Iter    26:    Energy =   0.1359
Level     1,  Iter    27:    Energy =   0.1362
Level     1,  Iter    28:    Energy =   0.1360
Level     1,  Iter    29:    Energy =   0.1362
Level     1,  Iter    30:    Energy =   0.1361
Level     1,  Iter    31:    Energy =   0.1362
Level     1,  Iter    32:    Energy =   0.1361
Level     1,  Iter    33:    Energy =   0.1363
Level     1,  Iter    34:    Energy =   0.1361
Level     1,  Iter    35:    Energy =   0.1365
Level     1,  Iter    36:    Energy =   0.1363
Level     1,  Iter    37:    Energy =   0.1366
Level     1,  Iter    38:    Energy =   0.1365
Level     1,  Iter    39:    Energy =   0.1366
Level     1,  Iter    40:    Energy =   0.1365
Level     1,  Iter    41:    Energy =   0.1367
Level     1,  Iter    42:    Energy =   0.1366
Level     1,  Iter    43:    Energy =   0.1369
Level     1,  Iter    44:    Energy =   0.1367
Level     1,  Iter    45:    Energy =   0.1370
Level     1,  Iter    46:    Energy =   0.1367
Level     1,  Iter    47:    Energy =   0.1373
Level     1,  Iter    48:    Energy =   0.1371
Level     1,  Iter    49:    Energy =   0.1373
Level     1,  Iter    50:    Energy =   0.1369
Level     1,  Iter    51:    Energy =   0.1376
Level     1,  Iter    52:    Energy =   0.1372
Level     1,  Iter    53:    Energy =   0.1377
Level     1,  Iter    54:    Energy =   0.1372
Level     1,  Iter    55:    Energy =   0.1379
Level     1,  Iter    56:    Energy =   0.1375
Level     1,  Iter    57:    Energy =   0.1378
Level     1,  Iter    58:    Energy =   0.1374
Level     1,  Iter    59:    Energy =   0.1381
END OF LEVEL     1    DetJac Range:   0.1711  to   3.1981 
  Avg. Gradient Time  : 0.0414s  32.69% 
  Avg. Gaussian Time  : 0.0690s  54.50% 
  Avg. Iteration Time : 0.1266s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0677
Level     2,  Iter     1:    Energy =   0.0706
Level     2,  Iter     2:    Energy =   0.0730
Level     2,  Iter     3:    Energy =   0.0749
Level     2,  Iter     4:    Energy =   0.0772
Level     2,  Iter     5:    Energy =   0.0791
Level     2,  Iter     6:    Energy =   0.0807
Level     2,  Iter     7:    Energy =   0.0820
Level     2,  Iter     8:    Energy =   0.0830
Level     2,  Iter     9:    Energy =   0.0838
Level     2,  Iter    10:    Energy =   0.0846
Level     2,  Iter    11:    Energy =   0.0855
Level     2,  Iter    12:    Energy =   0.0865
Level     2,  Iter    13:    Energy =   0.0875
Level     2,  Iter    14:    Energy =   0.0885
Level     2,  Iter    15:    Energy =   0.0893
Level     2,  Iter    16:    Energy =   0.0898
Level     2,  Iter    17:    Energy =   0.0904
Level     2,  Iter    18:    Energy =   0.0903
Level     2,  Iter    19:    Energy =   0.0909
END OF LEVEL     2    DetJac Range:   0.0946  to   4.6366 
  Avg. Gradient Time  : 0.2897s  30.66% 
  Avg. Gaussian Time  : 0.5263s  55.71% 
  Avg. Iteration Time : 0.9447s 

real	0m32.398s
user	0m58.964s
sys	0m1.420s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.251923 0.257692
+ echo 'CHUNK 0.251923 0.257692 1'
CHUNK 0.251923 0.257692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.251923 0.257692 1
====================================
         PROGRESS: 0.251923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 010 left 0
+ local tid=010
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.461945
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3589.45   GNORM= 553.877
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3660.523     318.381       0.000
   2    4     -3698.834     265.800       1.000
   3    5     -3737.913      95.199       1.000
   4    6     -3744.693      82.174       1.000
   5    7     -3760.839     128.729       1.000
   6    8     -3769.386      63.087       1.000
   7    9     -3774.633      54.979       1.000
   8   10     -3780.078      96.541       1.000
   9   11     -3782.663     113.127       1.000
  10   12     -3787.513      46.059       1.000
  11   13     -3789.801      44.779       1.000
  12   14     -3792.366      43.605       1.000
  13   15     -3801.125      77.108       1.000
  14   17     -3803.367      96.621       0.395
  15   18     -3808.682      67.054       1.000
  16   19     -3811.419      31.282       1.000
  17   20     -3811.884      21.014       1.000
  18   21     -3812.167      25.084       1.000
  19   22     -3812.750      20.264       1.000
  20   23     -3813.445      17.686       1.000
  21   24     -3814.547      35.982       1.000
  22   26     -3814.835      40.833       0.414
  23   27     -3815.300      29.375       1.000
  24   28     -3816.489      34.571       1.000
  25   29     -3817.111      31.043       1.000
  26   30     -3819.312      28.134       1.000
  27   31     -3820.395      45.435       1.000
  28   32     -3821.512      33.429       1.000
  29   33     -3822.436      35.070       1.000
  30   34     -3823.076      18.500       1.000
  31   35     -3823.536      13.532       1.000
  32   37     -3823.828      42.284       0.337
  33   38     -3824.113      25.851       1.000
  34   39     -3824.380      15.667       1.000
  35   40     -3824.732      17.061       1.000
  36   42     -3824.781      13.325       0.197
  37   43     -3824.861       8.353       1.000
  38   44     -3824.885       7.679       1.000
  39   45     -3824.906       7.595       1.000
  40   47     -3824.921       6.714       0.418
  41   49     -3824.986       8.244       5.000
  42   50     -3825.020       7.194       1.000
  43   51     -3825.049       5.711       1.000
  44   53     -3825.058       3.135       0.325
  45   54     -3825.061       5.233       1.000
  46   55     -3825.063       1.727       1.000
  47   56     -3825.068       2.591       1.000
  48   57     -3825.077       3.144       1.000
  49   59     -3825.124      11.543       5.000
  50   61     -3825.136      13.038       0.353
Final RAS Transform: 
0.957833 0.00573825 0.0175289 -0.65796 
0.0653935 1.04076 0.0120664 2.40817 
-0.0326841 -0.0130118 1.02917 -0.611635 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2597.02   GNORM= 184.825
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2605.809      72.329       0.000
   2    4     -2608.466      61.976       1.000
   3    5     -2612.450      51.351       1.000
   4    6     -2616.597      77.770       1.000
   5    7     -2621.307      61.014       1.000
   6    8     -2630.647      42.351       1.000
   7   10     -2631.437      40.817       0.326
   8   12     -2633.935      27.565       5.000
   9   13     -2637.437      24.372       1.000
  10   14     -2638.333      40.586       1.000
  11   15     -2639.546      22.055       1.000
  12   16     -2639.901      13.188       1.000
  13   17     -2640.386      12.665       1.000
  14   18     -2641.015      59.622       1.000
  15   19     -2642.140      30.304       1.000
  16   20     -2642.545      16.708       1.000
  17   21     -2642.836      13.019       1.000
  18   22     -2643.472      20.080       1.000
  19   23     -2644.073      40.598       1.000
  20   24     -2644.544      20.070       1.000
  21   25     -2644.829      11.656       1.000
  22   26     -2644.999       8.860       1.000
  23   27     -2645.181      12.390       1.000
  24   28     -2645.373      11.798       1.000
  25   29     -2645.882      11.323       1.000
  26   30     -2646.058      12.019       1.000
  27   32     -2646.065       4.941       0.094
  28   33     -2646.093       4.050       1.000
  29   34     -2646.116       2.018       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.972524 0.0211059 0.0399671 0.141473 
0.0655583 1.0264 0.0226682 2.19959 
-0.035722 -0.00444682 1.04827 -0.479822 
0 0 0 1 

Final RAS Transform: 
0.972524 0.0211059 0.0399671 0.141473 
0.0655583 1.0264 0.0226682 2.19959 
-0.035722 -0.00444682 1.04827 -0.479822 
0 0 0 1 


real	0m9.577s
user	0m16.576s
sys	0m0.420s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.464008
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1088
Level     0,  Iter     1:    Energy =   0.1175
Level     0,  Iter     2:    Energy =   0.1243
Level     0,  Iter     3:    Energy =   0.1304
Level     0,  Iter     4:    Energy =   0.1339
Level     0,  Iter     5:    Energy =   0.1370
Level     0,  Iter     6:    Energy =   0.1396
Level     0,  Iter     7:    Energy =   0.1411
Level     0,  Iter     8:    Energy =   0.1419
Level     0,  Iter     9:    Energy =   0.1422
Level     0,  Iter    10:    Energy =   0.1429
Level     0,  Iter    11:    Energy =   0.1436
Level     0,  Iter    12:    Energy =   0.1439
Level     0,  Iter    13:    Energy =   0.1447
Level     0,  Iter    14:    Energy =   0.1449
Level     0,  Iter    15:    Energy =   0.1454
Level     0,  Iter    16:    Energy =   0.1456
Level     0,  Iter    17:    Energy =   0.1462
Level     0,  Iter    18:    Energy =   0.1462
Level     0,  Iter    19:    Energy =   0.1465
Level     0,  Iter    20:    Energy =   0.1466
Level     0,  Iter    21:    Energy =   0.1469
Level     0,  Iter    22:    Energy =   0.1470
Level     0,  Iter    23:    Energy =   0.1470
Level     0,  Iter    24:    Energy =   0.1472
Level     0,  Iter    25:    Energy =   0.1474
Level     0,  Iter    26:    Energy =   0.1474
Level     0,  Iter    27:    Energy =   0.1472
Level     0,  Iter    28:    Energy =   0.1472
Level     0,  Iter    29:    Energy =   0.1473
Level     0,  Iter    30:    Energy =   0.1474
Level     0,  Iter    31:    Energy =   0.1476
Level     0,  Iter    32:    Energy =   0.1477
Level     0,  Iter    33:    Energy =   0.1479
Level     0,  Iter    34:    Energy =   0.1480
Level     0,  Iter    35:    Energy =   0.1481
Level     0,  Iter    36:    Energy =   0.1482
Level     0,  Iter    37:    Energy =   0.1482
Level     0,  Iter    38:    Energy =   0.1483
Level     0,  Iter    39:    Energy =   0.1484
Level     0,  Iter    40:    Energy =   0.1485
Level     0,  Iter    41:    Energy =   0.1484
Level     0,  Iter    42:    Energy =   0.1486
Level     0,  Iter    43:    Energy =   0.1487
Level     0,  Iter    44:    Energy =   0.1487
Level     0,  Iter    45:    Energy =   0.1486
Level     0,  Iter    46:    Energy =   0.1488
Level     0,  Iter    47:    Energy =   0.1488
Level     0,  Iter    48:    Energy =   0.1489
Level     0,  Iter    49:    Energy =   0.1488
Level     0,  Iter    50:    Energy =   0.1489
Level     0,  Iter    51:    Energy =   0.1489
Level     0,  Iter    52:    Energy =   0.1490
Level     0,  Iter    53:    Energy =   0.1489
Level     0,  Iter    54:    Energy =   0.1490
Level     0,  Iter    55:    Energy =   0.1491
Level     0,  Iter    56:    Energy =   0.1491
Level     0,  Iter    57:    Energy =   0.1490
Level     0,  Iter    58:    Energy =   0.1492
Level     0,  Iter    59:    Energy =   0.1493
END OF LEVEL     0    DetJac Range:   0.3989  to   1.9634 
  Avg. Gradient Time  : 0.0084s  34.36% 
  Avg. Gaussian Time  : 0.0123s  50.30% 
  Avg. Iteration Time : 0.0244s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1004
Level     1,  Iter     1:    Energy =   0.1051
Level     1,  Iter     2:    Energy =   0.1104
Level     1,  Iter     3:    Energy =   0.1147
Level     1,  Iter     4:    Energy =   0.1178
Level     1,  Iter     5:    Energy =   0.1205
Level     1,  Iter     6:    Energy =   0.1225
Level     1,  Iter     7:    Energy =   0.1232
Level     1,  Iter     8:    Energy =   0.1241
Level     1,  Iter     9:    Energy =   0.1248
Level     1,  Iter    10:    Energy =   0.1251
Level     1,  Iter    11:    Energy =   0.1261
Level     1,  Iter    12:    Energy =   0.1262
Level     1,  Iter    13:    Energy =   0.1272
Level     1,  Iter    14:    Energy =   0.1271
Level     1,  Iter    15:    Energy =   0.1284
Level     1,  Iter    16:    Energy =   0.1281
Level     1,  Iter    17:    Energy =   0.1295
Level     1,  Iter    18:    Energy =   0.1291
Level     1,  Iter    19:    Energy =   0.1304
Level     1,  Iter    20:    Energy =   0.1299
Level     1,  Iter    21:    Energy =   0.1312
Level     1,  Iter    22:    Energy =   0.1306
Level     1,  Iter    23:    Energy =   0.1318
Level     1,  Iter    24:    Energy =   0.1312
Level     1,  Iter    25:    Energy =   0.1323
Level     1,  Iter    26:    Energy =   0.1316
Level     1,  Iter    27:    Energy =   0.1326
Level     1,  Iter    28:    Energy =   0.1320
Level     1,  Iter    29:    Energy =   0.1328
Level     1,  Iter    30:    Energy =   0.1321
Level     1,  Iter    31:    Energy =   0.1330
Level     1,  Iter    32:    Energy =   0.1324
Level     1,  Iter    33:    Energy =   0.1330
Level     1,  Iter    34:    Energy =   0.1324
Level     1,  Iter    35:    Energy =   0.1331
Level     1,  Iter    36:    Energy =   0.1325
Level     1,  Iter    37:    Energy =   0.1332
Level     1,  Iter    38:    Energy =   0.1327
Level     1,  Iter    39:    Energy =   0.1334
Level     1,  Iter    40:    Energy =   0.1328
Level     1,  Iter    41:    Energy =   0.1337
Level     1,  Iter    42:    Energy =   0.1330
Level     1,  Iter    43:    Energy =   0.1338
Level     1,  Iter    44:    Energy =   0.1332
Level     1,  Iter    45:    Energy =   0.1340
Level     1,  Iter    46:    Energy =   0.1334
Level     1,  Iter    47:    Energy =   0.1341
Level     1,  Iter    48:    Energy =   0.1335
Level     1,  Iter    49:    Energy =   0.1343
Level     1,  Iter    50:    Energy =   0.1336
Level     1,  Iter    51:    Energy =   0.1344
Level     1,  Iter    52:    Energy =   0.1338
Level     1,  Iter    53:    Energy =   0.1346
Level     1,  Iter    54:    Energy =   0.1339
Level     1,  Iter    55:    Energy =   0.1347
Level     1,  Iter    56:    Energy =   0.1340
Level     1,  Iter    57:    Energy =   0.1348
Level     1,  Iter    58:    Energy =   0.1341
Level     1,  Iter    59:    Energy =   0.1347
END OF LEVEL     1    DetJac Range:   0.1800  to   3.1339 
  Avg. Gradient Time  : 0.0473s  32.80% 
  Avg. Gaussian Time  : 0.0783s  54.28% 
  Avg. Iteration Time : 0.1443s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0694
Level     2,  Iter     1:    Energy =   0.0726
Level     2,  Iter     2:    Energy =   0.0752
Level     2,  Iter     3:    Energy =   0.0774
Level     2,  Iter     4:    Energy =   0.0785
Level     2,  Iter     5:    Energy =   0.0797
Level     2,  Iter     6:    Energy =   0.0811
Level     2,  Iter     7:    Energy =   0.0826
Level     2,  Iter     8:    Energy =   0.0838
Level     2,  Iter     9:    Energy =   0.0846
Level     2,  Iter    10:    Energy =   0.0854
Level     2,  Iter    11:    Energy =   0.0861
Level     2,  Iter    12:    Energy =   0.0868
Level     2,  Iter    13:    Energy =   0.0878
Level     2,  Iter    14:    Energy =   0.0887
Level     2,  Iter    15:    Energy =   0.0892
Level     2,  Iter    16:    Energy =   0.0898
Level     2,  Iter    17:    Energy =   0.0904
Level     2,  Iter    18:    Energy =   0.0910
Level     2,  Iter    19:    Energy =   0.0915
END OF LEVEL     2    DetJac Range:   0.0470  to   4.2755 
  Avg. Gradient Time  : 0.3290s  30.47% 
  Avg. Gaussian Time  : 0.6016s  55.72% 
  Avg. Iteration Time : 1.0797s 

real	0m36.904s
user	1m7.464s
sys	0m1.604s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.257692 0.263462
+ echo 'CHUNK 0.257692 0.263462 1'
CHUNK 0.257692 0.263462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.257692 0.263462 1
====================================
         PROGRESS: 0.257692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 011 left 0
+ local tid=011
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.452227
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3356.87   GNORM= 444.132
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3398.956     571.955       0.002
   2    3     -3489.613     307.057       1.000
   3    4     -3508.320      70.979       1.000
   4    5     -3511.030      66.447       1.000
   5    6     -3516.584      67.901       1.000
   6    7     -3528.098      65.995       1.000
   7    8     -3542.359      56.690       1.000
   8    9     -3546.747      60.836       1.000
   9   10     -3548.630      67.630       1.000
  10   11     -3550.118      28.436       1.000
  11   12     -3550.548      26.378       1.000
  12   13     -3551.070      32.317       1.000
  13   14     -3551.885      17.943       1.000
  14   15     -3552.542      21.444       1.000
  15   16     -3553.104      19.462       1.000
  16   17     -3553.643      28.144       1.000
  17   18     -3553.810      18.646       1.000
  18   19     -3553.912      12.597       1.000
  19   20     -3553.945      18.426       1.000
  20   21     -3554.039      10.124       1.000
  21   22     -3554.110       4.780       1.000
  22   23     -3554.169       4.521       1.000
  23   25     -3554.199       5.550       0.157
  24   26     -3554.351      12.202       1.000
  25   27     -3554.523      12.676       1.000
  26   29     -3554.624       7.772       0.505
  27   31     -3554.774       5.774       5.000
  28   32     -3554.837      11.857       1.000
  29   33     -3554.909       6.903       1.000
  30   34     -3554.915      13.178       1.000
  31   35     -3554.948       3.366       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.996071 0.00107932 0.0353445 0.540959 
0.0290253 1.00787 0.0314485 0.481534 
-0.00705844 -0.00397504 1.01638 0.277611 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2598.37   GNORM= 104.457
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2602.875      95.808       0.001
   2    4     -2606.571      69.506       1.000
   3    5     -2612.450      43.452       1.000
   4    6     -2615.936      53.457       1.000
   5    7     -2626.727      96.718       1.000
   6    8     -2630.979      85.111       1.000
   7    9     -2635.135      39.317       1.000
   8   10     -2636.657      22.265       1.000
   9   11     -2637.224      20.780       1.000
  10   13     -2638.237      37.928       0.505
  11   14     -2638.606      17.385       1.000
  12   15     -2638.697       9.731       1.000
  13   16     -2638.774       9.113       1.000
  14   17     -2638.898       8.421       1.000
  15   18     -2639.223      43.398       1.000
  16   19     -2639.805      10.646       1.000
  17   20     -2639.942       6.887       1.000
  18   22     -2639.965       6.342       0.317
  19   23     -2639.997       5.550       1.000
  20   24     -2640.042       4.726       1.000
  21   25     -2640.080       3.325       1.000
  22   26     -2640.108       6.095       1.000
  23   27     -2640.129       9.200       1.000
  24   28     -2640.147       3.013       1.000
  25   29     -2640.149       2.966       1.000
  26   30     -2640.156       4.711       1.000
  27   31     -2640.178       2.595       1.000
  28   32     -2640.187       5.365       1.000
  29   33     -2640.206       9.082       1.000
  30   34     -2640.234       5.703       1.000
  31   35     -2640.236       3.956       1.000
  32   36     -2640.256       1.896       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00491 0.00207968 0.0244604 0.760265 
0.0280498 1.01301 0.0359385 0.760703 
-0.0172097 0.00288841 1.03443 0.189695 
0 0 0 1 

Final RAS Transform: 
1.00491 0.00207968 0.0244604 0.760265 
0.0280498 1.01301 0.0359385 0.760703 
-0.0172097 0.00288841 1.03443 0.189695 
0 0 0 1 


real	0m8.851s
user	0m15.448s
sys	0m0.368s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.46079
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1047
Level     0,  Iter     1:    Energy =   0.1115
Level     0,  Iter     2:    Energy =   0.1181
Level     0,  Iter     3:    Energy =   0.1228
Level     0,  Iter     4:    Energy =   0.1259
Level     0,  Iter     5:    Energy =   0.1275
Level     0,  Iter     6:    Energy =   0.1281
Level     0,  Iter     7:    Energy =   0.1298
Level     0,  Iter     8:    Energy =   0.1299
Level     0,  Iter     9:    Energy =   0.1309
Level     0,  Iter    10:    Energy =   0.1309
Level     0,  Iter    11:    Energy =   0.1317
Level     0,  Iter    12:    Energy =   0.1316
Level     0,  Iter    13:    Energy =   0.1324
Level     0,  Iter    14:    Energy =   0.1324
Level     0,  Iter    15:    Energy =   0.1331
Level     0,  Iter    16:    Energy =   0.1330
Level     0,  Iter    17:    Energy =   0.1337
Level     0,  Iter    18:    Energy =   0.1336
Level     0,  Iter    19:    Energy =   0.1338
Level     0,  Iter    20:    Energy =   0.1337
Level     0,  Iter    21:    Energy =   0.1341
Level     0,  Iter    22:    Energy =   0.1341
Level     0,  Iter    23:    Energy =   0.1342
Level     0,  Iter    24:    Energy =   0.1342
Level     0,  Iter    25:    Energy =   0.1348
Level     0,  Iter    26:    Energy =   0.1348
Level     0,  Iter    27:    Energy =   0.1347
Level     0,  Iter    28:    Energy =   0.1346
Level     0,  Iter    29:    Energy =   0.1354
Level     0,  Iter    30:    Energy =   0.1353
Level     0,  Iter    31:    Energy =   0.1349
Level     0,  Iter    32:    Energy =   0.1348
Level     0,  Iter    33:    Energy =   0.1352
Level     0,  Iter    34:    Energy =   0.1352
Level     0,  Iter    35:    Energy =   0.1351
Level     0,  Iter    36:    Energy =   0.1351
Level     0,  Iter    37:    Energy =   0.1359
Level     0,  Iter    38:    Energy =   0.1358
Level     0,  Iter    39:    Energy =   0.1353
Level     0,  Iter    40:    Energy =   0.1351
Level     0,  Iter    41:    Energy =   0.1352
Level     0,  Iter    42:    Energy =   0.1351
Level     0,  Iter    43:    Energy =   0.1354
Level     0,  Iter    44:    Energy =   0.1354
Level     0,  Iter    45:    Energy =   0.1362
Level     0,  Iter    46:    Energy =   0.1361
Level     0,  Iter    47:    Energy =   0.1356
Level     0,  Iter    48:    Energy =   0.1353
Level     0,  Iter    49:    Energy =   0.1353
Level     0,  Iter    50:    Energy =   0.1352
Level     0,  Iter    51:    Energy =   0.1356
Level     0,  Iter    52:    Energy =   0.1355
Level     0,  Iter    53:    Energy =   0.1361
Level     0,  Iter    54:    Energy =   0.1360
Level     0,  Iter    55:    Energy =   0.1361
Level     0,  Iter    56:    Energy =   0.1361
Level     0,  Iter    57:    Energy =   0.1367
Level     0,  Iter    58:    Energy =   0.1365
Level     0,  Iter    59:    Energy =   0.1361
END OF LEVEL     0    DetJac Range:   0.2289  to   2.0841 
  Avg. Gradient Time  : 0.0083s  34.67% 
  Avg. Gaussian Time  : 0.0119s  49.76% 
  Avg. Iteration Time : 0.0239s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0935
Level     1,  Iter     1:    Energy =   0.0984
Level     1,  Iter     2:    Energy =   0.1019
Level     1,  Iter     3:    Energy =   0.1052
Level     1,  Iter     4:    Energy =   0.1074
Level     1,  Iter     5:    Energy =   0.1096
Level     1,  Iter     6:    Energy =   0.1115
Level     1,  Iter     7:    Energy =   0.1139
Level     1,  Iter     8:    Energy =   0.1158
Level     1,  Iter     9:    Energy =   0.1176
Level     1,  Iter    10:    Energy =   0.1182
Level     1,  Iter    11:    Energy =   0.1185
Level     1,  Iter    12:    Energy =   0.1189
Level     1,  Iter    13:    Energy =   0.1192
Level     1,  Iter    14:    Energy =   0.1196
Level     1,  Iter    15:    Energy =   0.1198
Level     1,  Iter    16:    Energy =   0.1202
Level     1,  Iter    17:    Energy =   0.1203
Level     1,  Iter    18:    Energy =   0.1207
Level     1,  Iter    19:    Energy =   0.1208
Level     1,  Iter    20:    Energy =   0.1211
Level     1,  Iter    21:    Energy =   0.1212
Level     1,  Iter    22:    Energy =   0.1214
Level     1,  Iter    23:    Energy =   0.1215
Level     1,  Iter    24:    Energy =   0.1217
Level     1,  Iter    25:    Energy =   0.1218
Level     1,  Iter    26:    Energy =   0.1220
Level     1,  Iter    27:    Energy =   0.1221
Level     1,  Iter    28:    Energy =   0.1222
Level     1,  Iter    29:    Energy =   0.1223
Level     1,  Iter    30:    Energy =   0.1225
Level     1,  Iter    31:    Energy =   0.1225
Level     1,  Iter    32:    Energy =   0.1227
Level     1,  Iter    33:    Energy =   0.1227
Level     1,  Iter    34:    Energy =   0.1228
Level     1,  Iter    35:    Energy =   0.1228
Level     1,  Iter    36:    Energy =   0.1230
Level     1,  Iter    37:    Energy =   0.1230
Level     1,  Iter    38:    Energy =   0.1231
Level     1,  Iter    39:    Energy =   0.1231
Level     1,  Iter    40:    Energy =   0.1232
Level     1,  Iter    41:    Energy =   0.1233
Level     1,  Iter    42:    Energy =   0.1233
Level     1,  Iter    43:    Energy =   0.1233
Level     1,  Iter    44:    Energy =   0.1234
Level     1,  Iter    45:    Energy =   0.1235
Level     1,  Iter    46:    Energy =   0.1235
Level     1,  Iter    47:    Energy =   0.1236
Level     1,  Iter    48:    Energy =   0.1236
Level     1,  Iter    49:    Energy =   0.1236
Level     1,  Iter    50:    Energy =   0.1237
Level     1,  Iter    51:    Energy =   0.1237
Level     1,  Iter    52:    Energy =   0.1238
Level     1,  Iter    53:    Energy =   0.1238
Level     1,  Iter    54:    Energy =   0.1238
Level     1,  Iter    55:    Energy =   0.1239
Level     1,  Iter    56:    Energy =   0.1239
Level     1,  Iter    57:    Energy =   0.1239
Level     1,  Iter    58:    Energy =   0.1239
Level     1,  Iter    59:    Energy =   0.1240
END OF LEVEL     1    DetJac Range:   0.1921  to   3.4049 
  Avg. Gradient Time  : 0.0473s  32.81% 
  Avg. Gaussian Time  : 0.0782s  54.24% 
  Avg. Iteration Time : 0.1441s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0646
Level     2,  Iter     1:    Energy =   0.0676
Level     2,  Iter     2:    Energy =   0.0700
Level     2,  Iter     3:    Energy =   0.0720
Level     2,  Iter     4:    Energy =   0.0739
Level     2,  Iter     5:    Energy =   0.0758
Level     2,  Iter     6:    Energy =   0.0776
Level     2,  Iter     7:    Energy =   0.0789
Level     2,  Iter     8:    Energy =   0.0799
Level     2,  Iter     9:    Energy =   0.0808
Level     2,  Iter    10:    Energy =   0.0816
Level     2,  Iter    11:    Energy =   0.0821
Level     2,  Iter    12:    Energy =   0.0828
Level     2,  Iter    13:    Energy =   0.0835
Level     2,  Iter    14:    Energy =   0.0843
Level     2,  Iter    15:    Energy =   0.0850
Level     2,  Iter    16:    Energy =   0.0857
Level     2,  Iter    17:    Energy =   0.0864
Level     2,  Iter    18:    Energy =   0.0872
Level     2,  Iter    19:    Energy =   0.0872
END OF LEVEL     2    DetJac Range:   0.0616  to   4.3566 
  Avg. Gradient Time  : 0.3281s  30.50% 
  Avg. Gaussian Time  : 0.5991s  55.69% 
  Avg. Iteration Time : 1.0759s 

real	0m36.850s
user	1m7.336s
sys	0m1.552s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.263462 0.269231
+ echo 'CHUNK 0.263462 0.269231 1'
CHUNK 0.263462 0.269231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.263462 0.269231 1
====================================
         PROGRESS: 0.263462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 012 left 0
+ local tid=012
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.815522
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3589.86   GNORM= 398.022
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3665.295     453.273       0.001
   2    4     -3728.195     193.124       1.000
   3    5     -3744.467      96.661       1.000
   4    6     -3750.805      99.724       1.000
   5    7     -3779.108     137.719       1.000
   6    8     -3797.805      91.639       1.000
   7   10     -3802.377      76.384       0.326
   8   11     -3808.051      40.114       1.000
   9   12     -3809.240      46.717       1.000
  10   13     -3810.853      38.107       1.000
  11   14     -3813.039     128.248       1.000
  12   15     -3818.202      53.571       1.000
  13   16     -3820.756      49.310       1.000
  14   17     -3822.910      46.947       1.000
  15   19     -3824.332      71.582       0.257
  16   20     -3828.022      48.698       1.000
  17   21     -3830.554      24.659       1.000
  18   22     -3831.164      37.403       1.000
  19   23     -3833.263      33.180       1.000
  20   24     -3839.444      60.718       1.000
  21   26     -3840.181      72.159       0.116
  22   27     -3842.809      33.327       1.000
  23   28     -3843.602      14.526       1.000
  24   29     -3844.036      17.573       1.000
  25   30     -3844.612      16.256       1.000
  26   31     -3845.332      17.900       1.000
  27   32     -3845.764      24.918       1.000
  28   33     -3845.965      29.474       1.000
  29   34     -3846.476      13.045       1.000
  30   35     -3846.581      21.861       1.000
  31   36     -3846.666      15.471       1.000
  32   37     -3846.752      10.211       1.000
  33   38     -3846.816       7.641       1.000
  34   39     -3846.921      11.320       1.000
  35   41     -3846.957      22.399       0.024
  36   42     -3847.097      17.359       1.000
  37   44     -3847.250      18.087       0.388
  38   45     -3847.409      16.294       1.000
  39   46     -3847.630      14.949       1.000
  40   47     -3847.993      26.099       1.000
  41   48     -3848.238      28.589       1.000
  42   49     -3848.409      12.364       1.000
  43   50     -3848.454       7.381       1.000
  44   51     -3848.487       7.505       1.000
  45   53     -3848.521       5.112       0.187
  46   54     -3848.545       5.555       1.000
  47   55     -3848.583       9.233       1.000
  48   57     -3848.607       8.741       0.364
  49   58     -3848.624       2.564       1.000
  50   59     -3848.631       3.708       1.000
  51   61     -3848.633       3.540       0.358
Final RAS Transform: 
1.0181 0.00490411 -0.0161697 0.900957 
-0.0467278 0.994751 0.0483768 -1.88379 
0.037176 0.00574973 0.993899 1.64024 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2713.99   GNORM= 430.455
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2745.416      81.632       0.000
   2    4     -2746.915      38.173       1.000
   3    5     -2747.578      42.985       1.000
   4    6     -2749.382      42.215       1.000
   5    7     -2751.167      52.498       1.000
   6    8     -2755.499      37.236       1.000
   7    9     -2757.180      36.904       1.000
   8   10     -2758.401      31.382       1.000
   9   11     -2760.015      36.441       1.000
  10   12     -2762.143      43.375       1.000
  11   13     -2763.891      14.119       1.000
  12   14     -2764.122      13.246       1.000
  13   15     -2764.311       9.323       1.000
  14   17     -2764.436      26.551       0.295
  15   18     -2764.820      17.605       1.000
  16   19     -2766.493      23.393       1.000
  17   20     -2768.118      22.314       1.000
  18   21     -2769.373      30.606       1.000
  19   23     -2769.842      25.272       0.427
  20   24     -2770.435      15.363       1.000
  21   25     -2770.945      28.776       1.000
  22   26     -2771.233      15.571       1.000
  23   27     -2771.422      10.792       1.000
  24   28     -2771.810       8.353       1.000
  25   29     -2771.897      46.597       1.000
  26   30     -2772.443      21.103       1.000
  27   31     -2772.614      12.061       1.000
  28   32     -2772.669       5.714       1.000
  29   33     -2772.701       5.085       1.000
  30   34     -2772.755       6.969       1.000
  31   35     -2772.794      20.556       1.000
  32   36     -2772.982       8.733       1.000
  33   37     -2773.133      15.930       1.000
  34   39     -2773.220       6.400       0.380
  35   40     -2773.264       5.869       1.000
  36   42     -2773.279       5.596       0.201
  37   43     -2773.297       4.137       1.000
  38   44     -2773.298       9.381       1.000
  39   45     -2773.330       6.864       1.000
  40   46     -2773.359       3.417       1.000
  41   47     -2773.403      17.430       1.000
  42   48     -2773.460       8.916       1.000
  43   49     -2773.500       3.392       1.000
  44   50     -2773.543      10.281       1.000
  45   51     -2773.595       7.979       1.000
  46   52     -2773.661      12.221       1.000
  47   53     -2773.705       6.512       1.000
  48   54     -2773.720       3.228       1.000
  49   55     -2773.728       2.643       1.000
  50   57     -2773.734       2.770       0.123
  51   58     -2773.736       3.781       1.000
  52   59     -2773.742       2.038       1.000
Final RAS Transform: 
1.04089 -0.00518166 -0.0239097 1.48037 
-0.0688091 0.995569 0.0470934 -2.6015 
0.0570904 -1.61052e-05 0.995038 2.03763 
0 0 0 1 

Final RAS Transform: 
1.04089 -0.00518166 -0.0239097 1.48037 
-0.0688091 0.995569 0.0470934 -2.6015 
0.0570904 -1.61052e-05 0.995038 2.03763 
0 0 0 1 


real	0m10.648s
user	0m18.640s
sys	0m0.480s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.819466
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1136
Level     0,  Iter     1:    Energy =   0.1210
Level     0,  Iter     2:    Energy =   0.1281
Level     0,  Iter     3:    Energy =   0.1331
Level     0,  Iter     4:    Energy =   0.1375
Level     0,  Iter     5:    Energy =   0.1397
Level     0,  Iter     6:    Energy =   0.1405
Level     0,  Iter     7:    Energy =   0.1412
Level     0,  Iter     8:    Energy =   0.1419
Level     0,  Iter     9:    Energy =   0.1424
Level     0,  Iter    10:    Energy =   0.1430
Level     0,  Iter    11:    Energy =   0.1434
Level     0,  Iter    12:    Energy =   0.1437
Level     0,  Iter    13:    Energy =   0.1441
Level     0,  Iter    14:    Energy =   0.1442
Level     0,  Iter    15:    Energy =   0.1446
Level     0,  Iter    16:    Energy =   0.1446
Level     0,  Iter    17:    Energy =   0.1450
Level     0,  Iter    18:    Energy =   0.1447
Level     0,  Iter    19:    Energy =   0.1453
Level     0,  Iter    20:    Energy =   0.1449
Level     0,  Iter    21:    Energy =   0.1454
Level     0,  Iter    22:    Energy =   0.1451
Level     0,  Iter    23:    Energy =   0.1456
Level     0,  Iter    24:    Energy =   0.1450
Level     0,  Iter    25:    Energy =   0.1456
Level     0,  Iter    26:    Energy =   0.1453
Level     0,  Iter    27:    Energy =   0.1457
Level     0,  Iter    28:    Energy =   0.1451
Level     0,  Iter    29:    Energy =   0.1456
Level     0,  Iter    30:    Energy =   0.1453
Level     0,  Iter    31:    Energy =   0.1458
Level     0,  Iter    32:    Energy =   0.1453
Level     0,  Iter    33:    Energy =   0.1458
Level     0,  Iter    34:    Energy =   0.1455
Level     0,  Iter    35:    Energy =   0.1460
Level     0,  Iter    36:    Energy =   0.1454
Level     0,  Iter    37:    Energy =   0.1460
Level     0,  Iter    38:    Energy =   0.1455
Level     0,  Iter    39:    Energy =   0.1460
Level     0,  Iter    40:    Energy =   0.1455
Level     0,  Iter    41:    Energy =   0.1460
Level     0,  Iter    42:    Energy =   0.1456
Level     0,  Iter    43:    Energy =   0.1460
Level     0,  Iter    44:    Energy =   0.1454
Level     0,  Iter    45:    Energy =   0.1459
Level     0,  Iter    46:    Energy =   0.1455
Level     0,  Iter    47:    Energy =   0.1459
Level     0,  Iter    48:    Energy =   0.1454
Level     0,  Iter    49:    Energy =   0.1458
Level     0,  Iter    50:    Energy =   0.1455
Level     0,  Iter    51:    Energy =   0.1459
Level     0,  Iter    52:    Energy =   0.1455
Level     0,  Iter    53:    Energy =   0.1459
Level     0,  Iter    54:    Energy =   0.1455
Level     0,  Iter    55:    Energy =   0.1458
Level     0,  Iter    56:    Energy =   0.1454
Level     0,  Iter    57:    Energy =   0.1458
Level     0,  Iter    58:    Energy =   0.1454
Level     0,  Iter    59:    Energy =   0.1458
END OF LEVEL     0    DetJac Range:   0.2978  to   1.9761 
  Avg. Gradient Time  : 0.0083s  34.62% 
  Avg. Gaussian Time  : 0.0119s  49.79% 
  Avg. Iteration Time : 0.0240s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0989
Level     1,  Iter     1:    Energy =   0.1047
Level     1,  Iter     2:    Energy =   0.1093
Level     1,  Iter     3:    Energy =   0.1132
Level     1,  Iter     4:    Energy =   0.1158
Level     1,  Iter     5:    Energy =   0.1187
Level     1,  Iter     6:    Energy =   0.1213
Level     1,  Iter     7:    Energy =   0.1225
Level     1,  Iter     8:    Energy =   0.1231
Level     1,  Iter     9:    Energy =   0.1236
Level     1,  Iter    10:    Energy =   0.1240
Level     1,  Iter    11:    Energy =   0.1247
Level     1,  Iter    12:    Energy =   0.1254
Level     1,  Iter    13:    Energy =   0.1263
Level     1,  Iter    14:    Energy =   0.1273
Level     1,  Iter    15:    Energy =   0.1270
Level     1,  Iter    16:    Energy =   0.1282
Level     1,  Iter    17:    Energy =   0.1284
Level     1,  Iter    18:    Energy =   0.1286
Level     1,  Iter    19:    Energy =   0.1285
Level     1,  Iter    20:    Energy =   0.1293
Level     1,  Iter    21:    Energy =   0.1290
Level     1,  Iter    22:    Energy =   0.1299
Level     1,  Iter    23:    Energy =   0.1297
Level     1,  Iter    24:    Energy =   0.1300
Level     1,  Iter    25:    Energy =   0.1297
Level     1,  Iter    26:    Energy =   0.1305
Level     1,  Iter    27:    Energy =   0.1302
Level     1,  Iter    28:    Energy =   0.1307
Level     1,  Iter    29:    Energy =   0.1303
Level     1,  Iter    30:    Energy =   0.1309
Level     1,  Iter    31:    Energy =   0.1305
Level     1,  Iter    32:    Energy =   0.1314
Level     1,  Iter    33:    Energy =   0.1310
Level     1,  Iter    34:    Energy =   0.1314
Level     1,  Iter    35:    Energy =   0.1311
Level     1,  Iter    36:    Energy =   0.1316
Level     1,  Iter    37:    Energy =   0.1312
Level     1,  Iter    38:    Energy =   0.1317
Level     1,  Iter    39:    Energy =   0.1312
Level     1,  Iter    40:    Energy =   0.1319
Level     1,  Iter    41:    Energy =   0.1314
Level     1,  Iter    42:    Energy =   0.1323
Level     1,  Iter    43:    Energy =   0.1318
Level     1,  Iter    44:    Energy =   0.1324
Level     1,  Iter    45:    Energy =   0.1318
Level     1,  Iter    46:    Energy =   0.1326
Level     1,  Iter    47:    Energy =   0.1320
Level     1,  Iter    48:    Energy =   0.1328
Level     1,  Iter    49:    Energy =   0.1323
Level     1,  Iter    50:    Energy =   0.1331
Level     1,  Iter    51:    Energy =   0.1325
Level     1,  Iter    52:    Energy =   0.1331
Level     1,  Iter    53:    Energy =   0.1326
Level     1,  Iter    54:    Energy =   0.1329
Level     1,  Iter    55:    Energy =   0.1324
Level     1,  Iter    56:    Energy =   0.1332
Level     1,  Iter    57:    Energy =   0.1326
Level     1,  Iter    58:    Energy =   0.1334
Level     1,  Iter    59:    Energy =   0.1329
END OF LEVEL     1    DetJac Range:   0.0729  to   3.3575 
  Avg. Gradient Time  : 0.0473s  32.86% 
  Avg. Gaussian Time  : 0.0780s  54.17% 
  Avg. Iteration Time : 0.1440s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0700
Level     2,  Iter     1:    Energy =   0.0724
Level     2,  Iter     2:    Energy =   0.0747
Level     2,  Iter     3:    Energy =   0.0766
Level     2,  Iter     4:    Energy =   0.0785
Level     2,  Iter     5:    Energy =   0.0802
Level     2,  Iter     6:    Energy =   0.0820
Level     2,  Iter     7:    Energy =   0.0837
Level     2,  Iter     8:    Energy =   0.0852
Level     2,  Iter     9:    Energy =   0.0863
Level     2,  Iter    10:    Energy =   0.0872
Level     2,  Iter    11:    Energy =   0.0880
Level     2,  Iter    12:    Energy =   0.0886
Level     2,  Iter    13:    Energy =   0.0892
Level     2,  Iter    14:    Energy =   0.0901
Level     2,  Iter    15:    Energy =   0.0908
Level     2,  Iter    16:    Energy =   0.0915
Level     2,  Iter    17:    Energy =   0.0921
Level     2,  Iter    18:    Energy =   0.0926
Level     2,  Iter    19:    Energy =   0.0925
END OF LEVEL     2    DetJac Range:   0.0294  to   5.1217 
  Avg. Gradient Time  : 0.3284s  30.53% 
  Avg. Gaussian Time  : 0.5986s  55.66% 
  Avg. Iteration Time : 1.0756s 

real	0m36.962s
user	1m7.548s
sys	0m1.504s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.269231 0.275
+ echo 'CHUNK 0.269231 0.275 1'
CHUNK 0.269231 0.275 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.269231 0.275 1
====================================
         PROGRESS: 0.269231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 013 left 0
+ local tid=013
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.701244
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3143.04   GNORM= 266.716
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3164.169     171.458       0.001
   2    4     -3175.814     134.476       1.000
   3    5     -3199.399      81.106       1.000
   4    6     -3211.647      80.565       1.000
   5    7     -3241.845      84.770       1.000
   6    8     -3277.173     176.765       1.000
   7   10     -3287.294     101.620       0.344
   8   11     -3302.500      65.481       1.000
   9   12     -3315.651      89.717       1.000
  10   13     -3322.053     145.862       1.000
  11   14     -3330.392      76.422       1.000
  12   15     -3337.544      72.017       1.000
  13   16     -3342.654      76.566       1.000
  14   17     -3344.066     128.335       1.000
  15   18     -3352.502     101.043       1.000
  16   20     -3354.993      42.687       0.427
  17   21     -3355.876      31.460       1.000
  18   22     -3356.557      27.128       1.000
  19   23     -3357.720      20.847       1.000
  20   25     -3359.843      26.271       0.326
  21   26     -3362.577      21.236       1.000
  22   28     -3362.803      26.380       0.061
  23   29     -3363.605      15.219       1.000
  24   30     -3363.913      19.557       1.000
  25   32     -3364.199      25.828       0.448
  26   33     -3364.451      11.542       1.000
  27   34     -3364.538      10.364       1.000
  28   36     -3364.558      17.812       0.204
  29   37     -3364.828      10.558       1.000
  30   38     -3364.964      16.212       1.000
  31   39     -3365.189      11.949       1.000
  32   40     -3365.249      31.033       1.000
  33   41     -3365.390       6.715       1.000
  34   42     -3365.406       4.972       1.000
  35   43     -3365.412       4.801       1.000
  36   44     -3365.431       6.668       1.000
  37   46     -3365.441       5.846       0.279
  38   47     -3365.449       3.754       1.000
  39   49     -3365.482       3.454       0.523
  40   51     -3365.496       2.905       0.281
  41   55     -3365.497       3.471       0.021
  42   56     -3365.510       3.069       1.000
  43   58     -3365.522       2.276       0.373
Final RAS Transform: 
0.88644 -0.00131971 0.0340261 -3.1037 
0.0171304 0.992595 -0.00629285 -0.170308 
-0.0283462 0.00910211 1.03114 -0.344937 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2235.92   GNORM= 255.838
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2253.975      96.514       0.000
   2    4     -2258.923      85.276       1.000
   3    5     -2268.878      65.556       1.000
   4    6     -2275.667      62.082       1.000
   5    7     -2281.704      44.854       1.000
   6    8     -2287.446      43.862       1.000
   7    9     -2288.390      67.402       1.000
   8   10     -2289.389      26.460       1.000
   9   11     -2290.196      22.514       1.000
  10   12     -2293.947      44.054       1.000
  11   13     -2296.961      53.323       1.000
  12   15     -2297.657      57.387       0.358
  13   16     -2298.759      20.196       1.000
  14   17     -2298.980      19.865       1.000
  15   18     -2299.217      34.380       1.000
  16   19     -2300.055      27.243       1.000
  17   20     -2300.730      51.242       1.000
  18   21     -2302.474      17.413       1.000
  19   22     -2303.497      11.675       1.000
  20   23     -2304.210      13.896       1.000
  21   25     -2304.292      10.627       0.150
  22   27     -2304.682      11.569       5.000
  23   28     -2305.343      14.425       1.000
  24   30     -2305.635      13.411       0.436
  25   31     -2305.824      11.879       1.000
  26   32     -2305.985      13.829       1.000
  27   33     -2306.076      11.321       1.000
  28   34     -2306.097       4.108       1.000
  29   35     -2306.124       2.650       1.000
  30   36     -2306.153       8.106       1.000
  31   37     -2306.184       4.956       1.000
  32   38     -2306.245       3.855       1.000
  33   39     -2306.257      16.564       1.000
  34   40     -2306.323       8.047       1.000
  35   41     -2306.352       6.608       1.000
  36   42     -2306.410       5.078       1.000
  37   44     -2306.458       6.742       0.203
  38   45     -2306.487       4.388       1.000
  39   46     -2306.502       3.835       1.000
  40   47     -2306.550       6.757       1.000
  41   48     -2306.570       5.479       1.000
  42   49     -2306.573       5.687       1.000
  43   50     -2306.585       1.990       1.000
  44   51     -2306.587       1.701       1.000
  45   52     -2306.589       2.618       1.000
  46   53     -2306.610      10.451       1.000
  47   54     -2306.648       6.270       1.000
  48   55     -2306.673       5.037       1.000
  49   56     -2306.688       3.260       1.000
  50   57     -2306.701       2.258       1.000
  51   58     -2306.707       3.588       1.000
Final RAS Transform: 
0.914613 0.00247887 0.0382709 -2.38403 
0.0117473 0.979946 -0.00389854 -0.360365 
-0.0410944 0.0249209 1.04186 -0.559143 
0 0 0 1 

Final RAS Transform: 
0.914613 0.00247887 0.0382709 -2.38403 
0.0117473 0.979946 -0.00389854 -0.360365 
-0.0410944 0.0249209 1.04186 -0.559143 
0 0 0 1 


real	0m10.690s
user	0m18.648s
sys	0m0.544s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.711538
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0964
Level     0,  Iter     1:    Energy =   0.1022
Level     0,  Iter     2:    Energy =   0.1089
Level     0,  Iter     3:    Energy =   0.1132
Level     0,  Iter     4:    Energy =   0.1172
Level     0,  Iter     5:    Energy =   0.1204
Level     0,  Iter     6:    Energy =   0.1220
Level     0,  Iter     7:    Energy =   0.1229
Level     0,  Iter     8:    Energy =   0.1238
Level     0,  Iter     9:    Energy =   0.1246
Level     0,  Iter    10:    Energy =   0.1256
Level     0,  Iter    11:    Energy =   0.1262
Level     0,  Iter    12:    Energy =   0.1270
Level     0,  Iter    13:    Energy =   0.1274
Level     0,  Iter    14:    Energy =   0.1280
Level     0,  Iter    15:    Energy =   0.1284
Level     0,  Iter    16:    Energy =   0.1292
Level     0,  Iter    17:    Energy =   0.1292
Level     0,  Iter    18:    Energy =   0.1289
Level     0,  Iter    19:    Energy =   0.1290
Level     0,  Iter    20:    Energy =   0.1291
Level     0,  Iter    21:    Energy =   0.1293
Level     0,  Iter    22:    Energy =   0.1295
Level     0,  Iter    23:    Energy =   0.1297
Level     0,  Iter    24:    Energy =   0.1305
Level     0,  Iter    25:    Energy =   0.1307
Level     0,  Iter    26:    Energy =   0.1307
Level     0,  Iter    27:    Energy =   0.1307
Level     0,  Iter    28:    Energy =   0.1311
Level     0,  Iter    29:    Energy =   0.1312
Level     0,  Iter    30:    Energy =   0.1319
Level     0,  Iter    31:    Energy =   0.1318
Level     0,  Iter    32:    Energy =   0.1315
Level     0,  Iter    33:    Energy =   0.1315
Level     0,  Iter    34:    Energy =   0.1317
Level     0,  Iter    35:    Energy =   0.1317
Level     0,  Iter    36:    Energy =   0.1322
Level     0,  Iter    37:    Energy =   0.1322
Level     0,  Iter    38:    Energy =   0.1326
Level     0,  Iter    39:    Energy =   0.1326
Level     0,  Iter    40:    Energy =   0.1332
Level     0,  Iter    41:    Energy =   0.1330
Level     0,  Iter    42:    Energy =   0.1326
Level     0,  Iter    43:    Energy =   0.1325
Level     0,  Iter    44:    Energy =   0.1326
Level     0,  Iter    45:    Energy =   0.1325
Level     0,  Iter    46:    Energy =   0.1332
Level     0,  Iter    47:    Energy =   0.1330
Level     0,  Iter    48:    Energy =   0.1330
Level     0,  Iter    49:    Energy =   0.1328
Level     0,  Iter    50:    Energy =   0.1335
Level     0,  Iter    51:    Energy =   0.1333
Level     0,  Iter    52:    Energy =   0.1331
Level     0,  Iter    53:    Energy =   0.1329
Level     0,  Iter    54:    Energy =   0.1335
Level     0,  Iter    55:    Energy =   0.1334
Level     0,  Iter    56:    Energy =   0.1342
Level     0,  Iter    57:    Energy =   0.1339
Level     0,  Iter    58:    Energy =   0.1338
Level     0,  Iter    59:    Energy =   0.1337
END OF LEVEL     0    DetJac Range:   0.2709  to   2.1627 
  Avg. Gradient Time  : 0.0083s  34.78% 
  Avg. Gaussian Time  : 0.0119s  49.44% 
  Avg. Iteration Time : 0.0240s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0896
Level     1,  Iter     1:    Energy =   0.0937
Level     1,  Iter     2:    Energy =   0.0973
Level     1,  Iter     3:    Energy =   0.1005
Level     1,  Iter     4:    Energy =   0.1033
Level     1,  Iter     5:    Energy =   0.1056
Level     1,  Iter     6:    Energy =   0.1078
Level     1,  Iter     7:    Energy =   0.1100
Level     1,  Iter     8:    Energy =   0.1113
Level     1,  Iter     9:    Energy =   0.1130
Level     1,  Iter    10:    Energy =   0.1148
Level     1,  Iter    11:    Energy =   0.1162
Level     1,  Iter    12:    Energy =   0.1173
Level     1,  Iter    13:    Energy =   0.1181
Level     1,  Iter    14:    Energy =   0.1184
Level     1,  Iter    15:    Energy =   0.1188
Level     1,  Iter    16:    Energy =   0.1187
Level     1,  Iter    17:    Energy =   0.1188
Level     1,  Iter    18:    Energy =   0.1195
Level     1,  Iter    19:    Energy =   0.1194
Level     1,  Iter    20:    Energy =   0.1198
Level     1,  Iter    21:    Energy =   0.1197
Level     1,  Iter    22:    Energy =   0.1200
Level     1,  Iter    23:    Energy =   0.1196
Level     1,  Iter    24:    Energy =   0.1205
Level     1,  Iter    25:    Energy =   0.1202
Level     1,  Iter    26:    Energy =   0.1207
Level     1,  Iter    27:    Energy =   0.1203
Level     1,  Iter    28:    Energy =   0.1211
Level     1,  Iter    29:    Energy =   0.1207
Level     1,  Iter    30:    Energy =   0.1210
Level     1,  Iter    31:    Energy =   0.1208
Level     1,  Iter    32:    Energy =   0.1207
Level     1,  Iter    33:    Energy =   0.1211
Level     1,  Iter    34:    Energy =   0.1208
Level     1,  Iter    35:    Energy =   0.1210
Level     1,  Iter    36:    Energy =   0.1209
Level     1,  Iter    37:    Energy =   0.1209
Level     1,  Iter    38:    Energy =   0.1208
Level     1,  Iter    39:    Energy =   0.1210
Level     1,  Iter    40:    Energy =   0.1209
Level     1,  Iter    41:    Energy =   0.1210
Level     1,  Iter    42:    Energy =   0.1209
Level     1,  Iter    43:    Energy =   0.1211
Level     1,  Iter    44:    Energy =   0.1210
Level     1,  Iter    45:    Energy =   0.1212
Level     1,  Iter    46:    Energy =   0.1210
Level     1,  Iter    47:    Energy =   0.1212
Level     1,  Iter    48:    Energy =   0.1211
Level     1,  Iter    49:    Energy =   0.1214
Level     1,  Iter    50:    Energy =   0.1212
Level     1,  Iter    51:    Energy =   0.1213
Level     1,  Iter    52:    Energy =   0.1212
Level     1,  Iter    53:    Energy =   0.1214
Level     1,  Iter    54:    Energy =   0.1212
Level     1,  Iter    55:    Energy =   0.1215
Level     1,  Iter    56:    Energy =   0.1213
Level     1,  Iter    57:    Energy =   0.1216
Level     1,  Iter    58:    Energy =   0.1214
Level     1,  Iter    59:    Energy =   0.1216
END OF LEVEL     1    DetJac Range:   0.1480  to   2.6771 
  Avg. Gradient Time  : 0.0468s  32.51% 
  Avg. Gaussian Time  : 0.0784s  54.48% 
  Avg. Iteration Time : 0.1438s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0595
Level     2,  Iter     1:    Energy =   0.0621
Level     2,  Iter     2:    Energy =   0.0647
Level     2,  Iter     3:    Energy =   0.0671
Level     2,  Iter     4:    Energy =   0.0691
Level     2,  Iter     5:    Energy =   0.0709
Level     2,  Iter     6:    Energy =   0.0725
Level     2,  Iter     7:    Energy =   0.0738
Level     2,  Iter     8:    Energy =   0.0749
Level     2,  Iter     9:    Energy =   0.0759
Level     2,  Iter    10:    Energy =   0.0767
Level     2,  Iter    11:    Energy =   0.0774
Level     2,  Iter    12:    Energy =   0.0781
Level     2,  Iter    13:    Energy =   0.0786
Level     2,  Iter    14:    Energy =   0.0791
Level     2,  Iter    15:    Energy =   0.0796
Level     2,  Iter    16:    Energy =   0.0800
Level     2,  Iter    17:    Energy =   0.0804
Level     2,  Iter    18:    Energy =   0.0808
Level     2,  Iter    19:    Energy =   0.0811
END OF LEVEL     2    DetJac Range:   0.0634  to   4.3385 
  Avg. Gradient Time  : 0.3285s  30.52% 
  Avg. Gaussian Time  : 0.5992s  55.66% 
  Avg. Iteration Time : 1.0766s 

real	0m36.961s
user	1m7.576s
sys	0m1.468s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.275 0.280769
+ echo 'CHUNK 0.275 0.280769 1'
CHUNK 0.275 0.280769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.275 0.280769 1
====================================
         PROGRESS: 0.275               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 014 left 0
+ local tid=014
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.557761
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2956.44   GNORM= 384.08
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2986.552     162.910       0.000
   2    4     -2995.049     135.203       1.000
   3    5     -3019.752     154.081       1.000
   4    6     -3036.004      70.117       1.000
   5    7     -3048.152      71.718       1.000
   6    8     -3072.467      95.764       1.000
   7   10     -3087.611     209.852       0.410
   8   11     -3108.227     104.708       1.000
   9   12     -3121.335      90.658       1.000
  10   13     -3134.533      85.156       1.000
  11   14     -3147.347     140.806       1.000
  12   15     -3156.849      66.524       1.000
  13   16     -3160.391      66.835       1.000
  14   17     -3162.490      68.412       1.000
  15   18     -3168.082      61.026       1.000
  16   19     -3170.765      25.587       1.000
  17   20     -3172.062      53.108       1.000
  18   21     -3173.505      43.244       1.000
  19   22     -3175.035      33.510       1.000
  20   23     -3175.871      45.912       1.000
  21   24     -3176.210      24.694       1.000
  22   25     -3176.556      11.566       1.000
  23   26     -3176.722      12.292       1.000
  24   27     -3176.797      13.023       1.000
  25   28     -3176.985      10.893       1.000
  26   29     -3177.356      14.761       1.000
  27   30     -3177.825      29.048       1.000
  28   31     -3178.028      34.601       1.000
  29   32     -3178.430      17.224       1.000
  30   33     -3178.692      19.607       1.000
  31   34     -3178.876      14.804       1.000
  32   37     -3179.382      11.312       0.635
  33   39     -3179.459      18.225       0.230
  34   40     -3179.604      12.441       1.000
  35   41     -3179.816      21.894       1.000
  36   42     -3179.942      17.808       1.000
  37   43     -3180.040       7.931       1.000
  38   46     -3180.135      12.389       1.932
  39   47     -3180.215      23.971       1.000
  40   48     -3180.498       7.208       1.000
  41   49     -3180.705      17.585       1.000
  42   50     -3180.939      14.422       1.000
  43   51     -3181.096      17.959       1.000
  44   52     -3181.349       7.773       1.000
  45   53     -3181.426       8.224       1.000
  46   54     -3181.536      10.881       1.000
  47   56     -3181.579       5.336       0.303
  48   58     -3181.590      11.087       5.000
  49   59     -3181.674       4.906       1.000
  50   60     -3181.697       6.811       1.000
  51   61     -3181.711       7.338       1.000
Final RAS Transform: 
0.931037 -0.0228584 0.0183115 -2.43342 
-0.0500145 0.990867 0.0444699 -1.90956 
-0.0186415 -0.00435408 1.02296 -0.200328 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2231.67   GNORM= 258.227
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2245.446      48.684       0.000
   2    4     -2246.230      31.876       1.000
   3    5     -2247.100      36.682       1.000
   4    6     -2248.581      47.792       1.000
   5    7     -2251.274      57.768       1.000
   6    8     -2255.688      65.937       1.000
   7   10     -2257.674      44.661       0.421
   8   11     -2259.679      25.720       1.000
   9   12     -2262.134      32.119       1.000
  10   13     -2265.722      46.597       1.000
  11   15     -2268.970      96.600       0.461
  12   16     -2274.005      49.484       1.000
  13   17     -2275.903      25.263       1.000
  14   18     -2276.329      38.588       1.000
  15   19     -2276.912      17.796       1.000
  16   20     -2277.366      17.861       1.000
  17   21     -2278.421      45.630       1.000
  18   22     -2280.674      57.330       1.000
  19   23     -2281.219      90.970       1.000
  20   24     -2284.670      51.501       1.000
  21   25     -2285.366      17.227       1.000
  22   26     -2285.550      15.356       1.000
  23   27     -2285.997      11.849       1.000
  24   28     -2286.306      12.382       1.000
  25   29     -2286.581      12.801       1.000
  26   30     -2287.005      21.185       1.000
  27   31     -2287.253      34.283       1.000
  28   32     -2287.510       7.674       1.000
  29   33     -2287.591       3.658       1.000
  30   34     -2287.651      10.574       1.000
  31   35     -2287.767       7.749       1.000
  32   36     -2287.832       3.035       1.000
  33   37     -2287.854       3.592       1.000
  34   39     -2287.864       5.343       0.365
  35   40     -2287.891       8.327       1.000
  36   41     -2287.971       4.217       1.000
  37   42     -2288.020       3.328       1.000
  38   44     -2288.067       7.085       0.396
  39   45     -2288.107       9.081       1.000
  40   46     -2288.145       6.104       1.000
  41   47     -2288.171       4.341       1.000
  42   48     -2288.187       4.989       1.000
  43   49     -2288.200       5.647       1.000
  44   50     -2288.241       6.213       1.000
  45   51     -2288.243      10.647       1.000
  46   52     -2288.294      10.002       1.000
  47   54     -2288.315       7.868       0.207
  48   55     -2288.347       6.616       1.000
  49   56     -2288.371       4.245       1.000
  50   57     -2288.405       4.832       1.000
  51   58     -2288.553      10.464       1.000
  52   59     -2288.663      10.664       1.000
  53   60     -2288.963      16.588       1.000
Final RAS Transform: 
0.965662 -0.0326789 0.0036986 -1.61419 
-0.0266343 1.00664 0.0730201 -0.836085 
-0.00161684 -0.00790427 1.00941 0.172812 
0 0 0 1 

Final RAS Transform: 
0.965662 -0.0326789 0.0036986 -1.61419 
-0.0266343 1.00664 0.0730201 -0.836085 
-0.00161684 -0.00790427 1.00941 0.172812 
0 0 0 1 


real	0m10.098s
user	0m17.636s
sys	0m0.432s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.567982
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0910
Level     0,  Iter     1:    Energy =   0.0973
Level     0,  Iter     2:    Energy =   0.1048
Level     0,  Iter     3:    Energy =   0.1098
Level     0,  Iter     4:    Energy =   0.1126
Level     0,  Iter     5:    Energy =   0.1148
Level     0,  Iter     6:    Energy =   0.1163
Level     0,  Iter     7:    Energy =   0.1174
Level     0,  Iter     8:    Energy =   0.1184
Level     0,  Iter     9:    Energy =   0.1190
Level     0,  Iter    10:    Energy =   0.1198
Level     0,  Iter    11:    Energy =   0.1201
Level     0,  Iter    12:    Energy =   0.1207
Level     0,  Iter    13:    Energy =   0.1209
Level     0,  Iter    14:    Energy =   0.1214
Level     0,  Iter    15:    Energy =   0.1214
Level     0,  Iter    16:    Energy =   0.1219
Level     0,  Iter    17:    Energy =   0.1218
Level     0,  Iter    18:    Energy =   0.1222
Level     0,  Iter    19:    Energy =   0.1222
Level     0,  Iter    20:    Energy =   0.1226
Level     0,  Iter    21:    Energy =   0.1225
Level     0,  Iter    22:    Energy =   0.1229
Level     0,  Iter    23:    Energy =   0.1228
Level     0,  Iter    24:    Energy =   0.1231
Level     0,  Iter    25:    Energy =   0.1230
Level     0,  Iter    26:    Energy =   0.1234
Level     0,  Iter    27:    Energy =   0.1232
Level     0,  Iter    28:    Energy =   0.1236
Level     0,  Iter    29:    Energy =   0.1234
Level     0,  Iter    30:    Energy =   0.1238
Level     0,  Iter    31:    Energy =   0.1236
Level     0,  Iter    32:    Energy =   0.1239
Level     0,  Iter    33:    Energy =   0.1237
Level     0,  Iter    34:    Energy =   0.1240
Level     0,  Iter    35:    Energy =   0.1238
Level     0,  Iter    36:    Energy =   0.1242
Level     0,  Iter    37:    Energy =   0.1239
Level     0,  Iter    38:    Energy =   0.1241
Level     0,  Iter    39:    Energy =   0.1239
Level     0,  Iter    40:    Energy =   0.1242
Level     0,  Iter    41:    Energy =   0.1240
Level     0,  Iter    42:    Energy =   0.1243
Level     0,  Iter    43:    Energy =   0.1240
Level     0,  Iter    44:    Energy =   0.1243
Level     0,  Iter    45:    Energy =   0.1241
Level     0,  Iter    46:    Energy =   0.1243
Level     0,  Iter    47:    Energy =   0.1241
Level     0,  Iter    48:    Energy =   0.1244
Level     0,  Iter    49:    Energy =   0.1241
Level     0,  Iter    50:    Energy =   0.1244
Level     0,  Iter    51:    Energy =   0.1242
Level     0,  Iter    52:    Energy =   0.1245
Level     0,  Iter    53:    Energy =   0.1242
Level     0,  Iter    54:    Energy =   0.1245
Level     0,  Iter    55:    Energy =   0.1242
Level     0,  Iter    56:    Energy =   0.1245
Level     0,  Iter    57:    Energy =   0.1243
Level     0,  Iter    58:    Energy =   0.1246
Level     0,  Iter    59:    Energy =   0.1243
END OF LEVEL     0    DetJac Range:   0.3326  to   2.0313 
  Avg. Gradient Time  : 0.0072s  34.87% 
  Avg. Gaussian Time  : 0.0102s  49.33% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0852
Level     1,  Iter     1:    Energy =   0.0900
Level     1,  Iter     2:    Energy =   0.0944
Level     1,  Iter     3:    Energy =   0.0981
Level     1,  Iter     4:    Energy =   0.1010
Level     1,  Iter     5:    Energy =   0.1034
Level     1,  Iter     6:    Energy =   0.1054
Level     1,  Iter     7:    Energy =   0.1072
Level     1,  Iter     8:    Energy =   0.1084
Level     1,  Iter     9:    Energy =   0.1093
Level     1,  Iter    10:    Energy =   0.1101
Level     1,  Iter    11:    Energy =   0.1109
Level     1,  Iter    12:    Energy =   0.1117
Level     1,  Iter    13:    Energy =   0.1126
Level     1,  Iter    14:    Energy =   0.1135
Level     1,  Iter    15:    Energy =   0.1143
Level     1,  Iter    16:    Energy =   0.1152
Level     1,  Iter    17:    Energy =   0.1157
Level     1,  Iter    18:    Energy =   0.1162
Level     1,  Iter    19:    Energy =   0.1163
Level     1,  Iter    20:    Energy =   0.1167
Level     1,  Iter    21:    Energy =   0.1169
Level     1,  Iter    22:    Energy =   0.1171
Level     1,  Iter    23:    Energy =   0.1173
Level     1,  Iter    24:    Energy =   0.1176
Level     1,  Iter    25:    Energy =   0.1177
Level     1,  Iter    26:    Energy =   0.1180
Level     1,  Iter    27:    Energy =   0.1181
Level     1,  Iter    28:    Energy =   0.1184
Level     1,  Iter    29:    Energy =   0.1184
Level     1,  Iter    30:    Energy =   0.1187
Level     1,  Iter    31:    Energy =   0.1187
Level     1,  Iter    32:    Energy =   0.1190
Level     1,  Iter    33:    Energy =   0.1190
Level     1,  Iter    34:    Energy =   0.1193
Level     1,  Iter    35:    Energy =   0.1192
Level     1,  Iter    36:    Energy =   0.1195
Level     1,  Iter    37:    Energy =   0.1194
Level     1,  Iter    38:    Energy =   0.1196
Level     1,  Iter    39:    Energy =   0.1195
Level     1,  Iter    40:    Energy =   0.1197
Level     1,  Iter    41:    Energy =   0.1197
Level     1,  Iter    42:    Energy =   0.1198
Level     1,  Iter    43:    Energy =   0.1199
Level     1,  Iter    44:    Energy =   0.1198
Level     1,  Iter    45:    Energy =   0.1200
Level     1,  Iter    46:    Energy =   0.1199
Level     1,  Iter    47:    Energy =   0.1201
Level     1,  Iter    48:    Energy =   0.1201
Level     1,  Iter    49:    Energy =   0.1201
Level     1,  Iter    50:    Energy =   0.1201
Level     1,  Iter    51:    Energy =   0.1203
Level     1,  Iter    52:    Energy =   0.1203
Level     1,  Iter    53:    Energy =   0.1203
Level     1,  Iter    54:    Energy =   0.1204
Level     1,  Iter    55:    Energy =   0.1205
Level     1,  Iter    56:    Energy =   0.1204
Level     1,  Iter    57:    Energy =   0.1205
Level     1,  Iter    58:    Energy =   0.1205
Level     1,  Iter    59:    Energy =   0.1206
END OF LEVEL     1    DetJac Range:   0.1210  to   4.6610 
  Avg. Gradient Time  : 0.0410s  32.62% 
  Avg. Gaussian Time  : 0.0686s  54.57% 
  Avg. Iteration Time : 0.1258s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0607
Level     2,  Iter     1:    Energy =   0.0629
Level     2,  Iter     2:    Energy =   0.0649
Level     2,  Iter     3:    Energy =   0.0664
Level     2,  Iter     4:    Energy =   0.0680
Level     2,  Iter     5:    Energy =   0.0695
Level     2,  Iter     6:    Energy =   0.0709
Level     2,  Iter     7:    Energy =   0.0723
Level     2,  Iter     8:    Energy =   0.0737
Level     2,  Iter     9:    Energy =   0.0749
Level     2,  Iter    10:    Energy =   0.0761
Level     2,  Iter    11:    Energy =   0.0771
Level     2,  Iter    12:    Energy =   0.0780
Level     2,  Iter    13:    Energy =   0.0787
Level     2,  Iter    14:    Energy =   0.0794
Level     2,  Iter    15:    Energy =   0.0799
Level     2,  Iter    16:    Energy =   0.0805
Level     2,  Iter    17:    Energy =   0.0811
Level     2,  Iter    18:    Energy =   0.0817
Level     2,  Iter    19:    Energy =   0.0822
END OF LEVEL     2    DetJac Range:   0.0540  to   6.4538 
  Avg. Gradient Time  : 0.2938s  31.02% 
  Avg. Gaussian Time  : 0.5251s  55.44% 
  Avg. Iteration Time : 0.9471s 

real	0m32.416s
user	0m58.956s
sys	0m1.456s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.280769 0.286538
+ echo 'CHUNK 0.280769 0.286538 1'
CHUNK 0.280769 0.286538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.280769 0.286538 1
====================================
         PROGRESS: 0.280769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 015 left 0
+ local tid=015
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.771967
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3915.94   GNORM= 212.7
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3932.441     189.857       0.001
   2    4     -3946.493     157.088       1.000
   3    5     -3978.932     116.667       1.000
   4    6     -3998.231      89.488       1.000
   5    7     -4007.107      85.058       1.000
   6    8     -4014.948      77.844       1.000
   7   10     -4019.878     132.177       0.241
   8   11     -4027.046      35.981       1.000
   9   12     -4027.977      34.602       1.000
  10   13     -4030.243      39.606       1.000
  11   15     -4034.414      65.437       0.398
  12   16     -4036.106      65.715       1.000
  13   17     -4037.979      43.997       1.000
  14   18     -4039.032      58.284       1.000
  15   19     -4040.031      28.020       1.000
  16   20     -4040.577      18.285       1.000
  17   21     -4040.937      27.480       1.000
  18   22     -4041.639      26.578       1.000
  19   24     -4042.416      35.446       0.480
  20   25     -4042.718      32.701       1.000
  21   26     -4042.946      16.480       1.000
  22   27     -4043.111      15.601       1.000
  23   28     -4043.289      12.778       1.000
  24   29     -4043.797      36.165       1.000
  25   30     -4044.163      31.777       1.000
  26   31     -4044.322      12.556       1.000
  27   32     -4044.429      18.949       1.000
  28   33     -4044.536      27.450       1.000
  29   34     -4044.672      46.964       1.000
  30   35     -4045.217      25.146       1.000
  31   36     -4045.660      17.694       1.000
  32   37     -4045.924      17.046       1.000
  33   38     -4046.184      66.258       1.000
  34   39     -4047.002      29.645       1.000
  35   40     -4047.551      31.527       1.000
  36   41     -4047.836       7.859       1.000
  37   42     -4047.999      11.983       1.000
  38   43     -4048.101      10.110       1.000
  39   44     -4048.203       7.071       1.000
  40   45     -4048.452      10.049       1.000
  41   47     -4048.561      17.010       0.478
  42   48     -4048.629       7.677       1.000
  43   49     -4048.657       7.875       1.000
  44   50     -4048.677       7.912       1.000
  45   51     -4048.710       9.968       1.000
  46   52     -4048.780      12.920       1.000
  47   53     -4048.814       7.563       1.000
  48   54     -4048.866       9.024       1.000
  49   55     -4048.892      11.247       1.000
  50   56     -4048.919       7.221       1.000
  51   57     -4048.934       7.688       1.000
  52   58     -4048.965       7.972       1.000
  53   59     -4048.976       3.995       1.000
Final RAS Transform: 
0.979719 0.00956293 0.0236356 -0.0424394 
0.0283248 1.03123 0.0434042 1.71207 
-0.0296962 -0.00248894 1.0319 -0.689258 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2891.59   GNORM= 173.268
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2897.673      68.105       0.000
   2    4     -2899.313      44.945       1.000
   3    5     -2900.666      27.190       1.000
   4    6     -2901.451      33.440       1.000
   5    7     -2903.560      39.310       1.000
   6    8     -2906.915      54.740       1.000
   7   10     -2907.800      85.981       0.304
   8   11     -2909.795      57.813       1.000
   9   12     -2911.905      27.674       1.000
  10   13     -2912.852      34.942       1.000
  11   14     -2915.084      39.915       1.000
  12   15     -2916.393      94.954       1.000
  13   16     -2918.902      28.939       1.000
  14   17     -2919.500      15.748       1.000
  15   18     -2919.662      16.754       1.000
  16   19     -2919.960      16.845       1.000
  17   20     -2920.470      16.379       1.000
  18   21     -2921.325      13.485       1.000
  19   23     -2922.830      51.856       0.456
  20   24     -2923.779      28.510       1.000
  21   25     -2924.172      11.531       1.000
  22   26     -2924.320       9.483       1.000
  23   27     -2924.664      14.125       1.000
  24   28     -2925.133      22.749       1.000
  25   30     -2925.551      26.671       0.476
  26   31     -2925.865      18.960       1.000
  27   32     -2926.009      18.975       1.000
  28   33     -2926.358       7.685       1.000
  29   34     -2926.575      13.690       1.000
  30   35     -2926.708      12.876       1.000
  31   36     -2926.804       9.038       1.000
  32   37     -2926.930      22.685       1.000
  33   38     -2927.109      10.524       1.000
  34   39     -2927.165       6.343       1.000
  35   40     -2927.252       7.068       1.000
  36   42     -2927.297       8.015       0.248
  37   44     -2927.345      14.754       0.470
  38   45     -2927.415       6.781       1.000
  39   46     -2927.436       5.904       1.000
  40   47     -2927.454       7.134       1.000
  41   48     -2927.512       5.958       1.000
  42   49     -2927.532      20.692       1.000
  43   50     -2927.629       8.297       1.000
  44   51     -2927.703       5.182       1.000
  45   52     -2927.783       8.042       1.000
  46   54     -2927.826       4.855       0.394
  47   56     -2927.855       9.805       0.211
  48   57     -2927.872       5.641       1.000
  49   58     -2927.873       5.266       1.000
  50   59     -2927.879       1.344       1.000
  51   61     -2927.883       1.276       0.358
Final RAS Transform: 
0.979832 0.00349831 0.0123437 -0.359346 
0.0141554 1.00425 0.0277406 0.580828 
-0.0184318 0.00886896 1.04383 -0.0874139 
0 0 0 1 

Final RAS Transform: 
0.979832 0.00349831 0.0123437 -0.359346 
0.0141554 1.00425 0.0277406 0.580828 
-0.0184318 0.00886896 1.04383 -0.0874139 
0 0 0 1 


real	0m10.429s
user	0m18.300s
sys	0m0.456s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.788083
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1183
Level     0,  Iter     1:    Energy =   0.1245
Level     0,  Iter     2:    Energy =   0.1306
Level     0,  Iter     3:    Energy =   0.1350
Level     0,  Iter     4:    Energy =   0.1370
Level     0,  Iter     5:    Energy =   0.1397
Level     0,  Iter     6:    Energy =   0.1411
Level     0,  Iter     7:    Energy =   0.1426
Level     0,  Iter     8:    Energy =   0.1440
Level     0,  Iter     9:    Energy =   0.1446
Level     0,  Iter    10:    Energy =   0.1455
Level     0,  Iter    11:    Energy =   0.1463
Level     0,  Iter    12:    Energy =   0.1468
Level     0,  Iter    13:    Energy =   0.1468
Level     0,  Iter    14:    Energy =   0.1474
Level     0,  Iter    15:    Energy =   0.1480
Level     0,  Iter    16:    Energy =   0.1482
Level     0,  Iter    17:    Energy =   0.1478
Level     0,  Iter    18:    Energy =   0.1484
Level     0,  Iter    19:    Energy =   0.1487
Level     0,  Iter    20:    Energy =   0.1488
Level     0,  Iter    21:    Energy =   0.1484
Level     0,  Iter    22:    Energy =   0.1490
Level     0,  Iter    23:    Energy =   0.1491
Level     0,  Iter    24:    Energy =   0.1493
Level     0,  Iter    25:    Energy =   0.1489
Level     0,  Iter    26:    Energy =   0.1493
Level     0,  Iter    27:    Energy =   0.1490
Level     0,  Iter    28:    Energy =   0.1495
Level     0,  Iter    29:    Energy =   0.1494
Level     0,  Iter    30:    Energy =   0.1498
Level     0,  Iter    31:    Energy =   0.1495
Level     0,  Iter    32:    Energy =   0.1499
Level     0,  Iter    33:    Energy =   0.1496
Level     0,  Iter    34:    Energy =   0.1501
Level     0,  Iter    35:    Energy =   0.1500
Level     0,  Iter    36:    Energy =   0.1503
Level     0,  Iter    37:    Energy =   0.1500
Level     0,  Iter    38:    Energy =   0.1504
Level     0,  Iter    39:    Energy =   0.1503
Level     0,  Iter    40:    Energy =   0.1505
Level     0,  Iter    41:    Energy =   0.1503
Level     0,  Iter    42:    Energy =   0.1505
Level     0,  Iter    43:    Energy =   0.1504
Level     0,  Iter    44:    Energy =   0.1506
Level     0,  Iter    45:    Energy =   0.1505
Level     0,  Iter    46:    Energy =   0.1506
Level     0,  Iter    47:    Energy =   0.1503
Level     0,  Iter    48:    Energy =   0.1505
Level     0,  Iter    49:    Energy =   0.1507
Level     0,  Iter    50:    Energy =   0.1506
Level     0,  Iter    51:    Energy =   0.1501
Level     0,  Iter    52:    Energy =   0.1504
Level     0,  Iter    53:    Energy =   0.1505
Level     0,  Iter    54:    Energy =   0.1506
Level     0,  Iter    55:    Energy =   0.1502
Level     0,  Iter    56:    Energy =   0.1505
Level     0,  Iter    57:    Energy =   0.1508
Level     0,  Iter    58:    Energy =   0.1506
Level     0,  Iter    59:    Energy =   0.1502
END OF LEVEL     0    DetJac Range:   0.3702  to   2.0828 
  Avg. Gradient Time  : 0.0082s  34.89% 
  Avg. Gaussian Time  : 0.0117s  49.45% 
  Avg. Iteration Time : 0.0236s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1041
Level     1,  Iter     1:    Energy =   0.1096
Level     1,  Iter     2:    Energy =   0.1140
Level     1,  Iter     3:    Energy =   0.1174
Level     1,  Iter     4:    Energy =   0.1206
Level     1,  Iter     5:    Energy =   0.1238
Level     1,  Iter     6:    Energy =   0.1256
Level     1,  Iter     7:    Energy =   0.1276
Level     1,  Iter     8:    Energy =   0.1286
Level     1,  Iter     9:    Energy =   0.1290
Level     1,  Iter    10:    Energy =   0.1292
Level     1,  Iter    11:    Energy =   0.1297
Level     1,  Iter    12:    Energy =   0.1298
Level     1,  Iter    13:    Energy =   0.1305
Level     1,  Iter    14:    Energy =   0.1304
Level     1,  Iter    15:    Energy =   0.1313
Level     1,  Iter    16:    Energy =   0.1311
Level     1,  Iter    17:    Energy =   0.1320
Level     1,  Iter    18:    Energy =   0.1317
Level     1,  Iter    19:    Energy =   0.1326
Level     1,  Iter    20:    Energy =   0.1323
Level     1,  Iter    21:    Energy =   0.1327
Level     1,  Iter    22:    Energy =   0.1326
Level     1,  Iter    23:    Energy =   0.1326
Level     1,  Iter    24:    Energy =   0.1327
Level     1,  Iter    25:    Energy =   0.1328
Level     1,  Iter    26:    Energy =   0.1327
Level     1,  Iter    27:    Energy =   0.1329
Level     1,  Iter    28:    Energy =   0.1328
Level     1,  Iter    29:    Energy =   0.1331
Level     1,  Iter    30:    Energy =   0.1330
Level     1,  Iter    31:    Energy =   0.1332
Level     1,  Iter    32:    Energy =   0.1331
Level     1,  Iter    33:    Energy =   0.1334
Level     1,  Iter    34:    Energy =   0.1333
Level     1,  Iter    35:    Energy =   0.1335
Level     1,  Iter    36:    Energy =   0.1334
Level     1,  Iter    37:    Energy =   0.1336
Level     1,  Iter    38:    Energy =   0.1335
Level     1,  Iter    39:    Energy =   0.1337
Level     1,  Iter    40:    Energy =   0.1336
Level     1,  Iter    41:    Energy =   0.1337
Level     1,  Iter    42:    Energy =   0.1336
Level     1,  Iter    43:    Energy =   0.1338
Level     1,  Iter    44:    Energy =   0.1337
Level     1,  Iter    45:    Energy =   0.1339
Level     1,  Iter    46:    Energy =   0.1338
Level     1,  Iter    47:    Energy =   0.1340
Level     1,  Iter    48:    Energy =   0.1339
Level     1,  Iter    49:    Energy =   0.1341
Level     1,  Iter    50:    Energy =   0.1339
Level     1,  Iter    51:    Energy =   0.1342
Level     1,  Iter    52:    Energy =   0.1340
Level     1,  Iter    53:    Energy =   0.1344
Level     1,  Iter    54:    Energy =   0.1342
Level     1,  Iter    55:    Energy =   0.1345
Level     1,  Iter    56:    Energy =   0.1343
Level     1,  Iter    57:    Energy =   0.1346
Level     1,  Iter    58:    Energy =   0.1344
Level     1,  Iter    59:    Energy =   0.1346
END OF LEVEL     1    DetJac Range:   0.1767  to   3.3669 
  Avg. Gradient Time  : 0.0466s  32.53% 
  Avg. Gaussian Time  : 0.0781s  54.52% 
  Avg. Iteration Time : 0.1433s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0708
Level     2,  Iter     1:    Energy =   0.0740
Level     2,  Iter     2:    Energy =   0.0765
Level     2,  Iter     3:    Energy =   0.0787
Level     2,  Iter     4:    Energy =   0.0805
Level     2,  Iter     5:    Energy =   0.0820
Level     2,  Iter     6:    Energy =   0.0836
Level     2,  Iter     7:    Energy =   0.0850
Level     2,  Iter     8:    Energy =   0.0862
Level     2,  Iter     9:    Energy =   0.0873
Level     2,  Iter    10:    Energy =   0.0883
Level     2,  Iter    11:    Energy =   0.0886
Level     2,  Iter    12:    Energy =   0.0888
Level     2,  Iter    13:    Energy =   0.0892
Level     2,  Iter    14:    Energy =   0.0893
Level     2,  Iter    15:    Energy =   0.0897
Level     2,  Iter    16:    Energy =   0.0897
Level     2,  Iter    17:    Energy =   0.0901
Level     2,  Iter    18:    Energy =   0.0901
Level     2,  Iter    19:    Energy =   0.0904
END OF LEVEL     2    DetJac Range:   0.0651  to   4.4722 
  Avg. Gradient Time  : 0.3276s  30.50% 
  Avg. Gaussian Time  : 0.5984s  55.70% 
  Avg. Iteration Time : 1.0743s 

real	0m36.704s
user	1m7.124s
sys	0m1.508s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.286538 0.292308
+ echo 'CHUNK 0.286538 0.292308 1'
CHUNK 0.286538 0.292308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.286538 0.292308 1
====================================
         PROGRESS: 0.286538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 016 left 0
+ local tid=016
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.696052
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3326.31   GNORM= 289.064
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3379.384     305.207       0.001
   2    4     -3406.911     129.569       1.000
   3    5     -3415.935     103.831       1.000
   4    6     -3429.042      92.462       1.000
   5    7     -3443.828      87.587       1.000
   6    8     -3461.338      73.044       1.000
   7   10     -3463.714     108.924       0.261
   8   11     -3467.187      43.725       1.000
   9   12     -3467.959      22.216       1.000
  10   13     -3468.388      21.841       1.000
  11   14     -3470.421      61.699       1.000
  12   15     -3473.363      26.171       1.000
  13   16     -3475.844      37.831       1.000
  14   18     -3477.339      32.774       0.212
  15   20     -3478.018      25.681       0.427
  16   21     -3478.642      19.635       1.000
  17   22     -3480.450      38.372       1.000
  18   23     -3481.458      58.330       1.000
  19   24     -3482.291      18.265       1.000
  20   25     -3482.536      17.993       1.000
  21   26     -3483.020      28.074       1.000
  22   27     -3483.108      42.763       1.000
  23   28     -3483.532      31.564       1.000
  24   29     -3483.841      10.217       1.000
  25   30     -3483.902       8.333       1.000
  26   31     -3483.987      12.202       1.000
  27   32     -3484.181      17.909       1.000
  28   33     -3484.496      18.061       1.000
  29   34     -3484.862      18.781       1.000
  30   36     -3484.938       7.230       0.155
  31   37     -3484.987       7.053       1.000
  32   39     -3485.014       6.689       0.463
  33   40     -3485.112       7.268       1.000
  34   42     -3485.125       9.371       0.073
  35   43     -3485.203      14.797       1.000
  36   44     -3485.260       7.772       1.000
  37   45     -3485.277       7.832       1.000
  38   46     -3485.282      15.508       1.000
  39   47     -3485.313       7.070       1.000
  40   48     -3485.340       5.172       1.000
  41   49     -3485.377       7.324       1.000
  42   50     -3485.437       9.731       1.000
  43   51     -3485.550       8.482       1.000
  44   53     -3485.591       8.752       0.166
  45   55     -3485.634       4.929       0.411
  46   56     -3485.680       6.395       1.000
  47   57     -3485.708      10.505       1.000
  48   58     -3485.759       8.847       1.000
  49   60     -3485.801      10.156       0.496
  50   61     -3485.823      10.814       1.000
Final RAS Transform: 
0.969788 -0.00738832 -0.0125839 -0.711998 
0.0557683 1.00501 -0.0155887 1.09795 
-0.0311465 0.00507669 1.0319 -0.347984 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2656.32   GNORM= 146.943
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2662.703     100.805       0.001
   2    4     -2666.635      63.654       1.000
   3    5     -2670.451      53.890       1.000
   4    6     -2672.575      36.536       1.000
   5    7     -2673.854      44.752       1.000
   6    8     -2676.051      41.322       1.000
   7   10     -2676.801      41.441       0.493
   8   11     -2677.380      35.056       1.000
   9   12     -2678.991      30.016       1.000
  10   14     -2680.115      28.346       0.462
  11   15     -2680.729       9.511       1.000
  12   16     -2680.832       7.541       1.000
  13   18     -2680.902      18.530       0.489
  14   19     -2681.050      14.082       1.000
  15   20     -2681.259      12.007       1.000
  16   21     -2681.407       9.608       1.000
  17   22     -2681.803       8.425       1.000
  18   23     -2682.149      12.157       1.000
  19   24     -2682.180      24.995       1.000
  20   25     -2682.443      24.174       1.000
  21   26     -2682.587       4.762       1.000
  22   27     -2682.601       5.028       1.000
  23   28     -2682.626       4.672       1.000
  24   29     -2682.746      10.475       1.000
  25   30     -2682.903      19.161       1.000
  26   31     -2683.099      11.889       1.000
  27   32     -2683.179      12.922       1.000
  28   33     -2683.240       4.769       1.000
  29   34     -2683.241       6.429       1.000
  30   35     -2683.253       3.915       1.000
  31   36     -2683.268       2.682       1.000
  32   37     -2683.276       8.260       1.000
  33   38     -2683.288       5.166       1.000
  34   39     -2683.292       9.723       1.000
  35   40     -2683.308       5.793       1.000
  36   41     -2683.314       6.498       1.000
  37   42     -2683.325       4.953       1.000
  38   44     -2683.330       3.943       0.446
  39   46     -2683.366       6.954       5.000
  40   47     -2683.435       4.696       1.000
  41   48     -2683.457       5.560       1.000
  42   49     -2683.515       6.261       1.000
  43   51     -2683.542       6.203       0.452
  44   52     -2683.564       2.990       1.000
  45   53     -2683.574       6.071       1.000
  46   54     -2683.588       7.452       1.000
  47   56     -2683.597       6.117       0.319
  48   57     -2683.609       3.057       1.000
  49   58     -2683.614       2.848       1.000
  50   59     -2683.663       2.955       1.000
  51   61     -2683.686      12.268       0.163
Final RAS Transform: 
0.973735 -0.00868886 0.00628397 -0.574841 
0.0456833 1.00737 -0.0109461 1.03952 
-0.0251922 0.00836754 1.04094 -0.117184 
0 0 0 1 

Final RAS Transform: 
0.973735 -0.00868886 0.00628397 -0.574841 
0.0456833 1.00737 -0.0109461 1.03952 
-0.0251922 0.00836754 1.04094 -0.117184 
0 0 0 1 


real	0m10.606s
user	0m18.612s
sys	0m0.412s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.698552
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1028
Level     0,  Iter     1:    Energy =   0.1102
Level     0,  Iter     2:    Energy =   0.1164
Level     0,  Iter     3:    Energy =   0.1199
Level     0,  Iter     4:    Energy =   0.1223
Level     0,  Iter     5:    Energy =   0.1240
Level     0,  Iter     6:    Energy =   0.1253
Level     0,  Iter     7:    Energy =   0.1264
Level     0,  Iter     8:    Energy =   0.1272
Level     0,  Iter     9:    Energy =   0.1278
Level     0,  Iter    10:    Energy =   0.1285
Level     0,  Iter    11:    Energy =   0.1289
Level     0,  Iter    12:    Energy =   0.1295
Level     0,  Iter    13:    Energy =   0.1299
Level     0,  Iter    14:    Energy =   0.1304
Level     0,  Iter    15:    Energy =   0.1306
Level     0,  Iter    16:    Energy =   0.1310
Level     0,  Iter    17:    Energy =   0.1312
Level     0,  Iter    18:    Energy =   0.1315
Level     0,  Iter    19:    Energy =   0.1316
Level     0,  Iter    20:    Energy =   0.1318
Level     0,  Iter    21:    Energy =   0.1319
Level     0,  Iter    22:    Energy =   0.1321
Level     0,  Iter    23:    Energy =   0.1321
Level     0,  Iter    24:    Energy =   0.1323
Level     0,  Iter    25:    Energy =   0.1324
Level     0,  Iter    26:    Energy =   0.1325
Level     0,  Iter    27:    Energy =   0.1326
Level     0,  Iter    28:    Energy =   0.1327
Level     0,  Iter    29:    Energy =   0.1328
Level     0,  Iter    30:    Energy =   0.1330
Level     0,  Iter    31:    Energy =   0.1329
Level     0,  Iter    32:    Energy =   0.1331
Level     0,  Iter    33:    Energy =   0.1331
Level     0,  Iter    34:    Energy =   0.1332
Level     0,  Iter    35:    Energy =   0.1331
Level     0,  Iter    36:    Energy =   0.1333
Level     0,  Iter    37:    Energy =   0.1332
Level     0,  Iter    38:    Energy =   0.1334
Level     0,  Iter    39:    Energy =   0.1333
Level     0,  Iter    40:    Energy =   0.1334
Level     0,  Iter    41:    Energy =   0.1333
Level     0,  Iter    42:    Energy =   0.1334
Level     0,  Iter    43:    Energy =   0.1333
Level     0,  Iter    44:    Energy =   0.1335
Level     0,  Iter    45:    Energy =   0.1334
Level     0,  Iter    46:    Energy =   0.1335
Level     0,  Iter    47:    Energy =   0.1334
Level     0,  Iter    48:    Energy =   0.1336
Level     0,  Iter    49:    Energy =   0.1335
Level     0,  Iter    50:    Energy =   0.1336
Level     0,  Iter    51:    Energy =   0.1335
Level     0,  Iter    52:    Energy =   0.1337
Level     0,  Iter    53:    Energy =   0.1336
Level     0,  Iter    54:    Energy =   0.1337
Level     0,  Iter    55:    Energy =   0.1335
Level     0,  Iter    56:    Energy =   0.1337
Level     0,  Iter    57:    Energy =   0.1336
Level     0,  Iter    58:    Energy =   0.1337
Level     0,  Iter    59:    Energy =   0.1335
END OF LEVEL     0    DetJac Range:   0.3685  to   1.8911 
  Avg. Gradient Time  : 0.0083s  34.43% 
  Avg. Gaussian Time  : 0.0121s  49.96% 
  Avg. Iteration Time : 0.0243s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0983
Level     1,  Iter     1:    Energy =   0.1043
Level     1,  Iter     2:    Energy =   0.1086
Level     1,  Iter     3:    Energy =   0.1122
Level     1,  Iter     4:    Energy =   0.1149
Level     1,  Iter     5:    Energy =   0.1175
Level     1,  Iter     6:    Energy =   0.1196
Level     1,  Iter     7:    Energy =   0.1215
Level     1,  Iter     8:    Energy =   0.1224
Level     1,  Iter     9:    Energy =   0.1233
Level     1,  Iter    10:    Energy =   0.1234
Level     1,  Iter    11:    Energy =   0.1243
Level     1,  Iter    12:    Energy =   0.1246
Level     1,  Iter    13:    Energy =   0.1248
Level     1,  Iter    14:    Energy =   0.1249
Level     1,  Iter    15:    Energy =   0.1254
Level     1,  Iter    16:    Energy =   0.1253
Level     1,  Iter    17:    Energy =   0.1260
Level     1,  Iter    18:    Energy =   0.1258
Level     1,  Iter    19:    Energy =   0.1265
Level     1,  Iter    20:    Energy =   0.1263
Level     1,  Iter    21:    Energy =   0.1269
Level     1,  Iter    22:    Energy =   0.1266
Level     1,  Iter    23:    Energy =   0.1272
Level     1,  Iter    24:    Energy =   0.1270
Level     1,  Iter    25:    Energy =   0.1274
Level     1,  Iter    26:    Energy =   0.1271
Level     1,  Iter    27:    Energy =   0.1277
Level     1,  Iter    28:    Energy =   0.1275
Level     1,  Iter    29:    Energy =   0.1279
Level     1,  Iter    30:    Energy =   0.1275
Level     1,  Iter    31:    Energy =   0.1281
Level     1,  Iter    32:    Energy =   0.1279
Level     1,  Iter    33:    Energy =   0.1281
Level     1,  Iter    34:    Energy =   0.1278
Level     1,  Iter    35:    Energy =   0.1283
Level     1,  Iter    36:    Energy =   0.1281
Level     1,  Iter    37:    Energy =   0.1284
Level     1,  Iter    38:    Energy =   0.1280
Level     1,  Iter    39:    Energy =   0.1285
Level     1,  Iter    40:    Energy =   0.1283
Level     1,  Iter    41:    Energy =   0.1287
Level     1,  Iter    42:    Energy =   0.1283
Level     1,  Iter    43:    Energy =   0.1287
Level     1,  Iter    44:    Energy =   0.1285
Level     1,  Iter    45:    Energy =   0.1288
Level     1,  Iter    46:    Energy =   0.1284
Level     1,  Iter    47:    Energy =   0.1288
Level     1,  Iter    48:    Energy =   0.1287
Level     1,  Iter    49:    Energy =   0.1289
Level     1,  Iter    50:    Energy =   0.1285
Level     1,  Iter    51:    Energy =   0.1290
Level     1,  Iter    52:    Energy =   0.1288
Level     1,  Iter    53:    Energy =   0.1290
Level     1,  Iter    54:    Energy =   0.1287
Level     1,  Iter    55:    Energy =   0.1291
Level     1,  Iter    56:    Energy =   0.1290
Level     1,  Iter    57:    Energy =   0.1291
Level     1,  Iter    58:    Energy =   0.1288
Level     1,  Iter    59:    Energy =   0.1292
END OF LEVEL     1    DetJac Range:   0.1404  to   3.4456 
  Avg. Gradient Time  : 0.0469s  32.74% 
  Avg. Gaussian Time  : 0.0777s  54.26% 
  Avg. Iteration Time : 0.1432s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0686
Level     2,  Iter     1:    Energy =   0.0714
Level     2,  Iter     2:    Energy =   0.0742
Level     2,  Iter     3:    Energy =   0.0764
Level     2,  Iter     4:    Energy =   0.0778
Level     2,  Iter     5:    Energy =   0.0791
Level     2,  Iter     6:    Energy =   0.0807
Level     2,  Iter     7:    Energy =   0.0818
Level     2,  Iter     8:    Energy =   0.0823
Level     2,  Iter     9:    Energy =   0.0829
Level     2,  Iter    10:    Energy =   0.0835
Level     2,  Iter    11:    Energy =   0.0838
Level     2,  Iter    12:    Energy =   0.0846
Level     2,  Iter    13:    Energy =   0.0847
Level     2,  Iter    14:    Energy =   0.0856
Level     2,  Iter    15:    Energy =   0.0856
Level     2,  Iter    16:    Energy =   0.0864
Level     2,  Iter    17:    Energy =   0.0863
Level     2,  Iter    18:    Energy =   0.0873
Level     2,  Iter    19:    Energy =   0.0870
END OF LEVEL     2    DetJac Range:   0.1416  to   4.6569 
  Avg. Gradient Time  : 0.3293s  30.57% 
  Avg. Gaussian Time  : 0.5989s  55.61% 
  Avg. Iteration Time : 1.0769s 

real	0m36.880s
user	1m7.376s
sys	0m1.572s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.292308 0.298077
+ echo 'CHUNK 0.292308 0.298077 1'
CHUNK 0.292308 0.298077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.292308 0.298077 1
====================================
         PROGRESS: 0.292308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 017 left 0
+ local tid=017
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.410941
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3397.97   GNORM= 293.034
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3440.017     275.538       0.001
   2    4     -3463.272      79.766       1.000
   3    5     -3467.160      65.971       1.000
   4    6     -3473.160      57.569       1.000
   5    7     -3487.146      92.005       1.000
   6    8     -3500.823     109.637       1.000
   7    9     -3504.622     328.499       1.000
   8   10     -3525.177     114.653       1.000
   9   11     -3531.043      62.117       1.000
  10   12     -3533.884      53.838       1.000
  11   13     -3536.736      51.816       1.000
  12   14     -3550.599      34.018       1.000
  13   16     -3551.984      45.866       0.224
  14   18     -3552.487      41.628       0.262
  15   19     -3552.854      17.378       1.000
  16   20     -3553.007      19.855       1.000
  17   21     -3553.326      26.020       1.000
  18   22     -3553.871      38.447       1.000
  19   23     -3554.474      29.056       1.000
  20   24     -3555.383      34.209       1.000
  21   25     -3556.043      14.276       1.000
  22   26     -3556.146      24.572       1.000
  23   27     -3556.329      12.104       1.000
  24   28     -3556.455      12.474       1.000
  25   29     -3556.645      14.235       1.000
  26   30     -3556.834      11.876       1.000
  27   32     -3557.454      15.325       0.505
  28   33     -3557.577      36.363       1.000
  29   34     -3557.864       9.616       1.000
  30   35     -3557.998      10.081       1.000
  31   37     -3558.230      16.643       0.102
  32   38     -3558.406      15.173       1.000
  33   39     -3558.557      13.976       1.000
  34   40     -3558.749       9.784       1.000
  35   42     -3558.944      15.355       0.201
  36   43     -3559.067      14.963       1.000
  37   44     -3559.266       9.677       1.000
  38   46     -3559.335       7.551       0.477
  39   47     -3559.389       6.078       1.000
  40   49     -3559.414       8.062       0.229
  41   50     -3559.543      10.442       1.000
  42   51     -3559.546      20.667       1.000
  43   52     -3559.636      14.552       1.000
  44   54     -3559.672       4.698       0.241
  45   55     -3559.690       3.366       1.000
  46   56     -3559.698       3.241       1.000
  47   58     -3559.705       7.303       0.102
  48   59     -3559.715       8.804       1.000
  49   60     -3559.743       6.611       1.000
  50   61     -3559.765       6.774       1.000
Final RAS Transform: 
0.944414 -0.00385564 0.0512885 -1.37751 
0.0340701 1.01257 0.025929 0.76499 
-0.0293822 -0.002939 1.02758 -0.538863 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2503.8   GNORM= 253.65
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2515.544      74.610       0.000
   2    4     -2517.201      46.581       1.000
   3    5     -2518.315      41.401       1.000
   4    6     -2520.695      46.799       1.000
   5    7     -2523.307      55.170       1.000
   6    8     -2533.649      60.466       1.000
   7   10     -2537.543     113.256       0.511
   8   11     -2542.951      61.135       1.000
   9   12     -2546.398      27.129       1.000
  10   13     -2547.204      18.937       1.000
  11   14     -2547.908      22.256       1.000
  12   15     -2549.046      32.480       1.000
  13   16     -2550.294      28.157       1.000
  14   17     -2552.950      72.370       1.000
  15   18     -2554.269      52.246       1.000
  16   19     -2554.872      33.449       1.000
  17   20     -2556.010      27.932       1.000
  18   21     -2556.779      28.024       1.000
  19   22     -2557.887      35.547       1.000
  20   23     -2558.573      56.393       1.000
  21   24     -2559.824      22.421       1.000
  22   25     -2560.474      15.669       1.000
  23   26     -2561.809      16.252       1.000
  24   28     -2562.062      30.917       0.295
  25   29     -2562.290      15.849       1.000
  26   30     -2562.361       8.643       1.000
  27   31     -2562.433      11.756       1.000
  28   32     -2562.544      20.128       1.000
  29   33     -2562.800      23.345       1.000
  30   34     -2563.006      13.173       1.000
  31   35     -2563.181      15.204       1.000
  32   36     -2563.254      12.364       1.000
  33   38     -2563.384      17.109       0.266
  34   39     -2563.593      13.945       1.000
  35   40     -2563.891      11.829       1.000
  36   41     -2564.042       8.746       1.000
  37   42     -2564.178      14.209       1.000
  38   43     -2564.375      12.520       1.000
  39   44     -2564.508      13.121       1.000
  40   45     -2564.549       9.167       1.000
  41   46     -2564.584       5.485       1.000
  42   47     -2564.614       4.816       1.000
  43   48     -2564.674       5.792       1.000
  44   49     -2564.930      14.880       1.000
  45   50     -2564.985      18.025       1.000
  46   52     -2565.072       7.985       0.364
  47   53     -2565.116       5.483       1.000
  48   54     -2565.180       8.359       1.000
  49   55     -2565.229       8.872       1.000
  50   56     -2565.259       5.687       1.000
  51   57     -2565.283       7.008       1.000
  52   58     -2565.306       9.529       1.000
  53   59     -2565.326       4.999       1.000
  54   60     -2565.326       3.967       1.000
  55   61     -2565.337       3.173       1.000
Final RAS Transform: 
0.979757 -0.00518584 0.024664 -0.397961 
0.0136352 1.01294 0.0411287 0.343346 
-0.0171839 -0.000171772 1.02714 -0.203188 
0 0 0 1 

Final RAS Transform: 
0.979757 -0.00518584 0.024664 -0.397961 
0.0136352 1.01294 0.0411287 0.343346 
-0.0171839 -0.000171772 1.02714 -0.203188 
0 0 0 1 


real	0m9.380s
user	0m16.352s
sys	0m0.488s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.423753
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1028
Level     0,  Iter     1:    Energy =   0.1108
Level     0,  Iter     2:    Energy =   0.1172
Level     0,  Iter     3:    Energy =   0.1216
Level     0,  Iter     4:    Energy =   0.1248
Level     0,  Iter     5:    Energy =   0.1261
Level     0,  Iter     6:    Energy =   0.1271
Level     0,  Iter     7:    Energy =   0.1280
Level     0,  Iter     8:    Energy =   0.1285
Level     0,  Iter     9:    Energy =   0.1294
Level     0,  Iter    10:    Energy =   0.1298
Level     0,  Iter    11:    Energy =   0.1305
Level     0,  Iter    12:    Energy =   0.1307
Level     0,  Iter    13:    Energy =   0.1312
Level     0,  Iter    14:    Energy =   0.1314
Level     0,  Iter    15:    Energy =   0.1318
Level     0,  Iter    16:    Energy =   0.1319
Level     0,  Iter    17:    Energy =   0.1322
Level     0,  Iter    18:    Energy =   0.1323
Level     0,  Iter    19:    Energy =   0.1325
Level     0,  Iter    20:    Energy =   0.1326
Level     0,  Iter    21:    Energy =   0.1329
Level     0,  Iter    22:    Energy =   0.1329
Level     0,  Iter    23:    Energy =   0.1332
Level     0,  Iter    24:    Energy =   0.1332
Level     0,  Iter    25:    Energy =   0.1335
Level     0,  Iter    26:    Energy =   0.1335
Level     0,  Iter    27:    Energy =   0.1336
Level     0,  Iter    28:    Energy =   0.1337
Level     0,  Iter    29:    Energy =   0.1337
Level     0,  Iter    30:    Energy =   0.1337
Level     0,  Iter    31:    Energy =   0.1338
Level     0,  Iter    32:    Energy =   0.1338
Level     0,  Iter    33:    Energy =   0.1338
Level     0,  Iter    34:    Energy =   0.1338
Level     0,  Iter    35:    Energy =   0.1339
Level     0,  Iter    36:    Energy =   0.1339
Level     0,  Iter    37:    Energy =   0.1340
Level     0,  Iter    38:    Energy =   0.1340
Level     0,  Iter    39:    Energy =   0.1340
Level     0,  Iter    40:    Energy =   0.1340
Level     0,  Iter    41:    Energy =   0.1342
Level     0,  Iter    42:    Energy =   0.1341
Level     0,  Iter    43:    Energy =   0.1341
Level     0,  Iter    44:    Energy =   0.1341
Level     0,  Iter    45:    Energy =   0.1342
Level     0,  Iter    46:    Energy =   0.1341
Level     0,  Iter    47:    Energy =   0.1341
Level     0,  Iter    48:    Energy =   0.1341
Level     0,  Iter    49:    Energy =   0.1342
Level     0,  Iter    50:    Energy =   0.1341
Level     0,  Iter    51:    Energy =   0.1342
Level     0,  Iter    52:    Energy =   0.1341
Level     0,  Iter    53:    Energy =   0.1342
Level     0,  Iter    54:    Energy =   0.1342
Level     0,  Iter    55:    Energy =   0.1342
Level     0,  Iter    56:    Energy =   0.1342
Level     0,  Iter    57:    Energy =   0.1342
Level     0,  Iter    58:    Energy =   0.1342
Level     0,  Iter    59:    Energy =   0.1343
END OF LEVEL     0    DetJac Range:   0.3548  to   1.7894 
  Avg. Gradient Time  : 0.0072s  34.96% 
  Avg. Gaussian Time  : 0.0101s  49.25% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0914
Level     1,  Iter     1:    Energy =   0.0966
Level     1,  Iter     2:    Energy =   0.0997
Level     1,  Iter     3:    Energy =   0.1026
Level     1,  Iter     4:    Energy =   0.1063
Level     1,  Iter     5:    Energy =   0.1100
Level     1,  Iter     6:    Energy =   0.1126
Level     1,  Iter     7:    Energy =   0.1150
Level     1,  Iter     8:    Energy =   0.1168
Level     1,  Iter     9:    Energy =   0.1175
Level     1,  Iter    10:    Energy =   0.1177
Level     1,  Iter    11:    Energy =   0.1184
Level     1,  Iter    12:    Energy =   0.1186
Level     1,  Iter    13:    Energy =   0.1190
Level     1,  Iter    14:    Energy =   0.1192
Level     1,  Iter    15:    Energy =   0.1197
Level     1,  Iter    16:    Energy =   0.1197
Level     1,  Iter    17:    Energy =   0.1208
Level     1,  Iter    18:    Energy =   0.1206
Level     1,  Iter    19:    Energy =   0.1217
Level     1,  Iter    20:    Energy =   0.1215
Level     1,  Iter    21:    Energy =   0.1220
Level     1,  Iter    22:    Energy =   0.1217
Level     1,  Iter    23:    Energy =   0.1226
Level     1,  Iter    24:    Energy =   0.1223
Level     1,  Iter    25:    Energy =   0.1228
Level     1,  Iter    26:    Energy =   0.1224
Level     1,  Iter    27:    Energy =   0.1232
Level     1,  Iter    28:    Energy =   0.1229
Level     1,  Iter    29:    Energy =   0.1232
Level     1,  Iter    30:    Energy =   0.1229
Level     1,  Iter    31:    Energy =   0.1236
Level     1,  Iter    32:    Energy =   0.1233
Level     1,  Iter    33:    Energy =   0.1235
Level     1,  Iter    34:    Energy =   0.1232
Level     1,  Iter    35:    Energy =   0.1239
Level     1,  Iter    36:    Energy =   0.1236
Level     1,  Iter    37:    Energy =   0.1240
Level     1,  Iter    38:    Energy =   0.1236
Level     1,  Iter    39:    Energy =   0.1242
Level     1,  Iter    40:    Energy =   0.1241
Level     1,  Iter    41:    Energy =   0.1242
Level     1,  Iter    42:    Energy =   0.1238
Level     1,  Iter    43:    Energy =   0.1242
Level     1,  Iter    44:    Energy =   0.1242
Level     1,  Iter    45:    Energy =   0.1242
Level     1,  Iter    46:    Energy =   0.1238
Level     1,  Iter    47:    Energy =   0.1243
Level     1,  Iter    48:    Energy =   0.1242
Level     1,  Iter    49:    Energy =   0.1244
Level     1,  Iter    50:    Energy =   0.1240
Level     1,  Iter    51:    Energy =   0.1244
Level     1,  Iter    52:    Energy =   0.1245
Level     1,  Iter    53:    Energy =   0.1245
Level     1,  Iter    54:    Energy =   0.1241
Level     1,  Iter    55:    Energy =   0.1246
Level     1,  Iter    56:    Energy =   0.1246
Level     1,  Iter    57:    Energy =   0.1247
Level     1,  Iter    58:    Energy =   0.1242
Level     1,  Iter    59:    Energy =   0.1247
END OF LEVEL     1    DetJac Range:   0.1617  to   3.5886 
  Avg. Gradient Time  : 0.0411s  32.63% 
  Avg. Gaussian Time  : 0.0687s  54.58% 
  Avg. Iteration Time : 0.1259s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0641
Level     2,  Iter     1:    Energy =   0.0673
Level     2,  Iter     2:    Energy =   0.0700
Level     2,  Iter     3:    Energy =   0.0724
Level     2,  Iter     4:    Energy =   0.0740
Level     2,  Iter     5:    Energy =   0.0752
Level     2,  Iter     6:    Energy =   0.0764
Level     2,  Iter     7:    Energy =   0.0775
Level     2,  Iter     8:    Energy =   0.0785
Level     2,  Iter     9:    Energy =   0.0794
Level     2,  Iter    10:    Energy =   0.0803
Level     2,  Iter    11:    Energy =   0.0812
Level     2,  Iter    12:    Energy =   0.0821
Level     2,  Iter    13:    Energy =   0.0829
Level     2,  Iter    14:    Energy =   0.0837
Level     2,  Iter    15:    Energy =   0.0845
Level     2,  Iter    16:    Energy =   0.0852
Level     2,  Iter    17:    Energy =   0.0858
Level     2,  Iter    18:    Energy =   0.0856
Level     2,  Iter    19:    Energy =   0.0861
END OF LEVEL     2    DetJac Range:   0.0607  to   4.9710 
  Avg. Gradient Time  : 0.2918s  30.82% 
  Avg. Gaussian Time  : 0.5263s  55.58% 
  Avg. Iteration Time : 0.9470s 

real	0m32.382s
user	0m59.060s
sys	0m1.296s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.298077 0.303846
+ echo 'CHUNK 0.298077 0.303846 1'
CHUNK 0.298077 0.303846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.298077 0.303846 1
====================================
         PROGRESS: 0.298077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 018 left 0
+ local tid=018
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.628946
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3792.33   GNORM= 324.471
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3815.906     200.580       0.000
   2    4     -3828.427     138.736       1.000
   3    5     -3843.275     108.094       1.000
   4    6     -3853.694     103.088       1.000
   5    7     -3899.402     328.969       1.000
   6    8     -3920.087     163.057       1.000
   7    9     -3933.968      79.706       1.000
   8   10     -3937.449      65.566       1.000
   9   11     -3942.496      94.391       1.000
  10   12     -3947.480      65.368       1.000
  11   13     -3955.999      62.554       1.000
  12   14     -3961.478      80.876       1.000
  13   15     -3965.869      33.206       1.000
  14   16     -3967.651      29.550       1.000
  15   17     -3968.901      34.363       1.000
  16   19     -3969.337      31.431       0.218
  17   20     -3969.948      28.526       1.000
  18   21     -3971.016      33.008       1.000
  19   22     -3971.963      22.908       1.000
  20   23     -3972.744      23.977       1.000
  21   24     -3973.034      42.526       1.000
  22   25     -3973.517      22.211       1.000
  23   26     -3973.684      12.990       1.000
  24   27     -3973.889      16.064       1.000
  25   28     -3974.067      10.495       1.000
  26   29     -3974.199      11.196       1.000
  27   31     -3974.302      15.838       0.366
  28   32     -3974.382      16.637       1.000
  29   33     -3974.507      15.810       1.000
  30   34     -3974.628      11.282       1.000
  31   35     -3974.749      15.590       1.000
  32   36     -3974.922      15.670       1.000
  33   37     -3974.999      25.217       1.000
  34   38     -3975.099      18.916       1.000
  35   39     -3975.138      12.900       1.000
  36   40     -3975.183       6.569       1.000
  37   41     -3975.192       5.973       1.000
  38   42     -3975.199       3.536       1.000
  39   43     -3975.205       2.364       1.000
  40   44     -3975.219       6.526       1.000
  41   45     -3975.239       8.671       1.000
  42   47     -3975.251       8.995       0.325
  43   48     -3975.279       7.982       1.000
  44   49     -3975.283       9.212       1.000
  45   50     -3975.296       6.780       1.000
  46   52     -3975.307       2.023       0.193
  47   53     -3975.307       3.624       1.000
  48   54     -3975.308       5.581       1.000
  49   55     -3975.312       2.397       1.000
Final RAS Transform: 
0.967143 0.0126289 0.0864968 -0.339058 
0.0419951 0.99624 0.0215764 0.749696 
-0.0220315 0.00919393 1.03454 0.0696392 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2731.75   GNORM= 235.004
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2741.883      70.233       0.000
   2    4     -2743.417      39.505       1.000
   3    5     -2744.253      37.314       1.000
   4    6     -2745.781      36.833       1.000
   5    7     -2748.902      72.165       1.000
   6    8     -2753.176      76.616       1.000
   7    9     -2764.408      80.289       1.000
   8   11     -2765.638      61.167       0.104
   9   12     -2767.471      37.667       1.000
  10   13     -2769.076      34.447       1.000
  11   14     -2770.811      29.312       1.000
  12   15     -2772.776      32.418       1.000
  13   17     -2773.686      18.195       0.516
  14   18     -2774.094      40.152       1.000
  15   19     -2774.718      32.077       1.000
  16   20     -2776.478      47.984       1.000
  17   21     -2778.021      40.687       1.000
  18   22     -2779.320      18.123       1.000
  19   23     -2779.674      18.494       1.000
  20   24     -2779.803      37.097       1.000
  21   25     -2780.050      24.092       1.000
  22   26     -2780.941      15.093       1.000
  23   27     -2782.027      40.656       1.000
  24   28     -2782.467      30.257       1.000
  25   29     -2782.781       7.664       1.000
  26   30     -2782.828       7.016       1.000
  27   32     -2782.976      13.532       5.000
  28   33     -2783.161      17.162       1.000
  29   34     -2783.194      20.252       1.000
  30   35     -2783.444      10.372       1.000
  31   36     -2783.531      18.798       1.000
  32   37     -2783.600       6.773       1.000
  33   38     -2783.659       6.044       1.000
  34   39     -2783.698      17.932       1.000
  35   40     -2783.802      11.377       1.000
  36   41     -2783.828       6.750       1.000
  37   42     -2783.839       5.646       1.000
  38   44     -2783.869       3.094       0.435
  39   45     -2783.883       2.737       1.000
  40   47     -2783.910       4.010       0.210
  41   48     -2783.947       4.468       1.000
  42   49     -2783.976       7.138       1.000
  43   50     -2784.034       4.806       1.000
  44   52     -2784.063      12.499       0.328
  45   53     -2784.109       7.813       1.000
  46   54     -2784.127       1.940       1.000
  47   55     -2784.131       3.576       1.000
  48   56     -2784.134       3.844       1.000
  49   57     -2784.137       4.578       1.000
  50   58     -2784.156       7.233       1.000
  51   59     -2784.163       2.672       1.000
  52   60     -2784.168       4.499       1.000
  53   61     -2784.176       3.399       1.000
Final RAS Transform: 
0.97976 -0.00634976 0.0333206 -0.573456 
0.0310531 0.997463 0.0249174 0.472628 
-0.016514 0.013337 1.02898 0.236551 
0 0 0 1 

Final RAS Transform: 
0.97976 -0.00634976 0.0333206 -0.573456 
0.0310531 0.997463 0.0249174 0.472628 
-0.016514 0.013337 1.02898 0.236551 
0 0 0 1 


real	0m9.479s
user	0m16.532s
sys	0m0.412s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.64485
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1176
Level     0,  Iter     1:    Energy =   0.1247
Level     0,  Iter     2:    Energy =   0.1300
Level     0,  Iter     3:    Energy =   0.1352
Level     0,  Iter     4:    Energy =   0.1386
Level     0,  Iter     5:    Energy =   0.1404
Level     0,  Iter     6:    Energy =   0.1416
Level     0,  Iter     7:    Energy =   0.1426
Level     0,  Iter     8:    Energy =   0.1431
Level     0,  Iter     9:    Energy =   0.1438
Level     0,  Iter    10:    Energy =   0.1442
Level     0,  Iter    11:    Energy =   0.1446
Level     0,  Iter    12:    Energy =   0.1451
Level     0,  Iter    13:    Energy =   0.1453
Level     0,  Iter    14:    Energy =   0.1458
Level     0,  Iter    15:    Energy =   0.1461
Level     0,  Iter    16:    Energy =   0.1467
Level     0,  Iter    17:    Energy =   0.1468
Level     0,  Iter    18:    Energy =   0.1472
Level     0,  Iter    19:    Energy =   0.1473
Level     0,  Iter    20:    Energy =   0.1476
Level     0,  Iter    21:    Energy =   0.1477
Level     0,  Iter    22:    Energy =   0.1480
Level     0,  Iter    23:    Energy =   0.1480
Level     0,  Iter    24:    Energy =   0.1483
Level     0,  Iter    25:    Energy =   0.1483
Level     0,  Iter    26:    Energy =   0.1485
Level     0,  Iter    27:    Energy =   0.1485
Level     0,  Iter    28:    Energy =   0.1487
Level     0,  Iter    29:    Energy =   0.1487
Level     0,  Iter    30:    Energy =   0.1488
Level     0,  Iter    31:    Energy =   0.1489
Level     0,  Iter    32:    Energy =   0.1489
Level     0,  Iter    33:    Energy =   0.1491
Level     0,  Iter    34:    Energy =   0.1491
Level     0,  Iter    35:    Energy =   0.1493
Level     0,  Iter    36:    Energy =   0.1492
Level     0,  Iter    37:    Energy =   0.1493
Level     0,  Iter    38:    Energy =   0.1492
Level     0,  Iter    39:    Energy =   0.1494
Level     0,  Iter    40:    Energy =   0.1493
Level     0,  Iter    41:    Energy =   0.1495
Level     0,  Iter    42:    Energy =   0.1494
Level     0,  Iter    43:    Energy =   0.1494
Level     0,  Iter    44:    Energy =   0.1493
Level     0,  Iter    45:    Energy =   0.1494
Level     0,  Iter    46:    Energy =   0.1493
Level     0,  Iter    47:    Energy =   0.1494
Level     0,  Iter    48:    Energy =   0.1493
Level     0,  Iter    49:    Energy =   0.1493
Level     0,  Iter    50:    Energy =   0.1493
Level     0,  Iter    51:    Energy =   0.1493
Level     0,  Iter    52:    Energy =   0.1493
Level     0,  Iter    53:    Energy =   0.1493
Level     0,  Iter    54:    Energy =   0.1493
Level     0,  Iter    55:    Energy =   0.1493
Level     0,  Iter    56:    Energy =   0.1492
Level     0,  Iter    57:    Energy =   0.1493
Level     0,  Iter    58:    Energy =   0.1492
Level     0,  Iter    59:    Energy =   0.1493
END OF LEVEL     0    DetJac Range:   0.3000  to   2.0079 
  Avg. Gradient Time  : 0.0072s  34.80% 
  Avg. Gaussian Time  : 0.0102s  49.32% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1002
Level     1,  Iter     1:    Energy =   0.1055
Level     1,  Iter     2:    Energy =   0.1095
Level     1,  Iter     3:    Energy =   0.1124
Level     1,  Iter     4:    Energy =   0.1151
Level     1,  Iter     5:    Energy =   0.1167
Level     1,  Iter     6:    Energy =   0.1184
Level     1,  Iter     7:    Energy =   0.1202
Level     1,  Iter     8:    Energy =   0.1220
Level     1,  Iter     9:    Energy =   0.1238
Level     1,  Iter    10:    Energy =   0.1253
Level     1,  Iter    11:    Energy =   0.1267
Level     1,  Iter    12:    Energy =   0.1268
Level     1,  Iter    13:    Energy =   0.1274
Level     1,  Iter    14:    Energy =   0.1272
Level     1,  Iter    15:    Energy =   0.1281
Level     1,  Iter    16:    Energy =   0.1280
Level     1,  Iter    17:    Energy =   0.1284
Level     1,  Iter    18:    Energy =   0.1282
Level     1,  Iter    19:    Energy =   0.1286
Level     1,  Iter    20:    Energy =   0.1286
Level     1,  Iter    21:    Energy =   0.1287
Level     1,  Iter    22:    Energy =   0.1288
Level     1,  Iter    23:    Energy =   0.1288
Level     1,  Iter    24:    Energy =   0.1291
Level     1,  Iter    25:    Energy =   0.1290
Level     1,  Iter    26:    Energy =   0.1294
Level     1,  Iter    27:    Energy =   0.1293
Level     1,  Iter    28:    Energy =   0.1298
Level     1,  Iter    29:    Energy =   0.1297
Level     1,  Iter    30:    Energy =   0.1299
Level     1,  Iter    31:    Energy =   0.1298
Level     1,  Iter    32:    Energy =   0.1300
Level     1,  Iter    33:    Energy =   0.1299
Level     1,  Iter    34:    Energy =   0.1302
Level     1,  Iter    35:    Energy =   0.1300
Level     1,  Iter    36:    Energy =   0.1303
Level     1,  Iter    37:    Energy =   0.1301
Level     1,  Iter    38:    Energy =   0.1304
Level     1,  Iter    39:    Energy =   0.1302
Level     1,  Iter    40:    Energy =   0.1305
Level     1,  Iter    41:    Energy =   0.1303
Level     1,  Iter    42:    Energy =   0.1306
Level     1,  Iter    43:    Energy =   0.1304
Level     1,  Iter    44:    Energy =   0.1307
Level     1,  Iter    45:    Energy =   0.1305
Level     1,  Iter    46:    Energy =   0.1308
Level     1,  Iter    47:    Energy =   0.1305
Level     1,  Iter    48:    Energy =   0.1309
Level     1,  Iter    49:    Energy =   0.1307
Level     1,  Iter    50:    Energy =   0.1309
Level     1,  Iter    51:    Energy =   0.1307
Level     1,  Iter    52:    Energy =   0.1310
Level     1,  Iter    53:    Energy =   0.1308
Level     1,  Iter    54:    Energy =   0.1310
Level     1,  Iter    55:    Energy =   0.1308
Level     1,  Iter    56:    Energy =   0.1311
Level     1,  Iter    57:    Energy =   0.1309
Level     1,  Iter    58:    Energy =   0.1311
Level     1,  Iter    59:    Energy =   0.1309
END OF LEVEL     1    DetJac Range:   0.1064  to   2.7819 
  Avg. Gradient Time  : 0.0412s  32.73% 
  Avg. Gaussian Time  : 0.0685s  54.47% 
  Avg. Iteration Time : 0.1258s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0677
Level     2,  Iter     1:    Energy =   0.0709
Level     2,  Iter     2:    Energy =   0.0734
Level     2,  Iter     3:    Energy =   0.0755
Level     2,  Iter     4:    Energy =   0.0773
Level     2,  Iter     5:    Energy =   0.0788
Level     2,  Iter     6:    Energy =   0.0806
Level     2,  Iter     7:    Energy =   0.0822
Level     2,  Iter     8:    Energy =   0.0835
Level     2,  Iter     9:    Energy =   0.0847
Level     2,  Iter    10:    Energy =   0.0855
Level     2,  Iter    11:    Energy =   0.0861
Level     2,  Iter    12:    Energy =   0.0868
Level     2,  Iter    13:    Energy =   0.0876
Level     2,  Iter    14:    Energy =   0.0884
Level     2,  Iter    15:    Energy =   0.0889
Level     2,  Iter    16:    Energy =   0.0894
Level     2,  Iter    17:    Energy =   0.0897
Level     2,  Iter    18:    Energy =   0.0897
Level     2,  Iter    19:    Energy =   0.0900
END OF LEVEL     2    DetJac Range:   0.0655  to   4.6310 
  Avg. Gradient Time  : 0.2906s  30.74% 
  Avg. Gaussian Time  : 0.5260s  55.64% 
  Avg. Iteration Time : 0.9454s 

real	0m32.337s
user	0m58.928s
sys	0m1.360s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.303846 0.309615
+ echo 'CHUNK 0.303846 0.309615 1'
CHUNK 0.303846 0.309615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.303846 0.309615 1
====================================
         PROGRESS: 0.303846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 019 left 0
+ local tid=019
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.456454
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3358.51   GNORM= 268.827
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3385.192     261.515       0.001
   2    4     -3406.837     181.944       1.000
   3    5     -3422.367      76.584       1.000
   4    6     -3430.533      85.631       1.000
   5    7     -3445.205     115.556       1.000
   6    8     -3460.064     133.329       1.000
   7    9     -3483.055      95.792       1.000
   8   10     -3493.985     108.714       1.000
   9   11     -3499.114      86.094       1.000
  10   12     -3501.990      66.393       1.000
  11   13     -3505.467      69.758       1.000
  12   14     -3508.397      52.830       1.000
  13   15     -3515.597      46.962       1.000
  14   17     -3520.916      50.044       0.506
  15   18     -3524.118      38.236       1.000
  16   19     -3525.412      85.173       1.000
  17   20     -3527.074      29.641       1.000
  18   21     -3527.541      20.034       1.000
  19   22     -3528.019      17.875       1.000
  20   23     -3529.607      18.887       1.000
  21   25     -3530.101      23.781       0.409
  22   26     -3530.403      11.308       1.000
  23   27     -3530.546      12.972       1.000
  24   28     -3530.608       9.687       1.000
  25   29     -3530.685       8.076       1.000
  26   30     -3530.820      17.067       1.000
  27   31     -3531.143      22.014       1.000
  28   33     -3531.269       8.139       0.493
  29   34     -3531.310       8.400       1.000
  30   36     -3531.341       4.099       0.342
  31   37     -3531.360       5.758       1.000
  32   39     -3531.362       6.018       0.482
  33   40     -3531.375       2.473       1.000
  34   41     -3531.393       3.838       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.937274 -0.00398435 0.0572992 -1.53858 
0.0158873 1.0088 0.0196884 0.251591 
-0.0164763 -0.00173281 1.035 -0.103758 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2628.32   GNORM= 299.844
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2644.842      90.977       0.000
   2    4     -2647.787      76.121       1.000
   3    5     -2652.466      68.419       1.000
   4    6     -2657.495      51.797       1.000
   5    7     -2661.616      52.182       1.000
   6    8     -2670.319      62.330       1.000
   7   10     -2673.367      97.074       0.365
   8   11     -2676.909      60.618       1.000
   9   12     -2681.853      45.065       1.000
  10   13     -2686.858      58.857       1.000
  11   14     -2691.885      35.743       1.000
  12   15     -2693.329      51.554       1.000
  13   16     -2694.381      29.620       1.000
  14   17     -2695.246      41.886       1.000
  15   18     -2696.470      40.756       1.000
  16   19     -2698.283      45.568       1.000
  17   21     -2700.494      33.391       0.351
  18   22     -2703.048      18.002       1.000
  19   23     -2703.129      76.171       1.000
  20   24     -2704.274      20.253       1.000
  21   25     -2704.647      15.157       1.000
  22   26     -2705.098      20.445       1.000
  23   27     -2706.014      35.165       1.000
  24   28     -2707.678      40.841       1.000
  25   29     -2707.768      41.049       1.000
  26   30     -2708.813      14.726       1.000
  27   31     -2709.051      33.247       1.000
  28   32     -2709.356       8.608       1.000
  29   33     -2709.475      10.910       1.000
  30   34     -2709.579      14.909       1.000
  31   35     -2709.835      12.218       1.000
  32   36     -2709.959       6.850       1.000
  33   37     -2710.104       5.220       1.000
  34   38     -2710.179       9.496       1.000
  35   40     -2710.215      11.560       0.297
  36   41     -2710.271       5.467       1.000
  37   42     -2710.348       5.587       1.000
  38   43     -2710.491       8.482       1.000
  39   44     -2710.574       8.728       1.000
  40   45     -2710.653       2.540       1.000
  41   46     -2710.673       5.774       1.000
  42   48     -2710.691       3.125       0.233
  43   49     -2710.699       2.768       1.000
  44   50     -2710.733       3.606       1.000
  45   51     -2710.739       8.229       1.000
  46   52     -2710.750       4.396       1.000
  47   53     -2710.758       1.924       1.000
  48   54     -2710.761       1.305       1.000
  49   55     -2710.762       1.763       1.000
  50   56     -2710.767       1.937       1.000
  51   58     -2710.769       3.398       0.281
  52   59     -2710.786       2.017       1.000
  53   61     -2710.792       3.671       0.370
Final RAS Transform: 
0.981388 -0.00943372 0.0314589 -0.363625 
0.0145473 1.00822 0.0312215 0.400959 
-0.0133417 -0.00140609 1.03774 -0.13722 
0 0 0 1 

Final RAS Transform: 
0.981388 -0.00943372 0.0314589 -0.363625 
0.0145473 1.00822 0.0312215 0.400959 
-0.0133417 -0.00140609 1.03774 -0.13722 
0 0 0 1 


real	0m9.394s
user	0m16.452s
sys	0m0.412s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.469109
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1027
Level     0,  Iter     1:    Energy =   0.1081
Level     0,  Iter     2:    Energy =   0.1137
Level     0,  Iter     3:    Energy =   0.1172
Level     0,  Iter     4:    Energy =   0.1192
Level     0,  Iter     5:    Energy =   0.1207
Level     0,  Iter     6:    Energy =   0.1217
Level     0,  Iter     7:    Energy =   0.1224
Level     0,  Iter     8:    Energy =   0.1232
Level     0,  Iter     9:    Energy =   0.1236
Level     0,  Iter    10:    Energy =   0.1241
Level     0,  Iter    11:    Energy =   0.1244
Level     0,  Iter    12:    Energy =   0.1248
Level     0,  Iter    13:    Energy =   0.1250
Level     0,  Iter    14:    Energy =   0.1253
Level     0,  Iter    15:    Energy =   0.1254
Level     0,  Iter    16:    Energy =   0.1257
Level     0,  Iter    17:    Energy =   0.1258
Level     0,  Iter    18:    Energy =   0.1261
Level     0,  Iter    19:    Energy =   0.1262
Level     0,  Iter    20:    Energy =   0.1264
Level     0,  Iter    21:    Energy =   0.1264
Level     0,  Iter    22:    Energy =   0.1266
Level     0,  Iter    23:    Energy =   0.1267
Level     0,  Iter    24:    Energy =   0.1269
Level     0,  Iter    25:    Energy =   0.1269
Level     0,  Iter    26:    Energy =   0.1271
Level     0,  Iter    27:    Energy =   0.1272
Level     0,  Iter    28:    Energy =   0.1274
Level     0,  Iter    29:    Energy =   0.1275
Level     0,  Iter    30:    Energy =   0.1276
Level     0,  Iter    31:    Energy =   0.1277
Level     0,  Iter    32:    Energy =   0.1278
Level     0,  Iter    33:    Energy =   0.1278
Level     0,  Iter    34:    Energy =   0.1279
Level     0,  Iter    35:    Energy =   0.1279
Level     0,  Iter    36:    Energy =   0.1280
Level     0,  Iter    37:    Energy =   0.1281
Level     0,  Iter    38:    Energy =   0.1282
Level     0,  Iter    39:    Energy =   0.1282
Level     0,  Iter    40:    Energy =   0.1283
Level     0,  Iter    41:    Energy =   0.1282
Level     0,  Iter    42:    Energy =   0.1284
Level     0,  Iter    43:    Energy =   0.1283
Level     0,  Iter    44:    Energy =   0.1284
Level     0,  Iter    45:    Energy =   0.1283
Level     0,  Iter    46:    Energy =   0.1285
Level     0,  Iter    47:    Energy =   0.1284
Level     0,  Iter    48:    Energy =   0.1285
Level     0,  Iter    49:    Energy =   0.1284
Level     0,  Iter    50:    Energy =   0.1285
Level     0,  Iter    51:    Energy =   0.1285
Level     0,  Iter    52:    Energy =   0.1286
Level     0,  Iter    53:    Energy =   0.1285
Level     0,  Iter    54:    Energy =   0.1286
Level     0,  Iter    55:    Energy =   0.1285
Level     0,  Iter    56:    Energy =   0.1286
Level     0,  Iter    57:    Energy =   0.1285
Level     0,  Iter    58:    Energy =   0.1286
Level     0,  Iter    59:    Energy =   0.1285
END OF LEVEL     0    DetJac Range:   0.4671  to   1.9481 
  Avg. Gradient Time  : 0.0071s  34.82% 
  Avg. Gaussian Time  : 0.0101s  49.38% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0925
Level     1,  Iter     1:    Energy =   0.0975
Level     1,  Iter     2:    Energy =   0.1012
Level     1,  Iter     3:    Energy =   0.1054
Level     1,  Iter     4:    Energy =   0.1087
Level     1,  Iter     5:    Energy =   0.1115
Level     1,  Iter     6:    Energy =   0.1130
Level     1,  Iter     7:    Energy =   0.1148
Level     1,  Iter     8:    Energy =   0.1156
Level     1,  Iter     9:    Energy =   0.1162
Level     1,  Iter    10:    Energy =   0.1165
Level     1,  Iter    11:    Energy =   0.1174
Level     1,  Iter    12:    Energy =   0.1176
Level     1,  Iter    13:    Energy =   0.1186
Level     1,  Iter    14:    Energy =   0.1186
Level     1,  Iter    15:    Energy =   0.1197
Level     1,  Iter    16:    Energy =   0.1195
Level     1,  Iter    17:    Energy =   0.1205
Level     1,  Iter    18:    Energy =   0.1203
Level     1,  Iter    19:    Energy =   0.1209
Level     1,  Iter    20:    Energy =   0.1208
Level     1,  Iter    21:    Energy =   0.1211
Level     1,  Iter    22:    Energy =   0.1209
Level     1,  Iter    23:    Energy =   0.1214
Level     1,  Iter    24:    Energy =   0.1213
Level     1,  Iter    25:    Energy =   0.1218
Level     1,  Iter    26:    Energy =   0.1216
Level     1,  Iter    27:    Energy =   0.1222
Level     1,  Iter    28:    Energy =   0.1220
Level     1,  Iter    29:    Energy =   0.1224
Level     1,  Iter    30:    Energy =   0.1223
Level     1,  Iter    31:    Energy =   0.1225
Level     1,  Iter    32:    Energy =   0.1225
Level     1,  Iter    33:    Energy =   0.1225
Level     1,  Iter    34:    Energy =   0.1227
Level     1,  Iter    35:    Energy =   0.1228
Level     1,  Iter    36:    Energy =   0.1227
Level     1,  Iter    37:    Energy =   0.1232
Level     1,  Iter    38:    Energy =   0.1230
Level     1,  Iter    39:    Energy =   0.1235
Level     1,  Iter    40:    Energy =   0.1234
Level     1,  Iter    41:    Energy =   0.1236
Level     1,  Iter    42:    Energy =   0.1236
Level     1,  Iter    43:    Energy =   0.1238
Level     1,  Iter    44:    Energy =   0.1236
Level     1,  Iter    45:    Energy =   0.1241
Level     1,  Iter    46:    Energy =   0.1238
Level     1,  Iter    47:    Energy =   0.1243
Level     1,  Iter    48:    Energy =   0.1240
Level     1,  Iter    49:    Energy =   0.1247
Level     1,  Iter    50:    Energy =   0.1244
Level     1,  Iter    51:    Energy =   0.1249
Level     1,  Iter    52:    Energy =   0.1245
Level     1,  Iter    53:    Energy =   0.1250
Level     1,  Iter    54:    Energy =   0.1247
Level     1,  Iter    55:    Energy =   0.1252
Level     1,  Iter    56:    Energy =   0.1248
Level     1,  Iter    57:    Energy =   0.1253
Level     1,  Iter    58:    Energy =   0.1249
Level     1,  Iter    59:    Energy =   0.1254
END OF LEVEL     1    DetJac Range:   0.2032  to   3.4805 
  Avg. Gradient Time  : 0.0410s  32.65% 
  Avg. Gaussian Time  : 0.0684s  54.54% 
  Avg. Iteration Time : 0.1254s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0639
Level     2,  Iter     1:    Energy =   0.0669
Level     2,  Iter     2:    Energy =   0.0693
Level     2,  Iter     3:    Energy =   0.0717
Level     2,  Iter     4:    Energy =   0.0739
Level     2,  Iter     5:    Energy =   0.0762
Level     2,  Iter     6:    Energy =   0.0776
Level     2,  Iter     7:    Energy =   0.0788
Level     2,  Iter     8:    Energy =   0.0800
Level     2,  Iter     9:    Energy =   0.0810
Level     2,  Iter    10:    Energy =   0.0816
Level     2,  Iter    11:    Energy =   0.0822
Level     2,  Iter    12:    Energy =   0.0824
Level     2,  Iter    13:    Energy =   0.0827
Level     2,  Iter    14:    Energy =   0.0829
Level     2,  Iter    15:    Energy =   0.0834
Level     2,  Iter    16:    Energy =   0.0841
Level     2,  Iter    17:    Energy =   0.0849
Level     2,  Iter    18:    Energy =   0.0856
Level     2,  Iter    19:    Energy =   0.0864
END OF LEVEL     2    DetJac Range:   0.0851  to   4.9250 
  Avg. Gradient Time  : 0.2907s  30.74% 
  Avg. Gaussian Time  : 0.5264s  55.66% 
  Avg. Iteration Time : 0.9458s 

real	0m32.306s
user	0m58.852s
sys	0m1.332s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.309615 0.315385
+ echo 'CHUNK 0.309615 0.315385 1'
CHUNK 0.309615 0.315385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.309615 0.315385 1
====================================
         PROGRESS: 0.309615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 020 left 0
+ local tid=020
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.459973
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3052.63   GNORM= 374.538
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3093.676     257.339       0.001
   2    4     -3119.771     188.857       1.000
   3    5     -3145.547     172.701       1.000
   4    6     -3165.010      88.967       1.000
   5    7     -3180.972      60.823       1.000
   6    8     -3193.773      71.097       1.000
   7    9     -3219.858     131.581       1.000
   8   11     -3225.859     158.787       0.264
   9   12     -3240.797      91.294       1.000
  10   13     -3256.409      41.048       1.000
  11   14     -3260.411      37.292       1.000
  12   15     -3262.748      39.797       1.000
  13   16     -3264.461      40.631       1.000
  14   17     -3266.406      29.630       1.000
  15   18     -3268.358      38.660       1.000
  16   20     -3268.575      19.523       0.204
  17   21     -3268.932       7.918       1.000
  18   22     -3269.025       9.049       1.000
  19   23     -3269.115       5.971       1.000
  20   24     -3269.282      12.758       1.000
  21   25     -3269.502       9.864       1.000
  22   26     -3269.874      20.136       1.000
  23   27     -3270.199      19.650       1.000
  24   29     -3270.296       8.725       0.458
  25   31     -3270.472      29.803       0.109
  26   32     -3270.563      41.515       1.000
  27   33     -3270.835      34.215       1.000
  28   35     -3271.054      14.239       0.351
  29   36     -3271.163      21.287       1.000
  30   37     -3271.320      17.364       1.000
  31   38     -3271.646      12.285       1.000
  32   39     -3271.647      37.913       1.000
  33   40     -3272.391      20.397       1.000
  34   42     -3272.521      17.286       0.326
  35   44     -3273.007      11.205       5.000
  36   45     -3273.657      28.596       1.000
  37   47     -3273.902      29.059       0.169
  38   49     -3274.240      42.339       0.083
  39   50     -3274.586      29.604       1.000
  40   51     -3275.042      21.522       1.000
  41   52     -3275.301      20.839       1.000
  42   53     -3275.519      29.061       1.000
  43   54     -3275.967      13.952       1.000
  44   55     -3276.423      18.891       1.000
  45   56     -3276.831      26.734       1.000
  46   58     -3276.952      16.122       0.218
  47   59     -3277.053       9.730       1.000
  48   60     -3277.139       7.055       1.000
  49   61     -3277.285       6.110       1.000
Final RAS Transform: 
0.933139 -0.0126385 0.0249459 -1.72742 
0.053041 1.04319 0.0247253 2.49252 
-0.0192814 -0.0139232 1.04594 -0.243663 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2334.76   GNORM= 379.672
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2365.089      81.820       0.000
   2    4     -2367.595      60.134       1.000
   3    5     -2370.911      62.822       1.000
   4    6     -2373.406      55.695       1.000
   5    7     -2380.019      52.124       1.000
   6    8     -2384.692      75.516       1.000
   7    9     -2387.647      35.046       1.000
   8   10     -2389.245      25.983       1.000
   9   11     -2390.337      42.623       1.000
  10   12     -2391.763      47.316       1.000
  11   14     -2393.850      47.656       0.491
  12   15     -2395.599      32.065       1.000
  13   16     -2395.949      35.553       1.000
  14   17     -2396.249      16.942       1.000
  15   18     -2396.442      13.954       1.000
  16   19     -2396.814      31.344       1.000
  17   20     -2397.743      44.168       1.000
  18   21     -2398.419      48.338       1.000
  19   23     -2398.830      21.530       0.492
  20   24     -2398.980       8.977       1.000
  21   25     -2399.071      10.197       1.000
  22   26     -2399.189      19.793       1.000
  23   27     -2399.377      32.972       1.000
  24   28     -2399.797      27.970       1.000
  25   29     -2400.948      24.486       1.000
  26   31     -2401.300      16.831       0.422
  27   32     -2401.569       8.372       1.000
  28   33     -2401.742       9.357       1.000
  29   35     -2401.942      11.874       0.139
  30   36     -2402.037      12.605       1.000
  31   37     -2402.204      10.783       1.000
  32   38     -2402.414      11.273       1.000
  33   39     -2402.556      13.155       1.000
  34   40     -2402.649       9.305       1.000
  35   41     -2402.700       6.920       1.000
  36   42     -2402.807       7.251       1.000
  37   43     -2402.879      15.446       1.000
  38   44     -2402.923       7.927       1.000
  39   45     -2402.979       6.641       1.000
  40   46     -2402.994       7.175       1.000
  41   47     -2403.003       3.638       1.000
  42   48     -2403.022       3.846       1.000
  43   49     -2403.039       4.477       1.000
  44   50     -2403.104      11.634       1.000
  45   51     -2403.206      11.787       1.000
  46   52     -2403.280       6.030       1.000
  47   54     -2403.414       6.902       5.000
  48   55     -2403.602       4.211       1.000
  49   57     -2403.646       4.748       0.403
  50   58     -2403.753      10.845       1.000
  51   59     -2403.918       9.153       1.000
  52   60     -2404.030       8.712       1.000
  53   61     -2404.159      13.885       1.000
Final RAS Transform: 
0.95943 -0.0209356 0.0195357 -1.06569 
0.0369731 1.04154 0.0491345 2.20528 
-0.00734772 -0.0173619 1.04921 -0.096769 
0 0 0 1 

Final RAS Transform: 
0.95943 -0.0209356 0.0195357 -1.06569 
0.0369731 1.04154 0.0491345 2.20528 
-0.00734772 -0.0173619 1.04921 -0.096769 
0 0 0 1 


real	0m10.257s
user	0m17.884s
sys	0m0.520s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.464332
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0919
Level     0,  Iter     1:    Energy =   0.0989
Level     0,  Iter     2:    Energy =   0.1054
Level     0,  Iter     3:    Energy =   0.1090
Level     0,  Iter     4:    Energy =   0.1125
Level     0,  Iter     5:    Energy =   0.1149
Level     0,  Iter     6:    Energy =   0.1160
Level     0,  Iter     7:    Energy =   0.1177
Level     0,  Iter     8:    Energy =   0.1184
Level     0,  Iter     9:    Energy =   0.1196
Level     0,  Iter    10:    Energy =   0.1200
Level     0,  Iter    11:    Energy =   0.1216
Level     0,  Iter    12:    Energy =   0.1218
Level     0,  Iter    13:    Energy =   0.1224
Level     0,  Iter    14:    Energy =   0.1225
Level     0,  Iter    15:    Energy =   0.1236
Level     0,  Iter    16:    Energy =   0.1235
Level     0,  Iter    17:    Energy =   0.1238
Level     0,  Iter    18:    Energy =   0.1237
Level     0,  Iter    19:    Energy =   0.1245
Level     0,  Iter    20:    Energy =   0.1245
Level     0,  Iter    21:    Energy =   0.1246
Level     0,  Iter    22:    Energy =   0.1245
Level     0,  Iter    23:    Energy =   0.1253
Level     0,  Iter    24:    Energy =   0.1251
Level     0,  Iter    25:    Energy =   0.1251
Level     0,  Iter    26:    Energy =   0.1250
Level     0,  Iter    27:    Energy =   0.1256
Level     0,  Iter    28:    Energy =   0.1255
Level     0,  Iter    29:    Energy =   0.1254
Level     0,  Iter    30:    Energy =   0.1253
Level     0,  Iter    31:    Energy =   0.1258
Level     0,  Iter    32:    Energy =   0.1257
Level     0,  Iter    33:    Energy =   0.1257
Level     0,  Iter    34:    Energy =   0.1255
Level     0,  Iter    35:    Energy =   0.1260
Level     0,  Iter    36:    Energy =   0.1258
Level     0,  Iter    37:    Energy =   0.1258
Level     0,  Iter    38:    Energy =   0.1257
Level     0,  Iter    39:    Energy =   0.1262
Level     0,  Iter    40:    Energy =   0.1261
Level     0,  Iter    41:    Energy =   0.1261
Level     0,  Iter    42:    Energy =   0.1259
Level     0,  Iter    43:    Energy =   0.1262
Level     0,  Iter    44:    Energy =   0.1261
Level     0,  Iter    45:    Energy =   0.1260
Level     0,  Iter    46:    Energy =   0.1258
Level     0,  Iter    47:    Energy =   0.1262
Level     0,  Iter    48:    Energy =   0.1261
Level     0,  Iter    49:    Energy =   0.1261
Level     0,  Iter    50:    Energy =   0.1259
Level     0,  Iter    51:    Energy =   0.1263
Level     0,  Iter    52:    Energy =   0.1261
Level     0,  Iter    53:    Energy =   0.1261
Level     0,  Iter    54:    Energy =   0.1259
Level     0,  Iter    55:    Energy =   0.1263
Level     0,  Iter    56:    Energy =   0.1261
Level     0,  Iter    57:    Energy =   0.1261
Level     0,  Iter    58:    Energy =   0.1259
Level     0,  Iter    59:    Energy =   0.1264
END OF LEVEL     0    DetJac Range:   0.2085  to   2.7859 
  Avg. Gradient Time  : 0.0083s  34.78% 
  Avg. Gaussian Time  : 0.0118s  49.58% 
  Avg. Iteration Time : 0.0238s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0871
Level     1,  Iter     1:    Energy =   0.0923
Level     1,  Iter     2:    Energy =   0.0963
Level     1,  Iter     3:    Energy =   0.0991
Level     1,  Iter     4:    Energy =   0.1015
Level     1,  Iter     5:    Energy =   0.1037
Level     1,  Iter     6:    Energy =   0.1061
Level     1,  Iter     7:    Energy =   0.1079
Level     1,  Iter     8:    Energy =   0.1094
Level     1,  Iter     9:    Energy =   0.1112
Level     1,  Iter    10:    Energy =   0.1119
Level     1,  Iter    11:    Energy =   0.1121
Level     1,  Iter    12:    Energy =   0.1124
Level     1,  Iter    13:    Energy =   0.1130
Level     1,  Iter    14:    Energy =   0.1135
Level     1,  Iter    15:    Energy =   0.1143
Level     1,  Iter    16:    Energy =   0.1150
Level     1,  Iter    17:    Energy =   0.1160
Level     1,  Iter    18:    Energy =   0.1168
Level     1,  Iter    19:    Energy =   0.1174
Level     1,  Iter    20:    Energy =   0.1171
Level     1,  Iter    21:    Energy =   0.1178
Level     1,  Iter    22:    Energy =   0.1183
Level     1,  Iter    23:    Energy =   0.1181
Level     1,  Iter    24:    Energy =   0.1179
Level     1,  Iter    25:    Energy =   0.1184
Level     1,  Iter    26:    Energy =   0.1181
Level     1,  Iter    27:    Energy =   0.1186
Level     1,  Iter    28:    Energy =   0.1183
Level     1,  Iter    29:    Energy =   0.1186
Level     1,  Iter    30:    Energy =   0.1183
Level     1,  Iter    31:    Energy =   0.1187
Level     1,  Iter    32:    Energy =   0.1184
Level     1,  Iter    33:    Energy =   0.1187
Level     1,  Iter    34:    Energy =   0.1185
Level     1,  Iter    35:    Energy =   0.1188
Level     1,  Iter    36:    Energy =   0.1186
Level     1,  Iter    37:    Energy =   0.1189
Level     1,  Iter    38:    Energy =   0.1187
Level     1,  Iter    39:    Energy =   0.1189
Level     1,  Iter    40:    Energy =   0.1188
Level     1,  Iter    41:    Energy =   0.1190
Level     1,  Iter    42:    Energy =   0.1188
Level     1,  Iter    43:    Energy =   0.1190
Level     1,  Iter    44:    Energy =   0.1189
Level     1,  Iter    45:    Energy =   0.1191
Level     1,  Iter    46:    Energy =   0.1189
Level     1,  Iter    47:    Energy =   0.1191
Level     1,  Iter    48:    Energy =   0.1189
Level     1,  Iter    49:    Energy =   0.1191
Level     1,  Iter    50:    Energy =   0.1190
Level     1,  Iter    51:    Energy =   0.1191
Level     1,  Iter    52:    Energy =   0.1190
Level     1,  Iter    53:    Energy =   0.1190
Level     1,  Iter    54:    Energy =   0.1190
Level     1,  Iter    55:    Energy =   0.1189
Level     1,  Iter    56:    Energy =   0.1189
Level     1,  Iter    57:    Energy =   0.1188
Level     1,  Iter    58:    Energy =   0.1189
Level     1,  Iter    59:    Energy =   0.1188
END OF LEVEL     1    DetJac Range:   0.1390  to   3.2549 
  Avg. Gradient Time  : 0.0464s  32.51% 
  Avg. Gaussian Time  : 0.0778s  54.52% 
  Avg. Iteration Time : 0.1428s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0611
Level     2,  Iter     1:    Energy =   0.0638
Level     2,  Iter     2:    Energy =   0.0661
Level     2,  Iter     3:    Energy =   0.0677
Level     2,  Iter     4:    Energy =   0.0692
Level     2,  Iter     5:    Energy =   0.0707
Level     2,  Iter     6:    Energy =   0.0722
Level     2,  Iter     7:    Energy =   0.0736
Level     2,  Iter     8:    Energy =   0.0749
Level     2,  Iter     9:    Energy =   0.0761
Level     2,  Iter    10:    Energy =   0.0772
Level     2,  Iter    11:    Energy =   0.0781
Level     2,  Iter    12:    Energy =   0.0791
Level     2,  Iter    13:    Energy =   0.0799
Level     2,  Iter    14:    Energy =   0.0805
Level     2,  Iter    15:    Energy =   0.0810
Level     2,  Iter    16:    Energy =   0.0815
Level     2,  Iter    17:    Energy =   0.0820
Level     2,  Iter    18:    Energy =   0.0824
Level     2,  Iter    19:    Energy =   0.0830
END OF LEVEL     2    DetJac Range:   0.0682  to   4.4872 
  Avg. Gradient Time  : 0.3261s  30.40% 
  Avg. Gaussian Time  : 0.5984s  55.77% 
  Avg. Iteration Time : 1.0728s 

real	0m36.692s
user	1m7.124s
sys	0m1.432s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.315385 0.321154
+ echo 'CHUNK 0.315385 0.321154 1'
CHUNK 0.315385 0.321154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.315385 0.321154 1
====================================
         PROGRESS: 0.315385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 021 left 0
+ local tid=021
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.70117
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3185.13   GNORM= 144.728
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3211.325     119.515       0.003
   2    4     -3219.554     240.626       1.000
   3    5     -3231.372     155.784       1.000
   4    6     -3259.765     134.717       1.000
   5    7     -3272.047      88.634       1.000
   6    8     -3286.164      83.220       1.000
   7    9     -3304.902     107.822       1.000
   8   10     -3317.131     136.862       1.000
   9   11     -3329.244      97.914       1.000
  10   12     -3339.248     182.455       1.000
  11   13     -3347.877      99.998       1.000
  12   14     -3355.022      86.717       1.000
  13   15     -3360.678      76.583       1.000
  14   16     -3364.228      53.034       1.000
  15   17     -3366.340      35.883       1.000
  16   18     -3367.698      94.456       1.000
  17   19     -3371.689      39.396       1.000
  18   20     -3375.119      40.743       1.000
  19   21     -3376.770      62.012       1.000
  20   22     -3377.458      29.174       1.000
  21   23     -3377.625      17.824       1.000
  22   24     -3377.876      18.785       1.000
  23   25     -3378.663      77.901       1.000
  24   26     -3379.468      47.300       1.000
  25   27     -3380.646      13.992       1.000
  26   28     -3381.045      15.609       1.000
  27   29     -3381.312      19.028       1.000
  28   30     -3381.667      14.929       1.000
  29   31     -3381.761      39.685       1.000
  30   32     -3381.993      24.584       1.000
  31   33     -3382.149      10.113       1.000
  32   34     -3382.217       5.686       1.000
  33   35     -3382.294      15.489       1.000
  34   36     -3382.386      11.952       1.000
  35   37     -3382.443       4.684       1.000
  36   38     -3382.502       4.540       1.000
  37   40     -3382.564       9.084       0.396
  38   41     -3382.605       7.632       1.000
  39   42     -3382.625      17.748       1.000
  40   43     -3382.681       5.035       1.000
  41   45     -3382.716       6.735       5.000
  42   46     -3382.743       6.938       1.000
  43   47     -3382.758       5.334       1.000
  44   48     -3382.772       3.136       1.000
  45   49     -3382.792       7.564       1.000
  46   50     -3382.802       9.938       1.000
  47   51     -3382.817       4.151       1.000
  48   52     -3382.820       4.191       1.000
  49   53     -3382.856       5.089       1.000
  50   55     -3382.913      10.543       0.286
  51   56     -3382.937       3.203       1.000
  52   57     -3382.945       3.370       1.000
  53   58     -3382.954       5.239       1.000
  54   59     -3382.968       2.585       1.000
  55   60     -3382.983       2.923       1.000
Final RAS Transform: 
0.926627 0.0222152 0.0890671 -1.30051 
-0.0208854 1.00024 0.0410005 -0.690502 
0.0030428 0.013341 1.03074 0.692364 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2431.37   GNORM= 507.494
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2484.966      80.442       0.000
   2    4     -2487.142      50.096       1.000
   3    5     -2489.116      46.644       1.000
   4    6     -2491.509      54.943       1.000
   5    7     -2493.849      39.522       1.000
   6    8     -2499.424      81.680       1.000
   7    9     -2504.175      89.944       1.000
   8   11     -2509.212      61.959       0.371
   9   12     -2513.013      30.724       1.000
  10   13     -2513.280      46.792       1.000
  11   14     -2514.189      16.322       1.000
  12   15     -2514.595      13.585       1.000
  13   16     -2515.959      30.850       1.000
  14   18     -2516.304      41.230       0.422
  15   19     -2516.988      24.793       1.000
  16   20     -2517.487      20.394       1.000
  17   21     -2517.824      19.187       1.000
  18   22     -2518.257      45.296       1.000
  19   23     -2520.843      25.293       1.000
  20   25     -2521.437      31.324       0.474
  21   26     -2522.141      17.528       1.000
  22   27     -2522.743      12.403       1.000
  23   28     -2522.924       8.363       1.000
  24   29     -2523.054      17.320       1.000
  25   30     -2523.380       9.303       1.000
  26   31     -2523.768      25.855       1.000
  27   32     -2524.099      19.056       1.000
  28   33     -2524.331      11.516       1.000
  29   34     -2524.863      13.420       1.000
  30   35     -2525.417      27.609       1.000
  31   36     -2525.859      18.163       1.000
  32   37     -2526.332      11.683       1.000
  33   38     -2526.570      18.492       1.000
  34   39     -2526.791      18.277       1.000
  35   40     -2526.981       9.456       1.000
  36   41     -2527.040       5.753       1.000
  37   42     -2527.058       4.196       1.000
  38   43     -2527.077       5.721       1.000
  39   45     -2527.158       3.713       5.000
  40   46     -2527.191       5.011       1.000
  41   47     -2527.224      13.998       1.000
  42   48     -2527.261       1.283       1.000
  43   49     -2527.268       0.909       1.000
Final RAS Transform: 
0.958856 0.0183722 0.0712169 -0.366891 
-0.0204378 1.01914 0.060028 -0.108579 
0.00776112 0.0122503 1.04265 0.627269 
0 0 0 1 

Final RAS Transform: 
0.958856 0.0183722 0.0712169 -0.366891 
-0.0204378 1.01914 0.060028 -0.108579 
0.00776112 0.0122503 1.04265 0.627269 
0 0 0 1 


real	0m10.232s
user	0m17.840s
sys	0m0.504s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.697616
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0993
Level     0,  Iter     1:    Energy =   0.1056
Level     0,  Iter     2:    Energy =   0.1111
Level     0,  Iter     3:    Energy =   0.1152
Level     0,  Iter     4:    Energy =   0.1181
Level     0,  Iter     5:    Energy =   0.1195
Level     0,  Iter     6:    Energy =   0.1206
Level     0,  Iter     7:    Energy =   0.1213
Level     0,  Iter     8:    Energy =   0.1221
Level     0,  Iter     9:    Energy =   0.1226
Level     0,  Iter    10:    Energy =   0.1234
Level     0,  Iter    11:    Energy =   0.1237
Level     0,  Iter    12:    Energy =   0.1244
Level     0,  Iter    13:    Energy =   0.1245
Level     0,  Iter    14:    Energy =   0.1252
Level     0,  Iter    15:    Energy =   0.1252
Level     0,  Iter    16:    Energy =   0.1258
Level     0,  Iter    17:    Energy =   0.1256
Level     0,  Iter    18:    Energy =   0.1264
Level     0,  Iter    19:    Energy =   0.1260
Level     0,  Iter    20:    Energy =   0.1268
Level     0,  Iter    21:    Energy =   0.1263
Level     0,  Iter    22:    Energy =   0.1274
Level     0,  Iter    23:    Energy =   0.1270
Level     0,  Iter    24:    Energy =   0.1280
Level     0,  Iter    25:    Energy =   0.1273
Level     0,  Iter    26:    Energy =   0.1285
Level     0,  Iter    27:    Energy =   0.1280
Level     0,  Iter    28:    Energy =   0.1290
Level     0,  Iter    29:    Energy =   0.1282
Level     0,  Iter    30:    Energy =   0.1295
Level     0,  Iter    31:    Energy =   0.1296
Level     0,  Iter    32:    Energy =   0.1300
Level     0,  Iter    33:    Energy =   0.1290
Level     0,  Iter    34:    Energy =   0.1299
Level     0,  Iter    35:    Energy =   0.1299
Level     0,  Iter    36:    Energy =   0.1303
Level     0,  Iter    37:    Energy =   0.1292
Level     0,  Iter    38:    Energy =   0.1302
Level     0,  Iter    39:    Energy =   0.1297
Level     0,  Iter    40:    Energy =   0.1304
Level     0,  Iter    41:    Energy =   0.1292
Level     0,  Iter    42:    Energy =   0.1303
Level     0,  Iter    43:    Energy =   0.1296
Level     0,  Iter    44:    Energy =   0.1305
Level     0,  Iter    45:    Energy =   0.1294
Level     0,  Iter    46:    Energy =   0.1307
Level     0,  Iter    47:    Energy =   0.1307
Level     0,  Iter    48:    Energy =   0.1310
Level     0,  Iter    49:    Energy =   0.1300
Level     0,  Iter    50:    Energy =   0.1307
Level     0,  Iter    51:    Energy =   0.1301
Level     0,  Iter    52:    Energy =   0.1308
Level     0,  Iter    53:    Energy =   0.1296
Level     0,  Iter    54:    Energy =   0.1309
Level     0,  Iter    55:    Energy =   0.1309
Level     0,  Iter    56:    Energy =   0.1313
Level     0,  Iter    57:    Energy =   0.1301
Level     0,  Iter    58:    Energy =   0.1311
Level     0,  Iter    59:    Energy =   0.1306
END OF LEVEL     0    DetJac Range:   0.2659  to   2.0498 
  Avg. Gradient Time  : 0.0073s  34.39% 
  Avg. Gaussian Time  : 0.0106s  49.99% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0907
Level     1,  Iter     1:    Energy =   0.0952
Level     1,  Iter     2:    Energy =   0.0988
Level     1,  Iter     3:    Energy =   0.1015
Level     1,  Iter     4:    Energy =   0.1042
Level     1,  Iter     5:    Energy =   0.1064
Level     1,  Iter     6:    Energy =   0.1084
Level     1,  Iter     7:    Energy =   0.1097
Level     1,  Iter     8:    Energy =   0.1107
Level     1,  Iter     9:    Energy =   0.1116
Level     1,  Iter    10:    Energy =   0.1128
Level     1,  Iter    11:    Energy =   0.1138
Level     1,  Iter    12:    Energy =   0.1138
Level     1,  Iter    13:    Energy =   0.1152
Level     1,  Iter    14:    Energy =   0.1151
Level     1,  Iter    15:    Energy =   0.1154
Level     1,  Iter    16:    Energy =   0.1154
Level     1,  Iter    17:    Energy =   0.1155
Level     1,  Iter    18:    Energy =   0.1155
Level     1,  Iter    19:    Energy =   0.1156
Level     1,  Iter    20:    Energy =   0.1158
Level     1,  Iter    21:    Energy =   0.1157
Level     1,  Iter    22:    Energy =   0.1160
Level     1,  Iter    23:    Energy =   0.1159
Level     1,  Iter    24:    Energy =   0.1163
Level     1,  Iter    25:    Energy =   0.1161
Level     1,  Iter    26:    Energy =   0.1165
Level     1,  Iter    27:    Energy =   0.1164
Level     1,  Iter    28:    Energy =   0.1167
Level     1,  Iter    29:    Energy =   0.1166
Level     1,  Iter    30:    Energy =   0.1169
Level     1,  Iter    31:    Energy =   0.1167
Level     1,  Iter    32:    Energy =   0.1171
Level     1,  Iter    33:    Energy =   0.1169
Level     1,  Iter    34:    Energy =   0.1172
Level     1,  Iter    35:    Energy =   0.1170
Level     1,  Iter    36:    Energy =   0.1174
Level     1,  Iter    37:    Energy =   0.1172
Level     1,  Iter    38:    Energy =   0.1175
Level     1,  Iter    39:    Energy =   0.1173
Level     1,  Iter    40:    Energy =   0.1176
Level     1,  Iter    41:    Energy =   0.1174
Level     1,  Iter    42:    Energy =   0.1177
Level     1,  Iter    43:    Energy =   0.1175
Level     1,  Iter    44:    Energy =   0.1178
Level     1,  Iter    45:    Energy =   0.1176
Level     1,  Iter    46:    Energy =   0.1179
Level     1,  Iter    47:    Energy =   0.1177
Level     1,  Iter    48:    Energy =   0.1180
Level     1,  Iter    49:    Energy =   0.1178
Level     1,  Iter    50:    Energy =   0.1181
Level     1,  Iter    51:    Energy =   0.1178
Level     1,  Iter    52:    Energy =   0.1181
Level     1,  Iter    53:    Energy =   0.1179
Level     1,  Iter    54:    Energy =   0.1182
Level     1,  Iter    55:    Energy =   0.1180
Level     1,  Iter    56:    Energy =   0.1183
Level     1,  Iter    57:    Energy =   0.1180
Level     1,  Iter    58:    Energy =   0.1184
Level     1,  Iter    59:    Energy =   0.1181
END OF LEVEL     1    DetJac Range:   0.1404  to   3.6326 
  Avg. Gradient Time  : 0.0411s  32.62% 
  Avg. Gaussian Time  : 0.0686s  54.47% 
  Avg. Iteration Time : 0.1259s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0607
Level     2,  Iter     1:    Energy =   0.0630
Level     2,  Iter     2:    Energy =   0.0654
Level     2,  Iter     3:    Energy =   0.0675
Level     2,  Iter     4:    Energy =   0.0695
Level     2,  Iter     5:    Energy =   0.0713
Level     2,  Iter     6:    Energy =   0.0728
Level     2,  Iter     7:    Energy =   0.0740
Level     2,  Iter     8:    Energy =   0.0751
Level     2,  Iter     9:    Energy =   0.0759
Level     2,  Iter    10:    Energy =   0.0766
Level     2,  Iter    11:    Energy =   0.0772
Level     2,  Iter    12:    Energy =   0.0776
Level     2,  Iter    13:    Energy =   0.0778
Level     2,  Iter    14:    Energy =   0.0780
Level     2,  Iter    15:    Energy =   0.0781
Level     2,  Iter    16:    Energy =   0.0783
Level     2,  Iter    17:    Energy =   0.0786
Level     2,  Iter    18:    Energy =   0.0788
Level     2,  Iter    19:    Energy =   0.0791
END OF LEVEL     2    DetJac Range:   0.1026  to   4.1891 
  Avg. Gradient Time  : 0.2933s  30.88% 
  Avg. Gaussian Time  : 0.5269s  55.48% 
  Avg. Iteration Time : 0.9497s 

real	0m32.437s
user	0m59.096s
sys	0m1.384s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.321154 0.326923
+ echo 'CHUNK 0.321154 0.326923 1'
CHUNK 0.321154 0.326923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.321154 0.326923 1
====================================
         PROGRESS: 0.321154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 022 left 0
+ local tid=022
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.593068
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3633.35   GNORM= 375.34
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3667.946     288.013       0.000
   2    4     -3690.600     201.545       1.000
   3    5     -3712.170     181.876       1.000
   4    6     -3724.067      83.759       1.000
   5    7     -3733.100      68.833       1.000
   6    8     -3743.818     106.641       1.000
   7    9     -3749.382     200.075       1.000
   8   10     -3757.734     118.745       1.000
   9   11     -3771.246      86.629       1.000
  10   12     -3781.932     149.611       1.000
  11   13     -3791.026     133.035       1.000
  12   15     -3801.809      94.136       0.436
  13   16     -3806.538      77.955       1.000
  14   17     -3813.027      48.116       1.000
  15   18     -3818.776      55.943       1.000
  16   20     -3819.760      78.163       0.257
  17   21     -3821.430      49.517       1.000
  18   22     -3822.717      52.981       1.000
  19   23     -3824.082      26.695       1.000
  20   24     -3824.679      20.017       1.000
  21   25     -3825.116      37.652       1.000
  22   26     -3825.596      32.110       1.000
  23   27     -3826.125      16.105       1.000
  24   28     -3827.109      27.562       1.000
  25   29     -3827.683      19.700       1.000
  26   30     -3828.015      11.293       1.000
  27   32     -3828.070       7.177       0.520
  28   33     -3828.105       6.494       1.000
  29   34     -3828.310       8.488       1.000
  30   35     -3828.455      27.374       1.000
  31   36     -3828.590       6.752       1.000
  32   37     -3828.621       5.194       1.000
  33   38     -3828.651       4.475       1.000
  34   39     -3828.675      12.690       1.000
  35   40     -3828.716       8.298       1.000
  36   41     -3828.730       5.190       1.000
  37   42     -3828.752       6.403       1.000
  38   43     -3828.756       4.308       1.000
  39   45     -3828.770       4.121       0.509
  40   46     -3828.773       3.894       1.000
  41   47     -3828.792       4.471       1.000
  42   49     -3828.806       4.083       0.282
  43   50     -3828.809       7.547       1.000
  44   51     -3828.828       3.679       1.000
  45   52     -3828.841       4.014       1.000
  46   53     -3828.865       6.581       1.000
  47   55     -3828.883       7.867       0.289
  48   56     -3828.916       9.173       1.000
  49   57     -3828.998      11.975       1.000
  50   58     -3829.072      10.952       1.000
  51   60     -3829.094      19.434       0.260
  52   61     -3829.148       8.069       1.000
Final RAS Transform: 
0.940611 2.25225e-05 0.0227738 -1.39148 
-0.0307571 1.01715 0.0371864 -0.50231 
0.000371191 -0.0111758 1.00919 0.0350114 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2857.13   GNORM= 405.399
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2882.635     117.281       0.000
   2    4     -2886.484      82.149       1.000
   3    5     -2890.048      40.303       1.000
   4    6     -2891.598      36.533       1.000
   5    7     -2893.220      41.582       1.000
   6    8     -2899.494      73.000       1.000
   7    9     -2906.710     101.423       1.000
   8   11     -2909.425      84.799       0.279
   9   12     -2913.278      25.344       1.000
  10   13     -2913.901      19.675       1.000
  11   14     -2915.552      40.453       1.000
  12   15     -2917.769      52.896       1.000
  13   16     -2922.608      67.727       1.000
  14   18     -2923.321      76.116       0.134
  15   19     -2925.321      45.639       1.000
  16   20     -2926.917      29.074       1.000
  17   21     -2927.711      27.946       1.000
  18   22     -2930.901      77.133       1.000
  19   24     -2933.031      57.807       0.463
  20   25     -2933.994      34.073       1.000
  21   26     -2934.285      10.573       1.000
  22   27     -2934.356      10.618       1.000
  23   28     -2934.473       9.412       1.000
  24   29     -2934.586      38.629       1.000
  25   30     -2935.115      20.453       1.000
  26   31     -2935.359      10.916       1.000
  27   32     -2935.546      14.675       1.000
  28   33     -2935.702      11.125       1.000
  29   35     -2935.776      11.592       0.358
  30   36     -2935.819       8.641       1.000
  31   37     -2935.954      15.329       1.000
  32   38     -2936.058      16.760       1.000
  33   39     -2936.382       9.516       1.000
  34   40     -2936.441      10.898       1.000
  35   41     -2936.464       6.773       1.000
  36   43     -2936.486       3.619       0.376
  37   44     -2936.502       7.095       1.000
  38   45     -2936.518       4.718       1.000
  39   46     -2936.525       4.486       1.000
  40   47     -2936.531       4.129       1.000
  41   48     -2936.541       3.983       1.000
  42   49     -2936.559       3.066       1.000
  43   50     -2936.569      13.128       1.000
  44   51     -2936.577       8.906       1.000
  45   52     -2936.599       3.864       1.000
  46   53     -2936.608       2.008       1.000
  47   55     -2936.613       1.092       0.294
Final RAS Transform: 
0.972014 -0.0142828 -0.0190398 -0.879287 
-0.0229786 1.02599 0.0340965 0.0087289 
0.0108113 -0.011981 1.00623 0.182696 
0 0 0 1 

Final RAS Transform: 
0.972014 -0.0142828 -0.0190398 -0.879287 
-0.0229786 1.02599 0.0340965 0.0087289 
0.0108113 -0.011981 1.00623 0.182696 
0 0 0 1 


real	0m10.659s
user	0m18.692s
sys	0m0.440s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.594773
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1142
Level     0,  Iter     1:    Energy =   0.1206
Level     0,  Iter     2:    Energy =   0.1263
Level     0,  Iter     3:    Energy =   0.1299
Level     0,  Iter     4:    Energy =   0.1326
Level     0,  Iter     5:    Energy =   0.1339
Level     0,  Iter     6:    Energy =   0.1355
Level     0,  Iter     7:    Energy =   0.1363
Level     0,  Iter     8:    Energy =   0.1373
Level     0,  Iter     9:    Energy =   0.1377
Level     0,  Iter    10:    Energy =   0.1383
Level     0,  Iter    11:    Energy =   0.1384
Level     0,  Iter    12:    Energy =   0.1389
Level     0,  Iter    13:    Energy =   0.1390
Level     0,  Iter    14:    Energy =   0.1395
Level     0,  Iter    15:    Energy =   0.1395
Level     0,  Iter    16:    Energy =   0.1399
Level     0,  Iter    17:    Energy =   0.1399
Level     0,  Iter    18:    Energy =   0.1402
Level     0,  Iter    19:    Energy =   0.1402
Level     0,  Iter    20:    Energy =   0.1405
Level     0,  Iter    21:    Energy =   0.1404
Level     0,  Iter    22:    Energy =   0.1406
Level     0,  Iter    23:    Energy =   0.1406
Level     0,  Iter    24:    Energy =   0.1409
Level     0,  Iter    25:    Energy =   0.1408
Level     0,  Iter    26:    Energy =   0.1410
Level     0,  Iter    27:    Energy =   0.1410
Level     0,  Iter    28:    Energy =   0.1411
Level     0,  Iter    29:    Energy =   0.1411
Level     0,  Iter    30:    Energy =   0.1412
Level     0,  Iter    31:    Energy =   0.1411
Level     0,  Iter    32:    Energy =   0.1413
Level     0,  Iter    33:    Energy =   0.1413
Level     0,  Iter    34:    Energy =   0.1414
Level     0,  Iter    35:    Energy =   0.1413
Level     0,  Iter    36:    Energy =   0.1414
Level     0,  Iter    37:    Energy =   0.1414
Level     0,  Iter    38:    Energy =   0.1415
Level     0,  Iter    39:    Energy =   0.1414
Level     0,  Iter    40:    Energy =   0.1416
Level     0,  Iter    41:    Energy =   0.1415
Level     0,  Iter    42:    Energy =   0.1417
Level     0,  Iter    43:    Energy =   0.1416
Level     0,  Iter    44:    Energy =   0.1416
Level     0,  Iter    45:    Energy =   0.1416
Level     0,  Iter    46:    Energy =   0.1417
Level     0,  Iter    47:    Energy =   0.1416
Level     0,  Iter    48:    Energy =   0.1417
Level     0,  Iter    49:    Energy =   0.1416
Level     0,  Iter    50:    Energy =   0.1417
Level     0,  Iter    51:    Energy =   0.1416
Level     0,  Iter    52:    Energy =   0.1417
Level     0,  Iter    53:    Energy =   0.1417
Level     0,  Iter    54:    Energy =   0.1418
Level     0,  Iter    55:    Energy =   0.1416
Level     0,  Iter    56:    Energy =   0.1418
Level     0,  Iter    57:    Energy =   0.1417
Level     0,  Iter    58:    Energy =   0.1418
Level     0,  Iter    59:    Energy =   0.1418
END OF LEVEL     0    DetJac Range:   0.3924  to   2.0143 
  Avg. Gradient Time  : 0.0082s  35.01% 
  Avg. Gaussian Time  : 0.0115s  49.10% 
  Avg. Iteration Time : 0.0234s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1010
Level     1,  Iter     1:    Energy =   0.1065
Level     1,  Iter     2:    Energy =   0.1113
Level     1,  Iter     3:    Energy =   0.1149
Level     1,  Iter     4:    Energy =   0.1171
Level     1,  Iter     5:    Energy =   0.1191
Level     1,  Iter     6:    Energy =   0.1213
Level     1,  Iter     7:    Energy =   0.1232
Level     1,  Iter     8:    Energy =   0.1248
Level     1,  Iter     9:    Energy =   0.1256
Level     1,  Iter    10:    Energy =   0.1258
Level     1,  Iter    11:    Energy =   0.1266
Level     1,  Iter    12:    Energy =   0.1266
Level     1,  Iter    13:    Energy =   0.1276
Level     1,  Iter    14:    Energy =   0.1274
Level     1,  Iter    15:    Energy =   0.1286
Level     1,  Iter    16:    Energy =   0.1283
Level     1,  Iter    17:    Energy =   0.1294
Level     1,  Iter    18:    Energy =   0.1291
Level     1,  Iter    19:    Energy =   0.1300
Level     1,  Iter    20:    Energy =   0.1297
Level     1,  Iter    21:    Energy =   0.1304
Level     1,  Iter    22:    Energy =   0.1301
Level     1,  Iter    23:    Energy =   0.1305
Level     1,  Iter    24:    Energy =   0.1302
Level     1,  Iter    25:    Energy =   0.1305
Level     1,  Iter    26:    Energy =   0.1303
Level     1,  Iter    27:    Energy =   0.1305
Level     1,  Iter    28:    Energy =   0.1304
Level     1,  Iter    29:    Energy =   0.1304
Level     1,  Iter    30:    Energy =   0.1305
Level     1,  Iter    31:    Energy =   0.1305
Level     1,  Iter    32:    Energy =   0.1306
Level     1,  Iter    33:    Energy =   0.1306
Level     1,  Iter    34:    Energy =   0.1306
Level     1,  Iter    35:    Energy =   0.1307
Level     1,  Iter    36:    Energy =   0.1306
Level     1,  Iter    37:    Energy =   0.1308
Level     1,  Iter    38:    Energy =   0.1306
Level     1,  Iter    39:    Energy =   0.1309
Level     1,  Iter    40:    Energy =   0.1307
Level     1,  Iter    41:    Energy =   0.1310
Level     1,  Iter    42:    Energy =   0.1308
Level     1,  Iter    43:    Energy =   0.1311
Level     1,  Iter    44:    Energy =   0.1308
Level     1,  Iter    45:    Energy =   0.1314
Level     1,  Iter    46:    Energy =   0.1310
Level     1,  Iter    47:    Energy =   0.1317
Level     1,  Iter    48:    Energy =   0.1313
Level     1,  Iter    49:    Energy =   0.1317
Level     1,  Iter    50:    Energy =   0.1313
Level     1,  Iter    51:    Energy =   0.1315
Level     1,  Iter    52:    Energy =   0.1313
Level     1,  Iter    53:    Energy =   0.1316
Level     1,  Iter    54:    Energy =   0.1312
Level     1,  Iter    55:    Energy =   0.1317
Level     1,  Iter    56:    Energy =   0.1313
Level     1,  Iter    57:    Energy =   0.1317
Level     1,  Iter    58:    Energy =   0.1314
Level     1,  Iter    59:    Energy =   0.1318
END OF LEVEL     1    DetJac Range:   0.1447  to   3.6597 
  Avg. Gradient Time  : 0.0468s  32.64% 
  Avg. Gaussian Time  : 0.0780s  54.39% 
  Avg. Iteration Time : 0.1434s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0672
Level     2,  Iter     1:    Energy =   0.0698
Level     2,  Iter     2:    Energy =   0.0721
Level     2,  Iter     3:    Energy =   0.0741
Level     2,  Iter     4:    Energy =   0.0760
Level     2,  Iter     5:    Energy =   0.0774
Level     2,  Iter     6:    Energy =   0.0787
Level     2,  Iter     7:    Energy =   0.0796
Level     2,  Iter     8:    Energy =   0.0803
Level     2,  Iter     9:    Energy =   0.0809
Level     2,  Iter    10:    Energy =   0.0815
Level     2,  Iter    11:    Energy =   0.0819
Level     2,  Iter    12:    Energy =   0.0824
Level     2,  Iter    13:    Energy =   0.0829
Level     2,  Iter    14:    Energy =   0.0834
Level     2,  Iter    15:    Energy =   0.0838
Level     2,  Iter    16:    Energy =   0.0844
Level     2,  Iter    17:    Energy =   0.0850
Level     2,  Iter    18:    Energy =   0.0857
Level     2,  Iter    19:    Energy =   0.0864
END OF LEVEL     2    DetJac Range:   0.0842  to   4.3224 
  Avg. Gradient Time  : 0.3317s  30.70% 
  Avg. Gaussian Time  : 0.5999s  55.52% 
  Avg. Iteration Time : 1.0805s 

real	0m36.957s
user	1m7.556s
sys	0m1.520s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.326923 0.332692
+ echo 'CHUNK 0.326923 0.332692 1'
CHUNK 0.326923 0.332692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.326923 0.332692 1
====================================
         PROGRESS: 0.326923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 023 left 0
+ local tid=023
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.784759
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3443.57   GNORM= 538.517
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3504.098     306.780       0.000
   2    4     -3533.519     237.875       1.000
   3    5     -3580.706     100.613       1.000
   4    6     -3600.817     107.088       1.000
   5    7     -3619.040     141.883       1.000
   6    8     -3645.906     138.670       1.000
   7   10     -3652.042     146.201       0.276
   8   11     -3661.113      39.381       1.000
   9   12     -3662.105      30.392       1.000
  10   13     -3663.004      31.531       1.000
  11   14     -3664.920      90.270       1.000
  12   15     -3666.611      90.404       1.000
  13   16     -3669.353      25.529       1.000
  14   17     -3669.911      19.860       1.000
  15   18     -3671.128      41.090       1.000
  16   19     -3671.763      51.591       1.000
  17   20     -3672.700      33.894       1.000
  18   21     -3673.208      26.157       1.000
  19   22     -3673.507      17.109       1.000
  20   23     -3674.109      16.818       1.000
  21   24     -3674.346      12.636       1.000
  22   25     -3674.432      11.462       1.000
  23   26     -3674.545      20.510       1.000
  24   27     -3674.734      12.345       1.000
  25   28     -3674.812      17.853       1.000
  26   29     -3674.898      11.099       1.000
  27   30     -3674.985       6.108       1.000
  28   32     -3675.030       7.698       0.380
  29   33     -3675.057       7.198       1.000
  30   34     -3675.062       4.559       1.000
  31   35     -3675.075       3.292       1.000
  32   36     -3675.091       5.379       1.000
  33   37     -3675.147      10.040       1.000
  34   40     -3675.160      12.664       0.011
  35   41     -3675.166      14.208       1.000
  36   42     -3675.181      11.706       1.000
  37   43     -3675.194       5.659       1.000
  38   44     -3675.217       6.287       1.000
  39   45     -3675.232       5.684       1.000
  40   46     -3675.249       4.644       1.000
  41   47     -3675.252       2.325       1.000
  42   48     -3675.259       1.390       1.000
  43   49     -3675.260       1.455       1.000
Final RAS Transform: 
0.981487 0.00350836 0.0206433 -0.280789 
0.00428446 1.0001 0.0620139 -0.273066 
-0.00824072 0.00481025 0.994302 0.401263 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2646.42   GNORM= 212.051
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2654.993      60.653       0.000
   2    4     -2656.393      57.603       1.000
   3    5     -2661.050      76.860       1.000
   4    6     -2666.740      91.376       1.000
   5    7     -2672.673      88.105       1.000
   6    8     -2675.538      57.651       1.000
   7    9     -2676.904      52.033       1.000
   8   10     -2682.238      37.214       1.000
   9   11     -2685.860      33.148       1.000
  10   13     -2686.754      10.822       0.389
  11   14     -2686.880       9.911       1.000
  12   15     -2687.181      22.414       1.000
  13   16     -2687.533      20.983       1.000
  14   17     -2688.346      20.843       1.000
  15   19     -2688.516      29.188       0.140
  16   20     -2689.013      18.186       1.000
  17   21     -2689.348      12.839       1.000
  18   22     -2689.518       9.635       1.000
  19   24     -2689.613      12.917       0.395
  20   25     -2689.686       6.514       1.000
  21   26     -2689.780       7.846       1.000
  22   27     -2689.858       5.138       1.000
  23   28     -2689.908       6.440       1.000
  24   29     -2690.191      10.633       1.000
  25   31     -2690.362      12.069       0.434
  26   32     -2690.617       7.326       1.000
  27   34     -2690.676      15.037       0.265
  28   35     -2690.738       4.450       1.000
  29   36     -2690.752       4.317       1.000
  30   37     -2690.765       2.749       1.000
  31   38     -2690.774       3.660       1.000
  32   39     -2690.797       3.543       1.000
  33   40     -2690.821       4.660       1.000
  34   42     -2690.830       6.360       0.419
  35   43     -2690.853       6.027       1.000
  36   44     -2690.866       2.173       1.000
  37   47     -2690.887       5.606       1.564
  38   48     -2690.892       2.241       1.000
  39   49     -2690.894       2.461       1.000
  40   52     -2690.928       4.171       1.497
  41   53     -2690.947       2.012       1.000
  42   54     -2690.971       4.698       1.000
  43   56     -2690.976       1.354       0.356
  44   57     -2690.979       3.110       1.000
Final RAS Transform: 
0.993643 -0.0130825 -0.000104467 -0.313217 
0.00447307 0.996549 0.0477979 -0.40421 
-0.00601716 0.00193412 1.01269 0.44233 
0 0 0 1 

Final RAS Transform: 
0.993643 -0.0130825 -0.000104467 -0.313217 
0.00447307 0.996549 0.0477979 -0.40421 
-0.00601716 0.00193412 1.01269 0.44233 
0 0 0 1 


real	0m10.425s
user	0m18.228s
sys	0m0.496s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.800191
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1089
Level     0,  Iter     1:    Energy =   0.1164
Level     0,  Iter     2:    Energy =   0.1229
Level     0,  Iter     3:    Energy =   0.1275
Level     0,  Iter     4:    Energy =   0.1312
Level     0,  Iter     5:    Energy =   0.1336
Level     0,  Iter     6:    Energy =   0.1349
Level     0,  Iter     7:    Energy =   0.1364
Level     0,  Iter     8:    Energy =   0.1373
Level     0,  Iter     9:    Energy =   0.1382
Level     0,  Iter    10:    Energy =   0.1388
Level     0,  Iter    11:    Energy =   0.1394
Level     0,  Iter    12:    Energy =   0.1397
Level     0,  Iter    13:    Energy =   0.1402
Level     0,  Iter    14:    Energy =   0.1404
Level     0,  Iter    15:    Energy =   0.1408
Level     0,  Iter    16:    Energy =   0.1409
Level     0,  Iter    17:    Energy =   0.1413
Level     0,  Iter    18:    Energy =   0.1414
Level     0,  Iter    19:    Energy =   0.1417
Level     0,  Iter    20:    Energy =   0.1418
Level     0,  Iter    21:    Energy =   0.1420
Level     0,  Iter    22:    Energy =   0.1421
Level     0,  Iter    23:    Energy =   0.1421
Level     0,  Iter    24:    Energy =   0.1423
Level     0,  Iter    25:    Energy =   0.1423
Level     0,  Iter    26:    Energy =   0.1425
Level     0,  Iter    27:    Energy =   0.1426
Level     0,  Iter    28:    Energy =   0.1428
Level     0,  Iter    29:    Energy =   0.1427
Level     0,  Iter    30:    Energy =   0.1430
Level     0,  Iter    31:    Energy =   0.1429
Level     0,  Iter    32:    Energy =   0.1431
Level     0,  Iter    33:    Energy =   0.1430
Level     0,  Iter    34:    Energy =   0.1432
Level     0,  Iter    35:    Energy =   0.1431
Level     0,  Iter    36:    Energy =   0.1433
Level     0,  Iter    37:    Energy =   0.1432
Level     0,  Iter    38:    Energy =   0.1435
Level     0,  Iter    39:    Energy =   0.1433
Level     0,  Iter    40:    Energy =   0.1439
Level     0,  Iter    41:    Energy =   0.1439
Level     0,  Iter    42:    Energy =   0.1442
Level     0,  Iter    43:    Energy =   0.1442
Level     0,  Iter    44:    Energy =   0.1447
Level     0,  Iter    45:    Energy =   0.1450
Level     0,  Iter    46:    Energy =   0.1449
Level     0,  Iter    47:    Energy =   0.1451
Level     0,  Iter    48:    Energy =   0.1452
Level     0,  Iter    49:    Energy =   0.1452
Level     0,  Iter    50:    Energy =   0.1456
Level     0,  Iter    51:    Energy =   0.1454
Level     0,  Iter    52:    Energy =   0.1457
Level     0,  Iter    53:    Energy =   0.1456
Level     0,  Iter    54:    Energy =   0.1457
Level     0,  Iter    55:    Energy =   0.1457
Level     0,  Iter    56:    Energy =   0.1459
Level     0,  Iter    57:    Energy =   0.1457
Level     0,  Iter    58:    Energy =   0.1459
Level     0,  Iter    59:    Energy =   0.1458
END OF LEVEL     0    DetJac Range:   0.4355  to   2.3006 
  Avg. Gradient Time  : 0.0082s  34.59% 
  Avg. Gaussian Time  : 0.0118s  49.85% 
  Avg. Iteration Time : 0.0237s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1000
Level     1,  Iter     1:    Energy =   0.1054
Level     1,  Iter     2:    Energy =   0.1096
Level     1,  Iter     3:    Energy =   0.1125
Level     1,  Iter     4:    Energy =   0.1152
Level     1,  Iter     5:    Energy =   0.1178
Level     1,  Iter     6:    Energy =   0.1206
Level     1,  Iter     7:    Energy =   0.1234
Level     1,  Iter     8:    Energy =   0.1254
Level     1,  Iter     9:    Energy =   0.1270
Level     1,  Iter    10:    Energy =   0.1278
Level     1,  Iter    11:    Energy =   0.1276
Level     1,  Iter    12:    Energy =   0.1283
Level     1,  Iter    13:    Energy =   0.1282
Level     1,  Iter    14:    Energy =   0.1287
Level     1,  Iter    15:    Energy =   0.1285
Level     1,  Iter    16:    Energy =   0.1290
Level     1,  Iter    17:    Energy =   0.1288
Level     1,  Iter    18:    Energy =   0.1293
Level     1,  Iter    19:    Energy =   0.1291
Level     1,  Iter    20:    Energy =   0.1295
Level     1,  Iter    21:    Energy =   0.1294
Level     1,  Iter    22:    Energy =   0.1298
Level     1,  Iter    23:    Energy =   0.1296
Level     1,  Iter    24:    Energy =   0.1300
Level     1,  Iter    25:    Energy =   0.1299
Level     1,  Iter    26:    Energy =   0.1302
Level     1,  Iter    27:    Energy =   0.1301
Level     1,  Iter    28:    Energy =   0.1304
Level     1,  Iter    29:    Energy =   0.1303
Level     1,  Iter    30:    Energy =   0.1306
Level     1,  Iter    31:    Energy =   0.1304
Level     1,  Iter    32:    Energy =   0.1308
Level     1,  Iter    33:    Energy =   0.1306
Level     1,  Iter    34:    Energy =   0.1309
Level     1,  Iter    35:    Energy =   0.1307
Level     1,  Iter    36:    Energy =   0.1310
Level     1,  Iter    37:    Energy =   0.1308
Level     1,  Iter    38:    Energy =   0.1311
Level     1,  Iter    39:    Energy =   0.1309
Level     1,  Iter    40:    Energy =   0.1312
Level     1,  Iter    41:    Energy =   0.1310
Level     1,  Iter    42:    Energy =   0.1313
Level     1,  Iter    43:    Energy =   0.1311
Level     1,  Iter    44:    Energy =   0.1314
Level     1,  Iter    45:    Energy =   0.1312
Level     1,  Iter    46:    Energy =   0.1314
Level     1,  Iter    47:    Energy =   0.1312
Level     1,  Iter    48:    Energy =   0.1315
Level     1,  Iter    49:    Energy =   0.1313
Level     1,  Iter    50:    Energy =   0.1315
Level     1,  Iter    51:    Energy =   0.1313
Level     1,  Iter    52:    Energy =   0.1316
Level     1,  Iter    53:    Energy =   0.1314
Level     1,  Iter    54:    Energy =   0.1317
Level     1,  Iter    55:    Energy =   0.1315
Level     1,  Iter    56:    Energy =   0.1317
Level     1,  Iter    57:    Energy =   0.1315
Level     1,  Iter    58:    Energy =   0.1317
Level     1,  Iter    59:    Energy =   0.1315
END OF LEVEL     1    DetJac Range:   0.1976  to   2.5949 
  Avg. Gradient Time  : 0.0466s  32.53% 
  Avg. Gaussian Time  : 0.0781s  54.51% 
  Avg. Iteration Time : 0.1434s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0697
Level     2,  Iter     1:    Energy =   0.0728
Level     2,  Iter     2:    Energy =   0.0751
Level     2,  Iter     3:    Energy =   0.0770
Level     2,  Iter     4:    Energy =   0.0785
Level     2,  Iter     5:    Energy =   0.0800
Level     2,  Iter     6:    Energy =   0.0815
Level     2,  Iter     7:    Energy =   0.0832
Level     2,  Iter     8:    Energy =   0.0846
Level     2,  Iter     9:    Energy =   0.0858
Level     2,  Iter    10:    Energy =   0.0869
Level     2,  Iter    11:    Energy =   0.0878
Level     2,  Iter    12:    Energy =   0.0889
Level     2,  Iter    13:    Energy =   0.0898
Level     2,  Iter    14:    Energy =   0.0906
Level     2,  Iter    15:    Energy =   0.0912
Level     2,  Iter    16:    Energy =   0.0911
Level     2,  Iter    17:    Energy =   0.0912
Level     2,  Iter    18:    Energy =   0.0915
Level     2,  Iter    19:    Energy =   0.0913
END OF LEVEL     2    DetJac Range:   0.0596  to   4.3774 
  Avg. Gradient Time  : 0.2941s  30.86% 
  Avg. Gaussian Time  : 0.5294s  55.54% 
  Avg. Iteration Time : 0.9531s 

real	0m33.971s
user	1m1.916s
sys	0m1.468s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.332692 0.338462
+ echo 'CHUNK 0.332692 0.338462 1'
CHUNK 0.332692 0.338462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.332692 0.338462 1
====================================
         PROGRESS: 0.332692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 024 left 0
+ local tid=024
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.679531
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2799.54   GNORM= 174.008
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2812.425      96.899       0.001
   2    4     -2820.345     103.821       1.000
   3    5     -2851.665     118.494       1.000
   4    6     -2866.332      71.709       1.000
   5    7     -2883.019     110.060       1.000
   6    8     -2900.997     134.967       1.000
   7    9     -2925.308      64.473       1.000
   8   10     -2929.902     169.855       1.000
   9   11     -2939.301      69.086       1.000
  10   12     -2943.010      62.422       1.000
  11   13     -2946.413      75.004       1.000
  12   14     -2963.345      75.302       1.000
  13   16     -2970.912     124.705       0.356
  14   17     -2980.673     104.150       1.000
  15   18     -2982.353     176.453       1.000
  16   19     -2992.000      39.437       1.000
  17   20     -2992.625      24.767       1.000
  18   21     -2993.074      21.529       1.000
  19   22     -2994.472      34.755       1.000
  20   23     -2995.559      25.556       1.000
  21   24     -2998.402      17.269       1.000
  22   26     -3000.389      25.614       0.249
  23   27     -3000.524      24.593       1.000
  24   28     -3001.581      39.966       1.000
  25   29     -3002.543       7.067       1.000
  26   31     -3003.558      15.541       5.000
  27   32     -3003.641      24.068       1.000
  28   33     -3004.000       9.188       1.000
  29   35     -3004.026       4.785       0.425
  30   36     -3004.037      10.809       1.000
  31   37     -3004.063       3.818       1.000
  32   38     -3004.064       3.706       1.000
  33   39     -3004.084       6.315       1.000
  34   40     -3004.121       4.388       1.000
  35   41     -3004.207       7.620       1.000
  36   42     -3004.281      16.047       1.000
  37   44     -3004.303       5.363       0.198
  38   45     -3004.352       3.523       1.000
  39   47     -3004.365       5.526       0.337
  40   49     -3004.374       8.071       0.446
  41   51     -3004.376       1.788       0.278
  42   52     -3004.379       1.858       1.000
  43   54     -3004.380       1.811       0.090
Final RAS Transform: 
0.878711 -0.00785199 0.0498202 -3.20837 
0.0100727 0.950433 -0.0873963 -1.10488 
-0.0639623 0.0138305 1.08812 -1.12757 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1869   GNORM= 94.2908
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1874.171      46.831       0.001
   2    4     -1876.204      38.055       1.000
   3    5     -1880.526      44.213       1.000
   4    6     -1884.179      40.408       1.000
   5    7     -1902.855      53.937       1.000
   6    8     -1909.726      48.336       1.000
   7    9     -1918.539      55.706       1.000
   8   11     -1921.244      37.107       0.284
   9   12     -1923.413      24.567       1.000
  10   13     -1926.140      21.424       1.000
  11   14     -1931.160      36.718       1.000
  12   15     -1936.302      36.590       1.000
  13   16     -1942.440      19.491       1.000
  14   17     -1944.828      19.943       1.000
  15   19     -1945.319      19.885       0.486
  16   20     -1946.099      17.584       1.000
  17   21     -1951.666      43.369       1.000
  18   22     -1955.809      50.878       1.000
  19   23     -1958.465      17.438       1.000
  20   24     -1958.939       8.565       1.000
  21   25     -1959.332      14.153       1.000
  22   26     -1959.760      21.722       1.000
  23   27     -1960.544      16.090       1.000
  24   28     -1961.022      19.444       1.000
  25   29     -1961.252       7.286       1.000
  26   30     -1961.371      10.328       1.000
  27   32     -1961.716      22.714       5.000
  28   33     -1962.283      15.678       1.000
  29   34     -1962.651      10.852       1.000
  30   35     -1962.837       7.413       1.000
  31   37     -1962.941       9.352       0.326
  32   38     -1963.081      10.718       1.000
  33   40     -1963.166       4.984       0.450
  34   41     -1963.219       5.618       1.000
  35   42     -1963.350       5.501       1.000
  36   43     -1963.550      13.512       1.000
  37   46     -1964.082      13.284       2.557
  38   47     -1964.169      19.341       1.000
  39   49     -1964.407       8.154       0.506
  40   50     -1964.617       6.176       1.000
  41   51     -1964.688      10.975       1.000
  42   52     -1964.781      14.133       1.000
  43   53     -1964.856       2.932       1.000
  44   54     -1964.884       3.043       1.000
  45   55     -1964.907       7.954       1.000
  46   56     -1965.044       7.310       1.000
  47   57     -1965.138       5.822       1.000
  48   58     -1965.210      15.931       1.000
  49   59     -1965.286       7.260       1.000
  50   60     -1965.347       7.063       1.000
  51   61     -1965.430      14.371       1.000
Final RAS Transform: 
0.952827 -0.0206355 -0.00577707 -1.87242 
0.0125943 0.951015 -0.09473 -1.17784 
-0.0154673 0.0173303 1.08863 0.346417 
0 0 0 1 

Final RAS Transform: 
0.952827 -0.0206355 -0.00577707 -1.87242 
0.0125943 0.951015 -0.09473 -1.17784 
-0.0154673 0.0173303 1.08863 0.346417 
0 0 0 1 


real	0m10.602s
user	0m18.548s
sys	0m0.496s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.683288
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0843
Level     0,  Iter     1:    Energy =   0.0912
Level     0,  Iter     2:    Energy =   0.0986
Level     0,  Iter     3:    Energy =   0.1041
Level     0,  Iter     4:    Energy =   0.1087
Level     0,  Iter     5:    Energy =   0.1115
Level     0,  Iter     6:    Energy =   0.1133
Level     0,  Iter     7:    Energy =   0.1148
Level     0,  Iter     8:    Energy =   0.1164
Level     0,  Iter     9:    Energy =   0.1173
Level     0,  Iter    10:    Energy =   0.1182
Level     0,  Iter    11:    Energy =   0.1190
Level     0,  Iter    12:    Energy =   0.1197
Level     0,  Iter    13:    Energy =   0.1202
Level     0,  Iter    14:    Energy =   0.1206
Level     0,  Iter    15:    Energy =   0.1211
Level     0,  Iter    16:    Energy =   0.1213
Level     0,  Iter    17:    Energy =   0.1217
Level     0,  Iter    18:    Energy =   0.1218
Level     0,  Iter    19:    Energy =   0.1221
Level     0,  Iter    20:    Energy =   0.1222
Level     0,  Iter    21:    Energy =   0.1225
Level     0,  Iter    22:    Energy =   0.1225
Level     0,  Iter    23:    Energy =   0.1227
Level     0,  Iter    24:    Energy =   0.1227
Level     0,  Iter    25:    Energy =   0.1229
Level     0,  Iter    26:    Energy =   0.1229
Level     0,  Iter    27:    Energy =   0.1231
Level     0,  Iter    28:    Energy =   0.1231
Level     0,  Iter    29:    Energy =   0.1232
Level     0,  Iter    30:    Energy =   0.1232
Level     0,  Iter    31:    Energy =   0.1233
Level     0,  Iter    32:    Energy =   0.1234
Level     0,  Iter    33:    Energy =   0.1234
Level     0,  Iter    34:    Energy =   0.1235
Level     0,  Iter    35:    Energy =   0.1235
Level     0,  Iter    36:    Energy =   0.1235
Level     0,  Iter    37:    Energy =   0.1236
Level     0,  Iter    38:    Energy =   0.1236
Level     0,  Iter    39:    Energy =   0.1237
Level     0,  Iter    40:    Energy =   0.1237
Level     0,  Iter    41:    Energy =   0.1237
Level     0,  Iter    42:    Energy =   0.1238
Level     0,  Iter    43:    Energy =   0.1238
Level     0,  Iter    44:    Energy =   0.1238
Level     0,  Iter    45:    Energy =   0.1238
Level     0,  Iter    46:    Energy =   0.1239
Level     0,  Iter    47:    Energy =   0.1238
Level     0,  Iter    48:    Energy =   0.1239
Level     0,  Iter    49:    Energy =   0.1239
Level     0,  Iter    50:    Energy =   0.1239
Level     0,  Iter    51:    Energy =   0.1239
Level     0,  Iter    52:    Energy =   0.1239
Level     0,  Iter    53:    Energy =   0.1239
Level     0,  Iter    54:    Energy =   0.1239
Level     0,  Iter    55:    Energy =   0.1240
Level     0,  Iter    56:    Energy =   0.1240
Level     0,  Iter    57:    Energy =   0.1240
Level     0,  Iter    58:    Energy =   0.1240
Level     0,  Iter    59:    Energy =   0.1240
END OF LEVEL     0    DetJac Range:   0.2584  to   2.0440 
  Avg. Gradient Time  : 0.0073s  34.19% 
  Avg. Gaussian Time  : 0.0107s  50.24% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0815
Level     1,  Iter     1:    Energy =   0.0860
Level     1,  Iter     2:    Energy =   0.0899
Level     1,  Iter     3:    Energy =   0.0931
Level     1,  Iter     4:    Energy =   0.0962
Level     1,  Iter     5:    Energy =   0.0989
Level     1,  Iter     6:    Energy =   0.1011
Level     1,  Iter     7:    Energy =   0.1034
Level     1,  Iter     8:    Energy =   0.1052
Level     1,  Iter     9:    Energy =   0.1067
Level     1,  Iter    10:    Energy =   0.1073
Level     1,  Iter    11:    Energy =   0.1080
Level     1,  Iter    12:    Energy =   0.1081
Level     1,  Iter    13:    Energy =   0.1092
Level     1,  Iter    14:    Energy =   0.1095
Level     1,  Iter    15:    Energy =   0.1102
Level     1,  Iter    16:    Energy =   0.1100
Level     1,  Iter    17:    Energy =   0.1109
Level     1,  Iter    18:    Energy =   0.1112
Level     1,  Iter    19:    Energy =   0.1115
Level     1,  Iter    20:    Energy =   0.1113
Level     1,  Iter    21:    Energy =   0.1120
Level     1,  Iter    22:    Energy =   0.1120
Level     1,  Iter    23:    Energy =   0.1123
Level     1,  Iter    24:    Energy =   0.1122
Level     1,  Iter    25:    Energy =   0.1126
Level     1,  Iter    26:    Energy =   0.1125
Level     1,  Iter    27:    Energy =   0.1130
Level     1,  Iter    28:    Energy =   0.1128
Level     1,  Iter    29:    Energy =   0.1133
Level     1,  Iter    30:    Energy =   0.1132
Level     1,  Iter    31:    Energy =   0.1136
Level     1,  Iter    32:    Energy =   0.1134
Level     1,  Iter    33:    Energy =   0.1138
Level     1,  Iter    34:    Energy =   0.1136
Level     1,  Iter    35:    Energy =   0.1141
Level     1,  Iter    36:    Energy =   0.1139
Level     1,  Iter    37:    Energy =   0.1143
Level     1,  Iter    38:    Energy =   0.1141
Level     1,  Iter    39:    Energy =   0.1145
Level     1,  Iter    40:    Energy =   0.1143
Level     1,  Iter    41:    Energy =   0.1146
Level     1,  Iter    42:    Energy =   0.1144
Level     1,  Iter    43:    Energy =   0.1148
Level     1,  Iter    44:    Energy =   0.1145
Level     1,  Iter    45:    Energy =   0.1150
Level     1,  Iter    46:    Energy =   0.1147
Level     1,  Iter    47:    Energy =   0.1151
Level     1,  Iter    48:    Energy =   0.1148
Level     1,  Iter    49:    Energy =   0.1153
Level     1,  Iter    50:    Energy =   0.1149
Level     1,  Iter    51:    Energy =   0.1154
Level     1,  Iter    52:    Energy =   0.1150
Level     1,  Iter    53:    Energy =   0.1155
Level     1,  Iter    54:    Energy =   0.1152
Level     1,  Iter    55:    Energy =   0.1156
Level     1,  Iter    56:    Energy =   0.1153
Level     1,  Iter    57:    Energy =   0.1155
Level     1,  Iter    58:    Energy =   0.1154
Level     1,  Iter    59:    Energy =   0.1153
END OF LEVEL     1    DetJac Range:   0.0482  to   3.5963 
  Avg. Gradient Time  : 0.0413s  32.85% 
  Avg. Gaussian Time  : 0.0684s  54.38% 
  Avg. Iteration Time : 0.1258s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0567
Level     2,  Iter     1:    Energy =   0.0588
Level     2,  Iter     2:    Energy =   0.0606
Level     2,  Iter     3:    Energy =   0.0626
Level     2,  Iter     4:    Energy =   0.0645
Level     2,  Iter     5:    Energy =   0.0660
Level     2,  Iter     6:    Energy =   0.0675
Level     2,  Iter     7:    Energy =   0.0691
Level     2,  Iter     8:    Energy =   0.0706
Level     2,  Iter     9:    Energy =   0.0717
Level     2,  Iter    10:    Energy =   0.0726
Level     2,  Iter    11:    Energy =   0.0733
Level     2,  Iter    12:    Energy =   0.0740
Level     2,  Iter    13:    Energy =   0.0747
Level     2,  Iter    14:    Energy =   0.0755
Level     2,  Iter    15:    Energy =   0.0763
Level     2,  Iter    16:    Energy =   0.0770
Level     2,  Iter    17:    Energy =   0.0776
Level     2,  Iter    18:    Energy =   0.0780
Level     2,  Iter    19:    Energy =   0.0780
END OF LEVEL     2    DetJac Range:   0.0356  to   4.7412 
  Avg. Gradient Time  : 0.2927s  30.85% 
  Avg. Gaussian Time  : 0.5271s  55.57% 
  Avg. Iteration Time : 0.9485s 

real	0m32.420s
user	0m58.940s
sys	0m1.464s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.338462 0.344231
+ echo 'CHUNK 0.338462 0.344231 1'
CHUNK 0.338462 0.344231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.338462 0.344231 1
====================================
         PROGRESS: 0.338462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=left
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 025 left 0
+ local tid=025
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.432333
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2978.25   GNORM= 231.231
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3015.722     305.206       0.001
   2    4     -3045.458     157.516       1.000
   3    5     -3060.100     105.682       1.000
   4    6     -3080.331     123.582       1.000
   5    7     -3096.284     141.440       1.000
   6    8     -3118.171     112.170       1.000
   7    9     -3142.242     120.303       1.000
   8   10     -3158.200     118.944       1.000
   9   11     -3169.570     101.182       1.000
  10   12     -3179.274     107.187       1.000
  11   13     -3206.463     238.262       1.000
  12   14     -3224.593     141.384       1.000
  13   15     -3237.752      57.724       1.000
  14   16     -3239.763      33.389       1.000
  15   17     -3241.953      61.719       1.000
  16   18     -3243.773      28.534       1.000
  17   19     -3245.804      33.112       1.000
  18   21     -3247.656      48.704       0.481
  19   22     -3250.167      47.626       1.000
  20   23     -3250.949      20.131       1.000
  21   24     -3251.292      69.582       1.000
  22   25     -3252.217      34.068       1.000
  23   26     -3252.975      26.246       1.000
  24   27     -3253.741      33.663       1.000
  25   28     -3254.364      25.852       1.000
  26   30     -3254.854      23.229       0.470
  27   31     -3255.193      22.436       1.000
  28   32     -3255.496      28.251       1.000
  29   33     -3255.807      25.865       1.000
  30   34     -3256.306      18.085       1.000
  31   35     -3256.432      36.161       1.000
  32   36     -3256.848      13.920       1.000
  33   37     -3257.085      23.724       1.000
  34   38     -3257.275      11.607       1.000
  35   39     -3257.367      14.101       1.000
  36   40     -3257.468      17.012       1.000
  37   42     -3257.559      12.875       0.334
  38   43     -3257.622       9.602       1.000
  39   44     -3257.873      28.902       1.000
  40   45     -3258.097      16.509       1.000
  41   46     -3258.335      14.473       1.000
  42   47     -3258.431      16.796       1.000
  43   48     -3258.489      11.793       1.000
  44   49     -3258.604      13.141       1.000
  45   50     -3258.677      24.028       1.000
  46   51     -3258.823      14.925       1.000
  47   52     -3258.846      17.439       1.000
  48   53     -3258.899       9.153       1.000
  49   54     -3258.905      12.350       1.000
  50   55     -3258.915       4.413       1.000
  51   56     -3258.939       6.423       1.000
  52   57     -3258.963       8.805       1.000
  53   58     -3259.099       7.229       1.000
  54   59     -3259.163      11.834       1.000
  55   60     -3259.313      10.186       1.000
Final RAS Transform: 
0.901583 0.000257091 0.0532225 -2.96549 
-0.0513983 0.971971 0.0294208 -2.35808 
-0.00893348 0.00141381 1.00251 -0.196122 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2355.08   GNORM= 259.215
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2367.954      58.364       0.000
   2    4     -2369.035      39.639       1.000
   3    5     -2370.234      57.645       1.000
   4    6     -2373.301      99.547       1.000
   5    7     -2382.186     165.487       1.000
   6    8     -2391.132     161.569       1.000
   7    9     -2405.180      86.138       1.000
   8   10     -2412.527      52.172       1.000
   9   11     -2417.610      50.582       1.000
  10   13     -2418.239      20.718       0.465
  11   14     -2418.624      20.442       1.000
  12   15     -2419.375      28.185       1.000
  13   16     -2421.143      48.720       1.000
  14   17     -2424.460      58.617       1.000
  15   18     -2429.696      86.423       1.000
  16   19     -2432.683     107.997       1.000
  17   20     -2435.604      31.033       1.000
  18   21     -2436.408      27.940       1.000
  19   22     -2437.644      22.001       1.000
  20   23     -2438.636      27.196       1.000
  21   24     -2439.504      21.813       1.000
  22   25     -2440.260      21.235       1.000
  23   27     -2442.134      63.087       0.414
  24   28     -2443.956      16.671       1.000
  25   29     -2444.470      12.537       1.000
  26   30     -2445.207      15.111       1.000
  27   31     -2445.320      17.931       1.000
  28   32     -2445.556       7.525       1.000
  29   33     -2445.662       8.557       1.000
  30   34     -2445.739       6.163       1.000
  31   35     -2445.746      10.478       1.000
  32   36     -2445.785       4.025       1.000
  33   37     -2445.801       5.471       1.000
  34   38     -2445.855       8.462       1.000
  35   39     -2445.951      11.854       1.000
  36   40     -2446.102       9.200       1.000
  37   42     -2446.132       9.526       0.399
  38   43     -2446.155       5.483       1.000
  39   44     -2446.167       3.125       1.000
Final RAS Transform: 
0.954151 -0.00689117 0.0130479 -1.49311 
-0.0421818 0.992047 0.0456629 -1.55408 
-0.000485846 0.00426023 1.01315 0.168349 
0 0 0 1 

Final RAS Transform: 
0.954151 -0.00689117 0.0130479 -1.49311 
-0.0421818 0.992047 0.0456629 -1.55408 
-0.000485846 0.00426023 1.01315 0.168349 
0 0 0 1 


real	0m10.139s
user	0m17.728s
sys	0m0.408s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.562, moving = 0.442164
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0951
Level     0,  Iter     1:    Energy =   0.1018
Level     0,  Iter     2:    Energy =   0.1075
Level     0,  Iter     3:    Energy =   0.1113
Level     0,  Iter     4:    Energy =   0.1138
Level     0,  Iter     5:    Energy =   0.1153
Level     0,  Iter     6:    Energy =   0.1169
Level     0,  Iter     7:    Energy =   0.1176
Level     0,  Iter     8:    Energy =   0.1189
Level     0,  Iter     9:    Energy =   0.1192
Level     0,  Iter    10:    Energy =   0.1202
Level     0,  Iter    11:    Energy =   0.1203
Level     0,  Iter    12:    Energy =   0.1210
Level     0,  Iter    13:    Energy =   0.1209
Level     0,  Iter    14:    Energy =   0.1216
Level     0,  Iter    15:    Energy =   0.1214
Level     0,  Iter    16:    Energy =   0.1220
Level     0,  Iter    17:    Energy =   0.1218
Level     0,  Iter    18:    Energy =   0.1224
Level     0,  Iter    19:    Energy =   0.1222
Level     0,  Iter    20:    Energy =   0.1227
Level     0,  Iter    21:    Energy =   0.1224
Level     0,  Iter    22:    Energy =   0.1229
Level     0,  Iter    23:    Energy =   0.1227
Level     0,  Iter    24:    Energy =   0.1232
Level     0,  Iter    25:    Energy =   0.1229
Level     0,  Iter    26:    Energy =   0.1234
Level     0,  Iter    27:    Energy =   0.1231
Level     0,  Iter    28:    Energy =   0.1236
Level     0,  Iter    29:    Energy =   0.1233
Level     0,  Iter    30:    Energy =   0.1238
Level     0,  Iter    31:    Energy =   0.1235
Level     0,  Iter    32:    Energy =   0.1239
Level     0,  Iter    33:    Energy =   0.1237
Level     0,  Iter    34:    Energy =   0.1241
Level     0,  Iter    35:    Energy =   0.1238
Level     0,  Iter    36:    Energy =   0.1242
Level     0,  Iter    37:    Energy =   0.1239
Level     0,  Iter    38:    Energy =   0.1243
Level     0,  Iter    39:    Energy =   0.1240
Level     0,  Iter    40:    Energy =   0.1244
Level     0,  Iter    41:    Energy =   0.1241
Level     0,  Iter    42:    Energy =   0.1244
Level     0,  Iter    43:    Energy =   0.1241
Level     0,  Iter    44:    Energy =   0.1245
Level     0,  Iter    45:    Energy =   0.1242
Level     0,  Iter    46:    Energy =   0.1246
Level     0,  Iter    47:    Energy =   0.1243
Level     0,  Iter    48:    Energy =   0.1247
Level     0,  Iter    49:    Energy =   0.1243
Level     0,  Iter    50:    Energy =   0.1247
Level     0,  Iter    51:    Energy =   0.1244
Level     0,  Iter    52:    Energy =   0.1247
Level     0,  Iter    53:    Energy =   0.1244
Level     0,  Iter    54:    Energy =   0.1248
Level     0,  Iter    55:    Energy =   0.1244
Level     0,  Iter    56:    Energy =   0.1248
Level     0,  Iter    57:    Energy =   0.1245
Level     0,  Iter    58:    Energy =   0.1249
Level     0,  Iter    59:    Energy =   0.1245
END OF LEVEL     0    DetJac Range:   0.3721  to   1.8147 
  Avg. Gradient Time  : 0.0073s  34.43% 
  Avg. Gaussian Time  : 0.0106s  50.01% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0878
Level     1,  Iter     1:    Energy =   0.0921
Level     1,  Iter     2:    Energy =   0.0967
Level     1,  Iter     3:    Energy =   0.1008
Level     1,  Iter     4:    Energy =   0.1037
Level     1,  Iter     5:    Energy =   0.1067
Level     1,  Iter     6:    Energy =   0.1090
Level     1,  Iter     7:    Energy =   0.1107
Level     1,  Iter     8:    Energy =   0.1117
Level     1,  Iter     9:    Energy =   0.1125
Level     1,  Iter    10:    Energy =   0.1136
Level     1,  Iter    11:    Energy =   0.1150
Level     1,  Iter    12:    Energy =   0.1157
Level     1,  Iter    13:    Energy =   0.1159
Level     1,  Iter    14:    Energy =   0.1163
Level     1,  Iter    15:    Energy =   0.1167
Level     1,  Iter    16:    Energy =   0.1169
Level     1,  Iter    17:    Energy =   0.1172
Level     1,  Iter    18:    Energy =   0.1173
Level     1,  Iter    19:    Energy =   0.1177
Level     1,  Iter    20:    Energy =   0.1177
Level     1,  Iter    21:    Energy =   0.1181
Level     1,  Iter    22:    Energy =   0.1181
Level     1,  Iter    23:    Energy =   0.1184
Level     1,  Iter    24:    Energy =   0.1184
Level     1,  Iter    25:    Energy =   0.1187
Level     1,  Iter    26:    Energy =   0.1186
Level     1,  Iter    27:    Energy =   0.1190
Level     1,  Iter    28:    Energy =   0.1189
Level     1,  Iter    29:    Energy =   0.1192
Level     1,  Iter    30:    Energy =   0.1191
Level     1,  Iter    31:    Energy =   0.1194
Level     1,  Iter    32:    Energy =   0.1193
Level     1,  Iter    33:    Energy =   0.1196
Level     1,  Iter    34:    Energy =   0.1195
Level     1,  Iter    35:    Energy =   0.1197
Level     1,  Iter    36:    Energy =   0.1196
Level     1,  Iter    37:    Energy =   0.1198
Level     1,  Iter    38:    Energy =   0.1198
Level     1,  Iter    39:    Energy =   0.1200
Level     1,  Iter    40:    Energy =   0.1199
Level     1,  Iter    41:    Energy =   0.1201
Level     1,  Iter    42:    Energy =   0.1200
Level     1,  Iter    43:    Energy =   0.1202
Level     1,  Iter    44:    Energy =   0.1201
Level     1,  Iter    45:    Energy =   0.1203
Level     1,  Iter    46:    Energy =   0.1202
Level     1,  Iter    47:    Energy =   0.1204
Level     1,  Iter    48:    Energy =   0.1203
Level     1,  Iter    49:    Energy =   0.1205
Level     1,  Iter    50:    Energy =   0.1204
Level     1,  Iter    51:    Energy =   0.1206
Level     1,  Iter    52:    Energy =   0.1204
Level     1,  Iter    53:    Energy =   0.1206
Level     1,  Iter    54:    Energy =   0.1205
Level     1,  Iter    55:    Energy =   0.1207
Level     1,  Iter    56:    Energy =   0.1206
Level     1,  Iter    57:    Energy =   0.1208
Level     1,  Iter    58:    Energy =   0.1206
Level     1,  Iter    59:    Energy =   0.1208
END OF LEVEL     1    DetJac Range:   0.0663  to   3.4143 
  Avg. Gradient Time  : 0.0415s  32.89% 
  Avg. Gaussian Time  : 0.0685s  54.34% 
  Avg. Iteration Time : 0.1261s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0618
Level     2,  Iter     1:    Energy =   0.0641
Level     2,  Iter     2:    Energy =   0.0667
Level     2,  Iter     3:    Energy =   0.0685
Level     2,  Iter     4:    Energy =   0.0700
Level     2,  Iter     5:    Energy =   0.0716
Level     2,  Iter     6:    Energy =   0.0735
Level     2,  Iter     7:    Energy =   0.0750
Level     2,  Iter     8:    Energy =   0.0764
Level     2,  Iter     9:    Energy =   0.0773
Level     2,  Iter    10:    Energy =   0.0782
Level     2,  Iter    11:    Energy =   0.0788
Level     2,  Iter    12:    Energy =   0.0792
Level     2,  Iter    13:    Energy =   0.0795
Level     2,  Iter    14:    Energy =   0.0797
Level     2,  Iter    15:    Energy =   0.0799
Level     2,  Iter    16:    Energy =   0.0800
Level     2,  Iter    17:    Energy =   0.0802
Level     2,  Iter    18:    Energy =   0.0802
Level     2,  Iter    19:    Energy =   0.0803
END OF LEVEL     2    DetJac Range:   0.0780  to   4.6112 
  Avg. Gradient Time  : 0.2918s  30.79% 
  Avg. Gaussian Time  : 0.5272s  55.62% 
  Avg. Iteration Time : 0.9477s 

real	0m32.423s
user	0m58.960s
sys	0m1.472s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.344231 0.35
+ echo 'CHUNK 0.344231 0.35 1'
CHUNK 0.344231 0.35 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.344231 0.35 1
====================================
         PROGRESS: 0.344231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 000 right 0
+ local tid=000
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.82766
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4213.23   GNORM= 1340.46
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4534.471     266.949       0.000
   2    4     -4557.239     241.291       1.000
   3    5     -4652.859     141.462       1.000
   4    6     -4667.142      90.947       1.000
   5    7     -4675.042      88.244       1.000
   6    8     -4684.518     114.437       1.000
   7    9     -4693.735      83.444       1.000
   8   10     -4698.488      60.912       1.000
   9   11     -4700.545      38.276       1.000
  10   12     -4703.145      65.704       1.000
  11   13     -4705.659      70.438       1.000
  12   15     -4706.666      45.515       0.227
  13   16     -4707.499      12.909       1.000
  14   17     -4707.642      11.792       1.000
  15   18     -4707.933      20.018       1.000
  16   19     -4708.227      18.209       1.000
  17   21     -4708.344      30.087       0.156
  18   22     -4708.540      16.715       1.000
  19   24     -4708.593       9.233       0.405
  20   25     -4708.618      15.758       1.000
  21   27     -4708.827      19.851       0.322
  22   29     -4708.875      15.253       0.261
  23   30     -4708.916       8.633       1.000
  24   31     -4708.926       5.038       1.000
  25   32     -4708.937       5.261       1.000
  26   34     -4708.949       5.108       0.228
  27   35     -4708.953       3.363       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.983279 -0.0213757 -0.0111984 -0.397137 
0.0144584 1.00494 0.0357906 0.171336 
0.0189777 -0.00462086 1.02274 -0.685814 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3245.86   GNORM= 111.255
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3247.877      38.926       0.000
   2    4     -3248.367      39.320       1.000
   3    5     -3250.838      65.732       1.000
   4    6     -3253.143      69.812       1.000
   5    8     -3253.794      67.950       0.452
   6    9     -3254.515      13.411       1.000
   7   10     -3254.571       8.557       1.000
   8   11     -3254.620      11.795       1.000
   9   12     -3254.798      30.556       1.000
  10   13     -3255.047      35.512       1.000
  11   14     -3255.528      34.668       1.000
  12   16     -3255.652      13.892       0.285
  13   17     -3255.700       8.693       1.000
  14   18     -3255.735      10.005       1.000
  15   19     -3255.768       6.670       1.000
  16   20     -3255.787       9.058       1.000
  17   21     -3255.829       6.531       1.000
  18   22     -3255.864       6.510       1.000
  19   24     -3255.888       5.935       0.480
  20   25     -3255.895       4.334       1.000
  21   26     -3255.901       3.218       1.000
  22   27     -3255.927       7.169       1.000
  23   28     -3255.950       5.483       1.000
  24   29     -3255.978       5.152       1.000
  25   31     -3255.983       2.787       0.186
  26   32     -3255.989       2.959       1.000
  27   33     -3255.991       2.045       1.000
  28   34     -3256.018       4.045       1.000
  29   36     -3256.027       6.496       0.380
  30   37     -3256.031       5.320       1.000
  31   38     -3256.043       1.975       1.000
  32   40     -3256.049       1.915       0.076
  33   41     -3256.052       2.999       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.987554 -0.0171583 -0.00958755 -0.372904 
0.0152873 1.00787 0.0333369 0.224174 
0.0192977 -0.00172218 1.02306 -0.595092 
0 0 0 1 

Final RAS Transform: 
0.987554 -0.0171583 -0.00958755 -0.372904 
0.0152873 1.00787 0.0333369 0.224174 
0.0192977 -0.00172218 1.02306 -0.595092 
0 0 0 1 


real	0m10.459s
user	0m18.300s
sys	0m0.500s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.822712
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1327
Level     0,  Iter     1:    Energy =   0.1393
Level     0,  Iter     2:    Energy =   0.1455
Level     0,  Iter     3:    Energy =   0.1485
Level     0,  Iter     4:    Energy =   0.1504
Level     0,  Iter     5:    Energy =   0.1513
Level     0,  Iter     6:    Energy =   0.1523
Level     0,  Iter     7:    Energy =   0.1526
Level     0,  Iter     8:    Energy =   0.1533
Level     0,  Iter     9:    Energy =   0.1532
Level     0,  Iter    10:    Energy =   0.1537
Level     0,  Iter    11:    Energy =   0.1538
Level     0,  Iter    12:    Energy =   0.1540
Level     0,  Iter    13:    Energy =   0.1542
Level     0,  Iter    14:    Energy =   0.1543
Level     0,  Iter    15:    Energy =   0.1546
Level     0,  Iter    16:    Energy =   0.1545
Level     0,  Iter    17:    Energy =   0.1548
Level     0,  Iter    18:    Energy =   0.1547
Level     0,  Iter    19:    Energy =   0.1551
Level     0,  Iter    20:    Energy =   0.1549
Level     0,  Iter    21:    Energy =   0.1553
Level     0,  Iter    22:    Energy =   0.1551
Level     0,  Iter    23:    Energy =   0.1556
Level     0,  Iter    24:    Energy =   0.1554
Level     0,  Iter    25:    Energy =   0.1557
Level     0,  Iter    26:    Energy =   0.1554
Level     0,  Iter    27:    Energy =   0.1558
Level     0,  Iter    28:    Energy =   0.1554
Level     0,  Iter    29:    Energy =   0.1559
Level     0,  Iter    30:    Energy =   0.1555
Level     0,  Iter    31:    Energy =   0.1560
Level     0,  Iter    32:    Energy =   0.1555
Level     0,  Iter    33:    Energy =   0.1560
Level     0,  Iter    34:    Energy =   0.1556
Level     0,  Iter    35:    Energy =   0.1560
Level     0,  Iter    36:    Energy =   0.1556
Level     0,  Iter    37:    Energy =   0.1559
Level     0,  Iter    38:    Energy =   0.1556
Level     0,  Iter    39:    Energy =   0.1559
Level     0,  Iter    40:    Energy =   0.1556
Level     0,  Iter    41:    Energy =   0.1559
Level     0,  Iter    42:    Energy =   0.1556
Level     0,  Iter    43:    Energy =   0.1559
Level     0,  Iter    44:    Energy =   0.1556
Level     0,  Iter    45:    Energy =   0.1559
Level     0,  Iter    46:    Energy =   0.1556
Level     0,  Iter    47:    Energy =   0.1560
Level     0,  Iter    48:    Energy =   0.1556
Level     0,  Iter    49:    Energy =   0.1559
Level     0,  Iter    50:    Energy =   0.1557
Level     0,  Iter    51:    Energy =   0.1560
Level     0,  Iter    52:    Energy =   0.1557
Level     0,  Iter    53:    Energy =   0.1560
Level     0,  Iter    54:    Energy =   0.1557
Level     0,  Iter    55:    Energy =   0.1560
Level     0,  Iter    56:    Energy =   0.1557
Level     0,  Iter    57:    Energy =   0.1560
Level     0,  Iter    58:    Energy =   0.1557
Level     0,  Iter    59:    Energy =   0.1560
END OF LEVEL     0    DetJac Range:   0.4572  to   2.1625 
  Avg. Gradient Time  : 0.0087s  34.45% 
  Avg. Gaussian Time  : 0.0126s  50.01% 
  Avg. Iteration Time : 0.0252s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1038
Level     1,  Iter     1:    Energy =   0.1086
Level     1,  Iter     2:    Energy =   0.1124
Level     1,  Iter     3:    Energy =   0.1151
Level     1,  Iter     4:    Energy =   0.1174
Level     1,  Iter     5:    Energy =   0.1195
Level     1,  Iter     6:    Energy =   0.1217
Level     1,  Iter     7:    Energy =   0.1235
Level     1,  Iter     8:    Energy =   0.1253
Level     1,  Iter     9:    Energy =   0.1268
Level     1,  Iter    10:    Energy =   0.1280
Level     1,  Iter    11:    Energy =   0.1291
Level     1,  Iter    12:    Energy =   0.1296
Level     1,  Iter    13:    Energy =   0.1297
Level     1,  Iter    14:    Energy =   0.1298
Level     1,  Iter    15:    Energy =   0.1298
Level     1,  Iter    16:    Energy =   0.1300
Level     1,  Iter    17:    Energy =   0.1300
Level     1,  Iter    18:    Energy =   0.1303
Level     1,  Iter    19:    Energy =   0.1302
Level     1,  Iter    20:    Energy =   0.1305
Level     1,  Iter    21:    Energy =   0.1304
Level     1,  Iter    22:    Energy =   0.1306
Level     1,  Iter    23:    Energy =   0.1306
Level     1,  Iter    24:    Energy =   0.1308
Level     1,  Iter    25:    Energy =   0.1307
Level     1,  Iter    26:    Energy =   0.1310
Level     1,  Iter    27:    Energy =   0.1309
Level     1,  Iter    28:    Energy =   0.1312
Level     1,  Iter    29:    Energy =   0.1310
Level     1,  Iter    30:    Energy =   0.1314
Level     1,  Iter    31:    Energy =   0.1312
Level     1,  Iter    32:    Energy =   0.1315
Level     1,  Iter    33:    Energy =   0.1314
Level     1,  Iter    34:    Energy =   0.1317
Level     1,  Iter    35:    Energy =   0.1315
Level     1,  Iter    36:    Energy =   0.1318
Level     1,  Iter    37:    Energy =   0.1316
Level     1,  Iter    38:    Energy =   0.1319
Level     1,  Iter    39:    Energy =   0.1317
Level     1,  Iter    40:    Energy =   0.1320
Level     1,  Iter    41:    Energy =   0.1318
Level     1,  Iter    42:    Energy =   0.1320
Level     1,  Iter    43:    Energy =   0.1318
Level     1,  Iter    44:    Energy =   0.1322
Level     1,  Iter    45:    Energy =   0.1320
Level     1,  Iter    46:    Energy =   0.1323
Level     1,  Iter    47:    Energy =   0.1321
Level     1,  Iter    48:    Energy =   0.1324
Level     1,  Iter    49:    Energy =   0.1321
Level     1,  Iter    50:    Energy =   0.1325
Level     1,  Iter    51:    Energy =   0.1323
Level     1,  Iter    52:    Energy =   0.1327
Level     1,  Iter    53:    Energy =   0.1324
Level     1,  Iter    54:    Energy =   0.1328
Level     1,  Iter    55:    Energy =   0.1325
Level     1,  Iter    56:    Energy =   0.1329
Level     1,  Iter    57:    Energy =   0.1326
Level     1,  Iter    58:    Energy =   0.1330
Level     1,  Iter    59:    Energy =   0.1327
END OF LEVEL     1    DetJac Range:   0.1944  to   3.0386 
  Avg. Gradient Time  : 0.0486s  32.59% 
  Avg. Gaussian Time  : 0.0811s  54.40% 
  Avg. Iteration Time : 0.1491s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0638
Level     2,  Iter     1:    Energy =   0.0665
Level     2,  Iter     2:    Energy =   0.0690
Level     2,  Iter     3:    Energy =   0.0711
Level     2,  Iter     4:    Energy =   0.0729
Level     2,  Iter     5:    Energy =   0.0742
Level     2,  Iter     6:    Energy =   0.0753
Level     2,  Iter     7:    Energy =   0.0766
Level     2,  Iter     8:    Energy =   0.0776
Level     2,  Iter     9:    Energy =   0.0784
Level     2,  Iter    10:    Energy =   0.0791
Level     2,  Iter    11:    Energy =   0.0799
Level     2,  Iter    12:    Energy =   0.0808
Level     2,  Iter    13:    Energy =   0.0816
Level     2,  Iter    14:    Energy =   0.0823
Level     2,  Iter    15:    Energy =   0.0829
Level     2,  Iter    16:    Energy =   0.0834
Level     2,  Iter    17:    Energy =   0.0838
Level     2,  Iter    18:    Energy =   0.0841
Level     2,  Iter    19:    Energy =   0.0843
END OF LEVEL     2    DetJac Range:   0.0772  to   3.6215 
  Avg. Gradient Time  : 0.3082s  26.78% 
  Avg. Gaussian Time  : 0.7028s  61.06% 
  Avg. Iteration Time : 1.1509s 

real	0m38.614s
user	1m10.388s
sys	0m2.132s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.35 0.355769
+ echo 'CHUNK 0.35 0.355769 1'
CHUNK 0.35 0.355769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.35 0.355769 1
====================================
         PROGRESS: 0.35               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 001 right 0
+ local tid=001
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.769215
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3239.35   GNORM= 343.501
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3296.696     141.204       0.001
   2    4     -3314.146     133.543       1.000
   3    5     -3375.688     104.255       1.000
   4    6     -3401.865     143.847       1.000
   5    7     -3422.277      94.271       1.000
   6    8     -3446.429      72.592       1.000
   7    9     -3462.298      87.129       1.000
   8   10     -3478.704      78.321       1.000
   9   11     -3484.890      70.124       1.000
  10   12     -3491.854      45.072       1.000
  11   13     -3502.398      25.521       1.000
  12   14     -3510.281      26.511       1.000
  13   16     -3512.867      51.345       0.194
  14   17     -3514.223      32.110       1.000
  15   18     -3515.639      20.502       1.000
  16   19     -3517.006      32.734       1.000
  17   20     -3518.569      25.257       1.000
  18   21     -3520.602      33.680       1.000
  19   22     -3521.870      34.236       1.000
  20   23     -3522.590      20.778       1.000
  21   24     -3523.280      19.953       1.000
  22   25     -3523.698      12.175       1.000
  23   26     -3523.889      16.700       1.000
  24   27     -3524.217      11.279       1.000
  25   28     -3524.232      12.060       1.000
  26   29     -3524.372       7.404       1.000
  27   31     -3524.437       6.419       0.336
  28   32     -3524.497       8.503       1.000
  29   33     -3524.614       8.093       1.000
  30   34     -3524.926      17.252       1.000
  31   35     -3525.028       9.841       1.000
  32   36     -3525.080       9.782       1.000
  33   37     -3525.150       5.875       1.000
  34   38     -3525.197       3.557       1.000
  35   39     -3525.205       6.190       1.000
  36   40     -3525.224       3.660       1.000
  37   41     -3525.246       3.230       1.000
  38   43     -3525.518      12.532       5.000
  39   46     -3525.586      18.838       0.020
  40   47     -3525.624      16.092       1.000
  41   48     -3525.757      11.160       1.000
  42   49     -3525.919       4.605       1.000
  43   50     -3525.971      14.560       1.000
  44   51     -3526.181       6.468       1.000
  45   52     -3526.195       6.927       1.000
  46   54     -3526.224       4.871       0.384
  47   55     -3526.232       2.072       1.000
  48   56     -3526.236       4.046       1.000
  49   57     -3526.250       4.191       1.000
  50   59     -3526.270       4.494       0.367
  51   60     -3526.287       2.787       1.000
  52   61     -3526.294       2.234       1.000
Final RAS Transform: 
0.976799 -0.000526342 -0.101628 -0.494659 
-0.0495832 1.02474 0.108488 1.61122 
0.0374465 -0.0254778 1.04542 -0.408117 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2174.15   GNORM= 74.6288
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2179.152      42.751       0.002
   2    4     -2181.578      37.175       1.000
   3    5     -2184.557      37.510       1.000
   4    6     -2190.444      44.645       1.000
   5    7     -2196.184      31.216       1.000
   6    8     -2200.047      45.088       1.000
   7    9     -2205.358      35.069       1.000
   8   10     -2211.921      51.215       1.000
   9   11     -2217.443      59.468       1.000
  10   13     -2219.497      24.742       0.364
  11   14     -2220.635      15.872       1.000
  12   15     -2221.459      12.808       1.000
  13   16     -2223.779      59.668       1.000
  14   17     -2226.506      27.934       1.000
  15   18     -2228.819      23.731       1.000
  16   19     -2229.986      33.251       1.000
  17   21     -2232.282      39.118       0.499
  18   22     -2235.340      38.050       1.000
  19   23     -2236.764      56.561       1.000
  20   24     -2238.183      29.360       1.000
  21   25     -2238.561      10.613       1.000
  22   26     -2238.705      10.672       1.000
  23   27     -2239.139      19.934       1.000
  24   28     -2239.762      13.166       1.000
  25   30     -2240.407      18.510       0.489
  26   31     -2241.329      15.283       1.000
  27   32     -2241.867      31.345       1.000
  28   33     -2242.260      12.755       1.000
  29   34     -2242.485       9.394       1.000
  30   35     -2242.597       9.860       1.000
  31   36     -2242.847      13.144       1.000
  32   37     -2243.233      31.063       1.000
  33   38     -2244.063      25.128       1.000
  34   39     -2245.123      10.279       1.000
  35   40     -2245.418      10.103       1.000
  36   41     -2245.485      17.299       1.000
  37   42     -2245.657       8.489       1.000
  38   43     -2245.741      11.976       1.000
  39   44     -2245.829       4.359       1.000
  40   45     -2245.854       2.960       1.000
  41   46     -2245.894       5.391       1.000
  42   47     -2245.925       6.593       1.000
  43   48     -2245.962      13.359       1.000
  44   49     -2246.028       6.264       1.000
  45   50     -2246.059       6.282       1.000
  46   51     -2246.079       4.595       1.000
  47   52     -2246.110       2.334       1.000
  48   53     -2246.122       5.134       1.000
  49   54     -2246.158       3.024       1.000
  50   55     -2246.171       2.676       1.000
  51   56     -2246.189       1.974       1.000
  52   58     -2246.205       5.211       0.295
  53   59     -2246.224       3.337       1.000
  54   60     -2246.287       5.040       1.000
  55   61     -2246.326       6.519       1.000
Final RAS Transform: 
1.00518 0.000195508 -0.0352948 -0.30137 
-0.0404267 1.00613 0.0181006 0.582196 
0.0179782 -0.00958192 1.02495 -0.14792 
0 0 0 1 

Final RAS Transform: 
1.00518 0.000195508 -0.0352948 -0.30137 
-0.0404267 1.00613 0.0181006 0.582196 
0.0179782 -0.00958192 1.02495 -0.14792 
0 0 0 1 


real	0m10.664s
user	0m18.668s
sys	0m0.516s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.763917
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0920
Level     0,  Iter     1:    Energy =   0.0994
Level     0,  Iter     2:    Energy =   0.1044
Level     0,  Iter     3:    Energy =   0.1092
Level     0,  Iter     4:    Energy =   0.1131
Level     0,  Iter     5:    Energy =   0.1163
Level     0,  Iter     6:    Energy =   0.1187
Level     0,  Iter     7:    Energy =   0.1205
Level     0,  Iter     8:    Energy =   0.1209
Level     0,  Iter     9:    Energy =   0.1216
Level     0,  Iter    10:    Energy =   0.1218
Level     0,  Iter    11:    Energy =   0.1225
Level     0,  Iter    12:    Energy =   0.1227
Level     0,  Iter    13:    Energy =   0.1234
Level     0,  Iter    14:    Energy =   0.1234
Level     0,  Iter    15:    Energy =   0.1240
Level     0,  Iter    16:    Energy =   0.1239
Level     0,  Iter    17:    Energy =   0.1243
Level     0,  Iter    18:    Energy =   0.1243
Level     0,  Iter    19:    Energy =   0.1245
Level     0,  Iter    20:    Energy =   0.1244
Level     0,  Iter    21:    Energy =   0.1246
Level     0,  Iter    22:    Energy =   0.1245
Level     0,  Iter    23:    Energy =   0.1246
Level     0,  Iter    24:    Energy =   0.1246
Level     0,  Iter    25:    Energy =   0.1246
Level     0,  Iter    26:    Energy =   0.1246
Level     0,  Iter    27:    Energy =   0.1246
Level     0,  Iter    28:    Energy =   0.1246
Level     0,  Iter    29:    Energy =   0.1246
Level     0,  Iter    30:    Energy =   0.1246
Level     0,  Iter    31:    Energy =   0.1246
Level     0,  Iter    32:    Energy =   0.1247
Level     0,  Iter    33:    Energy =   0.1247
Level     0,  Iter    34:    Energy =   0.1247
Level     0,  Iter    35:    Energy =   0.1248
Level     0,  Iter    36:    Energy =   0.1250
Level     0,  Iter    37:    Energy =   0.1250
Level     0,  Iter    38:    Energy =   0.1253
Level     0,  Iter    39:    Energy =   0.1253
Level     0,  Iter    40:    Energy =   0.1254
Level     0,  Iter    41:    Energy =   0.1255
Level     0,  Iter    42:    Energy =   0.1256
Level     0,  Iter    43:    Energy =   0.1256
Level     0,  Iter    44:    Energy =   0.1256
Level     0,  Iter    45:    Energy =   0.1257
Level     0,  Iter    46:    Energy =   0.1257
Level     0,  Iter    47:    Energy =   0.1259
Level     0,  Iter    48:    Energy =   0.1258
Level     0,  Iter    49:    Energy =   0.1260
Level     0,  Iter    50:    Energy =   0.1259
Level     0,  Iter    51:    Energy =   0.1260
Level     0,  Iter    52:    Energy =   0.1259
Level     0,  Iter    53:    Energy =   0.1261
Level     0,  Iter    54:    Energy =   0.1259
Level     0,  Iter    55:    Energy =   0.1261
Level     0,  Iter    56:    Energy =   0.1259
Level     0,  Iter    57:    Energy =   0.1261
Level     0,  Iter    58:    Energy =   0.1260
Level     0,  Iter    59:    Energy =   0.1261
END OF LEVEL     0    DetJac Range:   0.2023  to   2.3445 
  Avg. Gradient Time  : 0.0076s  34.48% 
  Avg. Gaussian Time  : 0.0109s  49.91% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0777
Level     1,  Iter     1:    Energy =   0.0817
Level     1,  Iter     2:    Energy =   0.0854
Level     1,  Iter     3:    Energy =   0.0885
Level     1,  Iter     4:    Energy =   0.0911
Level     1,  Iter     5:    Energy =   0.0933
Level     1,  Iter     6:    Energy =   0.0953
Level     1,  Iter     7:    Energy =   0.0974
Level     1,  Iter     8:    Energy =   0.0993
Level     1,  Iter     9:    Energy =   0.1008
Level     1,  Iter    10:    Energy =   0.1022
Level     1,  Iter    11:    Energy =   0.1033
Level     1,  Iter    12:    Energy =   0.1036
Level     1,  Iter    13:    Energy =   0.1038
Level     1,  Iter    14:    Energy =   0.1038
Level     1,  Iter    15:    Energy =   0.1045
Level     1,  Iter    16:    Energy =   0.1043
Level     1,  Iter    17:    Energy =   0.1052
Level     1,  Iter    18:    Energy =   0.1050
Level     1,  Iter    19:    Energy =   0.1058
Level     1,  Iter    20:    Energy =   0.1055
Level     1,  Iter    21:    Energy =   0.1062
Level     1,  Iter    22:    Energy =   0.1059
Level     1,  Iter    23:    Energy =   0.1065
Level     1,  Iter    24:    Energy =   0.1061
Level     1,  Iter    25:    Energy =   0.1068
Level     1,  Iter    26:    Energy =   0.1065
Level     1,  Iter    27:    Energy =   0.1069
Level     1,  Iter    28:    Energy =   0.1066
Level     1,  Iter    29:    Energy =   0.1071
Level     1,  Iter    30:    Energy =   0.1069
Level     1,  Iter    31:    Energy =   0.1073
Level     1,  Iter    32:    Energy =   0.1069
Level     1,  Iter    33:    Energy =   0.1075
Level     1,  Iter    34:    Energy =   0.1071
Level     1,  Iter    35:    Energy =   0.1075
Level     1,  Iter    36:    Energy =   0.1072
Level     1,  Iter    37:    Energy =   0.1076
Level     1,  Iter    38:    Energy =   0.1072
Level     1,  Iter    39:    Energy =   0.1077
Level     1,  Iter    40:    Energy =   0.1074
Level     1,  Iter    41:    Energy =   0.1077
Level     1,  Iter    42:    Energy =   0.1074
Level     1,  Iter    43:    Energy =   0.1078
Level     1,  Iter    44:    Energy =   0.1075
Level     1,  Iter    45:    Energy =   0.1078
Level     1,  Iter    46:    Energy =   0.1075
Level     1,  Iter    47:    Energy =   0.1079
Level     1,  Iter    48:    Energy =   0.1075
Level     1,  Iter    49:    Energy =   0.1079
Level     1,  Iter    50:    Energy =   0.1076
Level     1,  Iter    51:    Energy =   0.1079
Level     1,  Iter    52:    Energy =   0.1075
Level     1,  Iter    53:    Energy =   0.1078
Level     1,  Iter    54:    Energy =   0.1076
Level     1,  Iter    55:    Energy =   0.1078
Level     1,  Iter    56:    Energy =   0.1074
Level     1,  Iter    57:    Energy =   0.1078
Level     1,  Iter    58:    Energy =   0.1076
Level     1,  Iter    59:    Energy =   0.1078
END OF LEVEL     1    DetJac Range:   0.0931  to   3.4262 
  Avg. Gradient Time  : 0.0428s  32.66% 
  Avg. Gaussian Time  : 0.0714s  54.50% 
  Avg. Iteration Time : 0.1309s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0513
Level     2,  Iter     1:    Energy =   0.0532
Level     2,  Iter     2:    Energy =   0.0550
Level     2,  Iter     3:    Energy =   0.0570
Level     2,  Iter     4:    Energy =   0.0587
Level     2,  Iter     5:    Energy =   0.0601
Level     2,  Iter     6:    Energy =   0.0611
Level     2,  Iter     7:    Energy =   0.0621
Level     2,  Iter     8:    Energy =   0.0631
Level     2,  Iter     9:    Energy =   0.0639
Level     2,  Iter    10:    Energy =   0.0646
Level     2,  Iter    11:    Energy =   0.0652
Level     2,  Iter    12:    Energy =   0.0657
Level     2,  Iter    13:    Energy =   0.0665
Level     2,  Iter    14:    Energy =   0.0672
Level     2,  Iter    15:    Energy =   0.0678
Level     2,  Iter    16:    Energy =   0.0683
Level     2,  Iter    17:    Energy =   0.0687
Level     2,  Iter    18:    Energy =   0.0689
Level     2,  Iter    19:    Energy =   0.0689
END OF LEVEL     2    DetJac Range:   0.0346  to   4.4843 
  Avg. Gradient Time  : 0.3041s  26.54% 
  Avg. Gaussian Time  : 0.7047s  61.49% 
  Avg. Iteration Time : 1.1460s 

real	0m36.988s
user	1m7.136s
sys	0m2.256s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.355769 0.361538
+ echo 'CHUNK 0.355769 0.361538 1'
CHUNK 0.355769 0.361538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.355769 0.361538 1
====================================
         PROGRESS: 0.355769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 002 right 0
+ local tid=002
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.529508
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3915.6   GNORM= 489.159
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3970.745     234.336       0.000
   2    4     -3991.447     215.243       1.000
   3    5     -4030.717     238.428       1.000
   4    6     -4061.250     105.999       1.000
   5    7     -4073.416      88.096       1.000
   6    8     -4100.415      76.595       1.000
   7    9     -4119.464     179.484       1.000
   8   11     -4128.072      72.533       0.425
   9   12     -4131.567      53.549       1.000
  10   13     -4135.034      59.480       1.000
  11   14     -4139.028      48.316       1.000
  12   15     -4145.147      30.317       1.000
  13   17     -4147.639      40.996       0.377
  14   19     -4148.074      40.261       0.237
  15   20     -4148.745      23.631       1.000
  16   21     -4149.142      23.084       1.000
  17   22     -4149.433      15.051       1.000
  18   23     -4149.542      10.869       1.000
  19   24     -4149.660      14.370       1.000
  20   25     -4149.872      18.459       1.000
  21   27     -4150.047      18.695       0.408
  22   28     -4150.218      14.006       1.000
  23   29     -4150.230      17.052       1.000
  24   30     -4150.327       6.431       1.000
  25   31     -4150.345       6.565       1.000
  26   32     -4150.358       4.224       1.000
  27   33     -4150.425       4.856       1.000
  28   35     -4150.440       6.754       0.385
  29   36     -4150.457       7.776       1.000
  30   37     -4150.489       7.198       1.000
  31   38     -4150.515       4.741       1.000
  32   39     -4150.549      10.661       1.000
  33   40     -4150.596       3.027       1.000
  34   41     -4150.598       2.395       1.000
  35   43     -4150.607       3.648       0.375
  36   44     -4150.620       3.652       1.000
  37   45     -4150.622       3.366       1.000
  38   46     -4150.626       3.414       1.000
  39   47     -4150.641       7.616       1.000
  40   49     -4150.644       8.268       0.087
  41   50     -4150.653       7.265       1.000
  42   52     -4150.668       7.802       0.237
  43   53     -4150.669       5.440       1.000
  44   54     -4150.689       5.159       1.000
  45   55     -4150.716       7.335       1.000
  46   56     -4150.761       4.463       1.000
  47   57     -4150.788       4.673       1.000
  48   59     -4150.811       6.228       0.450
  49   60     -4150.821       6.536       1.000
  50   61     -4150.840       5.059       1.000
Final RAS Transform: 
0.968387 0.0133428 -0.00581245 0.855454 
0.0079704 1.02232 0.0706031 0.518157 
0.00510705 -0.0147363 0.995797 -0.326321 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3000.69   GNORM= 119.832
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3003.942      70.269       0.000
   2    4     -3005.672      55.804       1.000
   3    5     -3009.288      42.008       1.000
   4    6     -3012.412      46.068       1.000
   5    7     -3016.288      47.054       1.000
   6    8     -3019.599      50.558       1.000
   7    9     -3021.770     109.503       1.000
   8   10     -3025.483      71.207       1.000
   9   11     -3032.657      64.033       1.000
  10   12     -3036.981      62.873       1.000
  11   13     -3038.060       9.987       1.000
  12   14     -3038.120       9.270       1.000
  13   15     -3038.298      21.000       1.000
  14   16     -3038.539      31.655       1.000
  15   17     -3039.182      37.049       1.000
  16   18     -3039.704      33.990       1.000
  17   19     -3039.992      16.496       1.000
  18   20     -3040.161       7.349       1.000
  19   21     -3040.252       5.529       1.000
  20   22     -3040.350      16.115       1.000
  21   23     -3040.410       7.869       1.000
  22   24     -3040.434       6.763       1.000
  23   25     -3040.471       4.169       1.000
  24   26     -3040.502       5.450       1.000
  25   27     -3040.619       9.728       1.000
  26   28     -3040.671       5.064       1.000
  27   29     -3040.694       7.332       1.000
  28   30     -3040.712       2.744       1.000
  29   31     -3040.716       3.888       1.000
  30   32     -3040.725       3.579       1.000
  31   33     -3040.754       5.042       1.000
  32   34     -3040.868       9.908       1.000
  33   35     -3041.002       5.142       1.000
  34   36     -3041.048      12.023       1.000
  35   37     -3041.092       2.707       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.98578 0.00808277 -0.0299617 0.0716273 
-0.00285323 1.02103 0.0670682 0.605638 
0.0044727 -0.00107503 1.01679 0.291401 
0 0 0 1 

Final RAS Transform: 
0.98578 0.00808277 -0.0299617 0.0716273 
-0.00285323 1.02103 0.0670682 0.605638 
0.0044727 -0.00107503 1.01679 0.291401 
0 0 0 1 


real	0m10.312s
user	0m17.960s
sys	0m0.460s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.532322
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1163
Level     0,  Iter     1:    Energy =   0.1246
Level     0,  Iter     2:    Energy =   0.1306
Level     0,  Iter     3:    Energy =   0.1354
Level     0,  Iter     4:    Energy =   0.1378
Level     0,  Iter     5:    Energy =   0.1392
Level     0,  Iter     6:    Energy =   0.1407
Level     0,  Iter     7:    Energy =   0.1413
Level     0,  Iter     8:    Energy =   0.1423
Level     0,  Iter     9:    Energy =   0.1426
Level     0,  Iter    10:    Energy =   0.1433
Level     0,  Iter    11:    Energy =   0.1435
Level     0,  Iter    12:    Energy =   0.1441
Level     0,  Iter    13:    Energy =   0.1441
Level     0,  Iter    14:    Energy =   0.1446
Level     0,  Iter    15:    Energy =   0.1446
Level     0,  Iter    16:    Energy =   0.1449
Level     0,  Iter    17:    Energy =   0.1449
Level     0,  Iter    18:    Energy =   0.1453
Level     0,  Iter    19:    Energy =   0.1452
Level     0,  Iter    20:    Energy =   0.1453
Level     0,  Iter    21:    Energy =   0.1453
Level     0,  Iter    22:    Energy =   0.1456
Level     0,  Iter    23:    Energy =   0.1455
Level     0,  Iter    24:    Energy =   0.1457
Level     0,  Iter    25:    Energy =   0.1456
Level     0,  Iter    26:    Energy =   0.1458
Level     0,  Iter    27:    Energy =   0.1457
Level     0,  Iter    28:    Energy =   0.1458
Level     0,  Iter    29:    Energy =   0.1457
Level     0,  Iter    30:    Energy =   0.1458
Level     0,  Iter    31:    Energy =   0.1457
Level     0,  Iter    32:    Energy =   0.1458
Level     0,  Iter    33:    Energy =   0.1458
Level     0,  Iter    34:    Energy =   0.1459
Level     0,  Iter    35:    Energy =   0.1458
Level     0,  Iter    36:    Energy =   0.1459
Level     0,  Iter    37:    Energy =   0.1459
Level     0,  Iter    38:    Energy =   0.1460
Level     0,  Iter    39:    Energy =   0.1459
Level     0,  Iter    40:    Energy =   0.1460
Level     0,  Iter    41:    Energy =   0.1459
Level     0,  Iter    42:    Energy =   0.1460
Level     0,  Iter    43:    Energy =   0.1459
Level     0,  Iter    44:    Energy =   0.1460
Level     0,  Iter    45:    Energy =   0.1459
Level     0,  Iter    46:    Energy =   0.1461
Level     0,  Iter    47:    Energy =   0.1460
Level     0,  Iter    48:    Energy =   0.1460
Level     0,  Iter    49:    Energy =   0.1460
Level     0,  Iter    50:    Energy =   0.1461
Level     0,  Iter    51:    Energy =   0.1460
Level     0,  Iter    52:    Energy =   0.1460
Level     0,  Iter    53:    Energy =   0.1460
Level     0,  Iter    54:    Energy =   0.1461
Level     0,  Iter    55:    Energy =   0.1460
Level     0,  Iter    56:    Energy =   0.1461
Level     0,  Iter    57:    Energy =   0.1460
Level     0,  Iter    58:    Energy =   0.1461
Level     0,  Iter    59:    Energy =   0.1461
END OF LEVEL     0    DetJac Range:   0.3162  to   2.0096 
  Avg. Gradient Time  : 0.0075s  34.73% 
  Avg. Gaussian Time  : 0.0107s  49.54% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0968
Level     1,  Iter     1:    Energy =   0.1017
Level     1,  Iter     2:    Energy =   0.1058
Level     1,  Iter     3:    Energy =   0.1092
Level     1,  Iter     4:    Energy =   0.1116
Level     1,  Iter     5:    Energy =   0.1136
Level     1,  Iter     6:    Energy =   0.1153
Level     1,  Iter     7:    Energy =   0.1170
Level     1,  Iter     8:    Energy =   0.1187
Level     1,  Iter     9:    Energy =   0.1204
Level     1,  Iter    10:    Energy =   0.1221
Level     1,  Iter    11:    Energy =   0.1237
Level     1,  Iter    12:    Energy =   0.1252
Level     1,  Iter    13:    Energy =   0.1260
Level     1,  Iter    14:    Energy =   0.1260
Level     1,  Iter    15:    Energy =   0.1264
Level     1,  Iter    16:    Energy =   0.1264
Level     1,  Iter    17:    Energy =   0.1268
Level     1,  Iter    18:    Energy =   0.1267
Level     1,  Iter    19:    Energy =   0.1272
Level     1,  Iter    20:    Energy =   0.1270
Level     1,  Iter    21:    Energy =   0.1276
Level     1,  Iter    22:    Energy =   0.1274
Level     1,  Iter    23:    Energy =   0.1279
Level     1,  Iter    24:    Energy =   0.1277
Level     1,  Iter    25:    Energy =   0.1279
Level     1,  Iter    26:    Energy =   0.1281
Level     1,  Iter    27:    Energy =   0.1279
Level     1,  Iter    28:    Energy =   0.1285
Level     1,  Iter    29:    Energy =   0.1283
Level     1,  Iter    30:    Energy =   0.1289
Level     1,  Iter    31:    Energy =   0.1285
Level     1,  Iter    32:    Energy =   0.1291
Level     1,  Iter    33:    Energy =   0.1289
Level     1,  Iter    34:    Energy =   0.1293
Level     1,  Iter    35:    Energy =   0.1288
Level     1,  Iter    36:    Energy =   0.1297
Level     1,  Iter    37:    Energy =   0.1292
Level     1,  Iter    38:    Energy =   0.1300
Level     1,  Iter    39:    Energy =   0.1295
Level     1,  Iter    40:    Energy =   0.1303
Level     1,  Iter    41:    Energy =   0.1298
Level     1,  Iter    42:    Energy =   0.1302
Level     1,  Iter    43:    Energy =   0.1297
Level     1,  Iter    44:    Energy =   0.1305
Level     1,  Iter    45:    Energy =   0.1300
Level     1,  Iter    46:    Energy =   0.1304
Level     1,  Iter    47:    Energy =   0.1299
Level     1,  Iter    48:    Energy =   0.1305
Level     1,  Iter    49:    Energy =   0.1300
Level     1,  Iter    50:    Energy =   0.1306
Level     1,  Iter    51:    Energy =   0.1300
Level     1,  Iter    52:    Energy =   0.1307
Level     1,  Iter    53:    Energy =   0.1303
Level     1,  Iter    54:    Energy =   0.1306
Level     1,  Iter    55:    Energy =   0.1301
Level     1,  Iter    56:    Energy =   0.1308
Level     1,  Iter    57:    Energy =   0.1303
Level     1,  Iter    58:    Energy =   0.1308
Level     1,  Iter    59:    Energy =   0.1302
END OF LEVEL     1    DetJac Range:   0.1694  to   3.7321 
  Avg. Gradient Time  : 0.0426s  32.64% 
  Avg. Gaussian Time  : 0.0712s  54.49% 
  Avg. Iteration Time : 0.1306s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0675
Level     2,  Iter     1:    Energy =   0.0699
Level     2,  Iter     2:    Energy =   0.0717
Level     2,  Iter     3:    Energy =   0.0732
Level     2,  Iter     4:    Energy =   0.0748
Level     2,  Iter     5:    Energy =   0.0763
Level     2,  Iter     6:    Energy =   0.0776
Level     2,  Iter     7:    Energy =   0.0787
Level     2,  Iter     8:    Energy =   0.0795
Level     2,  Iter     9:    Energy =   0.0803
Level     2,  Iter    10:    Energy =   0.0810
Level     2,  Iter    11:    Energy =   0.0817
Level     2,  Iter    12:    Energy =   0.0824
Level     2,  Iter    13:    Energy =   0.0830
Level     2,  Iter    14:    Energy =   0.0835
Level     2,  Iter    15:    Energy =   0.0839
Level     2,  Iter    16:    Energy =   0.0843
Level     2,  Iter    17:    Energy =   0.0847
Level     2,  Iter    18:    Energy =   0.0851
Level     2,  Iter    19:    Energy =   0.0855
END OF LEVEL     2    DetJac Range:   0.0533  to   5.3706 
  Avg. Gradient Time  : 0.3027s  26.55% 
  Avg. Gaussian Time  : 0.7002s  61.41% 
  Avg. Iteration Time : 1.1401s 

real	0m36.852s
user	1m6.860s
sys	0m2.248s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.361538 0.367308
+ echo 'CHUNK 0.361538 0.367308 1'
CHUNK 0.361538 0.367308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.361538 0.367308 1
====================================
         PROGRESS: 0.361538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 003 right 0
+ local tid=003
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.261065
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3037.6   GNORM= 1127.61
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3434.624     611.330       0.001
   2    3     -3529.327     187.429       1.000
   3    4     -3544.961     142.762       1.000
   4    5     -3584.222     107.893       1.000
   5    6     -3598.164      85.837       1.000
   6    7     -3614.404      99.038       1.000
   7    8     -3626.108      73.507       1.000
   8    9     -3637.209      56.724       1.000
   9   10     -3648.374      58.320       1.000
  10   11     -3651.552     146.750       1.000
  11   12     -3658.895      61.543       1.000
  12   13     -3662.809      53.137       1.000
  13   14     -3665.602      53.705       1.000
  14   15     -3671.056      50.923       1.000
  15   16     -3676.156      48.731       1.000
  16   17     -3678.494      24.416       1.000
  17   18     -3679.683      22.704       1.000
  18   20     -3680.141      18.131       0.369
  19   21     -3680.445      17.911       1.000
  20   22     -3681.075      35.616       1.000
  21   23     -3681.800      14.354       1.000
  22   24     -3682.260      17.685       1.000
  23   25     -3682.914      24.494       1.000
  24   26     -3683.614      24.248       1.000
  25   27     -3684.218      22.098       1.000
  26   28     -3685.221      17.918       1.000
  27   29     -3685.751      15.959       1.000
  28   31     -3686.156      17.618       0.475
  29   32     -3686.394      13.414       1.000
  30   33     -3686.500      10.572       1.000
  31   34     -3686.520      13.683       1.000
  32   35     -3686.616      10.082       1.000
  33   37     -3686.693       9.740       0.289
  34   38     -3686.740       6.528       1.000
  35   39     -3686.792      19.973       1.000
  36   40     -3686.868       6.223       1.000
  37   41     -3686.877       4.713       1.000
  38   42     -3686.891       5.004       1.000
  39   43     -3686.958      11.361       1.000
  40   44     -3687.009       5.717       1.000
  41   45     -3687.040       6.079       1.000
  42   46     -3687.054      11.437       1.000
  43   47     -3687.069       6.200       1.000
  44   48     -3687.079       5.801       1.000
Final RAS Transform: 
0.956372 0.0160604 -0.0176103 0.841749 
-0.0282367 0.973204 -0.0128483 -0.555325 
0.0449527 0.0212041 1.05971 -0.41323 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2466.18   GNORM= 35.1559
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2466.933      32.842       0.001
   2    4     -2467.679      30.934       1.000
   3    5     -2470.308      42.858       1.000
   4    6     -2472.626      36.081       1.000
   5    7     -2474.258      30.913       1.000
   6    8     -2477.212      25.301       1.000
   7    9     -2477.839      86.554       1.000
   8   10     -2479.977      35.500       1.000
   9   11     -2481.777      29.467       1.000
  10   12     -2483.355      29.215       1.000
  11   13     -2483.830      29.680       1.000
  12   14     -2484.296      10.666       1.000
  13   15     -2484.685      22.401       1.000
  14   16     -2485.379      45.892       1.000
  15   17     -2486.299      42.602       1.000
  16   18     -2488.048      40.681       1.000
  17   19     -2489.885      46.486       1.000
  18   20     -2492.077      17.532       1.000
  19   21     -2493.623      20.008       1.000
  20   22     -2494.423      37.035       1.000
  21   23     -2495.168      19.929       1.000
  22   24     -2495.479      14.223       1.000
  23   25     -2495.709      17.753       1.000
  24   26     -2496.160      19.131       1.000
  25   27     -2496.819      21.657       1.000
  26   28     -2497.424      27.082       1.000
  27   29     -2497.681       6.962       1.000
  28   30     -2497.762       8.316       1.000
  29   32     -2497.859       6.366       0.447
  30   33     -2497.993       8.661       1.000
  31   34     -2498.021      40.498       1.000
  32   35     -2498.533      13.506       1.000
  33   36     -2498.649       5.401       1.000
  34   37     -2498.677       5.003       1.000
  35   38     -2498.712       6.749       1.000
  36   39     -2498.750       5.229       1.000
  37   40     -2498.883       7.758       1.000
  38   42     -2498.921       8.318       0.265
  39   43     -2498.963       7.298       1.000
  40   44     -2499.071      11.329       1.000
  41   45     -2499.144       4.306       1.000
  42   46     -2499.204       4.074       1.000
  43   48     -2499.301       8.122       0.462
  44   49     -2499.343      12.401       1.000
  45   50     -2499.397       4.816       1.000
  46   51     -2499.444       8.613       1.000
  47   52     -2499.484      10.671       1.000
  48   53     -2499.624       7.540       1.000
  49   54     -2499.790       7.163       1.000
  50   55     -2499.914      18.587       1.000
  51   56     -2500.114      13.980       1.000
  52   57     -2500.266       7.992       1.000
  53   58     -2500.276       6.720       1.000
  54   59     -2500.315       8.254       1.000
  55   60     -2500.352       3.206       1.000
  56   61     -2500.379       3.219       1.000
Final RAS Transform: 
0.980469 0.0138563 0.004309 0.452273 
-0.0389492 1.00545 0.0210267 0.254787 
0.0252292 0.0063705 1.01519 -0.507496 
0 0 0 1 

Final RAS Transform: 
0.980469 0.0138563 0.004309 0.452273 
-0.0389492 1.00545 0.0210267 0.254787 
0.0252292 0.0063705 1.01519 -0.507496 
0 0 0 1 


real	0m10.599s
user	0m18.520s
sys	0m0.500s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.260421
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1023
Level     0,  Iter     1:    Energy =   0.1090
Level     0,  Iter     2:    Energy =   0.1144
Level     0,  Iter     3:    Energy =   0.1196
Level     0,  Iter     4:    Energy =   0.1228
Level     0,  Iter     5:    Energy =   0.1251
Level     0,  Iter     6:    Energy =   0.1265
Level     0,  Iter     7:    Energy =   0.1284
Level     0,  Iter     8:    Energy =   0.1294
Level     0,  Iter     9:    Energy =   0.1302
Level     0,  Iter    10:    Energy =   0.1310
Level     0,  Iter    11:    Energy =   0.1322
Level     0,  Iter    12:    Energy =   0.1328
Level     0,  Iter    13:    Energy =   0.1329
Level     0,  Iter    14:    Energy =   0.1334
Level     0,  Iter    15:    Energy =   0.1341
Level     0,  Iter    16:    Energy =   0.1344
Level     0,  Iter    17:    Energy =   0.1344
Level     0,  Iter    18:    Energy =   0.1348
Level     0,  Iter    19:    Energy =   0.1353
Level     0,  Iter    20:    Energy =   0.1355
Level     0,  Iter    21:    Energy =   0.1353
Level     0,  Iter    22:    Energy =   0.1356
Level     0,  Iter    23:    Energy =   0.1357
Level     0,  Iter    24:    Energy =   0.1359
Level     0,  Iter    25:    Energy =   0.1357
Level     0,  Iter    26:    Energy =   0.1361
Level     0,  Iter    27:    Energy =   0.1360
Level     0,  Iter    28:    Energy =   0.1363
Level     0,  Iter    29:    Energy =   0.1358
Level     0,  Iter    30:    Energy =   0.1364
Level     0,  Iter    31:    Energy =   0.1363
Level     0,  Iter    32:    Energy =   0.1366
Level     0,  Iter    33:    Energy =   0.1361
Level     0,  Iter    34:    Energy =   0.1366
Level     0,  Iter    35:    Energy =   0.1364
Level     0,  Iter    36:    Energy =   0.1368
Level     0,  Iter    37:    Energy =   0.1363
Level     0,  Iter    38:    Energy =   0.1368
Level     0,  Iter    39:    Energy =   0.1367
Level     0,  Iter    40:    Energy =   0.1369
Level     0,  Iter    41:    Energy =   0.1364
Level     0,  Iter    42:    Energy =   0.1368
Level     0,  Iter    43:    Energy =   0.1366
Level     0,  Iter    44:    Energy =   0.1369
Level     0,  Iter    45:    Energy =   0.1366
Level     0,  Iter    46:    Energy =   0.1369
Level     0,  Iter    47:    Energy =   0.1368
Level     0,  Iter    48:    Energy =   0.1372
Level     0,  Iter    49:    Energy =   0.1367
Level     0,  Iter    50:    Energy =   0.1371
Level     0,  Iter    51:    Energy =   0.1369
Level     0,  Iter    52:    Energy =   0.1372
Level     0,  Iter    53:    Energy =   0.1368
Level     0,  Iter    54:    Energy =   0.1371
Level     0,  Iter    55:    Energy =   0.1369
Level     0,  Iter    56:    Energy =   0.1373
Level     0,  Iter    57:    Energy =   0.1370
Level     0,  Iter    58:    Energy =   0.1374
Level     0,  Iter    59:    Energy =   0.1371
END OF LEVEL     0    DetJac Range:   0.3518  to   2.1176 
  Avg. Gradient Time  : 0.0076s  34.51% 
  Avg. Gaussian Time  : 0.0109s  49.93% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0867
Level     1,  Iter     1:    Energy =   0.0913
Level     1,  Iter     2:    Energy =   0.0951
Level     1,  Iter     3:    Energy =   0.0984
Level     1,  Iter     4:    Energy =   0.1012
Level     1,  Iter     5:    Energy =   0.1034
Level     1,  Iter     6:    Energy =   0.1049
Level     1,  Iter     7:    Energy =   0.1063
Level     1,  Iter     8:    Energy =   0.1075
Level     1,  Iter     9:    Energy =   0.1087
Level     1,  Iter    10:    Energy =   0.1100
Level     1,  Iter    11:    Energy =   0.1110
Level     1,  Iter    12:    Energy =   0.1116
Level     1,  Iter    13:    Energy =   0.1120
Level     1,  Iter    14:    Energy =   0.1119
Level     1,  Iter    15:    Energy =   0.1121
Level     1,  Iter    16:    Energy =   0.1122
Level     1,  Iter    17:    Energy =   0.1122
Level     1,  Iter    18:    Energy =   0.1123
Level     1,  Iter    19:    Energy =   0.1123
Level     1,  Iter    20:    Energy =   0.1124
Level     1,  Iter    21:    Energy =   0.1125
Level     1,  Iter    22:    Energy =   0.1126
Level     1,  Iter    23:    Energy =   0.1126
Level     1,  Iter    24:    Energy =   0.1126
Level     1,  Iter    25:    Energy =   0.1128
Level     1,  Iter    26:    Energy =   0.1128
Level     1,  Iter    27:    Energy =   0.1130
Level     1,  Iter    28:    Energy =   0.1130
Level     1,  Iter    29:    Energy =   0.1131
Level     1,  Iter    30:    Energy =   0.1131
Level     1,  Iter    31:    Energy =   0.1132
Level     1,  Iter    32:    Energy =   0.1132
Level     1,  Iter    33:    Energy =   0.1134
Level     1,  Iter    34:    Energy =   0.1134
Level     1,  Iter    35:    Energy =   0.1134
Level     1,  Iter    36:    Energy =   0.1134
Level     1,  Iter    37:    Energy =   0.1135
Level     1,  Iter    38:    Energy =   0.1135
Level     1,  Iter    39:    Energy =   0.1136
Level     1,  Iter    40:    Energy =   0.1135
Level     1,  Iter    41:    Energy =   0.1137
Level     1,  Iter    42:    Energy =   0.1136
Level     1,  Iter    43:    Energy =   0.1137
Level     1,  Iter    44:    Energy =   0.1136
Level     1,  Iter    45:    Energy =   0.1138
Level     1,  Iter    46:    Energy =   0.1137
Level     1,  Iter    47:    Energy =   0.1139
Level     1,  Iter    48:    Energy =   0.1138
Level     1,  Iter    49:    Energy =   0.1139
Level     1,  Iter    50:    Energy =   0.1138
Level     1,  Iter    51:    Energy =   0.1140
Level     1,  Iter    52:    Energy =   0.1139
Level     1,  Iter    53:    Energy =   0.1140
Level     1,  Iter    54:    Energy =   0.1139
Level     1,  Iter    55:    Energy =   0.1141
Level     1,  Iter    56:    Energy =   0.1140
Level     1,  Iter    57:    Energy =   0.1142
Level     1,  Iter    58:    Energy =   0.1140
Level     1,  Iter    59:    Energy =   0.1142
END OF LEVEL     1    DetJac Range:   0.1480  to   3.2989 
  Avg. Gradient Time  : 0.0429s  32.75% 
  Avg. Gaussian Time  : 0.0712s  54.38% 
  Avg. Iteration Time : 0.1310s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0545
Level     2,  Iter     1:    Energy =   0.0568
Level     2,  Iter     2:    Energy =   0.0594
Level     2,  Iter     3:    Energy =   0.0615
Level     2,  Iter     4:    Energy =   0.0631
Level     2,  Iter     5:    Energy =   0.0645
Level     2,  Iter     6:    Energy =   0.0656
Level     2,  Iter     7:    Energy =   0.0666
Level     2,  Iter     8:    Energy =   0.0676
Level     2,  Iter     9:    Energy =   0.0685
Level     2,  Iter    10:    Energy =   0.0693
Level     2,  Iter    11:    Energy =   0.0700
Level     2,  Iter    12:    Energy =   0.0707
Level     2,  Iter    13:    Energy =   0.0712
Level     2,  Iter    14:    Energy =   0.0717
Level     2,  Iter    15:    Energy =   0.0721
Level     2,  Iter    16:    Energy =   0.0726
Level     2,  Iter    17:    Energy =   0.0731
Level     2,  Iter    18:    Energy =   0.0734
Level     2,  Iter    19:    Energy =   0.0738
END OF LEVEL     2    DetJac Range:   0.0630  to   3.8311 
  Avg. Gradient Time  : 0.3042s  29.46% 
  Avg. Gaussian Time  : 0.5904s  57.17% 
  Avg. Iteration Time : 1.0326s 

real	0m34.748s
user	1m2.624s
sys	0m2.236s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.367308 0.373077
+ echo 'CHUNK 0.367308 0.373077 1'
CHUNK 0.367308 0.373077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.367308 0.373077 1
====================================
         PROGRESS: 0.367308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 004 right 0
+ local tid=004
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.614173
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4093.89   GNORM= 317.126
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4147.579     206.436       0.001
   2    4     -4155.548     184.136       1.000
   3    5     -4163.319     116.273       1.000
   4    6     -4177.117     122.763       1.000
   5    7     -4193.989     170.298       1.000
   6    8     -4227.189     194.413       1.000
   7   10     -4235.865     161.195       0.158
   8   11     -4249.707     124.759       1.000
   9   12     -4259.026     162.118       1.000
  10   13     -4265.360      33.872       1.000
  11   14     -4266.394      29.326       1.000
  12   15     -4268.202      32.825       1.000
  13   17     -4270.101      40.459       0.380
  14   18     -4271.301      76.451       1.000
  15   19     -4273.503      29.735       1.000
  16   20     -4273.920      25.052       1.000
  17   21     -4274.344      18.625       1.000
  18   22     -4274.767      20.303       1.000
  19   23     -4275.686      19.542       1.000
  20   24     -4276.171      15.980       1.000
  21   26     -4276.390      14.231       0.394
  22   27     -4276.544       9.687       1.000
  23   28     -4276.580      12.384       1.000
  24   29     -4276.604       4.465       1.000
  25   30     -4276.607       4.756       1.000
  26   31     -4276.632       6.616       1.000
  27   32     -4276.646       5.286       1.000
  28   34     -4276.674       4.274       0.507
  29   36     -4276.676       3.463       0.369
  30   37     -4276.689       2.883       1.000
  31   38     -4276.691       3.521       1.000
  32   39     -4276.696       9.350       1.000
  33   40     -4276.706       2.233       1.000
  34   41     -4276.706       3.687       1.000
  35   42     -4276.710       2.332       1.000
  36   43     -4276.718       1.889       1.000
  37   44     -4276.719       2.275       1.000
  38   45     -4276.720       3.517       1.000
  39   46     -4276.721       4.993       1.000
  40   47     -4276.721       3.187       1.000
  41   49     -4276.724       2.726       0.467
  42   50     -4276.729       2.268       1.000
  43   51     -4276.733       1.849       1.000
  44   52     -4276.734       1.152       1.000
Final RAS Transform: 
0.968252 -0.0101185 -0.032076 0.206679 
0.0189548 1.0185 0.0400118 0.327413 
0.0220905 0.0057099 1.02982 0.165141 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3060.1   GNORM= 174.867
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3077.012      26.008       0.001
   2    4     -3077.256      33.469       1.000
   3    5     -3077.517      19.922       1.000
   4    6     -3077.835      38.828       1.000
   5    7     -3078.288      29.678       1.000
   6    8     -3079.756      20.186       1.000
   7    9     -3080.672      22.310       1.000
   8   10     -3081.869      20.969       1.000
   9   11     -3082.782      42.554       1.000
  10   13     -3083.205      27.494       0.390
  11   14     -3083.545      11.889       1.000
  12   15     -3083.707       9.750       1.000
  13   16     -3083.841      10.573       1.000
  14   17     -3084.215      23.417       1.000
  15   18     -3084.575      25.476       1.000
  16   19     -3085.173      18.026       1.000
  17   21     -3085.260       6.602       0.293
  18   22     -3085.304       4.759       1.000
  19   24     -3085.318       4.640       0.450
  20   25     -3085.352       3.703       1.000
  21   26     -3085.438      11.428       1.000
  22   27     -3085.472       6.022       1.000
  23   28     -3085.516       3.656       1.000
  24   29     -3085.577       2.827       1.000
  25   31     -3085.597       4.090       0.162
  26   32     -3085.611       3.124       1.000
  27   33     -3085.619      24.361       1.000
  28   34     -3085.702       5.644       1.000
  29   35     -3085.721       4.992       1.000
  30   37     -3085.737       4.676       0.399
  31   38     -3085.780       4.960       1.000
  32   39     -3085.852       4.172       1.000
  33   41     -3085.914      10.612       0.467
  34   42     -3086.021       8.355       1.000
  35   44     -3086.059       9.488       0.269
  36   45     -3086.071       4.044       1.000
  37   46     -3086.094       3.232       1.000
  38   47     -3086.103       3.480       1.000
  39   48     -3086.137       3.919       1.000
  40   49     -3086.200      12.755       1.000
  41   50     -3086.245      12.631       1.000
  42   51     -3086.306       3.822       1.000
  43   52     -3086.307       2.465       1.000
  44   54     -3086.310       1.699       0.390
  45   55     -3086.313       3.375       1.000
  46   56     -3086.322       3.359       1.000
  47   57     -3086.324       5.966       1.000
  48   58     -3086.332       3.796       1.000
  49   60     -3086.344       1.444       0.469
  50   61     -3086.346       2.091       1.000
Final RAS Transform: 
0.973481 -0.00663877 -0.0371228 -0.070354 
0.0282455 1.02103 0.0551132 0.328937 
0.00895516 0.00406584 1.02558 0.434932 
0 0 0 1 

Final RAS Transform: 
0.973481 -0.00663877 -0.0371228 -0.070354 
0.0282455 1.02103 0.0551132 0.328937 
0.00895516 0.00406584 1.02558 0.434932 
0 0 0 1 


real	0m10.668s
user	0m18.664s
sys	0m0.480s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.618578
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1201
Level     0,  Iter     1:    Energy =   0.1283
Level     0,  Iter     2:    Energy =   0.1342
Level     0,  Iter     3:    Energy =   0.1383
Level     0,  Iter     4:    Energy =   0.1412
Level     0,  Iter     5:    Energy =   0.1422
Level     0,  Iter     6:    Energy =   0.1429
Level     0,  Iter     7:    Energy =   0.1436
Level     0,  Iter     8:    Energy =   0.1440
Level     0,  Iter     9:    Energy =   0.1444
Level     0,  Iter    10:    Energy =   0.1449
Level     0,  Iter    11:    Energy =   0.1450
Level     0,  Iter    12:    Energy =   0.1457
Level     0,  Iter    13:    Energy =   0.1455
Level     0,  Iter    14:    Energy =   0.1463
Level     0,  Iter    15:    Energy =   0.1457
Level     0,  Iter    16:    Energy =   0.1464
Level     0,  Iter    17:    Energy =   0.1462
Level     0,  Iter    18:    Energy =   0.1468
Level     0,  Iter    19:    Energy =   0.1466
Level     0,  Iter    20:    Energy =   0.1472
Level     0,  Iter    21:    Energy =   0.1468
Level     0,  Iter    22:    Energy =   0.1475
Level     0,  Iter    23:    Energy =   0.1470
Level     0,  Iter    24:    Energy =   0.1476
Level     0,  Iter    25:    Energy =   0.1471
Level     0,  Iter    26:    Energy =   0.1476
Level     0,  Iter    27:    Energy =   0.1471
Level     0,  Iter    28:    Energy =   0.1477
Level     0,  Iter    29:    Energy =   0.1473
Level     0,  Iter    30:    Energy =   0.1478
Level     0,  Iter    31:    Energy =   0.1473
Level     0,  Iter    32:    Energy =   0.1479
Level     0,  Iter    33:    Energy =   0.1475
Level     0,  Iter    34:    Energy =   0.1480
Level     0,  Iter    35:    Energy =   0.1475
Level     0,  Iter    36:    Energy =   0.1481
Level     0,  Iter    37:    Energy =   0.1476
Level     0,  Iter    38:    Energy =   0.1481
Level     0,  Iter    39:    Energy =   0.1477
Level     0,  Iter    40:    Energy =   0.1482
Level     0,  Iter    41:    Energy =   0.1477
Level     0,  Iter    42:    Energy =   0.1482
Level     0,  Iter    43:    Energy =   0.1478
Level     0,  Iter    44:    Energy =   0.1483
Level     0,  Iter    45:    Energy =   0.1478
Level     0,  Iter    46:    Energy =   0.1483
Level     0,  Iter    47:    Energy =   0.1479
Level     0,  Iter    48:    Energy =   0.1484
Level     0,  Iter    49:    Energy =   0.1479
Level     0,  Iter    50:    Energy =   0.1484
Level     0,  Iter    51:    Energy =   0.1482
Level     0,  Iter    52:    Energy =   0.1485
Level     0,  Iter    53:    Energy =   0.1480
Level     0,  Iter    54:    Energy =   0.1485
Level     0,  Iter    55:    Energy =   0.1482
Level     0,  Iter    56:    Energy =   0.1486
Level     0,  Iter    57:    Energy =   0.1481
Level     0,  Iter    58:    Energy =   0.1485
Level     0,  Iter    59:    Energy =   0.1482
END OF LEVEL     0    DetJac Range:   0.3642  to   2.1501 
  Avg. Gradient Time  : 0.0076s  34.52% 
  Avg. Gaussian Time  : 0.0110s  49.82% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1011
Level     1,  Iter     1:    Energy =   0.1056
Level     1,  Iter     2:    Energy =   0.1097
Level     1,  Iter     3:    Energy =   0.1135
Level     1,  Iter     4:    Energy =   0.1163
Level     1,  Iter     5:    Energy =   0.1189
Level     1,  Iter     6:    Energy =   0.1209
Level     1,  Iter     7:    Energy =   0.1226
Level     1,  Iter     8:    Energy =   0.1236
Level     1,  Iter     9:    Energy =   0.1238
Level     1,  Iter    10:    Energy =   0.1243
Level     1,  Iter    11:    Energy =   0.1246
Level     1,  Iter    12:    Energy =   0.1248
Level     1,  Iter    13:    Energy =   0.1252
Level     1,  Iter    14:    Energy =   0.1253
Level     1,  Iter    15:    Energy =   0.1256
Level     1,  Iter    16:    Energy =   0.1258
Level     1,  Iter    17:    Energy =   0.1260
Level     1,  Iter    18:    Energy =   0.1261
Level     1,  Iter    19:    Energy =   0.1264
Level     1,  Iter    20:    Energy =   0.1265
Level     1,  Iter    21:    Energy =   0.1266
Level     1,  Iter    22:    Energy =   0.1267
Level     1,  Iter    23:    Energy =   0.1269
Level     1,  Iter    24:    Energy =   0.1270
Level     1,  Iter    25:    Energy =   0.1272
Level     1,  Iter    26:    Energy =   0.1272
Level     1,  Iter    27:    Energy =   0.1274
Level     1,  Iter    28:    Energy =   0.1274
Level     1,  Iter    29:    Energy =   0.1276
Level     1,  Iter    30:    Energy =   0.1276
Level     1,  Iter    31:    Energy =   0.1278
Level     1,  Iter    32:    Energy =   0.1278
Level     1,  Iter    33:    Energy =   0.1280
Level     1,  Iter    34:    Energy =   0.1279
Level     1,  Iter    35:    Energy =   0.1281
Level     1,  Iter    36:    Energy =   0.1280
Level     1,  Iter    37:    Energy =   0.1283
Level     1,  Iter    38:    Energy =   0.1281
Level     1,  Iter    39:    Energy =   0.1284
Level     1,  Iter    40:    Energy =   0.1282
Level     1,  Iter    41:    Energy =   0.1285
Level     1,  Iter    42:    Energy =   0.1283
Level     1,  Iter    43:    Energy =   0.1286
Level     1,  Iter    44:    Energy =   0.1284
Level     1,  Iter    45:    Energy =   0.1287
Level     1,  Iter    46:    Energy =   0.1285
Level     1,  Iter    47:    Energy =   0.1289
Level     1,  Iter    48:    Energy =   0.1286
Level     1,  Iter    49:    Energy =   0.1290
Level     1,  Iter    50:    Energy =   0.1287
Level     1,  Iter    51:    Energy =   0.1291
Level     1,  Iter    52:    Energy =   0.1288
Level     1,  Iter    53:    Energy =   0.1292
Level     1,  Iter    54:    Energy =   0.1289
Level     1,  Iter    55:    Energy =   0.1293
Level     1,  Iter    56:    Energy =   0.1290
Level     1,  Iter    57:    Energy =   0.1294
Level     1,  Iter    58:    Energy =   0.1291
Level     1,  Iter    59:    Energy =   0.1295
END OF LEVEL     1    DetJac Range:   0.1134  to   3.1604 
  Avg. Gradient Time  : 0.0438s  33.09% 
  Avg. Gaussian Time  : 0.0716s  54.12% 
  Avg. Iteration Time : 0.1324s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0669
Level     2,  Iter     1:    Energy =   0.0695
Level     2,  Iter     2:    Energy =   0.0715
Level     2,  Iter     3:    Energy =   0.0733
Level     2,  Iter     4:    Energy =   0.0749
Level     2,  Iter     5:    Energy =   0.0766
Level     2,  Iter     6:    Energy =   0.0784
Level     2,  Iter     7:    Energy =   0.0797
Level     2,  Iter     8:    Energy =   0.0808
Level     2,  Iter     9:    Energy =   0.0819
Level     2,  Iter    10:    Energy =   0.0827
Level     2,  Iter    11:    Energy =   0.0833
Level     2,  Iter    12:    Energy =   0.0840
Level     2,  Iter    13:    Energy =   0.0846
Level     2,  Iter    14:    Energy =   0.0851
Level     2,  Iter    15:    Energy =   0.0856
Level     2,  Iter    16:    Energy =   0.0860
Level     2,  Iter    17:    Energy =   0.0863
Level     2,  Iter    18:    Energy =   0.0866
Level     2,  Iter    19:    Energy =   0.0866
END OF LEVEL     2    DetJac Range:   0.1024  to   4.0803 
  Avg. Gradient Time  : 0.3045s  26.55% 
  Avg. Gaussian Time  : 0.7048s  61.45% 
  Avg. Iteration Time : 1.1469s 

real	0m37.128s
user	1m7.304s
sys	0m2.300s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.373077 0.378846
+ echo 'CHUNK 0.373077 0.378846 1'
CHUNK 0.373077 0.378846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.373077 0.378846 1
====================================
         PROGRESS: 0.373077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 005 right 0
+ local tid=005
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.682003
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3862.94   GNORM= 597.066
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3950.300     289.140       0.000
   2    4     -3981.685     239.699       1.000
   3    5     -4060.952     171.277       1.000
   4    6     -4092.749     133.761       1.000
   5    7     -4131.851     116.467       1.000
   6    8     -4163.090     110.660       1.000
   7    9     -4191.492     100.814       1.000
   8   11     -4197.561     167.903       0.240
   9   12     -4211.913      53.504       1.000
  10   13     -4216.292      64.610       1.000
  11   14     -4225.332      77.159       1.000
  12   15     -4232.690      92.134       1.000
  13   16     -4239.356      26.921       1.000
  14   17     -4240.035      56.895       1.000
  15   18     -4240.713      20.370       1.000
  16   19     -4240.935      20.650       1.000
  17   20     -4242.422      20.228       1.000
  18   21     -4243.828      34.573       1.000
  19   22     -4245.043      30.262       1.000
  20   24     -4245.487      19.403       0.369
  21   25     -4245.787      12.069       1.000
  22   26     -4246.217      13.746       1.000
  23   27     -4246.496      19.855       1.000
  24   28     -4246.687      13.081       1.000
  25   29     -4246.815      18.983       1.000
  26   30     -4246.982      16.332       1.000
  27   31     -4247.298       9.386       1.000
  28   32     -4247.585      18.706       1.000
  29   33     -4247.774      15.903       1.000
  30   34     -4247.877       7.921       1.000
  31   35     -4247.907       6.324       1.000
  32   36     -4247.909       8.430       1.000
  33   37     -4247.932       5.774       1.000
  34   38     -4247.964       4.840       1.000
  35   39     -4247.980       6.665       1.000
  36   40     -4248.004       9.252       1.000
  37   41     -4248.063       8.928       1.000
  38   43     -4248.079       3.959       0.370
  39   44     -4248.095       3.190       1.000
  40   45     -4248.105       9.387       1.000
  41   46     -4248.129       4.483       1.000
  42   47     -4248.143       4.469       1.000
  43   48     -4248.150      11.452       1.000
  44   49     -4248.159       6.490       1.000
  45   50     -4248.166       2.401       1.000
Final RAS Transform: 
0.94189 -0.00624482 -0.0734418 0.261843 
0.0406376 1.00669 0.0677685 -0.253221 
0.0161408 -0.00840659 1.04017 -0.138593 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2970.88   GNORM= 114.397
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2974.371      72.927       0.000
   2    4     -2976.307      51.956       1.000
   3    5     -2977.775      44.930       1.000
   4    6     -2978.925      26.897       1.000
   5    7     -2980.894      27.399       1.000
   6    8     -2984.268      60.669       1.000
   7    9     -2987.518      95.903       1.000
   8   10     -2994.158      41.983       1.000
   9   11     -2996.545      30.875       1.000
  10   12     -2998.490      32.346       1.000
  11   13     -3002.311      44.713       1.000
  12   14     -3004.218      26.918       1.000
  13   15     -3005.506      21.289       1.000
  14   16     -3006.073     100.584       1.000
  15   17     -3008.342      39.575       1.000
  16   18     -3011.109      14.381       1.000
  17   19     -3013.210      35.993       1.000
  18   20     -3014.108      16.830       1.000
  19   21     -3014.338       6.532       1.000
  20   22     -3014.393       4.946       1.000
  21   24     -3014.411       6.075       0.437
  22   26     -3014.443       8.611       0.231
  23   27     -3014.481       6.666       1.000
  24   28     -3014.557      14.709       1.000
  25   29     -3014.615       7.324       1.000
  26   30     -3014.634       5.743       1.000
  27   32     -3014.636       6.580       0.178
  28   33     -3014.657       4.747       1.000
  29   34     -3014.692       4.869       1.000
  30   36     -3014.725       9.336       0.282
  31   37     -3014.757       6.461       1.000
  32   38     -3014.883      12.144       1.000
  33   40     -3014.913       5.745       0.439
  34   41     -3014.924       5.991       1.000
  35   42     -3014.954       5.108       1.000
  36   43     -3014.965       5.045       1.000
  37   44     -3015.057       5.527       1.000
  38   45     -3015.134       7.041       1.000
  39   47     -3015.185       8.866       0.474
  40   48     -3015.230       6.513       1.000
  41   49     -3015.308       5.097       1.000
  42   50     -3015.393       6.702       1.000
  43   51     -3015.457       6.671       1.000
  44   53     -3015.483       8.004       0.203
  45   54     -3015.538       7.350       1.000
  46   55     -3015.688       9.615       1.000
  47   57     -3015.774      12.774       0.252
  48   58     -3015.854       7.951       1.000
  49   59     -3015.985       6.264       1.000
  50   60     -3016.073       8.675       1.000
  51   61     -3016.270       7.963       1.000
Final RAS Transform: 
0.974911 0.00047439 -0.0424601 0.0519174 
0.0196934 1.01451 0.0654499 0.226328 
0.00767619 -0.00999119 1.03031 -0.0383951 
0 0 0 1 

Final RAS Transform: 
0.974911 0.00047439 -0.0424601 0.0519174 
0.0196934 1.01451 0.0654499 0.226328 
0.00767619 -0.00999119 1.03031 -0.0383951 
0 0 0 1 


real	0m9.945s
user	0m17.436s
sys	0m0.520s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.680855
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1181
Level     0,  Iter     1:    Energy =   0.1245
Level     0,  Iter     2:    Energy =   0.1292
Level     0,  Iter     3:    Energy =   0.1327
Level     0,  Iter     4:    Energy =   0.1350
Level     0,  Iter     5:    Energy =   0.1363
Level     0,  Iter     6:    Energy =   0.1378
Level     0,  Iter     7:    Energy =   0.1385
Level     0,  Iter     8:    Energy =   0.1397
Level     0,  Iter     9:    Energy =   0.1400
Level     0,  Iter    10:    Energy =   0.1408
Level     0,  Iter    11:    Energy =   0.1411
Level     0,  Iter    12:    Energy =   0.1420
Level     0,  Iter    13:    Energy =   0.1421
Level     0,  Iter    14:    Energy =   0.1422
Level     0,  Iter    15:    Energy =   0.1425
Level     0,  Iter    16:    Energy =   0.1426
Level     0,  Iter    17:    Energy =   0.1429
Level     0,  Iter    18:    Energy =   0.1429
Level     0,  Iter    19:    Energy =   0.1431
Level     0,  Iter    20:    Energy =   0.1431
Level     0,  Iter    21:    Energy =   0.1434
Level     0,  Iter    22:    Energy =   0.1433
Level     0,  Iter    23:    Energy =   0.1434
Level     0,  Iter    24:    Energy =   0.1432
Level     0,  Iter    25:    Energy =   0.1436
Level     0,  Iter    26:    Energy =   0.1435
Level     0,  Iter    27:    Energy =   0.1438
Level     0,  Iter    28:    Energy =   0.1437
Level     0,  Iter    29:    Energy =   0.1440
Level     0,  Iter    30:    Energy =   0.1436
Level     0,  Iter    31:    Energy =   0.1440
Level     0,  Iter    32:    Energy =   0.1439
Level     0,  Iter    33:    Energy =   0.1443
Level     0,  Iter    34:    Energy =   0.1437
Level     0,  Iter    35:    Energy =   0.1443
Level     0,  Iter    36:    Energy =   0.1442
Level     0,  Iter    37:    Energy =   0.1446
Level     0,  Iter    38:    Energy =   0.1440
Level     0,  Iter    39:    Energy =   0.1445
Level     0,  Iter    40:    Energy =   0.1445
Level     0,  Iter    41:    Energy =   0.1447
Level     0,  Iter    42:    Energy =   0.1441
Level     0,  Iter    43:    Energy =   0.1446
Level     0,  Iter    44:    Energy =   0.1447
Level     0,  Iter    45:    Energy =   0.1448
Level     0,  Iter    46:    Energy =   0.1443
Level     0,  Iter    47:    Energy =   0.1447
Level     0,  Iter    48:    Energy =   0.1445
Level     0,  Iter    49:    Energy =   0.1448
Level     0,  Iter    50:    Energy =   0.1444
Level     0,  Iter    51:    Energy =   0.1447
Level     0,  Iter    52:    Energy =   0.1445
Level     0,  Iter    53:    Energy =   0.1447
Level     0,  Iter    54:    Energy =   0.1444
Level     0,  Iter    55:    Energy =   0.1447
Level     0,  Iter    56:    Energy =   0.1446
Level     0,  Iter    57:    Energy =   0.1447
Level     0,  Iter    58:    Energy =   0.1443
Level     0,  Iter    59:    Energy =   0.1447
END OF LEVEL     0    DetJac Range:   0.2533  to   2.0127 
  Avg. Gradient Time  : 0.0076s  34.63% 
  Avg. Gaussian Time  : 0.0108s  49.67% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0973
Level     1,  Iter     1:    Energy =   0.1021
Level     1,  Iter     2:    Energy =   0.1066
Level     1,  Iter     3:    Energy =   0.1101
Level     1,  Iter     4:    Energy =   0.1130
Level     1,  Iter     5:    Energy =   0.1152
Level     1,  Iter     6:    Energy =   0.1175
Level     1,  Iter     7:    Energy =   0.1198
Level     1,  Iter     8:    Energy =   0.1218
Level     1,  Iter     9:    Energy =   0.1228
Level     1,  Iter    10:    Energy =   0.1233
Level     1,  Iter    11:    Energy =   0.1235
Level     1,  Iter    12:    Energy =   0.1246
Level     1,  Iter    13:    Energy =   0.1244
Level     1,  Iter    14:    Energy =   0.1258
Level     1,  Iter    15:    Energy =   0.1257
Level     1,  Iter    16:    Energy =   0.1262
Level     1,  Iter    17:    Energy =   0.1259
Level     1,  Iter    18:    Energy =   0.1269
Level     1,  Iter    19:    Energy =   0.1266
Level     1,  Iter    20:    Energy =   0.1273
Level     1,  Iter    21:    Energy =   0.1269
Level     1,  Iter    22:    Energy =   0.1276
Level     1,  Iter    23:    Energy =   0.1273
Level     1,  Iter    24:    Energy =   0.1279
Level     1,  Iter    25:    Energy =   0.1275
Level     1,  Iter    26:    Energy =   0.1282
Level     1,  Iter    27:    Energy =   0.1278
Level     1,  Iter    28:    Energy =   0.1283
Level     1,  Iter    29:    Energy =   0.1279
Level     1,  Iter    30:    Energy =   0.1286
Level     1,  Iter    31:    Energy =   0.1283
Level     1,  Iter    32:    Energy =   0.1284
Level     1,  Iter    33:    Energy =   0.1281
Level     1,  Iter    34:    Energy =   0.1287
Level     1,  Iter    35:    Energy =   0.1283
Level     1,  Iter    36:    Energy =   0.1288
Level     1,  Iter    37:    Energy =   0.1284
Level     1,  Iter    38:    Energy =   0.1290
Level     1,  Iter    39:    Energy =   0.1287
Level     1,  Iter    40:    Energy =   0.1289
Level     1,  Iter    41:    Energy =   0.1285
Level     1,  Iter    42:    Energy =   0.1291
Level     1,  Iter    43:    Energy =   0.1287
Level     1,  Iter    44:    Energy =   0.1293
Level     1,  Iter    45:    Energy =   0.1288
Level     1,  Iter    46:    Energy =   0.1294
Level     1,  Iter    47:    Energy =   0.1290
Level     1,  Iter    48:    Energy =   0.1294
Level     1,  Iter    49:    Energy =   0.1289
Level     1,  Iter    50:    Energy =   0.1296
Level     1,  Iter    51:    Energy =   0.1292
Level     1,  Iter    52:    Energy =   0.1296
Level     1,  Iter    53:    Energy =   0.1291
Level     1,  Iter    54:    Energy =   0.1298
Level     1,  Iter    55:    Energy =   0.1294
Level     1,  Iter    56:    Energy =   0.1298
Level     1,  Iter    57:    Energy =   0.1293
Level     1,  Iter    58:    Energy =   0.1300
Level     1,  Iter    59:    Energy =   0.1296
END OF LEVEL     1    DetJac Range:   0.1065  to   3.3468 
  Avg. Gradient Time  : 0.0428s  32.74% 
  Avg. Gaussian Time  : 0.0712s  54.40% 
  Avg. Iteration Time : 0.1308s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0651
Level     2,  Iter     1:    Energy =   0.0678
Level     2,  Iter     2:    Energy =   0.0698
Level     2,  Iter     3:    Energy =   0.0713
Level     2,  Iter     4:    Energy =   0.0725
Level     2,  Iter     5:    Energy =   0.0738
Level     2,  Iter     6:    Energy =   0.0751
Level     2,  Iter     7:    Energy =   0.0765
Level     2,  Iter     8:    Energy =   0.0775
Level     2,  Iter     9:    Energy =   0.0784
Level     2,  Iter    10:    Energy =   0.0791
Level     2,  Iter    11:    Energy =   0.0799
Level     2,  Iter    12:    Energy =   0.0807
Level     2,  Iter    13:    Energy =   0.0814
Level     2,  Iter    14:    Energy =   0.0819
Level     2,  Iter    15:    Energy =   0.0825
Level     2,  Iter    16:    Energy =   0.0829
Level     2,  Iter    17:    Energy =   0.0833
Level     2,  Iter    18:    Energy =   0.0836
Level     2,  Iter    19:    Energy =   0.0839
END OF LEVEL     2    DetJac Range:   0.0605  to   4.1532 
  Avg. Gradient Time  : 0.3023s  27.02% 
  Avg. Gaussian Time  : 0.6792s  60.71% 
  Avg. Iteration Time : 1.1187s 

real	0m36.473s
user	1m6.148s
sys	0m2.180s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.378846 0.384615
+ echo 'CHUNK 0.378846 0.384615 1'
CHUNK 0.378846 0.384615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.378846 0.384615 1
====================================
         PROGRESS: 0.378846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 006 right 0
+ local tid=006
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.56944
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3763.24   GNORM= 877.492
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3930.344     298.345       0.000
   2    4     -3960.832     237.305       1.000
   3    5     -4002.824     144.646       1.000
   4    6     -4015.385      90.871       1.000
   5    7     -4031.453     100.320       1.000
   6    8     -4046.912     102.916       1.000
   7    9     -4069.292      84.246       1.000
   8   11     -4071.533      83.686       0.089
   9   12     -4077.174      43.319       1.000
  10   13     -4080.360      34.934       1.000
  11   14     -4085.142      29.985       1.000
  12   15     -4085.897      59.143       1.000
  13   16     -4088.870      20.866       1.000
  14   18     -4089.087      18.071       0.487
  15   19     -4089.259      11.967       1.000
  16   20     -4089.469      13.557       1.000
  17   21     -4089.894      16.573       1.000
  18   23     -4090.417      19.114       0.468
  19   24     -4090.849      10.727       1.000
  20   25     -4091.118      12.199       1.000
  21   26     -4091.180      26.997       1.000
  22   27     -4091.495      11.604       1.000
  23   28     -4091.704      12.084       1.000
  24   29     -4091.935      14.260       1.000
  25   30     -4092.192      20.112       1.000
  26   31     -4092.295      44.312       1.000
  27   32     -4092.519      13.568       1.000
  28   34     -4092.817      20.530       5.000
  29   35     -4092.976       8.852       1.000
  30   37     -4093.008       7.227       0.323
  31   38     -4093.022       7.836       1.000
  32   39     -4093.067      12.577       1.000
  33   40     -4093.106      11.552       1.000
  34   41     -4093.144       9.028       1.000
  35   42     -4093.176       5.918       1.000
  36   43     -4093.230       8.130       1.000
  37   44     -4093.297       8.119       1.000
  38   46     -4093.327       3.797       0.205
  39   47     -4093.336       7.830       1.000
  40   48     -4093.348       2.714       1.000
  41   51     -4093.354       5.432       2.075
  42   52     -4093.360      10.917       1.000
  43   53     -4093.378       8.135       1.000
  44   54     -4093.389       3.349       1.000
  45   55     -4093.395       2.338       1.000
  46   57     -4093.396       1.906       0.185
  47   59     -4093.399       2.097       0.212
Final RAS Transform: 
0.970764 -0.0022014 -0.0107684 0.288945 
0.041149 0.99728 0.0317769 -0.694684 
0.00917128 0.00893539 1.02951 0.155603 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3018.25   GNORM= 215.675
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3025.488      59.630       0.000
   2    4     -3026.531      46.432       1.000
   3    5     -3027.873      34.830       1.000
   4    6     -3028.583      19.601       1.000
   5    7     -3029.132      20.125       1.000
   6    8     -3030.292      35.852       1.000
   7    9     -3031.482      32.114       1.000
   8   10     -3032.365      39.374       1.000
   9   12     -3032.699      24.275       0.351
  10   13     -3033.172      29.292       1.000
  11   14     -3033.699      16.429       1.000
  12   15     -3034.327      24.823       1.000
  13   16     -3034.447      15.412       1.000
  14   17     -3034.584       8.095       1.000
  15   18     -3034.696       7.402       1.000
  16   19     -3034.969       9.980       1.000
  17   20     -3035.527      18.207       1.000
  18   22     -3035.806      24.820       0.365
  19   23     -3036.054      13.290       1.000
  20   24     -3036.266       9.784       1.000
  21   25     -3036.434       6.561       1.000
  22   26     -3036.556       8.375       1.000
  23   27     -3036.779       6.853       1.000
  24   28     -3036.837      10.867       1.000
  25   29     -3036.885       6.632       1.000
  26   30     -3036.960      10.544       1.000
  27   33     -3037.209      16.861       2.736
  28   34     -3037.433      19.145       1.000
  29   36     -3037.542      12.754       0.190
  30   37     -3037.597      11.043       1.000
  31   38     -3037.643       5.329       1.000
  32   39     -3037.645       3.373       1.000
  33   40     -3037.663       4.282       1.000
  34   41     -3037.684       5.832       1.000
  35   42     -3037.700       7.124       1.000
  36   43     -3037.702       5.647       1.000
  37   44     -3037.716       5.023       1.000
  38   45     -3037.728       6.815       1.000
  39   46     -3037.777       9.906       1.000
  40   47     -3037.835       5.458       1.000
  41   49     -3037.854       5.301       0.367
  42   50     -3037.898       3.753       1.000
  43   51     -3037.907       6.971       1.000
  44   52     -3037.939       4.790       1.000
  45   53     -3037.948       1.356       1.000
Final RAS Transform: 
0.980219 -0.00379422 -0.0100946 0.0271611 
0.0282546 1.00822 0.0358996 -0.18581 
0.00986839 0.00523077 1.02387 -0.0397956 
0 0 0 1 

Final RAS Transform: 
0.980219 -0.00379422 -0.0100946 0.0271611 
0.0282546 1.00822 0.0358996 -0.18581 
0.00986839 0.00523077 1.02387 -0.0397956 
0 0 0 1 


real	0m9.898s
user	0m17.384s
sys	0m0.472s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.573689
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1149
Level     0,  Iter     1:    Energy =   0.1214
Level     0,  Iter     2:    Energy =   0.1271
Level     0,  Iter     3:    Energy =   0.1315
Level     0,  Iter     4:    Energy =   0.1340
Level     0,  Iter     5:    Energy =   0.1355
Level     0,  Iter     6:    Energy =   0.1369
Level     0,  Iter     7:    Energy =   0.1376
Level     0,  Iter     8:    Energy =   0.1387
Level     0,  Iter     9:    Energy =   0.1391
Level     0,  Iter    10:    Energy =   0.1399
Level     0,  Iter    11:    Energy =   0.1403
Level     0,  Iter    12:    Energy =   0.1408
Level     0,  Iter    13:    Energy =   0.1411
Level     0,  Iter    14:    Energy =   0.1414
Level     0,  Iter    15:    Energy =   0.1417
Level     0,  Iter    16:    Energy =   0.1419
Level     0,  Iter    17:    Energy =   0.1422
Level     0,  Iter    18:    Energy =   0.1423
Level     0,  Iter    19:    Energy =   0.1425
Level     0,  Iter    20:    Energy =   0.1426
Level     0,  Iter    21:    Energy =   0.1427
Level     0,  Iter    22:    Energy =   0.1428
Level     0,  Iter    23:    Energy =   0.1430
Level     0,  Iter    24:    Energy =   0.1430
Level     0,  Iter    25:    Energy =   0.1432
Level     0,  Iter    26:    Energy =   0.1433
Level     0,  Iter    27:    Energy =   0.1435
Level     0,  Iter    28:    Energy =   0.1436
Level     0,  Iter    29:    Energy =   0.1437
Level     0,  Iter    30:    Energy =   0.1437
Level     0,  Iter    31:    Energy =   0.1439
Level     0,  Iter    32:    Energy =   0.1440
Level     0,  Iter    33:    Energy =   0.1440
Level     0,  Iter    34:    Energy =   0.1439
Level     0,  Iter    35:    Energy =   0.1441
Level     0,  Iter    36:    Energy =   0.1442
Level     0,  Iter    37:    Energy =   0.1442
Level     0,  Iter    38:    Energy =   0.1440
Level     0,  Iter    39:    Energy =   0.1442
Level     0,  Iter    40:    Energy =   0.1444
Level     0,  Iter    41:    Energy =   0.1443
Level     0,  Iter    42:    Energy =   0.1441
Level     0,  Iter    43:    Energy =   0.1442
Level     0,  Iter    44:    Energy =   0.1444
Level     0,  Iter    45:    Energy =   0.1443
Level     0,  Iter    46:    Energy =   0.1442
Level     0,  Iter    47:    Energy =   0.1443
Level     0,  Iter    48:    Energy =   0.1444
Level     0,  Iter    49:    Energy =   0.1444
Level     0,  Iter    50:    Energy =   0.1443
Level     0,  Iter    51:    Energy =   0.1444
Level     0,  Iter    52:    Energy =   0.1444
Level     0,  Iter    53:    Energy =   0.1444
Level     0,  Iter    54:    Energy =   0.1443
Level     0,  Iter    55:    Energy =   0.1444
Level     0,  Iter    56:    Energy =   0.1444
Level     0,  Iter    57:    Energy =   0.1445
Level     0,  Iter    58:    Energy =   0.1444
Level     0,  Iter    59:    Energy =   0.1445
END OF LEVEL     0    DetJac Range:   0.3127  to   2.0267 
  Avg. Gradient Time  : 0.0087s  34.41% 
  Avg. Gaussian Time  : 0.0126s  50.12% 
  Avg. Iteration Time : 0.0251s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1004
Level     1,  Iter     1:    Energy =   0.1053
Level     1,  Iter     2:    Energy =   0.1085
Level     1,  Iter     3:    Energy =   0.1116
Level     1,  Iter     4:    Energy =   0.1139
Level     1,  Iter     5:    Energy =   0.1158
Level     1,  Iter     6:    Energy =   0.1175
Level     1,  Iter     7:    Energy =   0.1191
Level     1,  Iter     8:    Energy =   0.1204
Level     1,  Iter     9:    Energy =   0.1215
Level     1,  Iter    10:    Energy =   0.1224
Level     1,  Iter    11:    Energy =   0.1229
Level     1,  Iter    12:    Energy =   0.1232
Level     1,  Iter    13:    Energy =   0.1238
Level     1,  Iter    14:    Energy =   0.1239
Level     1,  Iter    15:    Energy =   0.1244
Level     1,  Iter    16:    Energy =   0.1245
Level     1,  Iter    17:    Energy =   0.1245
Level     1,  Iter    18:    Energy =   0.1250
Level     1,  Iter    19:    Energy =   0.1248
Level     1,  Iter    20:    Energy =   0.1254
Level     1,  Iter    21:    Energy =   0.1253
Level     1,  Iter    22:    Energy =   0.1257
Level     1,  Iter    23:    Energy =   0.1255
Level     1,  Iter    24:    Energy =   0.1260
Level     1,  Iter    25:    Energy =   0.1259
Level     1,  Iter    26:    Energy =   0.1263
Level     1,  Iter    27:    Energy =   0.1260
Level     1,  Iter    28:    Energy =   0.1264
Level     1,  Iter    29:    Energy =   0.1263
Level     1,  Iter    30:    Energy =   0.1267
Level     1,  Iter    31:    Energy =   0.1264
Level     1,  Iter    32:    Energy =   0.1269
Level     1,  Iter    33:    Energy =   0.1267
Level     1,  Iter    34:    Energy =   0.1271
Level     1,  Iter    35:    Energy =   0.1268
Level     1,  Iter    36:    Energy =   0.1272
Level     1,  Iter    37:    Energy =   0.1270
Level     1,  Iter    38:    Energy =   0.1274
Level     1,  Iter    39:    Energy =   0.1271
Level     1,  Iter    40:    Energy =   0.1275
Level     1,  Iter    41:    Energy =   0.1273
Level     1,  Iter    42:    Energy =   0.1277
Level     1,  Iter    43:    Energy =   0.1273
Level     1,  Iter    44:    Energy =   0.1278
Level     1,  Iter    45:    Energy =   0.1275
Level     1,  Iter    46:    Energy =   0.1278
Level     1,  Iter    47:    Energy =   0.1275
Level     1,  Iter    48:    Energy =   0.1279
Level     1,  Iter    49:    Energy =   0.1277
Level     1,  Iter    50:    Energy =   0.1280
Level     1,  Iter    51:    Energy =   0.1277
Level     1,  Iter    52:    Energy =   0.1281
Level     1,  Iter    53:    Energy =   0.1279
Level     1,  Iter    54:    Energy =   0.1281
Level     1,  Iter    55:    Energy =   0.1278
Level     1,  Iter    56:    Energy =   0.1282
Level     1,  Iter    57:    Energy =   0.1279
Level     1,  Iter    58:    Energy =   0.1282
Level     1,  Iter    59:    Energy =   0.1279
END OF LEVEL     1    DetJac Range:   0.1624  to   3.2839 
  Avg. Gradient Time  : 0.0484s  32.50% 
  Avg. Gaussian Time  : 0.0812s  54.50% 
  Avg. Iteration Time : 0.1490s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0654
Level     2,  Iter     1:    Energy =   0.0680
Level     2,  Iter     2:    Energy =   0.0701
Level     2,  Iter     3:    Energy =   0.0718
Level     2,  Iter     4:    Energy =   0.0730
Level     2,  Iter     5:    Energy =   0.0742
Level     2,  Iter     6:    Energy =   0.0755
Level     2,  Iter     7:    Energy =   0.0765
Level     2,  Iter     8:    Energy =   0.0774
Level     2,  Iter     9:    Energy =   0.0782
Level     2,  Iter    10:    Energy =   0.0789
Level     2,  Iter    11:    Energy =   0.0795
Level     2,  Iter    12:    Energy =   0.0801
Level     2,  Iter    13:    Energy =   0.0806
Level     2,  Iter    14:    Energy =   0.0811
Level     2,  Iter    15:    Energy =   0.0815
Level     2,  Iter    16:    Energy =   0.0820
Level     2,  Iter    17:    Energy =   0.0823
Level     2,  Iter    18:    Energy =   0.0827
Level     2,  Iter    19:    Energy =   0.0830
END OF LEVEL     2    DetJac Range:   0.0807  to   3.8031 
  Avg. Gradient Time  : 0.3352s  26.07% 
  Avg. Gaussian Time  : 0.7952s  61.84% 
  Avg. Iteration Time : 1.2859s 

real	0m41.455s
user	1m15.664s
sys	0m2.436s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.384615 0.390385
+ echo 'CHUNK 0.384615 0.390385 1'
CHUNK 0.384615 0.390385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.384615 0.390385 1
====================================
         PROGRESS: 0.384615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 007 right 0
+ local tid=007
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.421882
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3405.51   GNORM= 533.641
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3508.526     384.347       0.001
   2    4     -3562.845     243.042       1.000
   3    5     -3605.161     139.757       1.000
   4    6     -3622.853     103.461       1.000
   5    7     -3642.570     117.187       1.000
   6    8     -3657.053      59.931       1.000
   7    9     -3664.625      67.434       1.000
   8   10     -3674.352     145.188       1.000
   9   11     -3674.560     137.798       1.000
  10   12     -3680.075      41.610       1.000
  11   13     -3680.996      35.587       1.000
  12   15     -3685.942      57.540       5.000
  13   16     -3689.540      56.084       1.000
  14   17     -3691.151      44.394       1.000
  15   18     -3691.871      19.904       1.000
  16   19     -3692.152      33.779       1.000
  17   20     -3692.531      28.697       1.000
  18   22     -3693.501      23.221       0.422
  19   24     -3694.261      36.921       0.355
  20   25     -3694.563      29.010       1.000
  21   26     -3694.947      14.394       1.000
  22   28     -3695.002       8.808       0.416
  23   29     -3695.042       5.492       1.000
  24   30     -3695.063      11.585       1.000
  25   31     -3695.102       6.264       1.000
  26   33     -3695.113       4.804       0.479
  27   34     -3695.115       6.869       1.000
  28   35     -3695.136      11.039       1.000
  29   36     -3695.164       6.131       1.000
  30   37     -3695.209       6.793       1.000
  31   38     -3695.228       6.072       1.000
  32   39     -3695.237       5.293       1.000
  33   40     -3695.243       3.312       1.000
  34   41     -3695.247       3.626       1.000
  35   42     -3695.261       2.333       1.000
Final RAS Transform: 
0.9689 0.00604504 0.0108183 0.520048 
0.0155255 1.00235 0.0445921 0.0336774 
0.0112607 -0.00595981 1.02599 -0.0597757 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2912.93   GNORM= 194.993
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2919.140      62.768       0.000
   2    4     -2920.467      55.537       1.000
   3    5     -2923.809      59.532       1.000
   4    6     -2926.949      48.894       1.000
   5    7     -2930.685      56.747       1.000
   6    8     -2932.754      49.074       1.000
   7    9     -2934.173      35.455       1.000
   8   10     -2935.937      35.296       1.000
   9   11     -2938.289      48.991       1.000
  10   12     -2942.057      38.748       1.000
  11   13     -2943.663      63.856       1.000
  12   14     -2944.821      28.641       1.000
  13   15     -2945.397      23.241       1.000
  14   16     -2946.335      39.116       1.000
  15   17     -2947.742      44.149       1.000
  16   18     -2948.298      76.871       1.000
  17   19     -2949.199      30.481       1.000
  18   20     -2949.577       8.000       1.000
  19   21     -2949.650       7.515       1.000
  20   23     -2949.726      10.780       0.466
  21   24     -2949.834       7.992       1.000
  22   25     -2950.456       9.453       1.000
  23   27     -2950.761      23.284       0.369
  24   28     -2951.003      11.940       1.000
  25   29     -2951.122      12.943       1.000
  26   30     -2951.172       7.791       1.000
  27   31     -2951.292      10.365       1.000
  28   32     -2951.430      10.769       1.000
  29   33     -2951.600      16.797       1.000
  30   35     -2951.747      11.174       0.423
  31   36     -2951.812      11.224       1.000
  32   37     -2952.098       7.375       1.000
  33   39     -2952.148       8.811       0.229
  34   40     -2952.202       7.689       1.000
  35   41     -2952.237       2.836       1.000
  36   42     -2952.245       2.251       1.000
  37   43     -2952.259      10.148       1.000
  38   44     -2952.273       6.513       1.000
  39   46     -2952.305       5.928       0.363
  40   47     -2952.325       4.831       1.000
  41   48     -2952.346       6.068       1.000
  42   49     -2952.377       5.055       1.000
  43   50     -2952.422       3.295       1.000
  44   51     -2952.441       2.225       1.000
  45   53     -2952.452       1.570       0.072
Final RAS Transform: 
0.975826 -0.00273969 -0.0302088 -0.172528 
0.00660503 1.01319 0.0667215 0.295773 
0.0257593 -0.00139709 1.03576 -0.0515414 
0 0 0 1 

Final RAS Transform: 
0.975826 -0.00273969 -0.0302088 -0.172528 
0.00660503 1.01319 0.0667215 0.295773 
0.0257593 -0.00139709 1.03576 -0.0515414 
0 0 0 1 


real	0m9.913s
user	0m17.384s
sys	0m0.476s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.429506
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1041
Level     0,  Iter     1:    Energy =   0.1112
Level     0,  Iter     2:    Energy =   0.1173
Level     0,  Iter     3:    Energy =   0.1211
Level     0,  Iter     4:    Energy =   0.1225
Level     0,  Iter     5:    Energy =   0.1239
Level     0,  Iter     6:    Energy =   0.1248
Level     0,  Iter     7:    Energy =   0.1255
Level     0,  Iter     8:    Energy =   0.1261
Level     0,  Iter     9:    Energy =   0.1266
Level     0,  Iter    10:    Energy =   0.1271
Level     0,  Iter    11:    Energy =   0.1273
Level     0,  Iter    12:    Energy =   0.1277
Level     0,  Iter    13:    Energy =   0.1279
Level     0,  Iter    14:    Energy =   0.1282
Level     0,  Iter    15:    Energy =   0.1284
Level     0,  Iter    16:    Energy =   0.1286
Level     0,  Iter    17:    Energy =   0.1287
Level     0,  Iter    18:    Energy =   0.1289
Level     0,  Iter    19:    Energy =   0.1289
Level     0,  Iter    20:    Energy =   0.1291
Level     0,  Iter    21:    Energy =   0.1291
Level     0,  Iter    22:    Energy =   0.1294
Level     0,  Iter    23:    Energy =   0.1294
Level     0,  Iter    24:    Energy =   0.1296
Level     0,  Iter    25:    Energy =   0.1298
Level     0,  Iter    26:    Energy =   0.1300
Level     0,  Iter    27:    Energy =   0.1301
Level     0,  Iter    28:    Energy =   0.1303
Level     0,  Iter    29:    Energy =   0.1304
Level     0,  Iter    30:    Energy =   0.1306
Level     0,  Iter    31:    Energy =   0.1307
Level     0,  Iter    32:    Energy =   0.1308
Level     0,  Iter    33:    Energy =   0.1308
Level     0,  Iter    34:    Energy =   0.1309
Level     0,  Iter    35:    Energy =   0.1310
Level     0,  Iter    36:    Energy =   0.1311
Level     0,  Iter    37:    Energy =   0.1313
Level     0,  Iter    38:    Energy =   0.1313
Level     0,  Iter    39:    Energy =   0.1313
Level     0,  Iter    40:    Energy =   0.1314
Level     0,  Iter    41:    Energy =   0.1315
Level     0,  Iter    42:    Energy =   0.1315
Level     0,  Iter    43:    Energy =   0.1315
Level     0,  Iter    44:    Energy =   0.1316
Level     0,  Iter    45:    Energy =   0.1317
Level     0,  Iter    46:    Energy =   0.1317
Level     0,  Iter    47:    Energy =   0.1316
Level     0,  Iter    48:    Energy =   0.1317
Level     0,  Iter    49:    Energy =   0.1316
Level     0,  Iter    50:    Energy =   0.1317
Level     0,  Iter    51:    Energy =   0.1318
Level     0,  Iter    52:    Energy =   0.1318
Level     0,  Iter    53:    Energy =   0.1318
Level     0,  Iter    54:    Energy =   0.1319
Level     0,  Iter    55:    Energy =   0.1318
Level     0,  Iter    56:    Energy =   0.1319
Level     0,  Iter    57:    Energy =   0.1319
Level     0,  Iter    58:    Energy =   0.1320
Level     0,  Iter    59:    Energy =   0.1320
END OF LEVEL     0    DetJac Range:   0.2704  to   2.0272 
  Avg. Gradient Time  : 0.0087s  34.49% 
  Avg. Gaussian Time  : 0.0127s  50.09% 
  Avg. Iteration Time : 0.0253s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0974
Level     1,  Iter     1:    Energy =   0.1023
Level     1,  Iter     2:    Energy =   0.1050
Level     1,  Iter     3:    Energy =   0.1081
Level     1,  Iter     4:    Energy =   0.1105
Level     1,  Iter     5:    Energy =   0.1126
Level     1,  Iter     6:    Energy =   0.1143
Level     1,  Iter     7:    Energy =   0.1159
Level     1,  Iter     8:    Energy =   0.1175
Level     1,  Iter     9:    Energy =   0.1185
Level     1,  Iter    10:    Energy =   0.1194
Level     1,  Iter    11:    Energy =   0.1201
Level     1,  Iter    12:    Energy =   0.1203
Level     1,  Iter    13:    Energy =   0.1207
Level     1,  Iter    14:    Energy =   0.1207
Level     1,  Iter    15:    Energy =   0.1214
Level     1,  Iter    16:    Energy =   0.1212
Level     1,  Iter    17:    Energy =   0.1220
Level     1,  Iter    18:    Energy =   0.1219
Level     1,  Iter    19:    Energy =   0.1224
Level     1,  Iter    20:    Energy =   0.1222
Level     1,  Iter    21:    Energy =   0.1226
Level     1,  Iter    22:    Energy =   0.1227
Level     1,  Iter    23:    Energy =   0.1229
Level     1,  Iter    24:    Energy =   0.1227
Level     1,  Iter    25:    Energy =   0.1232
Level     1,  Iter    26:    Energy =   0.1230
Level     1,  Iter    27:    Energy =   0.1236
Level     1,  Iter    28:    Energy =   0.1233
Level     1,  Iter    29:    Energy =   0.1239
Level     1,  Iter    30:    Energy =   0.1235
Level     1,  Iter    31:    Energy =   0.1241
Level     1,  Iter    32:    Energy =   0.1238
Level     1,  Iter    33:    Energy =   0.1243
Level     1,  Iter    34:    Energy =   0.1240
Level     1,  Iter    35:    Energy =   0.1245
Level     1,  Iter    36:    Energy =   0.1241
Level     1,  Iter    37:    Energy =   0.1246
Level     1,  Iter    38:    Energy =   0.1243
Level     1,  Iter    39:    Energy =   0.1248
Level     1,  Iter    40:    Energy =   0.1244
Level     1,  Iter    41:    Energy =   0.1249
Level     1,  Iter    42:    Energy =   0.1246
Level     1,  Iter    43:    Energy =   0.1248
Level     1,  Iter    44:    Energy =   0.1245
Level     1,  Iter    45:    Energy =   0.1248
Level     1,  Iter    46:    Energy =   0.1245
Level     1,  Iter    47:    Energy =   0.1249
Level     1,  Iter    48:    Energy =   0.1245
Level     1,  Iter    49:    Energy =   0.1249
Level     1,  Iter    50:    Energy =   0.1246
Level     1,  Iter    51:    Energy =   0.1251
Level     1,  Iter    52:    Energy =   0.1247
Level     1,  Iter    53:    Energy =   0.1251
Level     1,  Iter    54:    Energy =   0.1248
Level     1,  Iter    55:    Energy =   0.1252
Level     1,  Iter    56:    Energy =   0.1249
Level     1,  Iter    57:    Energy =   0.1252
Level     1,  Iter    58:    Energy =   0.1249
Level     1,  Iter    59:    Energy =   0.1253
END OF LEVEL     1    DetJac Range:   0.1126  to   3.0518 
  Avg. Gradient Time  : 0.0492s  32.81% 
  Avg. Gaussian Time  : 0.0813s  54.23% 
  Avg. Iteration Time : 0.1499s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0644
Level     2,  Iter     1:    Energy =   0.0672
Level     2,  Iter     2:    Energy =   0.0694
Level     2,  Iter     3:    Energy =   0.0715
Level     2,  Iter     4:    Energy =   0.0733
Level     2,  Iter     5:    Energy =   0.0747
Level     2,  Iter     6:    Energy =   0.0759
Level     2,  Iter     7:    Energy =   0.0769
Level     2,  Iter     8:    Energy =   0.0780
Level     2,  Iter     9:    Energy =   0.0789
Level     2,  Iter    10:    Energy =   0.0796
Level     2,  Iter    11:    Energy =   0.0804
Level     2,  Iter    12:    Energy =   0.0810
Level     2,  Iter    13:    Energy =   0.0816
Level     2,  Iter    14:    Energy =   0.0821
Level     2,  Iter    15:    Energy =   0.0825
Level     2,  Iter    16:    Energy =   0.0828
Level     2,  Iter    17:    Energy =   0.0832
Level     2,  Iter    18:    Energy =   0.0834
Level     2,  Iter    19:    Energy =   0.0837
END OF LEVEL     2    DetJac Range:   0.0897  to   4.3469 
  Avg. Gradient Time  : 0.3126s  26.46% 
  Avg. Gaussian Time  : 0.7277s  61.60% 
  Avg. Iteration Time : 1.1813s 

real	0m39.322s
user	1m11.700s
sys	0m2.168s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.390385 0.396154
+ echo 'CHUNK 0.390385 0.396154 1'
CHUNK 0.390385 0.396154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.390385 0.396154 1
====================================
         PROGRESS: 0.390385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 008 right 0
+ local tid=008
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.414324
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2859.02   GNORM= 667.82
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2999.671     244.955       0.001
   2    4     -3030.429     213.665       1.000
   3    5     -3120.618     133.317       1.000
   4    6     -3143.956      85.343       1.000
   5    7     -3178.785      51.124       1.000
   6    8     -3197.677      74.906       1.000
   7   10     -3200.653     109.995       0.208
   8   11     -3207.478      84.867       1.000
   9   12     -3213.683      59.730       1.000
  10   13     -3217.734      44.021       1.000
  11   14     -3225.563      35.723       1.000
  12   15     -3230.775      63.863       1.000
  13   16     -3236.870      47.904       1.000
  14   17     -3239.003      28.867       1.000
  15   18     -3240.411      27.049       1.000
  16   19     -3246.094      48.508       1.000
  17   20     -3248.890      53.915       1.000
  18   21     -3251.522      24.641       1.000
  19   22     -3252.804      19.591       1.000
  20   23     -3253.546      31.839       1.000
  21   24     -3254.096      21.682       1.000
  22   25     -3254.568      24.176       1.000
  23   26     -3255.835      27.360       1.000
  24   27     -3256.854      15.971       1.000
  25   28     -3257.647      17.616       1.000
  26   30     -3258.341      23.886       0.472
  27   31     -3258.579      24.746       1.000
  28   32     -3259.097       9.371       1.000
  29   33     -3259.286       9.451       1.000
  30   34     -3259.668      11.473       1.000
  31   35     -3259.858      37.859       1.000
  32   36     -3260.343      13.560       1.000
  33   37     -3260.501       9.434       1.000
  34   38     -3260.574      10.433       1.000
  35   39     -3260.644       4.480       1.000
  36   40     -3260.671       6.206       1.000
  37   41     -3260.688       3.164       1.000
  38   42     -3260.733       7.829       1.000
  39   43     -3260.764       7.138       1.000
  40   45     -3260.785       6.800       0.277
  41   46     -3260.818       5.322       1.000
  42   47     -3260.855       7.032       1.000
  43   48     -3260.902       4.222       1.000
  44   49     -3260.933       4.852       1.000
  45   50     -3260.937       4.423       1.000
  46   52     -3261.008       7.191       5.000
  47   54     -3261.012       6.723       0.185
  48   55     -3261.036       8.604       1.000
  49   56     -3261.110       7.474       1.000
  50   58     -3261.150       6.577       0.461
  51   59     -3261.152      12.683       1.000
  52   61     -3261.173       7.217       0.456
Final RAS Transform: 
0.912498 0.0108734 -0.0598225 1.60066 
0.0383245 0.998638 0.0544027 -0.771688 
0.0158248 -0.0168444 1.02501 -0.551484 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2383.84   GNORM= 82.0292
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2385.817      48.062       0.001
   2    4     -2386.868      47.305       1.000
   3    5     -2395.325      55.573       1.000
   4    6     -2403.605      71.114       1.000
   5    7     -2426.867      89.743       1.000
   6    8     -2429.819      94.197       1.000
   7    9     -2434.965      52.519       1.000
   8   10     -2438.096      73.139       1.000
   9   11     -2441.540      42.537       1.000
  10   12     -2445.177      31.364       1.000
  11   13     -2446.952      28.726       1.000
  12   14     -2448.940      25.986       1.000
  13   15     -2453.052      46.200       1.000
  14   16     -2459.223      62.718       1.000
  15   18     -2459.808      67.528       0.097
  16   19     -2463.132      26.637       1.000
  17   20     -2464.217      11.934       1.000
  18   21     -2464.668      14.257       1.000
  19   22     -2465.395      17.265       1.000
  20   23     -2467.159      34.154       1.000
  21   25     -2467.918      43.405       0.394
  22   26     -2469.420      22.177       1.000
  23   27     -2470.311      13.331       1.000
  24   28     -2470.816      11.942       1.000
  25   29     -2472.070      29.137       1.000
  26   30     -2473.816      17.587       1.000
  27   31     -2476.447      14.670       1.000
  28   32     -2477.774      44.610       1.000
  29   34     -2478.158      22.767       0.304
  30   35     -2478.500      15.449       1.000
  31   36     -2478.621      24.213       1.000
  32   37     -2478.929      15.834       1.000
  33   38     -2479.447      13.937       1.000
  34   39     -2480.463      21.958       1.000
  35   40     -2481.215      69.709       1.000
  36   41     -2482.408      30.726       1.000
  37   42     -2483.271      18.995       1.000
  38   43     -2483.862      22.412       1.000
  39   44     -2484.363      14.337       1.000
  40   45     -2484.758      12.919       1.000
  41   47     -2485.451      28.473       0.137
  42   48     -2486.447      34.649       1.000
  43   50     -2487.140      15.227       0.392
  44   51     -2487.529      13.070       1.000
  45   53     -2487.610       8.816       0.465
  46   54     -2487.751       7.688       1.000
  47   56     -2487.806       8.754       0.260
  48   57     -2487.895       7.883       1.000
  49   58     -2487.967       4.604       1.000
  50   59     -2488.035       9.357       1.000
  51   60     -2488.153      10.808       1.000
Final RAS Transform: 
0.982772 0.0278754 -0.0175431 0.584899 
-0.0277682 1.00479 0.041298 0.608253 
0.03083 -0.01101 1.04331 -0.507782 
0 0 0 1 

Final RAS Transform: 
0.982772 0.0278754 -0.0175431 0.584899 
-0.0277682 1.00479 0.041298 0.608253 
0.03083 -0.01101 1.04331 -0.507782 
0 0 0 1 


real	0m10.589s
user	0m18.396s
sys	0m0.628s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.420566
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0898
Level     0,  Iter     1:    Energy =   0.0961
Level     0,  Iter     2:    Energy =   0.1010
Level     0,  Iter     3:    Energy =   0.1050
Level     0,  Iter     4:    Energy =   0.1074
Level     0,  Iter     5:    Energy =   0.1085
Level     0,  Iter     6:    Energy =   0.1101
Level     0,  Iter     7:    Energy =   0.1107
Level     0,  Iter     8:    Energy =   0.1119
Level     0,  Iter     9:    Energy =   0.1123
Level     0,  Iter    10:    Energy =   0.1131
Level     0,  Iter    11:    Energy =   0.1133
Level     0,  Iter    12:    Energy =   0.1140
Level     0,  Iter    13:    Energy =   0.1141
Level     0,  Iter    14:    Energy =   0.1147
Level     0,  Iter    15:    Energy =   0.1148
Level     0,  Iter    16:    Energy =   0.1152
Level     0,  Iter    17:    Energy =   0.1153
Level     0,  Iter    18:    Energy =   0.1157
Level     0,  Iter    19:    Energy =   0.1157
Level     0,  Iter    20:    Energy =   0.1161
Level     0,  Iter    21:    Energy =   0.1161
Level     0,  Iter    22:    Energy =   0.1165
Level     0,  Iter    23:    Energy =   0.1164
Level     0,  Iter    24:    Energy =   0.1167
Level     0,  Iter    25:    Energy =   0.1167
Level     0,  Iter    26:    Energy =   0.1170
Level     0,  Iter    27:    Energy =   0.1169
Level     0,  Iter    28:    Energy =   0.1173
Level     0,  Iter    29:    Energy =   0.1172
Level     0,  Iter    30:    Energy =   0.1175
Level     0,  Iter    31:    Energy =   0.1174
Level     0,  Iter    32:    Energy =   0.1178
Level     0,  Iter    33:    Energy =   0.1177
Level     0,  Iter    34:    Energy =   0.1180
Level     0,  Iter    35:    Energy =   0.1179
Level     0,  Iter    36:    Energy =   0.1182
Level     0,  Iter    37:    Energy =   0.1180
Level     0,  Iter    38:    Energy =   0.1183
Level     0,  Iter    39:    Energy =   0.1182
Level     0,  Iter    40:    Energy =   0.1185
Level     0,  Iter    41:    Energy =   0.1184
Level     0,  Iter    42:    Energy =   0.1186
Level     0,  Iter    43:    Energy =   0.1185
Level     0,  Iter    44:    Energy =   0.1188
Level     0,  Iter    45:    Energy =   0.1187
Level     0,  Iter    46:    Energy =   0.1190
Level     0,  Iter    47:    Energy =   0.1188
Level     0,  Iter    48:    Energy =   0.1191
Level     0,  Iter    49:    Energy =   0.1189
Level     0,  Iter    50:    Energy =   0.1192
Level     0,  Iter    51:    Energy =   0.1191
Level     0,  Iter    52:    Energy =   0.1193
Level     0,  Iter    53:    Energy =   0.1191
Level     0,  Iter    54:    Energy =   0.1194
Level     0,  Iter    55:    Energy =   0.1192
Level     0,  Iter    56:    Energy =   0.1194
Level     0,  Iter    57:    Energy =   0.1193
Level     0,  Iter    58:    Energy =   0.1195
Level     0,  Iter    59:    Energy =   0.1194
END OF LEVEL     0    DetJac Range:   0.3179  to   1.9726 
  Avg. Gradient Time  : 0.0086s  34.36% 
  Avg. Gaussian Time  : 0.0126s  50.15% 
  Avg. Iteration Time : 0.0252s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0814
Level     1,  Iter     1:    Energy =   0.0853
Level     1,  Iter     2:    Energy =   0.0887
Level     1,  Iter     3:    Energy =   0.0921
Level     1,  Iter     4:    Energy =   0.0951
Level     1,  Iter     5:    Energy =   0.0972
Level     1,  Iter     6:    Energy =   0.0990
Level     1,  Iter     7:    Energy =   0.1005
Level     1,  Iter     8:    Energy =   0.1021
Level     1,  Iter     9:    Energy =   0.1036
Level     1,  Iter    10:    Energy =   0.1047
Level     1,  Iter    11:    Energy =   0.1057
Level     1,  Iter    12:    Energy =   0.1067
Level     1,  Iter    13:    Energy =   0.1076
Level     1,  Iter    14:    Energy =   0.1085
Level     1,  Iter    15:    Energy =   0.1086
Level     1,  Iter    16:    Energy =   0.1092
Level     1,  Iter    17:    Energy =   0.1090
Level     1,  Iter    18:    Energy =   0.1097
Level     1,  Iter    19:    Energy =   0.1097
Level     1,  Iter    20:    Energy =   0.1102
Level     1,  Iter    21:    Energy =   0.1100
Level     1,  Iter    22:    Energy =   0.1106
Level     1,  Iter    23:    Energy =   0.1107
Level     1,  Iter    24:    Energy =   0.1111
Level     1,  Iter    25:    Energy =   0.1108
Level     1,  Iter    26:    Energy =   0.1114
Level     1,  Iter    27:    Energy =   0.1117
Level     1,  Iter    28:    Energy =   0.1117
Level     1,  Iter    29:    Energy =   0.1115
Level     1,  Iter    30:    Energy =   0.1120
Level     1,  Iter    31:    Energy =   0.1119
Level     1,  Iter    32:    Energy =   0.1123
Level     1,  Iter    33:    Energy =   0.1119
Level     1,  Iter    34:    Energy =   0.1124
Level     1,  Iter    35:    Energy =   0.1125
Level     1,  Iter    36:    Energy =   0.1126
Level     1,  Iter    37:    Energy =   0.1123
Level     1,  Iter    38:    Energy =   0.1127
Level     1,  Iter    39:    Energy =   0.1126
Level     1,  Iter    40:    Energy =   0.1128
Level     1,  Iter    41:    Energy =   0.1126
Level     1,  Iter    42:    Energy =   0.1130
Level     1,  Iter    43:    Energy =   0.1129
Level     1,  Iter    44:    Energy =   0.1131
Level     1,  Iter    45:    Energy =   0.1128
Level     1,  Iter    46:    Energy =   0.1133
Level     1,  Iter    47:    Energy =   0.1132
Level     1,  Iter    48:    Energy =   0.1133
Level     1,  Iter    49:    Energy =   0.1130
Level     1,  Iter    50:    Energy =   0.1134
Level     1,  Iter    51:    Energy =   0.1133
Level     1,  Iter    52:    Energy =   0.1134
Level     1,  Iter    53:    Energy =   0.1131
Level     1,  Iter    54:    Energy =   0.1136
Level     1,  Iter    55:    Energy =   0.1135
Level     1,  Iter    56:    Energy =   0.1135
Level     1,  Iter    57:    Energy =   0.1133
Level     1,  Iter    58:    Energy =   0.1137
Level     1,  Iter    59:    Energy =   0.1136
END OF LEVEL     1    DetJac Range:   0.1013  to   3.5378 
  Avg. Gradient Time  : 0.0493s  32.82% 
  Avg. Gaussian Time  : 0.0813s  54.19% 
  Avg. Iteration Time : 0.1501s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0575
Level     2,  Iter     1:    Energy =   0.0600
Level     2,  Iter     2:    Energy =   0.0620
Level     2,  Iter     3:    Energy =   0.0636
Level     2,  Iter     4:    Energy =   0.0649
Level     2,  Iter     5:    Energy =   0.0660
Level     2,  Iter     6:    Energy =   0.0670
Level     2,  Iter     7:    Energy =   0.0679
Level     2,  Iter     8:    Energy =   0.0687
Level     2,  Iter     9:    Energy =   0.0694
Level     2,  Iter    10:    Energy =   0.0701
Level     2,  Iter    11:    Energy =   0.0707
Level     2,  Iter    12:    Energy =   0.0713
Level     2,  Iter    13:    Energy =   0.0718
Level     2,  Iter    14:    Energy =   0.0723
Level     2,  Iter    15:    Energy =   0.0727
Level     2,  Iter    16:    Energy =   0.0731
Level     2,  Iter    17:    Energy =   0.0734
Level     2,  Iter    18:    Energy =   0.0737
Level     2,  Iter    19:    Energy =   0.0740
END OF LEVEL     2    DetJac Range:   0.0408  to   3.9942 
  Avg. Gradient Time  : 0.3435s  26.90% 
  Avg. Gaussian Time  : 0.7752s  60.70% 
  Avg. Iteration Time : 1.2770s 

real	0m41.494s
user	1m15.636s
sys	0m2.416s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.396154 0.401923
+ echo 'CHUNK 0.396154 0.401923 1'
CHUNK 0.396154 0.401923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.396154 0.401923 1
====================================
         PROGRESS: 0.396154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 009 right 0
+ local tid=009
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.777078
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4057.86   GNORM= 441.793
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4185.721     308.460       0.001
   2    4     -4196.913     312.931       1.000
   3    5     -4218.574     114.300       1.000
   4    6     -4226.028      91.538       1.000
   5    7     -4243.796     115.908       1.000
   6    8     -4256.966     151.391       1.000
   7    9     -4271.678     108.447       1.000
   8   10     -4286.966     102.964       1.000
   9   11     -4306.323     119.642       1.000
  10   13     -4314.349      98.375       0.499
  11   14     -4321.161      49.450       1.000
  12   15     -4322.839      39.756       1.000
  13   16     -4323.792      28.630       1.000
  14   17     -4325.958      25.547       1.000
  15   18     -4328.134      26.289       1.000
  16   20     -4328.347      32.849       0.339
  17   21     -4328.592      21.529       1.000
  18   22     -4328.819      13.694       1.000
  19   23     -4328.887      29.071       1.000
  20   24     -4329.159      16.104       1.000
  21   25     -4329.419      10.928       1.000
  22   26     -4329.700      26.349       1.000
  23   27     -4329.854       6.764       1.000
  24   28     -4329.899       6.125       1.000
  25   29     -4329.970       7.468       1.000
  26   30     -4330.032       8.970       1.000
  27   31     -4330.089       7.788       1.000
  28   33     -4330.253       9.380       5.000
  29   34     -4330.349      10.075       1.000
  30   35     -4330.433       8.580       1.000
  31   36     -4330.439       5.744       1.000
  32   37     -4330.461       5.154       1.000
  33   39     -4330.482       8.732       0.182
  34   40     -4330.515       7.100       1.000
  35   42     -4330.544       4.925       0.499
  36   43     -4330.544       7.257       1.000
  37   44     -4330.558       3.041       1.000
  38   45     -4330.563       4.545       1.000
Final RAS Transform: 
0.959558 -0.00278005 -0.00719759 0.457609 
0.00785112 0.996028 -0.00619316 -0.295746 
0.0450107 -0.00331753 1.03782 -0.277965 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2979.13   GNORM= 92.8187
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2981.223      65.756       0.000
   2    4     -2982.584      60.824       1.000
   3    5     -2992.958      77.800       1.000
   4    6     -3001.229      69.391       1.000
   5    7     -3013.737      56.675       1.000
   6    9     -3022.008      73.252       0.501
   7   10     -3029.368      84.040       1.000
   8   11     -3031.627     115.236       1.000
   9   12     -3034.049      28.632       1.000
  10   13     -3034.527      17.887       1.000
  11   14     -3034.842      14.697       1.000
  12   15     -3035.121      14.998       1.000
  13   16     -3038.158      53.568       1.000
  14   17     -3039.141      52.914       1.000
  15   18     -3039.625      12.303       1.000
  16   19     -3039.734      13.584       1.000
  17   20     -3039.980      19.493       1.000
  18   21     -3040.559      30.277       1.000
  19   22     -3041.636      43.447       1.000
  20   23     -3043.002      19.566       1.000
  21   24     -3043.300      30.584       1.000
  22   25     -3043.481      34.454       1.000
  23   26     -3043.642       9.975       1.000
  24   27     -3043.687       5.158       1.000
  25   28     -3043.762       5.457       1.000
  26   29     -3043.911      11.939       1.000
  27   30     -3044.104      10.064       1.000
  28   31     -3044.329      22.441       1.000
  29   32     -3044.645      23.555       1.000
  30   34     -3044.719       4.910       0.329
  31   35     -3044.736       5.821       1.000
  32   36     -3044.788       4.397       1.000
  33   37     -3044.887       6.497       1.000
  34   38     -3044.953       4.771       1.000
  35   39     -3045.051       9.835       1.000
  36   41     -3045.079      11.170       0.294
  37   42     -3045.155      11.198       1.000
  38   43     -3045.253       8.262       1.000
  39   44     -3045.396       4.303       1.000
  40   46     -3045.425       7.680       0.358
  41   47     -3045.449       5.248       1.000
  42   48     -3045.455      14.306       1.000
  43   49     -3045.489       5.364       1.000
  44   51     -3045.491       4.233       0.340
  45   52     -3045.507       4.540       1.000
  46   53     -3045.519       4.715       1.000
  47   54     -3045.549       9.209       1.000
  48   55     -3045.563       5.834       1.000
  49   56     -3045.585       4.661       1.000
  50   57     -3045.597       3.187       1.000
Final RAS Transform: 
0.971039 -0.00169316 -0.025641 0.128115 
0.0129216 1.01155 0.029493 0.0433749 
0.0132475 -0.00676866 1.01568 0.230617 
0 0 0 1 

Final RAS Transform: 
0.971039 -0.00169316 -0.025641 0.128115 
0.0129216 1.01155 0.029493 0.0433749 
0.0132475 -0.00676866 1.01568 0.230617 
0 0 0 1 


real	0m10.558s
user	0m18.460s
sys	0m0.472s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.774647
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1216
Level     0,  Iter     1:    Energy =   0.1294
Level     0,  Iter     2:    Energy =   0.1368
Level     0,  Iter     3:    Energy =   0.1409
Level     0,  Iter     4:    Energy =   0.1431
Level     0,  Iter     5:    Energy =   0.1444
Level     0,  Iter     6:    Energy =   0.1458
Level     0,  Iter     7:    Energy =   0.1468
Level     0,  Iter     8:    Energy =   0.1476
Level     0,  Iter     9:    Energy =   0.1482
Level     0,  Iter    10:    Energy =   0.1489
Level     0,  Iter    11:    Energy =   0.1494
Level     0,  Iter    12:    Energy =   0.1499
Level     0,  Iter    13:    Energy =   0.1503
Level     0,  Iter    14:    Energy =   0.1507
Level     0,  Iter    15:    Energy =   0.1510
Level     0,  Iter    16:    Energy =   0.1514
Level     0,  Iter    17:    Energy =   0.1514
Level     0,  Iter    18:    Energy =   0.1518
Level     0,  Iter    19:    Energy =   0.1518
Level     0,  Iter    20:    Energy =   0.1521
Level     0,  Iter    21:    Energy =   0.1520
Level     0,  Iter    22:    Energy =   0.1522
Level     0,  Iter    23:    Energy =   0.1520
Level     0,  Iter    24:    Energy =   0.1522
Level     0,  Iter    25:    Energy =   0.1520
Level     0,  Iter    26:    Energy =   0.1522
Level     0,  Iter    27:    Energy =   0.1521
Level     0,  Iter    28:    Energy =   0.1522
Level     0,  Iter    29:    Energy =   0.1521
Level     0,  Iter    30:    Energy =   0.1522
Level     0,  Iter    31:    Energy =   0.1522
Level     0,  Iter    32:    Energy =   0.1522
Level     0,  Iter    33:    Energy =   0.1522
Level     0,  Iter    34:    Energy =   0.1522
Level     0,  Iter    35:    Energy =   0.1522
Level     0,  Iter    36:    Energy =   0.1522
Level     0,  Iter    37:    Energy =   0.1522
Level     0,  Iter    38:    Energy =   0.1522
Level     0,  Iter    39:    Energy =   0.1522
Level     0,  Iter    40:    Energy =   0.1521
Level     0,  Iter    41:    Energy =   0.1521
Level     0,  Iter    42:    Energy =   0.1521
Level     0,  Iter    43:    Energy =   0.1521
Level     0,  Iter    44:    Energy =   0.1521
Level     0,  Iter    45:    Energy =   0.1521
Level     0,  Iter    46:    Energy =   0.1522
Level     0,  Iter    47:    Energy =   0.1521
Level     0,  Iter    48:    Energy =   0.1522
Level     0,  Iter    49:    Energy =   0.1522
Level     0,  Iter    50:    Energy =   0.1522
Level     0,  Iter    51:    Energy =   0.1522
Level     0,  Iter    52:    Energy =   0.1522
Level     0,  Iter    53:    Energy =   0.1522
Level     0,  Iter    54:    Energy =   0.1522
Level     0,  Iter    55:    Energy =   0.1522
Level     0,  Iter    56:    Energy =   0.1522
Level     0,  Iter    57:    Energy =   0.1522
Level     0,  Iter    58:    Energy =   0.1522
Level     0,  Iter    59:    Energy =   0.1522
END OF LEVEL     0    DetJac Range:   0.3338  to   2.3914 
  Avg. Gradient Time  : 0.0075s  34.53% 
  Avg. Gaussian Time  : 0.0109s  49.82% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1025
Level     1,  Iter     1:    Energy =   0.1073
Level     1,  Iter     2:    Energy =   0.1103
Level     1,  Iter     3:    Energy =   0.1125
Level     1,  Iter     4:    Energy =   0.1143
Level     1,  Iter     5:    Energy =   0.1160
Level     1,  Iter     6:    Energy =   0.1176
Level     1,  Iter     7:    Energy =   0.1197
Level     1,  Iter     8:    Energy =   0.1217
Level     1,  Iter     9:    Energy =   0.1232
Level     1,  Iter    10:    Energy =   0.1246
Level     1,  Iter    11:    Energy =   0.1257
Level     1,  Iter    12:    Energy =   0.1258
Level     1,  Iter    13:    Energy =   0.1260
Level     1,  Iter    14:    Energy =   0.1262
Level     1,  Iter    15:    Energy =   0.1264
Level     1,  Iter    16:    Energy =   0.1265
Level     1,  Iter    17:    Energy =   0.1268
Level     1,  Iter    18:    Energy =   0.1269
Level     1,  Iter    19:    Energy =   0.1271
Level     1,  Iter    20:    Energy =   0.1272
Level     1,  Iter    21:    Energy =   0.1274
Level     1,  Iter    22:    Energy =   0.1275
Level     1,  Iter    23:    Energy =   0.1277
Level     1,  Iter    24:    Energy =   0.1278
Level     1,  Iter    25:    Energy =   0.1279
Level     1,  Iter    26:    Energy =   0.1280
Level     1,  Iter    27:    Energy =   0.1281
Level     1,  Iter    28:    Energy =   0.1281
Level     1,  Iter    29:    Energy =   0.1283
Level     1,  Iter    30:    Energy =   0.1283
Level     1,  Iter    31:    Energy =   0.1284
Level     1,  Iter    32:    Energy =   0.1285
Level     1,  Iter    33:    Energy =   0.1285
Level     1,  Iter    34:    Energy =   0.1286
Level     1,  Iter    35:    Energy =   0.1286
Level     1,  Iter    36:    Energy =   0.1287
Level     1,  Iter    37:    Energy =   0.1287
Level     1,  Iter    38:    Energy =   0.1288
Level     1,  Iter    39:    Energy =   0.1288
Level     1,  Iter    40:    Energy =   0.1289
Level     1,  Iter    41:    Energy =   0.1289
Level     1,  Iter    42:    Energy =   0.1290
Level     1,  Iter    43:    Energy =   0.1290
Level     1,  Iter    44:    Energy =   0.1291
Level     1,  Iter    45:    Energy =   0.1290
Level     1,  Iter    46:    Energy =   0.1291
Level     1,  Iter    47:    Energy =   0.1291
Level     1,  Iter    48:    Energy =   0.1292
Level     1,  Iter    49:    Energy =   0.1292
Level     1,  Iter    50:    Energy =   0.1293
Level     1,  Iter    51:    Energy =   0.1292
Level     1,  Iter    52:    Energy =   0.1294
Level     1,  Iter    53:    Energy =   0.1293
Level     1,  Iter    54:    Energy =   0.1294
Level     1,  Iter    55:    Energy =   0.1294
Level     1,  Iter    56:    Energy =   0.1295
Level     1,  Iter    57:    Energy =   0.1295
Level     1,  Iter    58:    Energy =   0.1295
Level     1,  Iter    59:    Energy =   0.1295
END OF LEVEL     1    DetJac Range:   0.1555  to   3.5190 
  Avg. Gradient Time  : 0.0428s  32.53% 
  Avg. Gaussian Time  : 0.0718s  54.61% 
  Avg. Iteration Time : 0.1314s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0634
Level     2,  Iter     1:    Energy =   0.0655
Level     2,  Iter     2:    Energy =   0.0679
Level     2,  Iter     3:    Energy =   0.0698
Level     2,  Iter     4:    Energy =   0.0714
Level     2,  Iter     5:    Energy =   0.0727
Level     2,  Iter     6:    Energy =   0.0739
Level     2,  Iter     7:    Energy =   0.0749
Level     2,  Iter     8:    Energy =   0.0758
Level     2,  Iter     9:    Energy =   0.0766
Level     2,  Iter    10:    Energy =   0.0774
Level     2,  Iter    11:    Energy =   0.0781
Level     2,  Iter    12:    Energy =   0.0788
Level     2,  Iter    13:    Energy =   0.0795
Level     2,  Iter    14:    Energy =   0.0801
Level     2,  Iter    15:    Energy =   0.0806
Level     2,  Iter    16:    Energy =   0.0811
Level     2,  Iter    17:    Energy =   0.0817
Level     2,  Iter    18:    Energy =   0.0821
Level     2,  Iter    19:    Energy =   0.0825
END OF LEVEL     2    DetJac Range:   0.0654  to   3.8423 
  Avg. Gradient Time  : 0.3028s  26.50% 
  Avg. Gaussian Time  : 0.7028s  61.51% 
  Avg. Iteration Time : 1.1426s 

real	0m36.976s
user	1m7.124s
sys	0m2.256s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.401923 0.407692
+ echo 'CHUNK 0.401923 0.407692 1'
CHUNK 0.401923 0.407692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.401923 0.407692 1
====================================
         PROGRESS: 0.401923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 010 right 0
+ local tid=010
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.482932
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3801.87   GNORM= 575.612
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3922.004     368.998       0.001
   2    4     -3962.045     174.539       1.000
   3    5     -3982.235     140.520       1.000
   4    6     -4007.886     147.387       1.000
   5    7     -4023.224      97.527       1.000
   6    8     -4028.956      59.975       1.000
   7    9     -4030.986      42.637       1.000
   8   11     -4034.455      69.152       0.514
   9   12     -4038.979     100.894       1.000
  10   13     -4044.706      26.240       1.000
  11   14     -4045.911      27.275       1.000
  12   15     -4046.880      28.000       1.000
  13   16     -4048.015      37.723       1.000
  14   17     -4049.385      52.271       1.000
  15   18     -4052.133      36.711       1.000
  16   20     -4052.538      28.611       0.320
  17   21     -4052.742      20.937       1.000
  18   23     -4052.872      11.359       0.299
  19   24     -4052.929       9.988       1.000
  20   25     -4053.026       7.812       1.000
  21   27     -4053.317      12.683       5.000
  22   28     -4053.473      19.626       1.000
  23   29     -4053.742      19.494       1.000
  24   30     -4053.777      25.972       1.000
  25   31     -4053.913       7.551       1.000
  26   32     -4053.927       5.477       1.000
  27   33     -4053.953      13.846       1.000
  28   34     -4053.982       9.729       1.000
  29   35     -4054.065       4.528       1.000
  30   36     -4054.069       7.961       1.000
  31   37     -4054.111       5.994       1.000
  32   38     -4054.130       4.351       1.000
  33   39     -4054.148       3.269       1.000
  34   40     -4054.149       5.493       1.000
  35   41     -4054.162       1.685       1.000
  36   42     -4054.171       3.304       1.000
  37   44     -4054.171       2.793       0.169
Final RAS Transform: 
0.983183 -0.0091308 -0.01396 -0.375986 
-0.0172298 1.00605 0.0309348 0.735576 
0.0227993 -0.0131698 1.02532 -0.403816 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3027.65   GNORM= 244.15
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3038.739      96.930       0.000
   2    4     -3041.555      63.067       1.000
   3    5     -3043.678      26.502       1.000
   4    6     -3044.295      25.157       1.000
   5    7     -3045.876      42.619       1.000
   6    8     -3047.552      35.351       1.000
   7    9     -3048.796      43.410       1.000
   8   10     -3049.614      29.727       1.000
   9   11     -3049.979      20.522       1.000
  10   12     -3050.627      29.978       1.000
  11   13     -3051.686      40.886       1.000
  12   14     -3053.762      52.883       1.000
  13   15     -3054.445      21.901       1.000
  14   16     -3054.576      12.898       1.000
  15   17     -3054.627      13.994       1.000
  16   18     -3054.797      15.513       1.000
  17   19     -3055.115      12.940       1.000
  18   21     -3055.444      16.475       0.451
  19   22     -3055.757       8.257       1.000
  20   23     -3055.965      21.353       1.000
  21   25     -3056.033      16.215       0.336
  22   26     -3056.100       6.665       1.000
  23   27     -3056.116       4.517       1.000
  24   28     -3056.133       5.831       1.000
  25   29     -3056.159       5.536       1.000
  26   30     -3056.288       8.289       1.000
  27   32     -3056.344      19.523       0.430
  28   33     -3056.465      10.809       1.000
  29   34     -3056.534       5.855       1.000
  30   35     -3056.582       2.663       1.000
  31   36     -3056.592       3.814       1.000
  32   37     -3056.604       3.462       1.000
  33   38     -3056.611       3.735       1.000
  34   39     -3056.624       4.039       1.000
  35   40     -3056.638       6.447       1.000
  36   41     -3056.657       4.696       1.000
  37   43     -3056.713       5.357       0.450
  38   45     -3056.733       6.882       0.468
  39   46     -3056.752       3.571       1.000
  40   47     -3056.753       2.734       1.000
  41   48     -3056.779       3.741       1.000
  42   49     -3056.788       5.108       1.000
  43   50     -3056.809       2.636       1.000
Final RAS Transform: 
0.982862 -0.0109252 -0.0334473 -0.444439 
-0.00823493 1.00819 0.0415847 0.592491 
0.0227224 -0.00708587 1.03635 -0.0782905 
0 0 0 1 

Final RAS Transform: 
0.982862 -0.0109252 -0.0334473 -0.444439 
-0.00823493 1.00819 0.0415847 0.592491 
0.0227224 -0.00708587 1.03635 -0.0782905 
0 0 0 1 


real	0m10.597s
user	0m18.544s
sys	0m0.516s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.489352
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1138
Level     0,  Iter     1:    Energy =   0.1206
Level     0,  Iter     2:    Energy =   0.1268
Level     0,  Iter     3:    Energy =   0.1311
Level     0,  Iter     4:    Energy =   0.1331
Level     0,  Iter     5:    Energy =   0.1343
Level     0,  Iter     6:    Energy =   0.1354
Level     0,  Iter     7:    Energy =   0.1361
Level     0,  Iter     8:    Energy =   0.1370
Level     0,  Iter     9:    Energy =   0.1374
Level     0,  Iter    10:    Energy =   0.1382
Level     0,  Iter    11:    Energy =   0.1385
Level     0,  Iter    12:    Energy =   0.1391
Level     0,  Iter    13:    Energy =   0.1393
Level     0,  Iter    14:    Energy =   0.1401
Level     0,  Iter    15:    Energy =   0.1402
Level     0,  Iter    16:    Energy =   0.1405
Level     0,  Iter    17:    Energy =   0.1406
Level     0,  Iter    18:    Energy =   0.1413
Level     0,  Iter    19:    Energy =   0.1413
Level     0,  Iter    20:    Energy =   0.1415
Level     0,  Iter    21:    Energy =   0.1415
Level     0,  Iter    22:    Energy =   0.1419
Level     0,  Iter    23:    Energy =   0.1420
Level     0,  Iter    24:    Energy =   0.1422
Level     0,  Iter    25:    Energy =   0.1422
Level     0,  Iter    26:    Energy =   0.1425
Level     0,  Iter    27:    Energy =   0.1426
Level     0,  Iter    28:    Energy =   0.1427
Level     0,  Iter    29:    Energy =   0.1426
Level     0,  Iter    30:    Energy =   0.1426
Level     0,  Iter    31:    Energy =   0.1426
Level     0,  Iter    32:    Energy =   0.1425
Level     0,  Iter    33:    Energy =   0.1424
Level     0,  Iter    34:    Energy =   0.1424
Level     0,  Iter    35:    Energy =   0.1423
Level     0,  Iter    36:    Energy =   0.1425
Level     0,  Iter    37:    Energy =   0.1425
Level     0,  Iter    38:    Energy =   0.1427
Level     0,  Iter    39:    Energy =   0.1428
Level     0,  Iter    40:    Energy =   0.1427
Level     0,  Iter    41:    Energy =   0.1428
Level     0,  Iter    42:    Energy =   0.1429
Level     0,  Iter    43:    Energy =   0.1429
Level     0,  Iter    44:    Energy =   0.1427
Level     0,  Iter    45:    Energy =   0.1427
Level     0,  Iter    46:    Energy =   0.1426
Level     0,  Iter    47:    Energy =   0.1426
Level     0,  Iter    48:    Energy =   0.1427
Level     0,  Iter    49:    Energy =   0.1427
Level     0,  Iter    50:    Energy =   0.1429
Level     0,  Iter    51:    Energy =   0.1428
Level     0,  Iter    52:    Energy =   0.1427
Level     0,  Iter    53:    Energy =   0.1427
Level     0,  Iter    54:    Energy =   0.1427
Level     0,  Iter    55:    Energy =   0.1426
Level     0,  Iter    56:    Energy =   0.1427
Level     0,  Iter    57:    Energy =   0.1428
Level     0,  Iter    58:    Energy =   0.1429
Level     0,  Iter    59:    Energy =   0.1428
END OF LEVEL     0    DetJac Range:   0.3827  to   2.3951 
  Avg. Gradient Time  : 0.0076s  34.29% 
  Avg. Gaussian Time  : 0.0111s  50.25% 
  Avg. Iteration Time : 0.0221s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0974
Level     1,  Iter     1:    Energy =   0.1023
Level     1,  Iter     2:    Energy =   0.1063
Level     1,  Iter     3:    Energy =   0.1100
Level     1,  Iter     4:    Energy =   0.1126
Level     1,  Iter     5:    Energy =   0.1148
Level     1,  Iter     6:    Energy =   0.1168
Level     1,  Iter     7:    Energy =   0.1186
Level     1,  Iter     8:    Energy =   0.1202
Level     1,  Iter     9:    Energy =   0.1216
Level     1,  Iter    10:    Energy =   0.1229
Level     1,  Iter    11:    Energy =   0.1240
Level     1,  Iter    12:    Energy =   0.1246
Level     1,  Iter    13:    Energy =   0.1254
Level     1,  Iter    14:    Energy =   0.1256
Level     1,  Iter    15:    Energy =   0.1262
Level     1,  Iter    16:    Energy =   0.1265
Level     1,  Iter    17:    Energy =   0.1267
Level     1,  Iter    18:    Energy =   0.1270
Level     1,  Iter    19:    Energy =   0.1270
Level     1,  Iter    20:    Energy =   0.1274
Level     1,  Iter    21:    Energy =   0.1274
Level     1,  Iter    22:    Energy =   0.1278
Level     1,  Iter    23:    Energy =   0.1277
Level     1,  Iter    24:    Energy =   0.1281
Level     1,  Iter    25:    Energy =   0.1280
Level     1,  Iter    26:    Energy =   0.1284
Level     1,  Iter    27:    Energy =   0.1282
Level     1,  Iter    28:    Energy =   0.1287
Level     1,  Iter    29:    Energy =   0.1285
Level     1,  Iter    30:    Energy =   0.1289
Level     1,  Iter    31:    Energy =   0.1287
Level     1,  Iter    32:    Energy =   0.1291
Level     1,  Iter    33:    Energy =   0.1289
Level     1,  Iter    34:    Energy =   0.1292
Level     1,  Iter    35:    Energy =   0.1291
Level     1,  Iter    36:    Energy =   0.1294
Level     1,  Iter    37:    Energy =   0.1292
Level     1,  Iter    38:    Energy =   0.1295
Level     1,  Iter    39:    Energy =   0.1293
Level     1,  Iter    40:    Energy =   0.1297
Level     1,  Iter    41:    Energy =   0.1294
Level     1,  Iter    42:    Energy =   0.1298
Level     1,  Iter    43:    Energy =   0.1295
Level     1,  Iter    44:    Energy =   0.1298
Level     1,  Iter    45:    Energy =   0.1296
Level     1,  Iter    46:    Energy =   0.1299
Level     1,  Iter    47:    Energy =   0.1297
Level     1,  Iter    48:    Energy =   0.1299
Level     1,  Iter    49:    Energy =   0.1297
Level     1,  Iter    50:    Energy =   0.1300
Level     1,  Iter    51:    Energy =   0.1298
Level     1,  Iter    52:    Energy =   0.1301
Level     1,  Iter    53:    Energy =   0.1298
Level     1,  Iter    54:    Energy =   0.1301
Level     1,  Iter    55:    Energy =   0.1299
Level     1,  Iter    56:    Energy =   0.1301
Level     1,  Iter    57:    Energy =   0.1299
Level     1,  Iter    58:    Energy =   0.1301
Level     1,  Iter    59:    Energy =   0.1299
END OF LEVEL     1    DetJac Range:   0.1018  to   2.9586 
  Avg. Gradient Time  : 0.0427s  32.51% 
  Avg. Gaussian Time  : 0.0717s  54.61% 
  Avg. Iteration Time : 0.1312s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0673
Level     2,  Iter     1:    Energy =   0.0694
Level     2,  Iter     2:    Energy =   0.0715
Level     2,  Iter     3:    Energy =   0.0735
Level     2,  Iter     4:    Energy =   0.0753
Level     2,  Iter     5:    Energy =   0.0769
Level     2,  Iter     6:    Energy =   0.0783
Level     2,  Iter     7:    Energy =   0.0795
Level     2,  Iter     8:    Energy =   0.0806
Level     2,  Iter     9:    Energy =   0.0817
Level     2,  Iter    10:    Energy =   0.0826
Level     2,  Iter    11:    Energy =   0.0834
Level     2,  Iter    12:    Energy =   0.0841
Level     2,  Iter    13:    Energy =   0.0847
Level     2,  Iter    14:    Energy =   0.0852
Level     2,  Iter    15:    Energy =   0.0857
Level     2,  Iter    16:    Energy =   0.0862
Level     2,  Iter    17:    Energy =   0.0866
Level     2,  Iter    18:    Energy =   0.0870
Level     2,  Iter    19:    Energy =   0.0873
END OF LEVEL     2    DetJac Range:   0.0761  to   4.0924 
  Avg. Gradient Time  : 0.3029s  26.90% 
  Avg. Gaussian Time  : 0.6852s  60.86% 
  Avg. Iteration Time : 1.1260s 

real	0m36.649s
user	1m6.404s
sys	0m2.240s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.407692 0.413462
+ echo 'CHUNK 0.407692 0.413462 1'
CHUNK 0.407692 0.413462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.407692 0.413462 1
====================================
         PROGRESS: 0.407692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 011 right 0
+ local tid=011
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.463675
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3540.11   GNORM= 310.283
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3566.186     186.726       0.000
   2    4     -3579.202     154.370       1.000
   3    5     -3608.637     128.687       1.000
   4    6     -3629.692     101.276       1.000
   5    7     -3648.202      85.785       1.000
   6    8     -3667.541      93.696       1.000
   7    9     -3673.942     183.399       1.000
   8   10     -3680.340      52.260       1.000
   9   11     -3681.795      38.547       1.000
  10   12     -3684.054      69.304       1.000
  11   13     -3686.307      62.310       1.000
  12   14     -3696.751      50.624       1.000
  13   16     -3697.498      32.896       0.131
  14   17     -3698.750      19.489       1.000
  15   18     -3699.349      21.000       1.000
  16   19     -3699.831      39.727       1.000
  17   20     -3701.012      21.381       1.000
  18   21     -3701.357      17.480       1.000
  19   22     -3701.675       9.497       1.000
  20   23     -3701.897       8.620       1.000
  21   25     -3702.035      15.078       0.395
  22   26     -3702.142       8.995       1.000
  23   27     -3702.204       8.407       1.000
  24   28     -3702.235       4.555       1.000
  25   29     -3702.254       4.305       1.000
  26   30     -3702.263       6.000       1.000
  27   31     -3702.286       3.989       1.000
  28   32     -3702.318       4.239       1.000
  29   34     -3702.331       3.739       0.371
  30   35     -3702.340       2.696       1.000
  31   37     -3702.346       1.912       0.484
  32   39     -3702.355       4.548       0.163
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.96756 -0.00973739 -0.0580023 -1.76887e-05 
-0.0019675 1.00226 0.0281008 0.468811 
0.0178298 -0.00302771 1.04227 -0.00711076 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2773.58   GNORM= 162.659
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2785.751     125.567       0.001
   2    4     -2791.879      83.756       1.000
   3    5     -2796.147      72.654       1.000
   4    6     -2810.056      38.304       1.000
   5    7     -2812.935      72.596       1.000
   6    8     -2813.990      15.576       1.000
   7    9     -2814.090      14.856       1.000
   8   10     -2814.226      22.028       1.000
   9   11     -2814.602      34.218       1.000
  10   12     -2815.782      51.995       1.000
  11   13     -2817.235      54.738       1.000
  12   15     -2817.616      35.729       0.261
  13   16     -2818.262      10.528       1.000
  14   17     -2818.525       9.565       1.000
  15   19     -2818.658      23.346       0.361
  16   20     -2818.846      14.450       1.000
  17   21     -2819.072       9.366       1.000
  18   22     -2819.406      33.092       1.000
  19   23     -2819.695      16.985       1.000
  20   24     -2819.867      14.895       1.000
  21   25     -2820.041      16.081       1.000
  22   26     -2820.187       7.290       1.000
  23   27     -2820.265       6.487       1.000
  24   29     -2820.290       8.284       0.481
  25   30     -2820.323       7.225       1.000
  26   32     -2820.672      13.732       5.000
  27   33     -2820.977       9.466       1.000
  28   35     -2821.005      12.696       0.295
  29   36     -2821.039       5.944       1.000
  30   37     -2821.073       3.313       1.000
  31   38     -2821.096       8.263       1.000
  32   39     -2821.099       7.638       1.000
  33   40     -2821.122       4.893       1.000
  34   41     -2821.178       7.119       1.000
  35   42     -2821.214       6.164       1.000
  36   44     -2821.243       5.279       0.167
  37   45     -2821.266       3.776       1.000
  38   46     -2821.284       3.311       1.000
  39   47     -2821.296       7.564       1.000
  40   48     -2821.322       3.167       1.000
  41   50     -2821.344       9.029       0.397
  42   51     -2821.372       6.263       1.000
  43   52     -2821.389       9.804       1.000
  44   53     -2821.415       5.438       1.000
  45   54     -2821.423       2.677       1.000
  46   55     -2821.435       2.175       1.000
  47   57     -2821.439       2.000       0.309
Final RAS Transform: 
0.978958 -0.00289458 -0.0535139 -0.185029 
0.00616975 1.01315 0.0434941 0.460126 
0.0122151 0.00333526 1.03169 0.347489 
0 0 0 1 

Final RAS Transform: 
0.978958 -0.00289458 -0.0535139 -0.185029 
0.00616975 1.01315 0.0434941 0.460126 
0.0122151 0.00333526 1.03169 0.347489 
0 0 0 1 


real	0m9.906s
user	0m17.372s
sys	0m0.484s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.474459
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1038
Level     0,  Iter     1:    Energy =   0.1108
Level     0,  Iter     2:    Energy =   0.1155
Level     0,  Iter     3:    Energy =   0.1186
Level     0,  Iter     4:    Energy =   0.1210
Level     0,  Iter     5:    Energy =   0.1220
Level     0,  Iter     6:    Energy =   0.1230
Level     0,  Iter     7:    Energy =   0.1235
Level     0,  Iter     8:    Energy =   0.1242
Level     0,  Iter     9:    Energy =   0.1246
Level     0,  Iter    10:    Energy =   0.1250
Level     0,  Iter    11:    Energy =   0.1254
Level     0,  Iter    12:    Energy =   0.1258
Level     0,  Iter    13:    Energy =   0.1260
Level     0,  Iter    14:    Energy =   0.1263
Level     0,  Iter    15:    Energy =   0.1265
Level     0,  Iter    16:    Energy =   0.1268
Level     0,  Iter    17:    Energy =   0.1269
Level     0,  Iter    18:    Energy =   0.1270
Level     0,  Iter    19:    Energy =   0.1272
Level     0,  Iter    20:    Energy =   0.1273
Level     0,  Iter    21:    Energy =   0.1274
Level     0,  Iter    22:    Energy =   0.1275
Level     0,  Iter    23:    Energy =   0.1276
Level     0,  Iter    24:    Energy =   0.1277
Level     0,  Iter    25:    Energy =   0.1278
Level     0,  Iter    26:    Energy =   0.1279
Level     0,  Iter    27:    Energy =   0.1280
Level     0,  Iter    28:    Energy =   0.1280
Level     0,  Iter    29:    Energy =   0.1281
Level     0,  Iter    30:    Energy =   0.1281
Level     0,  Iter    31:    Energy =   0.1282
Level     0,  Iter    32:    Energy =   0.1282
Level     0,  Iter    33:    Energy =   0.1283
Level     0,  Iter    34:    Energy =   0.1283
Level     0,  Iter    35:    Energy =   0.1283
Level     0,  Iter    36:    Energy =   0.1284
Level     0,  Iter    37:    Energy =   0.1284
Level     0,  Iter    38:    Energy =   0.1284
Level     0,  Iter    39:    Energy =   0.1284
Level     0,  Iter    40:    Energy =   0.1285
Level     0,  Iter    41:    Energy =   0.1285
Level     0,  Iter    42:    Energy =   0.1285
Level     0,  Iter    43:    Energy =   0.1285
Level     0,  Iter    44:    Energy =   0.1285
Level     0,  Iter    45:    Energy =   0.1285
Level     0,  Iter    46:    Energy =   0.1285
Level     0,  Iter    47:    Energy =   0.1285
Level     0,  Iter    48:    Energy =   0.1285
Level     0,  Iter    49:    Energy =   0.1285
Level     0,  Iter    50:    Energy =   0.1285
Level     0,  Iter    51:    Energy =   0.1286
Level     0,  Iter    52:    Energy =   0.1286
Level     0,  Iter    53:    Energy =   0.1286
Level     0,  Iter    54:    Energy =   0.1286
Level     0,  Iter    55:    Energy =   0.1286
Level     0,  Iter    56:    Energy =   0.1286
Level     0,  Iter    57:    Energy =   0.1286
Level     0,  Iter    58:    Energy =   0.1286
Level     0,  Iter    59:    Energy =   0.1286
END OF LEVEL     0    DetJac Range:   0.3293  to   1.9094 
  Avg. Gradient Time  : 0.0076s  34.64% 
  Avg. Gaussian Time  : 0.0108s  49.70% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0898
Level     1,  Iter     1:    Energy =   0.0947
Level     1,  Iter     2:    Energy =   0.0992
Level     1,  Iter     3:    Energy =   0.1027
Level     1,  Iter     4:    Energy =   0.1055
Level     1,  Iter     5:    Energy =   0.1078
Level     1,  Iter     6:    Energy =   0.1097
Level     1,  Iter     7:    Energy =   0.1112
Level     1,  Iter     8:    Energy =   0.1125
Level     1,  Iter     9:    Energy =   0.1136
Level     1,  Iter    10:    Energy =   0.1146
Level     1,  Iter    11:    Energy =   0.1157
Level     1,  Iter    12:    Energy =   0.1167
Level     1,  Iter    13:    Energy =   0.1176
Level     1,  Iter    14:    Energy =   0.1177
Level     1,  Iter    15:    Energy =   0.1176
Level     1,  Iter    16:    Energy =   0.1182
Level     1,  Iter    17:    Energy =   0.1182
Level     1,  Iter    18:    Energy =   0.1185
Level     1,  Iter    19:    Energy =   0.1185
Level     1,  Iter    20:    Energy =   0.1188
Level     1,  Iter    21:    Energy =   0.1187
Level     1,  Iter    22:    Energy =   0.1190
Level     1,  Iter    23:    Energy =   0.1189
Level     1,  Iter    24:    Energy =   0.1193
Level     1,  Iter    25:    Energy =   0.1192
Level     1,  Iter    26:    Energy =   0.1196
Level     1,  Iter    27:    Energy =   0.1194
Level     1,  Iter    28:    Energy =   0.1198
Level     1,  Iter    29:    Energy =   0.1197
Level     1,  Iter    30:    Energy =   0.1201
Level     1,  Iter    31:    Energy =   0.1199
Level     1,  Iter    32:    Energy =   0.1203
Level     1,  Iter    33:    Energy =   0.1201
Level     1,  Iter    34:    Energy =   0.1204
Level     1,  Iter    35:    Energy =   0.1202
Level     1,  Iter    36:    Energy =   0.1206
Level     1,  Iter    37:    Energy =   0.1203
Level     1,  Iter    38:    Energy =   0.1207
Level     1,  Iter    39:    Energy =   0.1205
Level     1,  Iter    40:    Energy =   0.1208
Level     1,  Iter    41:    Energy =   0.1205
Level     1,  Iter    42:    Energy =   0.1209
Level     1,  Iter    43:    Energy =   0.1208
Level     1,  Iter    44:    Energy =   0.1207
Level     1,  Iter    45:    Energy =   0.1206
Level     1,  Iter    46:    Energy =   0.1207
Level     1,  Iter    47:    Energy =   0.1205
Level     1,  Iter    48:    Energy =   0.1208
Level     1,  Iter    49:    Energy =   0.1206
Level     1,  Iter    50:    Energy =   0.1208
Level     1,  Iter    51:    Energy =   0.1207
Level     1,  Iter    52:    Energy =   0.1208
Level     1,  Iter    53:    Energy =   0.1207
Level     1,  Iter    54:    Energy =   0.1208
Level     1,  Iter    55:    Energy =   0.1207
Level     1,  Iter    56:    Energy =   0.1209
Level     1,  Iter    57:    Energy =   0.1207
Level     1,  Iter    58:    Energy =   0.1209
Level     1,  Iter    59:    Energy =   0.1208
END OF LEVEL     1    DetJac Range:   0.1233  to   3.4494 
  Avg. Gradient Time  : 0.0429s  32.63% 
  Avg. Gaussian Time  : 0.0717s  54.51% 
  Avg. Iteration Time : 0.1316s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0631
Level     2,  Iter     1:    Energy =   0.0659
Level     2,  Iter     2:    Energy =   0.0677
Level     2,  Iter     3:    Energy =   0.0694
Level     2,  Iter     4:    Energy =   0.0708
Level     2,  Iter     5:    Energy =   0.0720
Level     2,  Iter     6:    Energy =   0.0731
Level     2,  Iter     7:    Energy =   0.0741
Level     2,  Iter     8:    Energy =   0.0753
Level     2,  Iter     9:    Energy =   0.0762
Level     2,  Iter    10:    Energy =   0.0772
Level     2,  Iter    11:    Energy =   0.0781
Level     2,  Iter    12:    Energy =   0.0788
Level     2,  Iter    13:    Energy =   0.0795
Level     2,  Iter    14:    Energy =   0.0802
Level     2,  Iter    15:    Energy =   0.0808
Level     2,  Iter    16:    Energy =   0.0814
Level     2,  Iter    17:    Energy =   0.0819
Level     2,  Iter    18:    Energy =   0.0824
Level     2,  Iter    19:    Energy =   0.0829
END OF LEVEL     2    DetJac Range:   0.0345  to   3.9520 
  Avg. Gradient Time  : 0.3037s  26.83% 
  Avg. Gaussian Time  : 0.6903s  60.98% 
  Avg. Iteration Time : 1.1321s 

real	0m36.826s
user	1m6.748s
sys	0m2.212s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.413462 0.419231
+ echo 'CHUNK 0.413462 0.419231 1'
CHUNK 0.413462 0.419231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.413462 0.419231 1
====================================
         PROGRESS: 0.413462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 012 right 0
+ local tid=012
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.82589
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3647.35   GNORM= 812.269
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3824.447     401.232       0.001
   2    4     -3880.762     298.442       1.000
   3    5     -3970.442     127.393       1.000
   4    6     -3993.397     105.377       1.000
   5    7     -4010.558      85.953       1.000
   6    8     -4015.783      89.869       1.000
   7    9     -4020.445      59.618       1.000
   8   10     -4028.370      70.945       1.000
   9   12     -4029.483      46.757       0.419
  10   13     -4030.273      30.692       1.000
  11   14     -4030.982      23.446       1.000
  12   15     -4032.405      28.904       1.000
  13   16     -4035.024      53.331       1.000
  14   17     -4035.915      22.043       1.000
  15   18     -4036.255       9.274       1.000
  16   19     -4036.405       7.432       1.000
  17   20     -4036.690       9.653       1.000
  18   21     -4036.766      30.276       1.000
  19   22     -4037.009      11.883       1.000
  20   23     -4037.215      16.487       1.000
  21   24     -4037.435      13.300       1.000
  22   25     -4037.657      11.563       1.000
  23   27     -4037.737      14.943       0.148
  24   28     -4037.847      14.063       1.000
  25   29     -4038.012      15.394       1.000
  26   30     -4038.147      14.482       1.000
  27   32     -4038.272       9.490       0.465
  28   33     -4038.303       7.849       1.000
  29   34     -4038.315       4.132       1.000
  30   35     -4038.330       3.799       1.000
  31   36     -4038.342       4.615       1.000
  32   37     -4038.346       5.875       1.000
  33   38     -4038.351       2.180       1.000
  34   39     -4038.358       2.456       1.000
  35   40     -4038.363       5.715       1.000
  36   41     -4038.371       4.178       1.000
  37   45     -4038.393       5.193       1.152
Final RAS Transform: 
1.01524 0.000926285 0.0244151 -0.420087 
0.0274981 1.00207 0.0427162 -0.407919 
0.00999084 -0.00329055 1.02087 -0.134206 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2848.25   GNORM= 144.78
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2856.918     123.774       0.001
   2    4     -2862.104      61.341       1.000
   3    5     -2864.877      45.274       1.000
   4    6     -2868.363      76.400       1.000
   5    7     -2874.493     104.748       1.000
   6    8     -2882.343      67.692       1.000
   7    9     -2882.775     136.420       1.000
   8   10     -2886.888      37.156       1.000
   9   11     -2888.125      46.979       1.000
  10   12     -2889.685      63.029       1.000
  11   13     -2893.233      66.917       1.000
  12   14     -2894.810      90.398       1.000
  13   15     -2896.676      25.392       1.000
  14   16     -2897.019      18.203       1.000
  15   17     -2897.415      27.507       1.000
  16   18     -2897.885      16.206       1.000
  17   19     -2899.715      16.362       1.000
  18   20     -2900.062      15.104       1.000
  19   21     -2900.315       9.766       1.000
  20   22     -2900.353      16.826       1.000
  21   23     -2900.515       6.858       1.000
  22   24     -2900.540       4.015       1.000
  23   25     -2900.557       2.423       1.000
  24   26     -2900.561       3.104       1.000
  25   27     -2900.583       4.935       1.000
  26   28     -2900.617       4.769       1.000
  27   30     -2900.639       9.965       0.343
  28   31     -2900.700       8.937       1.000
  29   32     -2900.753       4.936       1.000
  30   33     -2900.768       3.739       1.000
  31   34     -2900.795       7.512       1.000
  32   35     -2900.834       3.918       1.000
  33   36     -2900.883       6.893       1.000
  34   38     -2900.910       5.673       0.423
  35   40     -2900.913       2.892       0.116
  36   41     -2900.918       1.399       1.000
  37   42     -2900.924       1.513       1.000
Final RAS Transform: 
1.01172 -0.00525329 0.00204182 -0.739886 
0.0158061 1.0103 0.0347209 -0.104064 
-0.00356157 -0.00469284 1.01007 0.134717 
0 0 0 1 

Final RAS Transform: 
1.01172 -0.00525329 0.00204182 -0.739886 
0.0158061 1.0103 0.0347209 -0.104064 
-0.00356157 -0.00469284 1.01007 0.134717 
0 0 0 1 


real	0m9.968s
user	0m17.404s
sys	0m0.544s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.83067
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1124
Level     0,  Iter     1:    Energy =   0.1207
Level     0,  Iter     2:    Energy =   0.1262
Level     0,  Iter     3:    Energy =   0.1307
Level     0,  Iter     4:    Energy =   0.1344
Level     0,  Iter     5:    Energy =   0.1362
Level     0,  Iter     6:    Energy =   0.1375
Level     0,  Iter     7:    Energy =   0.1384
Level     0,  Iter     8:    Energy =   0.1392
Level     0,  Iter     9:    Energy =   0.1397
Level     0,  Iter    10:    Energy =   0.1402
Level     0,  Iter    11:    Energy =   0.1406
Level     0,  Iter    12:    Energy =   0.1410
Level     0,  Iter    13:    Energy =   0.1413
Level     0,  Iter    14:    Energy =   0.1416
Level     0,  Iter    15:    Energy =   0.1418
Level     0,  Iter    16:    Energy =   0.1421
Level     0,  Iter    17:    Energy =   0.1422
Level     0,  Iter    18:    Energy =   0.1423
Level     0,  Iter    19:    Energy =   0.1425
Level     0,  Iter    20:    Energy =   0.1425
Level     0,  Iter    21:    Energy =   0.1426
Level     0,  Iter    22:    Energy =   0.1426
Level     0,  Iter    23:    Energy =   0.1426
Level     0,  Iter    24:    Energy =   0.1427
Level     0,  Iter    25:    Energy =   0.1427
Level     0,  Iter    26:    Energy =   0.1428
Level     0,  Iter    27:    Energy =   0.1428
Level     0,  Iter    28:    Energy =   0.1428
Level     0,  Iter    29:    Energy =   0.1429
Level     0,  Iter    30:    Energy =   0.1429
Level     0,  Iter    31:    Energy =   0.1429
Level     0,  Iter    32:    Energy =   0.1429
Level     0,  Iter    33:    Energy =   0.1429
Level     0,  Iter    34:    Energy =   0.1429
Level     0,  Iter    35:    Energy =   0.1429
Level     0,  Iter    36:    Energy =   0.1430
Level     0,  Iter    37:    Energy =   0.1430
Level     0,  Iter    38:    Energy =   0.1430
Level     0,  Iter    39:    Energy =   0.1430
Level     0,  Iter    40:    Energy =   0.1431
Level     0,  Iter    41:    Energy =   0.1431
Level     0,  Iter    42:    Energy =   0.1432
Level     0,  Iter    43:    Energy =   0.1431
Level     0,  Iter    44:    Energy =   0.1432
Level     0,  Iter    45:    Energy =   0.1432
Level     0,  Iter    46:    Energy =   0.1433
Level     0,  Iter    47:    Energy =   0.1432
Level     0,  Iter    48:    Energy =   0.1433
Level     0,  Iter    49:    Energy =   0.1432
Level     0,  Iter    50:    Energy =   0.1432
Level     0,  Iter    51:    Energy =   0.1432
Level     0,  Iter    52:    Energy =   0.1432
Level     0,  Iter    53:    Energy =   0.1432
Level     0,  Iter    54:    Energy =   0.1433
Level     0,  Iter    55:    Energy =   0.1432
Level     0,  Iter    56:    Energy =   0.1434
Level     0,  Iter    57:    Energy =   0.1433
Level     0,  Iter    58:    Energy =   0.1434
Level     0,  Iter    59:    Energy =   0.1433
END OF LEVEL     0    DetJac Range:   0.4165  to   2.5710 
  Avg. Gradient Time  : 0.0076s  34.35% 
  Avg. Gaussian Time  : 0.0112s  50.21% 
  Avg. Iteration Time : 0.0223s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0950
Level     1,  Iter     1:    Energy =   0.0998
Level     1,  Iter     2:    Energy =   0.1045
Level     1,  Iter     3:    Energy =   0.1084
Level     1,  Iter     4:    Energy =   0.1111
Level     1,  Iter     5:    Energy =   0.1134
Level     1,  Iter     6:    Energy =   0.1151
Level     1,  Iter     7:    Energy =   0.1167
Level     1,  Iter     8:    Energy =   0.1178
Level     1,  Iter     9:    Energy =   0.1189
Level     1,  Iter    10:    Energy =   0.1198
Level     1,  Iter    11:    Energy =   0.1206
Level     1,  Iter    12:    Energy =   0.1207
Level     1,  Iter    13:    Energy =   0.1213
Level     1,  Iter    14:    Energy =   0.1212
Level     1,  Iter    15:    Energy =   0.1220
Level     1,  Iter    16:    Energy =   0.1221
Level     1,  Iter    17:    Energy =   0.1224
Level     1,  Iter    18:    Energy =   0.1223
Level     1,  Iter    19:    Energy =   0.1225
Level     1,  Iter    20:    Energy =   0.1228
Level     1,  Iter    21:    Energy =   0.1230
Level     1,  Iter    22:    Energy =   0.1231
Level     1,  Iter    23:    Energy =   0.1233
Level     1,  Iter    24:    Energy =   0.1235
Level     1,  Iter    25:    Energy =   0.1237
Level     1,  Iter    26:    Energy =   0.1236
Level     1,  Iter    27:    Energy =   0.1239
Level     1,  Iter    28:    Energy =   0.1239
Level     1,  Iter    29:    Energy =   0.1242
Level     1,  Iter    30:    Energy =   0.1240
Level     1,  Iter    31:    Energy =   0.1244
Level     1,  Iter    32:    Energy =   0.1244
Level     1,  Iter    33:    Energy =   0.1246
Level     1,  Iter    34:    Energy =   0.1244
Level     1,  Iter    35:    Energy =   0.1247
Level     1,  Iter    36:    Energy =   0.1246
Level     1,  Iter    37:    Energy =   0.1249
Level     1,  Iter    38:    Energy =   0.1247
Level     1,  Iter    39:    Energy =   0.1250
Level     1,  Iter    40:    Energy =   0.1249
Level     1,  Iter    41:    Energy =   0.1251
Level     1,  Iter    42:    Energy =   0.1249
Level     1,  Iter    43:    Energy =   0.1252
Level     1,  Iter    44:    Energy =   0.1251
Level     1,  Iter    45:    Energy =   0.1254
Level     1,  Iter    46:    Energy =   0.1251
Level     1,  Iter    47:    Energy =   0.1254
Level     1,  Iter    48:    Energy =   0.1253
Level     1,  Iter    49:    Energy =   0.1255
Level     1,  Iter    50:    Energy =   0.1253
Level     1,  Iter    51:    Energy =   0.1256
Level     1,  Iter    52:    Energy =   0.1254
Level     1,  Iter    53:    Energy =   0.1257
Level     1,  Iter    54:    Energy =   0.1254
Level     1,  Iter    55:    Energy =   0.1257
Level     1,  Iter    56:    Energy =   0.1256
Level     1,  Iter    57:    Energy =   0.1258
Level     1,  Iter    58:    Energy =   0.1256
Level     1,  Iter    59:    Energy =   0.1259
END OF LEVEL     1    DetJac Range:   0.1043  to   3.8185 
  Avg. Gradient Time  : 0.0432s  32.76% 
  Avg. Gaussian Time  : 0.0718s  54.43% 
  Avg. Iteration Time : 0.1320s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0629
Level     2,  Iter     1:    Energy =   0.0655
Level     2,  Iter     2:    Energy =   0.0676
Level     2,  Iter     3:    Energy =   0.0693
Level     2,  Iter     4:    Energy =   0.0707
Level     2,  Iter     5:    Energy =   0.0718
Level     2,  Iter     6:    Energy =   0.0726
Level     2,  Iter     7:    Energy =   0.0732
Level     2,  Iter     8:    Energy =   0.0738
Level     2,  Iter     9:    Energy =   0.0743
Level     2,  Iter    10:    Energy =   0.0747
Level     2,  Iter    11:    Energy =   0.0751
Level     2,  Iter    12:    Energy =   0.0756
Level     2,  Iter    13:    Energy =   0.0761
Level     2,  Iter    14:    Energy =   0.0765
Level     2,  Iter    15:    Energy =   0.0769
Level     2,  Iter    16:    Energy =   0.0773
Level     2,  Iter    17:    Energy =   0.0776
Level     2,  Iter    18:    Energy =   0.0779
Level     2,  Iter    19:    Energy =   0.0782
END OF LEVEL     2    DetJac Range:   0.0868  to   3.8622 
  Avg. Gradient Time  : 0.3052s  26.61% 
  Avg. Gaussian Time  : 0.7038s  61.36% 
  Avg. Iteration Time : 1.1470s 

real	0m37.149s
user	1m7.400s
sys	0m2.208s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.419231 0.425
+ echo 'CHUNK 0.419231 0.425 1'
CHUNK 0.419231 0.425 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.419231 0.425 1
====================================
         PROGRESS: 0.419231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 013 right 0
+ local tid=013
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.699131
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3519.7   GNORM= 746.017
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3652.659     238.584       0.000
   2    4     -3674.615     188.539       1.000
   3    5     -3728.124     110.842       1.000
   4    6     -3754.617     130.807       1.000
   5    7     -3781.858      94.853       1.000
   6    8     -3810.734     132.901       1.000
   7    9     -3828.276      94.242       1.000
   8   11     -3834.180      77.462       0.522
   9   12     -3838.337      67.168       1.000
  10   13     -3843.977      47.574       1.000
  11   14     -3850.631      71.648       1.000
  12   15     -3859.407      49.406       1.000
  13   16     -3863.611     110.820       1.000
  14   18     -3865.968      38.177       0.440
  15   19     -3866.900      22.731       1.000
  16   20     -3867.274      15.587       1.000
  17   21     -3867.334      43.766       1.000
  18   22     -3868.011      27.705       1.000
  19   23     -3868.756      12.837       1.000
  20   24     -3869.423      27.145       1.000
  21   25     -3870.017      15.921       1.000
  22   26     -3870.273      14.082       1.000
  23   27     -3870.464      17.056       1.000
  24   28     -3870.599       8.240       1.000
  25   29     -3870.685       9.237       1.000
  26   30     -3870.765      14.020       1.000
  27   31     -3870.883      10.508       1.000
  28   33     -3870.948      13.674       0.262
  29   34     -3871.075       9.937       1.000
  30   35     -3871.413      17.350       1.000
  31   37     -3871.701      34.647       0.244
  32   38     -3871.968      24.353       1.000
  33   39     -3872.218      12.155       1.000
  34   40     -3872.383       7.406       1.000
  35   42     -3872.415       5.261       0.228
  36   43     -3872.439       6.519       1.000
  37   44     -3872.488       4.164       1.000
  38   45     -3872.536       8.499       1.000
  39   47     -3872.574       7.547       0.425
  40   48     -3872.594       4.047       1.000
  41   49     -3872.611       7.916       1.000
  42   50     -3872.622       4.303       1.000
  43   51     -3872.650       2.618       1.000
  44   52     -3872.650       2.887       1.000
Final RAS Transform: 
0.939487 0.0277218 0.0117988 1.84462 
-0.01997 0.973854 -0.00975686 -0.727939 
0.0240575 0.00524926 1.02803 -0.0588197 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2739.92   GNORM= 203.412
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2748.318      64.355       0.000
   2    4     -2749.848      47.050       1.000
   3    5     -2751.121      44.847       1.000
   4    6     -2753.490      41.896       1.000
   5    7     -2759.340      91.607       1.000
   6    8     -2766.488      90.632       1.000
   7    9     -2782.741      64.194       1.000
   8   10     -2788.925     171.507       1.000
   9   11     -2795.455      57.888       1.000
  10   12     -2797.589      30.571       1.000
  11   13     -2798.756      27.363       1.000
  12   14     -2800.292      30.294       1.000
  13   15     -2804.628      38.410       1.000
  14   16     -2810.082      63.596       1.000
  15   18     -2813.078      51.229       0.497
  16   19     -2814.725      19.707       1.000
  17   20     -2814.913       6.062       1.000
  18   21     -2814.958       5.472       1.000
  19   22     -2815.029       7.856       1.000
  20   23     -2815.164      11.271       1.000
  21   24     -2815.408      11.499       1.000
  22   26     -2815.547      23.820       0.304
  23   27     -2815.781       7.558       1.000
  24   28     -2815.819       3.644       1.000
  25   30     -2815.819       2.854       0.356
  26   31     -2815.835       2.732       1.000
  27   32     -2815.864       2.119       1.000
  28   33     -2815.882      11.960       1.000
  29   34     -2815.927       7.791       1.000
  30   35     -2815.986       4.773       1.000
  31   36     -2816.036       5.111       1.000
  32   38     -2816.093       4.712       0.459
  33   40     -2816.153       8.201       0.497
  34   41     -2816.176      15.237       1.000
  35   42     -2816.260       9.453       1.000
  36   43     -2816.309      11.504       1.000
  37   44     -2816.353       5.518       1.000
  38   45     -2816.389       2.188       1.000
Final RAS Transform: 
0.978893 0.0129432 -0.00235152 0.516516 
-0.0158178 0.999695 0.0223376 -0.0224905 
0.0114755 -0.000260059 1.02063 -0.024232 
0 0 0 1 

Final RAS Transform: 
0.978893 0.0129432 -0.00235152 0.516516 
-0.0158178 0.999695 0.0223376 -0.0224905 
0.0114755 -0.000260059 1.02063 -0.024232 
0 0 0 1 


real	0m10.340s
user	0m17.992s
sys	0m0.504s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.703977
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1080
Level     0,  Iter     1:    Energy =   0.1141
Level     0,  Iter     2:    Energy =   0.1196
Level     0,  Iter     3:    Energy =   0.1232
Level     0,  Iter     4:    Energy =   0.1255
Level     0,  Iter     5:    Energy =   0.1266
Level     0,  Iter     6:    Energy =   0.1284
Level     0,  Iter     7:    Energy =   0.1289
Level     0,  Iter     8:    Energy =   0.1303
Level     0,  Iter     9:    Energy =   0.1307
Level     0,  Iter    10:    Energy =   0.1318
Level     0,  Iter    11:    Energy =   0.1320
Level     0,  Iter    12:    Energy =   0.1327
Level     0,  Iter    13:    Energy =   0.1330
Level     0,  Iter    14:    Energy =   0.1337
Level     0,  Iter    15:    Energy =   0.1338
Level     0,  Iter    16:    Energy =   0.1344
Level     0,  Iter    17:    Energy =   0.1346
Level     0,  Iter    18:    Energy =   0.1350
Level     0,  Iter    19:    Energy =   0.1351
Level     0,  Iter    20:    Energy =   0.1356
Level     0,  Iter    21:    Energy =   0.1358
Level     0,  Iter    22:    Energy =   0.1362
Level     0,  Iter    23:    Energy =   0.1362
Level     0,  Iter    24:    Energy =   0.1364
Level     0,  Iter    25:    Energy =   0.1363
Level     0,  Iter    26:    Energy =   0.1363
Level     0,  Iter    27:    Energy =   0.1361
Level     0,  Iter    28:    Energy =   0.1362
Level     0,  Iter    29:    Energy =   0.1359
Level     0,  Iter    30:    Energy =   0.1361
Level     0,  Iter    31:    Energy =   0.1358
Level     0,  Iter    32:    Energy =   0.1361
Level     0,  Iter    33:    Energy =   0.1358
Level     0,  Iter    34:    Energy =   0.1362
Level     0,  Iter    35:    Energy =   0.1360
Level     0,  Iter    36:    Energy =   0.1364
Level     0,  Iter    37:    Energy =   0.1363
Level     0,  Iter    38:    Energy =   0.1366
Level     0,  Iter    39:    Energy =   0.1363
Level     0,  Iter    40:    Energy =   0.1367
Level     0,  Iter    41:    Energy =   0.1364
Level     0,  Iter    42:    Energy =   0.1367
Level     0,  Iter    43:    Energy =   0.1364
Level     0,  Iter    44:    Energy =   0.1368
Level     0,  Iter    45:    Energy =   0.1365
Level     0,  Iter    46:    Energy =   0.1369
Level     0,  Iter    47:    Energy =   0.1367
Level     0,  Iter    48:    Energy =   0.1371
Level     0,  Iter    49:    Energy =   0.1368
Level     0,  Iter    50:    Energy =   0.1371
Level     0,  Iter    51:    Energy =   0.1369
Level     0,  Iter    52:    Energy =   0.1372
Level     0,  Iter    53:    Energy =   0.1369
Level     0,  Iter    54:    Energy =   0.1372
Level     0,  Iter    55:    Energy =   0.1369
Level     0,  Iter    56:    Energy =   0.1372
Level     0,  Iter    57:    Energy =   0.1369
Level     0,  Iter    58:    Energy =   0.1371
Level     0,  Iter    59:    Energy =   0.1369
END OF LEVEL     0    DetJac Range:   0.3034  to   1.9318 
  Avg. Gradient Time  : 0.0076s  34.44% 
  Avg. Gaussian Time  : 0.0111s  50.15% 
  Avg. Iteration Time : 0.0221s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0915
Level     1,  Iter     1:    Energy =   0.0963
Level     1,  Iter     2:    Energy =   0.0997
Level     1,  Iter     3:    Energy =   0.1027
Level     1,  Iter     4:    Energy =   0.1053
Level     1,  Iter     5:    Energy =   0.1078
Level     1,  Iter     6:    Energy =   0.1098
Level     1,  Iter     7:    Energy =   0.1113
Level     1,  Iter     8:    Energy =   0.1127
Level     1,  Iter     9:    Energy =   0.1141
Level     1,  Iter    10:    Energy =   0.1155
Level     1,  Iter    11:    Energy =   0.1167
Level     1,  Iter    12:    Energy =   0.1175
Level     1,  Iter    13:    Energy =   0.1181
Level     1,  Iter    14:    Energy =   0.1185
Level     1,  Iter    15:    Energy =   0.1188
Level     1,  Iter    16:    Energy =   0.1188
Level     1,  Iter    17:    Energy =   0.1191
Level     1,  Iter    18:    Energy =   0.1192
Level     1,  Iter    19:    Energy =   0.1195
Level     1,  Iter    20:    Energy =   0.1196
Level     1,  Iter    21:    Energy =   0.1198
Level     1,  Iter    22:    Energy =   0.1199
Level     1,  Iter    23:    Energy =   0.1200
Level     1,  Iter    24:    Energy =   0.1201
Level     1,  Iter    25:    Energy =   0.1202
Level     1,  Iter    26:    Energy =   0.1203
Level     1,  Iter    27:    Energy =   0.1204
Level     1,  Iter    28:    Energy =   0.1204
Level     1,  Iter    29:    Energy =   0.1205
Level     1,  Iter    30:    Energy =   0.1205
Level     1,  Iter    31:    Energy =   0.1206
Level     1,  Iter    32:    Energy =   0.1205
Level     1,  Iter    33:    Energy =   0.1205
Level     1,  Iter    34:    Energy =   0.1205
Level     1,  Iter    35:    Energy =   0.1205
Level     1,  Iter    36:    Energy =   0.1206
Level     1,  Iter    37:    Energy =   0.1205
Level     1,  Iter    38:    Energy =   0.1206
Level     1,  Iter    39:    Energy =   0.1206
Level     1,  Iter    40:    Energy =   0.1206
Level     1,  Iter    41:    Energy =   0.1206
Level     1,  Iter    42:    Energy =   0.1206
Level     1,  Iter    43:    Energy =   0.1207
Level     1,  Iter    44:    Energy =   0.1207
Level     1,  Iter    45:    Energy =   0.1208
Level     1,  Iter    46:    Energy =   0.1209
Level     1,  Iter    47:    Energy =   0.1209
Level     1,  Iter    48:    Energy =   0.1210
Level     1,  Iter    49:    Energy =   0.1211
Level     1,  Iter    50:    Energy =   0.1211
Level     1,  Iter    51:    Energy =   0.1212
Level     1,  Iter    52:    Energy =   0.1212
Level     1,  Iter    53:    Energy =   0.1212
Level     1,  Iter    54:    Energy =   0.1213
Level     1,  Iter    55:    Energy =   0.1213
Level     1,  Iter    56:    Energy =   0.1214
Level     1,  Iter    57:    Energy =   0.1214
Level     1,  Iter    58:    Energy =   0.1215
Level     1,  Iter    59:    Energy =   0.1216
END OF LEVEL     1    DetJac Range:   0.0198  to   3.1793 
  Avg. Gradient Time  : 0.0437s  33.06% 
  Avg. Gaussian Time  : 0.0716s  54.20% 
  Avg. Iteration Time : 0.1321s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0597
Level     2,  Iter     1:    Energy =   0.0621
Level     2,  Iter     2:    Energy =   0.0637
Level     2,  Iter     3:    Energy =   0.0650
Level     2,  Iter     4:    Energy =   0.0663
Level     2,  Iter     5:    Energy =   0.0677
Level     2,  Iter     6:    Energy =   0.0691
Level     2,  Iter     7:    Energy =   0.0701
Level     2,  Iter     8:    Energy =   0.0710
Level     2,  Iter     9:    Energy =   0.0716
Level     2,  Iter    10:    Energy =   0.0722
Level     2,  Iter    11:    Energy =   0.0727
Level     2,  Iter    12:    Energy =   0.0731
Level     2,  Iter    13:    Energy =   0.0734
Level     2,  Iter    14:    Energy =   0.0738
Level     2,  Iter    15:    Energy =   0.0741
Level     2,  Iter    16:    Energy =   0.0744
Level     2,  Iter    17:    Energy =   0.0746
Level     2,  Iter    18:    Energy =   0.0749
Level     2,  Iter    19:    Energy =   0.0752
END OF LEVEL     2    DetJac Range:   0.0116  to   3.7046 
  Avg. Gradient Time  : 0.3060s  26.79% 
  Avg. Gaussian Time  : 0.6987s  61.16% 
  Avg. Iteration Time : 1.1425s 

real	0m37.074s
user	1m7.128s
sys	0m2.268s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.425 0.430769
+ echo 'CHUNK 0.425 0.430769 1'
CHUNK 0.425 0.430769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.425 0.430769 1
====================================
         PROGRESS: 0.425               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 014 right 0
+ local tid=014
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.543471
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3239.83   GNORM= 552.641
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3333.157     283.938       0.001
   2    4     -3368.989     224.356       1.000
   3    5     -3425.994     116.691       1.000
   4    6     -3444.583     113.284       1.000
   5    7     -3527.592     134.599       1.000
   6    8     -3600.650     126.827       1.000
   7   10     -3614.159     213.382       0.175
   8   11     -3642.242      69.328       1.000
   9   12     -3651.480      76.652       1.000
  10   13     -3668.103      70.233       1.000
  11   14     -3699.108     185.013       1.000
  12   15     -3705.638     105.007       1.000
  13   16     -3712.280      41.785       1.000
  14   18     -3713.053      30.300       0.430
  15   19     -3713.729      25.023       1.000
  16   20     -3715.473      31.356       1.000
  17   21     -3717.877      37.894       1.000
  18   22     -3720.516      40.722       1.000
  19   23     -3721.430      58.793       1.000
  20   24     -3722.182      19.369       1.000
  21   25     -3722.407      11.621       1.000
  22   26     -3722.556      26.135       1.000
  23   27     -3722.770      14.607       1.000
  24   28     -3723.238       9.489       1.000
  25   29     -3723.656      30.720       1.000
  26   30     -3723.998      25.267       1.000
  27   32     -3724.446      27.120       0.410
  28   33     -3724.730      14.348       1.000
  29   35     -3724.894      12.534       0.485
  30   36     -3724.952      10.821       1.000
  31   37     -3725.023       7.056       1.000
  32   38     -3725.117       5.051       1.000
  33   39     -3725.214       7.311       1.000
  34   41     -3725.304       5.828       0.396
  35   42     -3725.316      14.001       1.000
  36   43     -3725.373       7.547       1.000
  37   44     -3725.398       2.347       1.000
  38   45     -3725.400       2.341       1.000
  39   47     -3725.403       2.985       0.168
  40   51     -3725.406       2.921       0.126
  41   53     -3725.407       3.359       0.234
Final RAS Transform: 
0.891839 0.030018 -0.0196928 2.39534 
0.0802152 0.980447 0.0240808 -1.87666 
0.0183462 -0.0006213 1.04175 0.0279753 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2581.91   GNORM= 106.472
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2591.488      34.066       0.002
   2    4     -2593.209      37.600       1.000
   3    5     -2601.322      76.413       1.000
   4    6     -2609.023      62.986       1.000
   5    7     -2616.071     114.662       1.000
   6    8     -2619.576      59.444       1.000
   7    9     -2625.546      62.349       1.000
   8   10     -2633.045     101.531       1.000
   9   11     -2638.891      85.073       1.000
  10   13     -2641.479      65.879       0.491
  11   14     -2642.989      18.600       1.000
  12   15     -2643.512      35.611       1.000
  13   17     -2645.469      66.944       5.000
  14   18     -2648.212      50.654       1.000
  15   19     -2651.980      25.160       1.000
  16   20     -2653.436      17.281       1.000
  17   21     -2653.984      27.406       1.000
  18   22     -2654.280      10.798       1.000
  19   23     -2654.342      19.611       1.000
  20   25     -2654.458       8.287       0.486
  21   26     -2654.485       5.415       1.000
  22   27     -2654.527       4.998       1.000
  23   28     -2654.629      14.222       1.000
  24   29     -2654.778      14.760       1.000
  25   30     -2654.807      13.056       1.000
  26   31     -2654.907       3.937       1.000
  27   32     -2654.921       4.456       1.000
  28   33     -2654.931       5.452       1.000
  29   34     -2654.986       8.099       1.000
  30   35     -2655.039       9.462       1.000
  31   36     -2655.064      17.947       1.000
  32   37     -2655.177       6.567       1.000
  33   38     -2655.208       5.616       1.000
  34   40     -2655.244      10.611       0.260
  35   41     -2655.323       7.906       1.000
  36   43     -2655.364       5.189       0.218
  37   45     -2655.398       6.197       0.276
  38   46     -2655.411       3.167       1.000
  39   47     -2655.429       3.361       1.000
  40   49     -2655.442       4.222       0.344
  41   50     -2655.451       2.452       1.000
  42   51     -2655.464       7.368       1.000
  43   53     -2655.471       6.448       0.440
  44   54     -2655.482       8.032       1.000
  45   55     -2655.495       3.113       1.000
Final RAS Transform: 
0.937248 0.0104815 -0.026597 0.954415 
0.0702 0.984952 0.0129189 -1.46955 
-0.000654954 0.00234696 1.02862 0.318139 
0 0 0 1 

Final RAS Transform: 
0.937248 0.0104815 -0.026597 0.954415 
0.0702 0.984952 0.0129189 -1.46955 
-0.000654954 0.00234696 1.02862 0.318139 
0 0 0 1 


real	0m11.114s
user	0m19.556s
sys	0m0.444s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.543867
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1026
Level     0,  Iter     1:    Energy =   0.1097
Level     0,  Iter     2:    Energy =   0.1153
Level     0,  Iter     3:    Energy =   0.1190
Level     0,  Iter     4:    Energy =   0.1212
Level     0,  Iter     5:    Energy =   0.1224
Level     0,  Iter     6:    Energy =   0.1238
Level     0,  Iter     7:    Energy =   0.1243
Level     0,  Iter     8:    Energy =   0.1253
Level     0,  Iter     9:    Energy =   0.1256
Level     0,  Iter    10:    Energy =   0.1264
Level     0,  Iter    11:    Energy =   0.1266
Level     0,  Iter    12:    Energy =   0.1272
Level     0,  Iter    13:    Energy =   0.1273
Level     0,  Iter    14:    Energy =   0.1279
Level     0,  Iter    15:    Energy =   0.1279
Level     0,  Iter    16:    Energy =   0.1284
Level     0,  Iter    17:    Energy =   0.1283
Level     0,  Iter    18:    Energy =   0.1289
Level     0,  Iter    19:    Energy =   0.1287
Level     0,  Iter    20:    Energy =   0.1292
Level     0,  Iter    21:    Energy =   0.1290
Level     0,  Iter    22:    Energy =   0.1295
Level     0,  Iter    23:    Energy =   0.1293
Level     0,  Iter    24:    Energy =   0.1297
Level     0,  Iter    25:    Energy =   0.1295
Level     0,  Iter    26:    Energy =   0.1299
Level     0,  Iter    27:    Energy =   0.1297
Level     0,  Iter    28:    Energy =   0.1301
Level     0,  Iter    29:    Energy =   0.1298
Level     0,  Iter    30:    Energy =   0.1302
Level     0,  Iter    31:    Energy =   0.1299
Level     0,  Iter    32:    Energy =   0.1303
Level     0,  Iter    33:    Energy =   0.1300
Level     0,  Iter    34:    Energy =   0.1304
Level     0,  Iter    35:    Energy =   0.1301
Level     0,  Iter    36:    Energy =   0.1305
Level     0,  Iter    37:    Energy =   0.1301
Level     0,  Iter    38:    Energy =   0.1305
Level     0,  Iter    39:    Energy =   0.1302
Level     0,  Iter    40:    Energy =   0.1306
Level     0,  Iter    41:    Energy =   0.1302
Level     0,  Iter    42:    Energy =   0.1306
Level     0,  Iter    43:    Energy =   0.1302
Level     0,  Iter    44:    Energy =   0.1306
Level     0,  Iter    45:    Energy =   0.1302
Level     0,  Iter    46:    Energy =   0.1306
Level     0,  Iter    47:    Energy =   0.1303
Level     0,  Iter    48:    Energy =   0.1307
Level     0,  Iter    49:    Energy =   0.1303
Level     0,  Iter    50:    Energy =   0.1307
Level     0,  Iter    51:    Energy =   0.1303
Level     0,  Iter    52:    Energy =   0.1307
Level     0,  Iter    53:    Energy =   0.1303
Level     0,  Iter    54:    Energy =   0.1307
Level     0,  Iter    55:    Energy =   0.1303
Level     0,  Iter    56:    Energy =   0.1307
Level     0,  Iter    57:    Energy =   0.1303
Level     0,  Iter    58:    Energy =   0.1307
Level     0,  Iter    59:    Energy =   0.1303
END OF LEVEL     0    DetJac Range:   0.2857  to   2.0242 
  Avg. Gradient Time  : 0.0076s  34.46% 
  Avg. Gaussian Time  : 0.0111s  50.10% 
  Avg. Iteration Time : 0.0221s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0877
Level     1,  Iter     1:    Energy =   0.0923
Level     1,  Iter     2:    Energy =   0.0957
Level     1,  Iter     3:    Energy =   0.0986
Level     1,  Iter     4:    Energy =   0.1009
Level     1,  Iter     5:    Energy =   0.1029
Level     1,  Iter     6:    Energy =   0.1046
Level     1,  Iter     7:    Energy =   0.1061
Level     1,  Iter     8:    Energy =   0.1075
Level     1,  Iter     9:    Energy =   0.1089
Level     1,  Iter    10:    Energy =   0.1101
Level     1,  Iter    11:    Energy =   0.1112
Level     1,  Iter    12:    Energy =   0.1121
Level     1,  Iter    13:    Energy =   0.1128
Level     1,  Iter    14:    Energy =   0.1133
Level     1,  Iter    15:    Energy =   0.1134
Level     1,  Iter    16:    Energy =   0.1139
Level     1,  Iter    17:    Energy =   0.1142
Level     1,  Iter    18:    Energy =   0.1141
Level     1,  Iter    19:    Energy =   0.1141
Level     1,  Iter    20:    Energy =   0.1143
Level     1,  Iter    21:    Energy =   0.1142
Level     1,  Iter    22:    Energy =   0.1145
Level     1,  Iter    23:    Energy =   0.1145
Level     1,  Iter    24:    Energy =   0.1147
Level     1,  Iter    25:    Energy =   0.1146
Level     1,  Iter    26:    Energy =   0.1151
Level     1,  Iter    27:    Energy =   0.1149
Level     1,  Iter    28:    Energy =   0.1153
Level     1,  Iter    29:    Energy =   0.1150
Level     1,  Iter    30:    Energy =   0.1155
Level     1,  Iter    31:    Energy =   0.1154
Level     1,  Iter    32:    Energy =   0.1157
Level     1,  Iter    33:    Energy =   0.1154
Level     1,  Iter    34:    Energy =   0.1159
Level     1,  Iter    35:    Energy =   0.1157
Level     1,  Iter    36:    Energy =   0.1160
Level     1,  Iter    37:    Energy =   0.1157
Level     1,  Iter    38:    Energy =   0.1162
Level     1,  Iter    39:    Energy =   0.1159
Level     1,  Iter    40:    Energy =   0.1163
Level     1,  Iter    41:    Energy =   0.1160
Level     1,  Iter    42:    Energy =   0.1164
Level     1,  Iter    43:    Energy =   0.1163
Level     1,  Iter    44:    Energy =   0.1165
Level     1,  Iter    45:    Energy =   0.1162
Level     1,  Iter    46:    Energy =   0.1166
Level     1,  Iter    47:    Energy =   0.1163
Level     1,  Iter    48:    Energy =   0.1167
Level     1,  Iter    49:    Energy =   0.1164
Level     1,  Iter    50:    Energy =   0.1168
Level     1,  Iter    51:    Energy =   0.1167
Level     1,  Iter    52:    Energy =   0.1168
Level     1,  Iter    53:    Energy =   0.1165
Level     1,  Iter    54:    Energy =   0.1168
Level     1,  Iter    55:    Energy =   0.1166
Level     1,  Iter    56:    Energy =   0.1169
Level     1,  Iter    57:    Energy =   0.1166
Level     1,  Iter    58:    Energy =   0.1169
Level     1,  Iter    59:    Energy =   0.1168
END OF LEVEL     1    DetJac Range:   0.1101  to   3.9757 
  Avg. Gradient Time  : 0.0427s  32.60% 
  Avg. Gaussian Time  : 0.0715s  54.53% 
  Avg. Iteration Time : 0.1310s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0570
Level     2,  Iter     1:    Energy =   0.0594
Level     2,  Iter     2:    Energy =   0.0613
Level     2,  Iter     3:    Energy =   0.0629
Level     2,  Iter     4:    Energy =   0.0643
Level     2,  Iter     5:    Energy =   0.0656
Level     2,  Iter     6:    Energy =   0.0669
Level     2,  Iter     7:    Energy =   0.0681
Level     2,  Iter     8:    Energy =   0.0690
Level     2,  Iter     9:    Energy =   0.0698
Level     2,  Iter    10:    Energy =   0.0705
Level     2,  Iter    11:    Energy =   0.0711
Level     2,  Iter    12:    Energy =   0.0717
Level     2,  Iter    13:    Energy =   0.0722
Level     2,  Iter    14:    Energy =   0.0727
Level     2,  Iter    15:    Energy =   0.0733
Level     2,  Iter    16:    Energy =   0.0737
Level     2,  Iter    17:    Energy =   0.0742
Level     2,  Iter    18:    Energy =   0.0747
Level     2,  Iter    19:    Energy =   0.0752
END OF LEVEL     2    DetJac Range:   0.0486  to   3.6026 
  Avg. Gradient Time  : 0.3013s  26.21% 
  Avg. Gaussian Time  : 0.7116s  61.89% 
  Avg. Iteration Time : 1.1498s 

real	0m37.148s
user	1m7.408s
sys	0m2.208s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.430769 0.436538
+ echo 'CHUNK 0.430769 0.436538 1'
CHUNK 0.430769 0.436538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.430769 0.436538 1
====================================
         PROGRESS: 0.430769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 015 right 0
+ local tid=015
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.755546
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3980.73   GNORM= 992.344
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4166.265     239.246       0.000
   2    4     -4185.051     195.139       1.000
   3    5     -4237.325     177.950       1.000
   4    6     -4266.494     119.998       1.000
   5    7     -4283.819      69.179       1.000
   6    8     -4298.953      74.496       1.000
   7    9     -4304.002     167.977       1.000
   8   10     -4311.841      72.868       1.000
   9   11     -4314.893      54.308       1.000
  10   12     -4316.534      34.067       1.000
  11   13     -4319.154      33.070       1.000
  12   14     -4323.514      85.084       1.000
  13   15     -4325.943      67.111       1.000
  14   16     -4327.471      25.029       1.000
  15   17     -4327.986      17.504       1.000
  16   18     -4328.372      28.658       1.000
  17   19     -4329.269      37.791       1.000
  18   20     -4330.130      19.776       1.000
  19   21     -4330.795      26.388       1.000
  20   22     -4331.321      40.041       1.000
  21   23     -4331.455      18.546       1.000
  22   24     -4331.661       8.262       1.000
  23   25     -4331.697       9.334       1.000
  24   26     -4331.740       7.935       1.000
  25   28     -4331.821      11.606       0.220
  26   29     -4331.852      10.756       1.000
  27   30     -4331.903       4.900       1.000
  28   31     -4331.931       5.901       1.000
  29   32     -4331.978      16.591       1.000
  30   33     -4332.075       5.857       1.000
  31   34     -4332.092       6.673       1.000
  32   35     -4332.107       4.409       1.000
  33   37     -4332.134       4.969       0.494
  34   38     -4332.155       4.542       1.000
  35   39     -4332.171       1.904       1.000
  36   44     -4332.172       1.333       0.208
Final RAS Transform: 
0.980079 -0.000762851 -0.0392113 -0.0825166 
0.0273615 0.997594 0.0443455 -0.117076 
0.000998001 -0.00171227 1.03481 0.0106701 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3136.44   GNORM= 92.6525
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3138.090      40.926       0.000
   2    4     -3138.753      39.414       1.000
   3    5     -3139.940      46.980       1.000
   4    6     -3141.173      35.586       1.000
   5    7     -3143.603      39.233       1.000
   6    8     -3146.606      44.374       1.000
   7   10     -3147.859      42.512       0.398
   8   11     -3148.636      70.663       1.000
   9   12     -3149.406      18.380       1.000
  10   13     -3149.565      19.126       1.000
  11   14     -3149.756      20.829       1.000
  12   15     -3150.467      35.894       1.000
  13   16     -3150.965      19.952       1.000
  14   17     -3151.365      16.979       1.000
  15   18     -3151.498      12.589       1.000
  16   19     -3151.923      13.084       1.000
  17   20     -3152.639      18.446       1.000
  18   22     -3153.039      49.701       0.406
  19   23     -3153.562      29.618       1.000
  20   24     -3154.132      17.716       1.000
  21   25     -3154.510      31.285       1.000
  22   26     -3154.884      21.390       1.000
  23   27     -3155.702      16.863       1.000
  24   28     -3156.437      31.436       1.000
  25   29     -3156.837      56.278       1.000
  26   30     -3157.445      22.031       1.000
  27   31     -3157.696      17.798       1.000
  28   32     -3157.819      19.161       1.000
  29   33     -3157.983      14.146       1.000
  30   34     -3158.159      11.362       1.000
  31   35     -3158.264       7.872       1.000
  32   36     -3158.400       5.818       1.000
  33   37     -3158.440      17.156       1.000
  34   38     -3158.489       6.964       1.000
  35   39     -3158.536       7.105       1.000
  36   40     -3158.632      10.786       1.000
  37   41     -3158.705       7.574       1.000
  38   42     -3158.807       4.881       1.000
  39   43     -3158.884      10.332       1.000
  40   44     -3159.000      11.761       1.000
  41   45     -3159.166      15.205       1.000
  42   46     -3159.215      11.219       1.000
  43   47     -3159.246       4.383       1.000
  44   48     -3159.267       5.250       1.000
  45   49     -3159.286       4.781       1.000
  46   50     -3159.324       4.028       1.000
  47   52     -3159.345       3.735       0.450
  48   53     -3159.349       3.145       1.000
  49   54     -3159.359       3.176       1.000
Final RAS Transform: 
0.996765 -0.00579562 -0.0180532 -0.402269 
0.032667 0.993524 0.0159082 -0.292937 
-0.00813323 0.0024489 1.03595 0.153342 
0 0 0 1 

Final RAS Transform: 
0.996765 -0.00579562 -0.0180532 -0.402269 
0.032667 0.993524 0.0159082 -0.292937 
-0.00813323 0.0024489 1.03595 0.153342 
0 0 0 1 


real	0m10.647s
user	0m18.564s
sys	0m0.560s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.764861
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1222
Level     0,  Iter     1:    Energy =   0.1299
Level     0,  Iter     2:    Energy =   0.1352
Level     0,  Iter     3:    Energy =   0.1389
Level     0,  Iter     4:    Energy =   0.1409
Level     0,  Iter     5:    Energy =   0.1419
Level     0,  Iter     6:    Energy =   0.1431
Level     0,  Iter     7:    Energy =   0.1438
Level     0,  Iter     8:    Energy =   0.1448
Level     0,  Iter     9:    Energy =   0.1452
Level     0,  Iter    10:    Energy =   0.1460
Level     0,  Iter    11:    Energy =   0.1464
Level     0,  Iter    12:    Energy =   0.1471
Level     0,  Iter    13:    Energy =   0.1473
Level     0,  Iter    14:    Energy =   0.1478
Level     0,  Iter    15:    Energy =   0.1480
Level     0,  Iter    16:    Energy =   0.1484
Level     0,  Iter    17:    Energy =   0.1484
Level     0,  Iter    18:    Energy =   0.1488
Level     0,  Iter    19:    Energy =   0.1488
Level     0,  Iter    20:    Energy =   0.1491
Level     0,  Iter    21:    Energy =   0.1492
Level     0,  Iter    22:    Energy =   0.1494
Level     0,  Iter    23:    Energy =   0.1495
Level     0,  Iter    24:    Energy =   0.1498
Level     0,  Iter    25:    Energy =   0.1497
Level     0,  Iter    26:    Energy =   0.1499
Level     0,  Iter    27:    Energy =   0.1499
Level     0,  Iter    28:    Energy =   0.1502
Level     0,  Iter    29:    Energy =   0.1501
Level     0,  Iter    30:    Energy =   0.1503
Level     0,  Iter    31:    Energy =   0.1502
Level     0,  Iter    32:    Energy =   0.1504
Level     0,  Iter    33:    Energy =   0.1503
Level     0,  Iter    34:    Energy =   0.1504
Level     0,  Iter    35:    Energy =   0.1504
Level     0,  Iter    36:    Energy =   0.1505
Level     0,  Iter    37:    Energy =   0.1505
Level     0,  Iter    38:    Energy =   0.1505
Level     0,  Iter    39:    Energy =   0.1505
Level     0,  Iter    40:    Energy =   0.1506
Level     0,  Iter    41:    Energy =   0.1506
Level     0,  Iter    42:    Energy =   0.1505
Level     0,  Iter    43:    Energy =   0.1506
Level     0,  Iter    44:    Energy =   0.1507
Level     0,  Iter    45:    Energy =   0.1507
Level     0,  Iter    46:    Energy =   0.1506
Level     0,  Iter    47:    Energy =   0.1507
Level     0,  Iter    48:    Energy =   0.1508
Level     0,  Iter    49:    Energy =   0.1507
Level     0,  Iter    50:    Energy =   0.1507
Level     0,  Iter    51:    Energy =   0.1507
Level     0,  Iter    52:    Energy =   0.1508
Level     0,  Iter    53:    Energy =   0.1508
Level     0,  Iter    54:    Energy =   0.1507
Level     0,  Iter    55:    Energy =   0.1507
Level     0,  Iter    56:    Energy =   0.1508
Level     0,  Iter    57:    Energy =   0.1508
Level     0,  Iter    58:    Energy =   0.1507
Level     0,  Iter    59:    Energy =   0.1507
END OF LEVEL     0    DetJac Range:   0.3906  to   2.6214 
  Avg. Gradient Time  : 0.0076s  34.41% 
  Avg. Gaussian Time  : 0.0110s  50.11% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1011
Level     1,  Iter     1:    Energy =   0.1055
Level     1,  Iter     2:    Energy =   0.1091
Level     1,  Iter     3:    Energy =   0.1124
Level     1,  Iter     4:    Energy =   0.1154
Level     1,  Iter     5:    Energy =   0.1178
Level     1,  Iter     6:    Energy =   0.1198
Level     1,  Iter     7:    Energy =   0.1217
Level     1,  Iter     8:    Energy =   0.1234
Level     1,  Iter     9:    Energy =   0.1251
Level     1,  Iter    10:    Energy =   0.1263
Level     1,  Iter    11:    Energy =   0.1262
Level     1,  Iter    12:    Energy =   0.1270
Level     1,  Iter    13:    Energy =   0.1268
Level     1,  Iter    14:    Energy =   0.1274
Level     1,  Iter    15:    Energy =   0.1272
Level     1,  Iter    16:    Energy =   0.1276
Level     1,  Iter    17:    Energy =   0.1274
Level     1,  Iter    18:    Energy =   0.1280
Level     1,  Iter    19:    Energy =   0.1278
Level     1,  Iter    20:    Energy =   0.1281
Level     1,  Iter    21:    Energy =   0.1279
Level     1,  Iter    22:    Energy =   0.1284
Level     1,  Iter    23:    Energy =   0.1281
Level     1,  Iter    24:    Energy =   0.1284
Level     1,  Iter    25:    Energy =   0.1282
Level     1,  Iter    26:    Energy =   0.1285
Level     1,  Iter    27:    Energy =   0.1284
Level     1,  Iter    28:    Energy =   0.1286
Level     1,  Iter    29:    Energy =   0.1284
Level     1,  Iter    30:    Energy =   0.1287
Level     1,  Iter    31:    Energy =   0.1285
Level     1,  Iter    32:    Energy =   0.1288
Level     1,  Iter    33:    Energy =   0.1286
Level     1,  Iter    34:    Energy =   0.1290
Level     1,  Iter    35:    Energy =   0.1288
Level     1,  Iter    36:    Energy =   0.1290
Level     1,  Iter    37:    Energy =   0.1288
Level     1,  Iter    38:    Energy =   0.1291
Level     1,  Iter    39:    Energy =   0.1289
Level     1,  Iter    40:    Energy =   0.1291
Level     1,  Iter    41:    Energy =   0.1289
Level     1,  Iter    42:    Energy =   0.1291
Level     1,  Iter    43:    Energy =   0.1290
Level     1,  Iter    44:    Energy =   0.1291
Level     1,  Iter    45:    Energy =   0.1290
Level     1,  Iter    46:    Energy =   0.1291
Level     1,  Iter    47:    Energy =   0.1290
Level     1,  Iter    48:    Energy =   0.1292
Level     1,  Iter    49:    Energy =   0.1291
Level     1,  Iter    50:    Energy =   0.1292
Level     1,  Iter    51:    Energy =   0.1291
Level     1,  Iter    52:    Energy =   0.1292
Level     1,  Iter    53:    Energy =   0.1291
Level     1,  Iter    54:    Energy =   0.1292
Level     1,  Iter    55:    Energy =   0.1291
Level     1,  Iter    56:    Energy =   0.1292
Level     1,  Iter    57:    Energy =   0.1292
Level     1,  Iter    58:    Energy =   0.1292
Level     1,  Iter    59:    Energy =   0.1292
END OF LEVEL     1    DetJac Range:   0.1472  to   3.3063 
  Avg. Gradient Time  : 0.0428s  32.48% 
  Avg. Gaussian Time  : 0.0720s  54.64% 
  Avg. Iteration Time : 0.1318s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0662
Level     2,  Iter     1:    Energy =   0.0689
Level     2,  Iter     2:    Energy =   0.0709
Level     2,  Iter     3:    Energy =   0.0725
Level     2,  Iter     4:    Energy =   0.0738
Level     2,  Iter     5:    Energy =   0.0749
Level     2,  Iter     6:    Energy =   0.0760
Level     2,  Iter     7:    Energy =   0.0771
Level     2,  Iter     8:    Energy =   0.0781
Level     2,  Iter     9:    Energy =   0.0791
Level     2,  Iter    10:    Energy =   0.0801
Level     2,  Iter    11:    Energy =   0.0808
Level     2,  Iter    12:    Energy =   0.0815
Level     2,  Iter    13:    Energy =   0.0823
Level     2,  Iter    14:    Energy =   0.0830
Level     2,  Iter    15:    Energy =   0.0837
Level     2,  Iter    16:    Energy =   0.0842
Level     2,  Iter    17:    Energy =   0.0845
Level     2,  Iter    18:    Energy =   0.0848
Level     2,  Iter    19:    Energy =   0.0850
END OF LEVEL     2    DetJac Range:   0.0914  to   3.7637 
  Avg. Gradient Time  : 0.3014s  26.98% 
  Avg. Gaussian Time  : 0.6785s  60.73% 
  Avg. Iteration Time : 1.1174s 

real	0m36.521s
user	1m6.300s
sys	0m2.120s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.436538 0.442308
+ echo 'CHUNK 0.436538 0.442308 1'
CHUNK 0.436538 0.442308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.436538 0.442308 1
====================================
         PROGRESS: 0.436538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 016 right 0
+ local tid=016
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.683794
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3830.57   GNORM= 632.161
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3921.073     256.423       0.000
   2    4     -3945.418     223.423       1.000
   3    5     -4018.000     172.992       1.000
   4    6     -4036.140      90.784       1.000
   5    7     -4052.594     104.869       1.000
   6    8     -4059.292      72.832       1.000
   7    9     -4076.344      62.521       1.000
   8   11     -4079.039      61.890       0.243
   9   12     -4080.534      61.579       1.000
  10   13     -4096.582      64.722       1.000
  11   15     -4100.024      48.875       0.173
  12   16     -4102.842      21.947       1.000
  13   17     -4103.814      19.500       1.000
  14   18     -4104.736     104.877       1.000
  15   19     -4106.371      30.928       1.000
  16   20     -4106.836      22.714       1.000
  17   21     -4107.494      48.316       1.000
  18   22     -4108.246      27.415       1.000
  19   23     -4108.969      19.850       1.000
  20   24     -4109.197      21.871       1.000
  21   25     -4109.354      14.564       1.000
  22   26     -4109.555      17.957       1.000
  23   27     -4109.784      14.780       1.000
  24   29     -4109.986      14.735       0.378
  25   30     -4110.183      20.067       1.000
  26   31     -4110.272       9.594       1.000
  27   32     -4110.324       9.282       1.000
  28   33     -4110.387      13.558       1.000
  29   34     -4110.560       5.368       1.000
  30   36     -4110.707      10.872       0.418
  31   37     -4110.718      19.889       1.000
  32   38     -4110.798       6.096       1.000
  33   39     -4110.807       3.024       1.000
  34   41     -4110.816       2.609       0.481
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.968558 -0.0141533 -0.0332735 0.0312262 
0.0587098 0.989938 0.0467518 -0.918127 
0.000751784 -0.000650678 1.02098 0.0368148 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2887.92   GNORM= 130.524
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2894.531     117.809       0.001
   2    4     -2899.811      83.811       1.000
   3    5     -2905.814      45.737       1.000
   4    6     -2910.577      76.750       1.000
   5    7     -2915.420      65.490       1.000
   6    8     -2920.602      55.611       1.000
   7    9     -2922.343     110.027       1.000
   8   10     -2925.098      56.247       1.000
   9   11     -2927.976      32.910       1.000
  10   12     -2929.957      37.240       1.000
  11   14     -2930.583      14.831       0.248
  12   15     -2930.938      12.930       1.000
  13   16     -2931.202       9.548       1.000
  14   17     -2931.702      24.515       1.000
  15   18     -2931.886      31.605       1.000
  16   19     -2932.268      18.213       1.000
  17   20     -2932.817      24.096       1.000
  18   21     -2933.152      17.718       1.000
  19   22     -2933.457       9.843       1.000
  20   23     -2933.754      22.699       1.000
  21   24     -2934.103      26.818       1.000
  22   26     -2934.369      18.390       0.314
  23   27     -2934.619      21.186       1.000
  24   28     -2934.806      10.757       1.000
  25   29     -2934.976      10.717       1.000
  26   30     -2935.175      20.008       1.000
  27   31     -2935.644      15.873       1.000
  28   32     -2936.215      17.633       1.000
  29   33     -2936.611      35.774       1.000
  30   34     -2937.055      18.517       1.000
  31   35     -2937.430      15.443       1.000
  32   36     -2937.583       8.801       1.000
  33   37     -2937.725      10.631       1.000
  34   38     -2937.815      11.266       1.000
  35   40     -2937.874       6.227       0.343
  36   41     -2937.897       6.953       1.000
  37   42     -2937.930       5.009       1.000
  38   43     -2937.961       4.578       1.000
  39   45     -2937.967       4.083       0.414
  40   46     -2937.974       2.477       1.000
Final RAS Transform: 
0.968511 -0.000338214 -0.0347886 0.159171 
0.030415 1.00284 0.0550211 -0.294651 
0.00534136 0.00506612 1.03269 0.370759 
0 0 0 1 

Final RAS Transform: 
0.968511 -0.000338214 -0.0347886 0.159171 
0.030415 1.00284 0.0550211 -0.294651 
0.00534136 0.00506612 1.03269 0.370759 
0 0 0 1 


real	0m9.955s
user	0m17.432s
sys	0m0.488s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.683704
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1152
Level     0,  Iter     1:    Energy =   0.1227
Level     0,  Iter     2:    Energy =   0.1277
Level     0,  Iter     3:    Energy =   0.1322
Level     0,  Iter     4:    Energy =   0.1359
Level     0,  Iter     5:    Energy =   0.1384
Level     0,  Iter     6:    Energy =   0.1395
Level     0,  Iter     7:    Energy =   0.1400
Level     0,  Iter     8:    Energy =   0.1406
Level     0,  Iter     9:    Energy =   0.1410
Level     0,  Iter    10:    Energy =   0.1413
Level     0,  Iter    11:    Energy =   0.1417
Level     0,  Iter    12:    Energy =   0.1419
Level     0,  Iter    13:    Energy =   0.1424
Level     0,  Iter    14:    Energy =   0.1425
Level     0,  Iter    15:    Energy =   0.1430
Level     0,  Iter    16:    Energy =   0.1433
Level     0,  Iter    17:    Energy =   0.1435
Level     0,  Iter    18:    Energy =   0.1439
Level     0,  Iter    19:    Energy =   0.1440
Level     0,  Iter    20:    Energy =   0.1444
Level     0,  Iter    21:    Energy =   0.1444
Level     0,  Iter    22:    Energy =   0.1448
Level     0,  Iter    23:    Energy =   0.1447
Level     0,  Iter    24:    Energy =   0.1450
Level     0,  Iter    25:    Energy =   0.1450
Level     0,  Iter    26:    Energy =   0.1455
Level     0,  Iter    27:    Energy =   0.1453
Level     0,  Iter    28:    Energy =   0.1455
Level     0,  Iter    29:    Energy =   0.1456
Level     0,  Iter    30:    Energy =   0.1459
Level     0,  Iter    31:    Energy =   0.1458
Level     0,  Iter    32:    Energy =   0.1459
Level     0,  Iter    33:    Energy =   0.1459
Level     0,  Iter    34:    Energy =   0.1463
Level     0,  Iter    35:    Energy =   0.1461
Level     0,  Iter    36:    Energy =   0.1460
Level     0,  Iter    37:    Energy =   0.1459
Level     0,  Iter    38:    Energy =   0.1460
Level     0,  Iter    39:    Energy =   0.1460
Level     0,  Iter    40:    Energy =   0.1457
Level     0,  Iter    41:    Energy =   0.1460
Level     0,  Iter    42:    Energy =   0.1458
Level     0,  Iter    43:    Energy =   0.1460
Level     0,  Iter    44:    Energy =   0.1455
Level     0,  Iter    45:    Energy =   0.1460
Level     0,  Iter    46:    Energy =   0.1456
Level     0,  Iter    47:    Energy =   0.1461
Level     0,  Iter    48:    Energy =   0.1455
Level     0,  Iter    49:    Energy =   0.1460
Level     0,  Iter    50:    Energy =   0.1457
Level     0,  Iter    51:    Energy =   0.1460
Level     0,  Iter    52:    Energy =   0.1454
Level     0,  Iter    53:    Energy =   0.1459
Level     0,  Iter    54:    Energy =   0.1455
Level     0,  Iter    55:    Energy =   0.1460
Level     0,  Iter    56:    Energy =   0.1456
Level     0,  Iter    57:    Energy =   0.1461
Level     0,  Iter    58:    Energy =   0.1457
Level     0,  Iter    59:    Energy =   0.1462
END OF LEVEL     0    DetJac Range:   0.3705  to   2.1486 
  Avg. Gradient Time  : 0.0077s  34.51% 
  Avg. Gaussian Time  : 0.0111s  50.00% 
  Avg. Iteration Time : 0.0222s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0967
Level     1,  Iter     1:    Energy =   0.1020
Level     1,  Iter     2:    Energy =   0.1065
Level     1,  Iter     3:    Energy =   0.1103
Level     1,  Iter     4:    Energy =   0.1133
Level     1,  Iter     5:    Energy =   0.1157
Level     1,  Iter     6:    Energy =   0.1176
Level     1,  Iter     7:    Energy =   0.1197
Level     1,  Iter     8:    Energy =   0.1212
Level     1,  Iter     9:    Energy =   0.1225
Level     1,  Iter    10:    Energy =   0.1228
Level     1,  Iter    11:    Energy =   0.1237
Level     1,  Iter    12:    Energy =   0.1237
Level     1,  Iter    13:    Energy =   0.1244
Level     1,  Iter    14:    Energy =   0.1244
Level     1,  Iter    15:    Energy =   0.1250
Level     1,  Iter    16:    Energy =   0.1249
Level     1,  Iter    17:    Energy =   0.1256
Level     1,  Iter    18:    Energy =   0.1255
Level     1,  Iter    19:    Energy =   0.1260
Level     1,  Iter    20:    Energy =   0.1258
Level     1,  Iter    21:    Energy =   0.1264
Level     1,  Iter    22:    Energy =   0.1262
Level     1,  Iter    23:    Energy =   0.1266
Level     1,  Iter    24:    Energy =   0.1264
Level     1,  Iter    25:    Energy =   0.1269
Level     1,  Iter    26:    Energy =   0.1266
Level     1,  Iter    27:    Energy =   0.1271
Level     1,  Iter    28:    Energy =   0.1269
Level     1,  Iter    29:    Energy =   0.1273
Level     1,  Iter    30:    Energy =   0.1270
Level     1,  Iter    31:    Energy =   0.1274
Level     1,  Iter    32:    Energy =   0.1272
Level     1,  Iter    33:    Energy =   0.1276
Level     1,  Iter    34:    Energy =   0.1273
Level     1,  Iter    35:    Energy =   0.1277
Level     1,  Iter    36:    Energy =   0.1275
Level     1,  Iter    37:    Energy =   0.1278
Level     1,  Iter    38:    Energy =   0.1275
Level     1,  Iter    39:    Energy =   0.1279
Level     1,  Iter    40:    Energy =   0.1277
Level     1,  Iter    41:    Energy =   0.1280
Level     1,  Iter    42:    Energy =   0.1276
Level     1,  Iter    43:    Energy =   0.1281
Level     1,  Iter    44:    Energy =   0.1279
Level     1,  Iter    45:    Energy =   0.1281
Level     1,  Iter    46:    Energy =   0.1278
Level     1,  Iter    47:    Energy =   0.1282
Level     1,  Iter    48:    Energy =   0.1280
Level     1,  Iter    49:    Energy =   0.1284
Level     1,  Iter    50:    Energy =   0.1280
Level     1,  Iter    51:    Energy =   0.1284
Level     1,  Iter    52:    Energy =   0.1281
Level     1,  Iter    53:    Energy =   0.1285
Level     1,  Iter    54:    Energy =   0.1281
Level     1,  Iter    55:    Energy =   0.1285
Level     1,  Iter    56:    Energy =   0.1283
Level     1,  Iter    57:    Energy =   0.1286
Level     1,  Iter    58:    Energy =   0.1282
Level     1,  Iter    59:    Energy =   0.1286
END OF LEVEL     1    DetJac Range:   0.1350  to   3.7330 
  Avg. Gradient Time  : 0.0429s  32.57% 
  Avg. Gaussian Time  : 0.0720s  54.58% 
  Avg. Iteration Time : 0.1319s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0659
Level     2,  Iter     1:    Energy =   0.0682
Level     2,  Iter     2:    Energy =   0.0702
Level     2,  Iter     3:    Energy =   0.0717
Level     2,  Iter     4:    Energy =   0.0727
Level     2,  Iter     5:    Energy =   0.0734
Level     2,  Iter     6:    Energy =   0.0741
Level     2,  Iter     7:    Energy =   0.0747
Level     2,  Iter     8:    Energy =   0.0754
Level     2,  Iter     9:    Energy =   0.0761
Level     2,  Iter    10:    Energy =   0.0769
Level     2,  Iter    11:    Energy =   0.0778
Level     2,  Iter    12:    Energy =   0.0786
Level     2,  Iter    13:    Energy =   0.0792
Level     2,  Iter    14:    Energy =   0.0797
Level     2,  Iter    15:    Energy =   0.0802
Level     2,  Iter    16:    Energy =   0.0807
Level     2,  Iter    17:    Energy =   0.0812
Level     2,  Iter    18:    Energy =   0.0816
Level     2,  Iter    19:    Energy =   0.0821
END OF LEVEL     2    DetJac Range:   0.1024  to   4.5810 
  Avg. Gradient Time  : 0.3044s  27.45% 
  Avg. Gaussian Time  : 0.6672s  60.15% 
  Avg. Iteration Time : 1.1091s 

real	0m36.381s
user	1m5.936s
sys	0m2.208s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.442308 0.448077
+ echo 'CHUNK 0.442308 0.448077 1'
CHUNK 0.442308 0.448077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.442308 0.448077 1
====================================
         PROGRESS: 0.442308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 017 right 0
+ local tid=017
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.409406
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3383.07   GNORM= 917.644
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3579.855     244.691       0.000
   2    4     -3602.155     188.842       1.000
   3    5     -3644.090     109.130       1.000
   4    6     -3663.148      93.415       1.000
   5    7     -3679.115      88.085       1.000
   6    8     -3691.748      74.749       1.000
   7    9     -3716.451     214.498       1.000
   8   10     -3737.621     157.202       1.000
   9   11     -3755.004     103.516       1.000
  10   12     -3761.804      61.134       1.000
  11   13     -3764.466      27.769       1.000
  12   14     -3765.858      20.668       1.000
  13   15     -3766.880      46.778       1.000
  14   16     -3767.326      50.177       1.000
  15   17     -3768.176      16.399       1.000
  16   18     -3768.269      13.200       1.000
  17   19     -3768.447       8.181       1.000
  18   22     -3768.693      15.357       1.920
  19   23     -3768.791      12.856       1.000
  20   24     -3768.864      13.823       1.000
  21   25     -3768.901       7.587       1.000
  22   26     -3768.952      12.893       1.000
  23   27     -3769.037      13.712       1.000
  24   28     -3769.174       9.481       1.000
  25   29     -3769.354       7.711       1.000
  26   31     -3769.429       7.526       0.160
  27   32     -3769.492       9.846       1.000
  28   33     -3769.587      15.770       1.000
  29   34     -3769.667       5.672       1.000
  30   35     -3769.694       5.260       1.000
  31   36     -3769.726       9.424       1.000
  32   37     -3769.771       8.476       1.000
  33   39     -3769.810       5.995       0.272
  34   40     -3769.821       4.187       1.000
  35   41     -3769.846       7.104       1.000
  36   42     -3769.880       4.629       1.000
  37   43     -3769.907       5.152       1.000
  38   44     -3769.928       4.732       1.000
  39   45     -3769.933       5.174       1.000
  40   46     -3769.947       2.955       1.000
  41   47     -3769.952       2.754       1.000
Final RAS Transform: 
0.946845 -0.00641998 -0.0226498 0.369154 
0.000661689 0.998236 0.00145543 0.0847811 
0.0436191 -0.0131182 1.03265 -1.19233 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2817.52   GNORM= 72.6335
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2818.741      46.776       0.000
   2    5     -2821.847      56.371       5.000
   3    6     -2828.120      61.145       1.000
   4    7     -2834.403      94.928       1.000
   5    8     -2839.124      55.342       1.000
   6    9     -2841.974      33.154       1.000
   7   10     -2844.909      56.757       1.000
   8   11     -2846.748     143.688       1.000
   9   12     -2850.092      56.854       1.000
  10   13     -2851.321      17.175       1.000
  11   14     -2851.428       8.702       1.000
  12   15     -2851.498       9.965       1.000
  13   16     -2851.636      12.137       1.000
  14   17     -2852.534      30.230       1.000
  15   18     -2853.031      29.436       1.000
  16   20     -2853.544      25.721       0.485
  17   21     -2853.960      24.633       1.000
  18   22     -2854.920      21.845       1.000
  19   23     -2856.073      15.570       1.000
  20   25     -2856.185      12.104       0.198
  21   26     -2856.343       8.015       1.000
  22   27     -2856.550      10.183       1.000
  23   28     -2856.693      20.361       1.000
  24   29     -2857.221      19.417       1.000
  25   30     -2857.815      20.018       1.000
  26   32     -2858.145      26.558       0.513
  27   33     -2858.607      10.541       1.000
  28   34     -2858.904       7.399       1.000
  29   35     -2859.122      14.788       1.000
  30   37     -2859.162       7.055       0.316
  31   38     -2859.218       6.435       1.000
  32   40     -2859.256       8.950       0.258
  33   41     -2859.357       4.868       1.000
  34   42     -2859.535      10.033       1.000
  35   43     -2859.625      21.245       1.000
  36   44     -2859.869      12.508       1.000
  37   45     -2860.171      25.472       1.000
  38   46     -2860.290      20.711       1.000
  39   47     -2860.440       5.854       1.000
  40   48     -2860.498       6.666       1.000
  41   49     -2860.589      26.722       1.000
  42   50     -2860.844      22.349       1.000
  43   51     -2861.037       8.022       1.000
  44   52     -2861.195      10.493       1.000
  45   54     -2861.283      11.668       0.432
  46   55     -2861.334      14.763       1.000
  47   56     -2861.390       9.426       1.000
  48   57     -2861.553       4.141       1.000
  49   58     -2861.658      13.707       1.000
  50   59     -2861.688       6.713       1.000
  51   60     -2861.716       5.669       1.000
  52   61     -2861.752       6.357       1.000
Final RAS Transform: 
0.960407 -0.00292359 -0.0142507 0.262868 
-0.0157393 0.977489 -0.0414689 -0.179545 
0.0258446 0.00701398 1.05112 -0.324002 
0 0 0 1 

Final RAS Transform: 
0.960407 -0.00292359 -0.0142507 0.262868 
-0.0157393 0.977489 -0.0414689 -0.179545 
0.0258446 0.00701398 1.05112 -0.324002 
0 0 0 1 


real	0m10.615s
user	0m18.552s
sys	0m0.540s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.423687
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1071
Level     0,  Iter     1:    Energy =   0.1148
Level     0,  Iter     2:    Energy =   0.1214
Level     0,  Iter     3:    Energy =   0.1255
Level     0,  Iter     4:    Energy =   0.1285
Level     0,  Iter     5:    Energy =   0.1302
Level     0,  Iter     6:    Energy =   0.1314
Level     0,  Iter     7:    Energy =   0.1321
Level     0,  Iter     8:    Energy =   0.1329
Level     0,  Iter     9:    Energy =   0.1333
Level     0,  Iter    10:    Energy =   0.1338
Level     0,  Iter    11:    Energy =   0.1340
Level     0,  Iter    12:    Energy =   0.1343
Level     0,  Iter    13:    Energy =   0.1343
Level     0,  Iter    14:    Energy =   0.1345
Level     0,  Iter    15:    Energy =   0.1345
Level     0,  Iter    16:    Energy =   0.1348
Level     0,  Iter    17:    Energy =   0.1348
Level     0,  Iter    18:    Energy =   0.1350
Level     0,  Iter    19:    Energy =   0.1350
Level     0,  Iter    20:    Energy =   0.1352
Level     0,  Iter    21:    Energy =   0.1352
Level     0,  Iter    22:    Energy =   0.1353
Level     0,  Iter    23:    Energy =   0.1353
Level     0,  Iter    24:    Energy =   0.1355
Level     0,  Iter    25:    Energy =   0.1355
Level     0,  Iter    26:    Energy =   0.1356
Level     0,  Iter    27:    Energy =   0.1356
Level     0,  Iter    28:    Energy =   0.1357
Level     0,  Iter    29:    Energy =   0.1357
Level     0,  Iter    30:    Energy =   0.1358
Level     0,  Iter    31:    Energy =   0.1358
Level     0,  Iter    32:    Energy =   0.1359
Level     0,  Iter    33:    Energy =   0.1359
Level     0,  Iter    34:    Energy =   0.1359
Level     0,  Iter    35:    Energy =   0.1359
Level     0,  Iter    36:    Energy =   0.1360
Level     0,  Iter    37:    Energy =   0.1360
Level     0,  Iter    38:    Energy =   0.1360
Level     0,  Iter    39:    Energy =   0.1360
Level     0,  Iter    40:    Energy =   0.1361
Level     0,  Iter    41:    Energy =   0.1361
Level     0,  Iter    42:    Energy =   0.1361
Level     0,  Iter    43:    Energy =   0.1361
Level     0,  Iter    44:    Energy =   0.1362
Level     0,  Iter    45:    Energy =   0.1362
Level     0,  Iter    46:    Energy =   0.1363
Level     0,  Iter    47:    Energy =   0.1362
Level     0,  Iter    48:    Energy =   0.1363
Level     0,  Iter    49:    Energy =   0.1362
Level     0,  Iter    50:    Energy =   0.1363
Level     0,  Iter    51:    Energy =   0.1363
Level     0,  Iter    52:    Energy =   0.1363
Level     0,  Iter    53:    Energy =   0.1363
Level     0,  Iter    54:    Energy =   0.1364
Level     0,  Iter    55:    Energy =   0.1363
Level     0,  Iter    56:    Energy =   0.1363
Level     0,  Iter    57:    Energy =   0.1363
Level     0,  Iter    58:    Energy =   0.1364
Level     0,  Iter    59:    Energy =   0.1363
END OF LEVEL     0    DetJac Range:   0.3236  to   2.0571 
  Avg. Gradient Time  : 0.0077s  34.57% 
  Avg. Gaussian Time  : 0.0111s  49.95% 
  Avg. Iteration Time : 0.0223s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0941
Level     1,  Iter     1:    Energy =   0.0986
Level     1,  Iter     2:    Energy =   0.1020
Level     1,  Iter     3:    Energy =   0.1058
Level     1,  Iter     4:    Energy =   0.1091
Level     1,  Iter     5:    Energy =   0.1114
Level     1,  Iter     6:    Energy =   0.1133
Level     1,  Iter     7:    Energy =   0.1146
Level     1,  Iter     8:    Energy =   0.1158
Level     1,  Iter     9:    Energy =   0.1167
Level     1,  Iter    10:    Energy =   0.1176
Level     1,  Iter    11:    Energy =   0.1183
Level     1,  Iter    12:    Energy =   0.1184
Level     1,  Iter    13:    Energy =   0.1187
Level     1,  Iter    14:    Energy =   0.1188
Level     1,  Iter    15:    Energy =   0.1191
Level     1,  Iter    16:    Energy =   0.1191
Level     1,  Iter    17:    Energy =   0.1196
Level     1,  Iter    18:    Energy =   0.1194
Level     1,  Iter    19:    Energy =   0.1199
Level     1,  Iter    20:    Energy =   0.1198
Level     1,  Iter    21:    Energy =   0.1202
Level     1,  Iter    22:    Energy =   0.1200
Level     1,  Iter    23:    Energy =   0.1205
Level     1,  Iter    24:    Energy =   0.1203
Level     1,  Iter    25:    Energy =   0.1207
Level     1,  Iter    26:    Energy =   0.1205
Level     1,  Iter    27:    Energy =   0.1209
Level     1,  Iter    28:    Energy =   0.1207
Level     1,  Iter    29:    Energy =   0.1211
Level     1,  Iter    30:    Energy =   0.1208
Level     1,  Iter    31:    Energy =   0.1212
Level     1,  Iter    32:    Energy =   0.1210
Level     1,  Iter    33:    Energy =   0.1213
Level     1,  Iter    34:    Energy =   0.1211
Level     1,  Iter    35:    Energy =   0.1214
Level     1,  Iter    36:    Energy =   0.1212
Level     1,  Iter    37:    Energy =   0.1215
Level     1,  Iter    38:    Energy =   0.1213
Level     1,  Iter    39:    Energy =   0.1216
Level     1,  Iter    40:    Energy =   0.1213
Level     1,  Iter    41:    Energy =   0.1217
Level     1,  Iter    42:    Energy =   0.1214
Level     1,  Iter    43:    Energy =   0.1217
Level     1,  Iter    44:    Energy =   0.1215
Level     1,  Iter    45:    Energy =   0.1219
Level     1,  Iter    46:    Energy =   0.1216
Level     1,  Iter    47:    Energy =   0.1220
Level     1,  Iter    48:    Energy =   0.1217
Level     1,  Iter    49:    Energy =   0.1220
Level     1,  Iter    50:    Energy =   0.1217
Level     1,  Iter    51:    Energy =   0.1221
Level     1,  Iter    52:    Energy =   0.1218
Level     1,  Iter    53:    Energy =   0.1222
Level     1,  Iter    54:    Energy =   0.1218
Level     1,  Iter    55:    Energy =   0.1222
Level     1,  Iter    56:    Energy =   0.1219
Level     1,  Iter    57:    Energy =   0.1222
Level     1,  Iter    58:    Energy =   0.1219
Level     1,  Iter    59:    Energy =   0.1223
END OF LEVEL     1    DetJac Range:   0.1526  to   2.9460 
  Avg. Gradient Time  : 0.0428s  32.51% 
  Avg. Gaussian Time  : 0.0719s  54.63% 
  Avg. Iteration Time : 0.1317s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0607
Level     2,  Iter     1:    Energy =   0.0628
Level     2,  Iter     2:    Energy =   0.0649
Level     2,  Iter     3:    Energy =   0.0664
Level     2,  Iter     4:    Energy =   0.0679
Level     2,  Iter     5:    Energy =   0.0695
Level     2,  Iter     6:    Energy =   0.0707
Level     2,  Iter     7:    Energy =   0.0716
Level     2,  Iter     8:    Energy =   0.0726
Level     2,  Iter     9:    Energy =   0.0737
Level     2,  Iter    10:    Energy =   0.0749
Level     2,  Iter    11:    Energy =   0.0758
Level     2,  Iter    12:    Energy =   0.0765
Level     2,  Iter    13:    Energy =   0.0771
Level     2,  Iter    14:    Energy =   0.0778
Level     2,  Iter    15:    Energy =   0.0785
Level     2,  Iter    16:    Energy =   0.0793
Level     2,  Iter    17:    Energy =   0.0798
Level     2,  Iter    18:    Energy =   0.0804
Level     2,  Iter    19:    Energy =   0.0809
END OF LEVEL     2    DetJac Range:   0.0626  to   4.6120 
  Avg. Gradient Time  : 0.3032s  26.59% 
  Avg. Gaussian Time  : 0.6994s  61.33% 
  Avg. Iteration Time : 1.1403s 

real	0m37.033s
user	1m7.208s
sys	0m2.188s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.448077 0.453846
+ echo 'CHUNK 0.448077 0.453846 1'
CHUNK 0.448077 0.453846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.448077 0.453846 1
====================================
         PROGRESS: 0.448077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 018 right 0
+ local tid=018
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.634007
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3943.25   GNORM= 967.666
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4123.945     281.319       0.000
   2    4     -4149.333     239.910       1.000
   3    5     -4218.525     105.295       1.000
   4    6     -4236.952     117.969       1.000
   5    7     -4271.374     142.644       1.000
   6    8     -4304.537     160.050       1.000
   7    9     -4327.720     231.092       1.000
   8   10     -4342.016      87.100       1.000
   9   11     -4345.124      62.693       1.000
  10   12     -4349.639      72.503       1.000
  11   13     -4355.847      64.027       1.000
  12   14     -4375.880      87.202       1.000
  13   15     -4376.233      84.825       1.000
  14   16     -4379.530      61.830       1.000
  15   17     -4379.947      53.176       1.000
  16   18     -4380.583      21.646       1.000
  17   19     -4380.808      19.917       1.000
  18   20     -4380.947      15.855       1.000
  19   21     -4381.203      22.122       1.000
  20   23     -4381.716      16.939       5.000
  21   24     -4382.157      15.699       1.000
  22   26     -4382.353      23.209       0.289
  23   27     -4382.601      15.189       1.000
  24   28     -4382.809      15.382       1.000
  25   30     -4382.912       7.228       0.284
  26   32     -4383.012      13.897       5.000
  27   33     -4383.055      15.027       1.000
  28   34     -4383.136       6.822       1.000
  29   35     -4383.182      20.385       1.000
  30   36     -4383.213       6.802       1.000
  31   37     -4383.239       5.014       1.000
  32   38     -4383.257       5.641       1.000
  33   39     -4383.270       4.460       1.000
  34   40     -4383.272       3.621       1.000
  35   41     -4383.283       5.170       1.000
  36   42     -4383.294       4.165       1.000
  37   43     -4383.307       3.653       1.000
  38   45     -4383.308       2.265       0.226
Final RAS Transform: 
0.948344 -0.0188852 -0.0786579 0.157396 
-0.018811 1.00223 0.0333204 0.16506 
0.0307568 0.00236484 1.03654 -0.284595 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3073.36   GNORM= 161.686
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3081.520      94.409       0.001
   2    4     -3084.101      19.728       1.000
   3    5     -3084.350      19.381       1.000
   4    6     -3086.300      41.538       1.000
   5    7     -3089.417      72.647       1.000
   6    8     -3093.087      81.975       1.000
   7   10     -3093.469     102.889       0.088
   8   11     -3095.489      53.243       1.000
   9   12     -3096.300      14.837       1.000
  10   13     -3096.374      10.857       1.000
  11   14     -3096.598      16.685       1.000
  12   15     -3096.830      37.022       1.000
  13   16     -3097.165      33.349       1.000
  14   17     -3098.909      24.990       1.000
  15   18     -3099.560      22.783       1.000
  16   19     -3100.413      18.818       1.000
  17   20     -3100.814      27.460       1.000
  18   22     -3100.995      22.663       0.317
  19   23     -3101.271      13.204       1.000
  20   24     -3101.455      10.958       1.000
  21   25     -3101.797      11.152       1.000
  22   27     -3101.992      21.519       0.259
  23   28     -3102.343      15.838       1.000
  24   29     -3102.399      43.309       1.000
  25   30     -3102.726      18.728       1.000
  26   31     -3102.912      14.916       1.000
  27   32     -3103.072      14.175       1.000
  28   34     -3103.144      13.390       0.154
  29   35     -3103.231       4.191       1.000
  30   36     -3103.255       7.264       1.000
  31   37     -3103.269       6.174       1.000
  32   38     -3103.295       3.620       1.000
  33   40     -3103.300       2.798       0.237
  34   42     -3103.304       3.285       0.425
  35   44     -3103.305       3.902       0.260
  36   45     -3103.318       3.609       1.000
  37   47     -3103.334       2.838       0.453
  38   48     -3103.344       5.474       1.000
  39   49     -3103.364       4.104       1.000
  40   50     -3103.365       6.751       1.000
  41   51     -3103.378       2.261       1.000
  42   52     -3103.382       1.848       1.000
  43   53     -3103.406       6.952       1.000
  44   55     -3103.408       7.466       0.321
  45   56     -3103.421       9.471       1.000
  46   57     -3103.434       4.249       1.000
  47   58     -3103.437       3.328       1.000
  48   60     -3103.456       3.432       0.345
  49   61     -3103.458       1.986       1.000
Final RAS Transform: 
0.958761 -0.00879278 -0.0556633 0.179478 
-0.00327277 1.00891 0.0458507 0.137882 
0.0252179 0.00169296 1.03121 -0.17427 
0 0 0 1 

Final RAS Transform: 
0.958761 -0.00879278 -0.0556633 0.179478 
-0.00327277 1.00891 0.0458507 0.137882 
0.0252179 0.00169296 1.03121 -0.17427 
0 0 0 1 


real	0m10.283s
user	0m17.924s
sys	0m0.516s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.644951
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1228
Level     0,  Iter     1:    Energy =   0.1291
Level     0,  Iter     2:    Energy =   0.1340
Level     0,  Iter     3:    Energy =   0.1369
Level     0,  Iter     4:    Energy =   0.1389
Level     0,  Iter     5:    Energy =   0.1399
Level     0,  Iter     6:    Energy =   0.1413
Level     0,  Iter     7:    Energy =   0.1419
Level     0,  Iter     8:    Energy =   0.1430
Level     0,  Iter     9:    Energy =   0.1434
Level     0,  Iter    10:    Energy =   0.1440
Level     0,  Iter    11:    Energy =   0.1444
Level     0,  Iter    12:    Energy =   0.1449
Level     0,  Iter    13:    Energy =   0.1451
Level     0,  Iter    14:    Energy =   0.1453
Level     0,  Iter    15:    Energy =   0.1456
Level     0,  Iter    16:    Energy =   0.1459
Level     0,  Iter    17:    Energy =   0.1462
Level     0,  Iter    18:    Energy =   0.1463
Level     0,  Iter    19:    Energy =   0.1467
Level     0,  Iter    20:    Energy =   0.1467
Level     0,  Iter    21:    Energy =   0.1471
Level     0,  Iter    22:    Energy =   0.1470
Level     0,  Iter    23:    Energy =   0.1474
Level     0,  Iter    24:    Energy =   0.1471
Level     0,  Iter    25:    Energy =   0.1476
Level     0,  Iter    26:    Energy =   0.1474
Level     0,  Iter    27:    Energy =   0.1478
Level     0,  Iter    28:    Energy =   0.1474
Level     0,  Iter    29:    Energy =   0.1478
Level     0,  Iter    30:    Energy =   0.1476
Level     0,  Iter    31:    Energy =   0.1478
Level     0,  Iter    32:    Energy =   0.1475
Level     0,  Iter    33:    Energy =   0.1479
Level     0,  Iter    34:    Energy =   0.1476
Level     0,  Iter    35:    Energy =   0.1479
Level     0,  Iter    36:    Energy =   0.1476
Level     0,  Iter    37:    Energy =   0.1479
Level     0,  Iter    38:    Energy =   0.1477
Level     0,  Iter    39:    Energy =   0.1480
Level     0,  Iter    40:    Energy =   0.1477
Level     0,  Iter    41:    Energy =   0.1481
Level     0,  Iter    42:    Energy =   0.1478
Level     0,  Iter    43:    Energy =   0.1481
Level     0,  Iter    44:    Energy =   0.1479
Level     0,  Iter    45:    Energy =   0.1482
Level     0,  Iter    46:    Energy =   0.1477
Level     0,  Iter    47:    Energy =   0.1482
Level     0,  Iter    48:    Energy =   0.1477
Level     0,  Iter    49:    Energy =   0.1482
Level     0,  Iter    50:    Energy =   0.1476
Level     0,  Iter    51:    Energy =   0.1482
Level     0,  Iter    52:    Energy =   0.1476
Level     0,  Iter    53:    Energy =   0.1480
Level     0,  Iter    54:    Energy =   0.1476
Level     0,  Iter    55:    Energy =   0.1477
Level     0,  Iter    56:    Energy =   0.1472
Level     0,  Iter    57:    Energy =   0.1476
Level     0,  Iter    58:    Energy =   0.1473
Level     0,  Iter    59:    Energy =   0.1474
END OF LEVEL     0    DetJac Range:   0.3423  to   2.3897 
  Avg. Gradient Time  : 0.0087s  34.53% 
  Avg. Gaussian Time  : 0.0126s  49.95% 
  Avg. Iteration Time : 0.0252s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0974
Level     1,  Iter     1:    Energy =   0.1026
Level     1,  Iter     2:    Energy =   0.1067
Level     1,  Iter     3:    Energy =   0.1095
Level     1,  Iter     4:    Energy =   0.1125
Level     1,  Iter     5:    Energy =   0.1152
Level     1,  Iter     6:    Energy =   0.1175
Level     1,  Iter     7:    Energy =   0.1192
Level     1,  Iter     8:    Energy =   0.1206
Level     1,  Iter     9:    Energy =   0.1216
Level     1,  Iter    10:    Energy =   0.1218
Level     1,  Iter    11:    Energy =   0.1222
Level     1,  Iter    12:    Energy =   0.1224
Level     1,  Iter    13:    Energy =   0.1226
Level     1,  Iter    14:    Energy =   0.1228
Level     1,  Iter    15:    Energy =   0.1231
Level     1,  Iter    16:    Energy =   0.1231
Level     1,  Iter    17:    Energy =   0.1233
Level     1,  Iter    18:    Energy =   0.1235
Level     1,  Iter    19:    Energy =   0.1235
Level     1,  Iter    20:    Energy =   0.1238
Level     1,  Iter    21:    Energy =   0.1237
Level     1,  Iter    22:    Energy =   0.1241
Level     1,  Iter    23:    Energy =   0.1240
Level     1,  Iter    24:    Energy =   0.1243
Level     1,  Iter    25:    Energy =   0.1242
Level     1,  Iter    26:    Energy =   0.1244
Level     1,  Iter    27:    Energy =   0.1243
Level     1,  Iter    28:    Energy =   0.1245
Level     1,  Iter    29:    Energy =   0.1244
Level     1,  Iter    30:    Energy =   0.1246
Level     1,  Iter    31:    Energy =   0.1245
Level     1,  Iter    32:    Energy =   0.1246
Level     1,  Iter    33:    Energy =   0.1246
Level     1,  Iter    34:    Energy =   0.1246
Level     1,  Iter    35:    Energy =   0.1247
Level     1,  Iter    36:    Energy =   0.1247
Level     1,  Iter    37:    Energy =   0.1247
Level     1,  Iter    38:    Energy =   0.1247
Level     1,  Iter    39:    Energy =   0.1248
Level     1,  Iter    40:    Energy =   0.1248
Level     1,  Iter    41:    Energy =   0.1249
Level     1,  Iter    42:    Energy =   0.1248
Level     1,  Iter    43:    Energy =   0.1250
Level     1,  Iter    44:    Energy =   0.1249
Level     1,  Iter    45:    Energy =   0.1251
Level     1,  Iter    46:    Energy =   0.1250
Level     1,  Iter    47:    Energy =   0.1251
Level     1,  Iter    48:    Energy =   0.1251
Level     1,  Iter    49:    Energy =   0.1252
Level     1,  Iter    50:    Energy =   0.1252
Level     1,  Iter    51:    Energy =   0.1253
Level     1,  Iter    52:    Energy =   0.1252
Level     1,  Iter    53:    Energy =   0.1253
Level     1,  Iter    54:    Energy =   0.1253
Level     1,  Iter    55:    Energy =   0.1254
Level     1,  Iter    56:    Energy =   0.1253
Level     1,  Iter    57:    Energy =   0.1255
Level     1,  Iter    58:    Energy =   0.1254
Level     1,  Iter    59:    Energy =   0.1256
END OF LEVEL     1    DetJac Range:   0.1270  to   3.1595 
  Avg. Gradient Time  : 0.0484s  32.35% 
  Avg. Gaussian Time  : 0.0817s  54.63% 
  Avg. Iteration Time : 0.1496s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0620
Level     2,  Iter     1:    Energy =   0.0643
Level     2,  Iter     2:    Energy =   0.0667
Level     2,  Iter     3:    Energy =   0.0687
Level     2,  Iter     4:    Energy =   0.0703
Level     2,  Iter     5:    Energy =   0.0716
Level     2,  Iter     6:    Energy =   0.0728
Level     2,  Iter     7:    Energy =   0.0740
Level     2,  Iter     8:    Energy =   0.0750
Level     2,  Iter     9:    Energy =   0.0760
Level     2,  Iter    10:    Energy =   0.0771
Level     2,  Iter    11:    Energy =   0.0779
Level     2,  Iter    12:    Energy =   0.0787
Level     2,  Iter    13:    Energy =   0.0795
Level     2,  Iter    14:    Energy =   0.0801
Level     2,  Iter    15:    Energy =   0.0806
Level     2,  Iter    16:    Energy =   0.0811
Level     2,  Iter    17:    Energy =   0.0816
Level     2,  Iter    18:    Energy =   0.0815
Level     2,  Iter    19:    Energy =   0.0820
END OF LEVEL     2    DetJac Range:   0.0735  to   4.4553 
  Avg. Gradient Time  : 0.3117s  27.28% 
  Avg. Gaussian Time  : 0.6909s  60.46% 
  Avg. Iteration Time : 1.1428s 

real	0m38.558s
user	1m9.992s
sys	0m2.284s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.453846 0.459615
+ echo 'CHUNK 0.453846 0.459615 1'
CHUNK 0.453846 0.459615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.453846 0.459615 1
====================================
         PROGRESS: 0.453846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 019 right 0
+ local tid=019
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.479351
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3097.83   GNORM= 782.733
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3267.612     174.252       0.001
   2    4     -3281.752     139.088       1.000
   3    5     -3304.146     110.152       1.000
   4    6     -3312.475      75.995       1.000
   5    7     -3328.742      57.881       1.000
   6    8     -3342.452     105.584       1.000
   7    9     -3357.107     126.213       1.000
   8   10     -3382.616     131.648       1.000
   9   11     -3390.156      61.769       1.000
  10   12     -3393.270      31.548       1.000
  11   13     -3394.258      24.390       1.000
  12   14     -3396.447      24.778       1.000
  13   15     -3396.917      70.992       1.000
  14   16     -3400.309      22.430       1.000
  15   17     -3401.013      11.444       1.000
  16   18     -3401.228      15.542       1.000
  17   19     -3401.441      10.522       1.000
  18   20     -3401.659      13.820       1.000
  19   21     -3401.938      17.732       1.000
  20   22     -3402.126      14.698       1.000
  21   23     -3402.223      16.792       1.000
  22   24     -3402.406      11.932       1.000
  23   25     -3402.502      11.595       1.000
  24   27     -3402.540       8.775       0.341
  25   28     -3402.584       7.019       1.000
  26   29     -3402.600      10.980       1.000
  27   30     -3402.677       5.878       1.000
  28   32     -3402.706       7.682       0.482
  29   33     -3402.750      13.081       1.000
  30   34     -3402.796       5.764       1.000
  31   35     -3402.822       5.967       1.000
  32   37     -3402.850       3.960       0.174
  33   38     -3402.886       3.611       1.000
  34   40     -3402.924       4.185       0.440
  35   41     -3402.950       6.162       1.000
  36   43     -3402.962       4.164       0.385
  37   45     -3402.964       3.002       0.287
  38   46     -3402.971       2.575       1.000
  39   47     -3402.978       2.848       1.000
  40   48     -3403.005       3.450       1.000
  41   49     -3403.021       7.687       1.000
  42   51     -3403.025       4.233       0.331
  43   52     -3403.030       4.018       1.000
  44   53     -3403.040       1.452       1.000
Final RAS Transform: 
0.946701 0.0152021 -0.00202732 1.14403 
-0.00380612 0.975327 -0.0371717 -0.760675 
0.0206767 0.00655674 1.02779 -0.235872 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2681.09   GNORM= 146.205
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2690.399      86.345       0.001
   2    4     -2693.253      17.324       1.000
   3    5     -2693.433      16.108       1.000
   4    6     -2695.523      45.168       1.000
   5    7     -2697.408      69.905       1.000
   6    8     -2700.266      78.580       1.000
   7    9     -2701.064     164.729       1.000
   8   10     -2706.523      13.718       1.000
   9   11     -2706.627      13.304       1.000
  10   12     -2706.925      16.781       1.000
  11   13     -2707.839      37.878       1.000
  12   14     -2708.657      29.847       1.000
  13   15     -2709.622      15.763       1.000
  14   16     -2710.161      11.403       1.000
  15   18     -2710.396      19.121       0.486
  16   19     -2710.674      12.403       1.000
  17   20     -2710.807      16.633       1.000
  18   21     -2710.927       5.687       1.000
  19   22     -2711.002       5.560       1.000
  20   23     -2711.057       6.186       1.000
  21   24     -2711.123       2.876       1.000
  22   25     -2711.182       2.879       1.000
  23   27     -2711.211       6.483       0.274
  24   28     -2711.236       5.298       1.000
  25   29     -2711.253       4.374       1.000
  26   30     -2711.257       2.223       1.000
  27   31     -2711.268       3.641       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.970945 0.0150835 0.00334982 0.837373 
-0.00977227 0.985646 -0.0276318 -0.385692 
0.00989281 0.00191151 1.0204 -0.239497 
0 0 0 1 

Final RAS Transform: 
0.970945 0.0150835 0.00334982 0.837373 
-0.00977227 0.985646 -0.0276318 -0.385692 
0.00989281 0.00191151 1.0204 -0.239497 
0 0 0 1 


real	0m9.465s
user	0m16.284s
sys	0m0.472s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.487917
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0969
Level     0,  Iter     1:    Energy =   0.1018
Level     0,  Iter     2:    Energy =   0.1080
Level     0,  Iter     3:    Energy =   0.1115
Level     0,  Iter     4:    Energy =   0.1141
Level     0,  Iter     5:    Energy =   0.1157
Level     0,  Iter     6:    Energy =   0.1173
Level     0,  Iter     7:    Energy =   0.1182
Level     0,  Iter     8:    Energy =   0.1192
Level     0,  Iter     9:    Energy =   0.1197
Level     0,  Iter    10:    Energy =   0.1205
Level     0,  Iter    11:    Energy =   0.1208
Level     0,  Iter    12:    Energy =   0.1214
Level     0,  Iter    13:    Energy =   0.1216
Level     0,  Iter    14:    Energy =   0.1221
Level     0,  Iter    15:    Energy =   0.1222
Level     0,  Iter    16:    Energy =   0.1227
Level     0,  Iter    17:    Energy =   0.1227
Level     0,  Iter    18:    Energy =   0.1231
Level     0,  Iter    19:    Energy =   0.1232
Level     0,  Iter    20:    Energy =   0.1235
Level     0,  Iter    21:    Energy =   0.1235
Level     0,  Iter    22:    Energy =   0.1238
Level     0,  Iter    23:    Energy =   0.1238
Level     0,  Iter    24:    Energy =   0.1240
Level     0,  Iter    25:    Energy =   0.1240
Level     0,  Iter    26:    Energy =   0.1242
Level     0,  Iter    27:    Energy =   0.1242
Level     0,  Iter    28:    Energy =   0.1243
Level     0,  Iter    29:    Energy =   0.1243
Level     0,  Iter    30:    Energy =   0.1246
Level     0,  Iter    31:    Energy =   0.1245
Level     0,  Iter    32:    Energy =   0.1246
Level     0,  Iter    33:    Energy =   0.1246
Level     0,  Iter    34:    Energy =   0.1248
Level     0,  Iter    35:    Energy =   0.1247
Level     0,  Iter    36:    Energy =   0.1249
Level     0,  Iter    37:    Energy =   0.1248
Level     0,  Iter    38:    Energy =   0.1250
Level     0,  Iter    39:    Energy =   0.1249
Level     0,  Iter    40:    Energy =   0.1251
Level     0,  Iter    41:    Energy =   0.1250
Level     0,  Iter    42:    Energy =   0.1253
Level     0,  Iter    43:    Energy =   0.1251
Level     0,  Iter    44:    Energy =   0.1253
Level     0,  Iter    45:    Energy =   0.1253
Level     0,  Iter    46:    Energy =   0.1255
Level     0,  Iter    47:    Energy =   0.1254
Level     0,  Iter    48:    Energy =   0.1256
Level     0,  Iter    49:    Energy =   0.1255
Level     0,  Iter    50:    Energy =   0.1257
Level     0,  Iter    51:    Energy =   0.1256
Level     0,  Iter    52:    Energy =   0.1258
Level     0,  Iter    53:    Energy =   0.1256
Level     0,  Iter    54:    Energy =   0.1259
Level     0,  Iter    55:    Energy =   0.1257
Level     0,  Iter    56:    Energy =   0.1260
Level     0,  Iter    57:    Energy =   0.1258
Level     0,  Iter    58:    Energy =   0.1260
Level     0,  Iter    59:    Energy =   0.1258
END OF LEVEL     0    DetJac Range:   0.1800  to   2.2186 
  Avg. Gradient Time  : 0.0078s  34.49% 
  Avg. Gaussian Time  : 0.0113s  50.13% 
  Avg. Iteration Time : 0.0226s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0909
Level     1,  Iter     1:    Energy =   0.0957
Level     1,  Iter     2:    Energy =   0.0998
Level     1,  Iter     3:    Energy =   0.1032
Level     1,  Iter     4:    Energy =   0.1056
Level     1,  Iter     5:    Energy =   0.1076
Level     1,  Iter     6:    Energy =   0.1093
Level     1,  Iter     7:    Energy =   0.1110
Level     1,  Iter     8:    Energy =   0.1127
Level     1,  Iter     9:    Energy =   0.1144
Level     1,  Iter    10:    Energy =   0.1151
Level     1,  Iter    11:    Energy =   0.1158
Level     1,  Iter    12:    Energy =   0.1163
Level     1,  Iter    13:    Energy =   0.1166
Level     1,  Iter    14:    Energy =   0.1172
Level     1,  Iter    15:    Energy =   0.1174
Level     1,  Iter    16:    Energy =   0.1180
Level     1,  Iter    17:    Energy =   0.1180
Level     1,  Iter    18:    Energy =   0.1185
Level     1,  Iter    19:    Energy =   0.1185
Level     1,  Iter    20:    Energy =   0.1191
Level     1,  Iter    21:    Energy =   0.1190
Level     1,  Iter    22:    Energy =   0.1194
Level     1,  Iter    23:    Energy =   0.1193
Level     1,  Iter    24:    Energy =   0.1195
Level     1,  Iter    25:    Energy =   0.1194
Level     1,  Iter    26:    Energy =   0.1198
Level     1,  Iter    27:    Energy =   0.1197
Level     1,  Iter    28:    Energy =   0.1199
Level     1,  Iter    29:    Energy =   0.1198
Level     1,  Iter    30:    Energy =   0.1201
Level     1,  Iter    31:    Energy =   0.1200
Level     1,  Iter    32:    Energy =   0.1202
Level     1,  Iter    33:    Energy =   0.1201
Level     1,  Iter    34:    Energy =   0.1203
Level     1,  Iter    35:    Energy =   0.1202
Level     1,  Iter    36:    Energy =   0.1204
Level     1,  Iter    37:    Energy =   0.1203
Level     1,  Iter    38:    Energy =   0.1205
Level     1,  Iter    39:    Energy =   0.1204
Level     1,  Iter    40:    Energy =   0.1205
Level     1,  Iter    41:    Energy =   0.1204
Level     1,  Iter    42:    Energy =   0.1206
Level     1,  Iter    43:    Energy =   0.1205
Level     1,  Iter    44:    Energy =   0.1207
Level     1,  Iter    45:    Energy =   0.1206
Level     1,  Iter    46:    Energy =   0.1207
Level     1,  Iter    47:    Energy =   0.1206
Level     1,  Iter    48:    Energy =   0.1208
Level     1,  Iter    49:    Energy =   0.1207
Level     1,  Iter    50:    Energy =   0.1208
Level     1,  Iter    51:    Energy =   0.1207
Level     1,  Iter    52:    Energy =   0.1209
Level     1,  Iter    53:    Energy =   0.1208
Level     1,  Iter    54:    Energy =   0.1210
Level     1,  Iter    55:    Energy =   0.1209
Level     1,  Iter    56:    Energy =   0.1210
Level     1,  Iter    57:    Energy =   0.1209
Level     1,  Iter    58:    Energy =   0.1211
Level     1,  Iter    59:    Energy =   0.1210
END OF LEVEL     1    DetJac Range:   0.0737  to   4.3526 
  Avg. Gradient Time  : 0.0433s  32.64% 
  Avg. Gaussian Time  : 0.0723s  54.52% 
  Avg. Iteration Time : 0.1325s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0596
Level     2,  Iter     1:    Energy =   0.0621
Level     2,  Iter     2:    Energy =   0.0642
Level     2,  Iter     3:    Energy =   0.0661
Level     2,  Iter     4:    Energy =   0.0676
Level     2,  Iter     5:    Energy =   0.0688
Level     2,  Iter     6:    Energy =   0.0698
Level     2,  Iter     7:    Energy =   0.0706
Level     2,  Iter     8:    Energy =   0.0712
Level     2,  Iter     9:    Energy =   0.0718
Level     2,  Iter    10:    Energy =   0.0722
Level     2,  Iter    11:    Energy =   0.0726
Level     2,  Iter    12:    Energy =   0.0730
Level     2,  Iter    13:    Energy =   0.0733
Level     2,  Iter    14:    Energy =   0.0737
Level     2,  Iter    15:    Energy =   0.0741
Level     2,  Iter    16:    Energy =   0.0744
Level     2,  Iter    17:    Energy =   0.0748
Level     2,  Iter    18:    Energy =   0.0751
Level     2,  Iter    19:    Energy =   0.0755
END OF LEVEL     2    DetJac Range:   0.0421  to   4.5131 
  Avg. Gradient Time  : 0.3060s  26.73% 
  Avg. Gaussian Time  : 0.7007s  61.22% 
  Avg. Iteration Time : 1.1446s 

real	0m37.162s
user	1m7.520s
sys	0m2.136s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.459615 0.465385
+ echo 'CHUNK 0.459615 0.465385 1'
CHUNK 0.459615 0.465385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.459615 0.465385 1
====================================
         PROGRESS: 0.459615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 020 right 0
+ local tid=020
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.477857
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3090.88   GNORM= 630.199
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3191.731     199.117       0.000
   2    4     -3210.146     190.787       1.000
   3    5     -3268.598     150.628       1.000
   4    6     -3298.141     136.018       1.000
   5    7     -3320.426     100.320       1.000
   6    8     -3339.806     109.153       1.000
   7    9     -3392.482     127.074       1.000
   8   10     -3434.509     150.349       1.000
   9   11     -3458.932     100.731       1.000
  10   12     -3467.322      45.113       1.000
  11   13     -3467.941      25.558       1.000
  12   14     -3468.368      17.774       1.000
  13   15     -3469.203      22.695       1.000
  14   16     -3470.009      31.075       1.000
  15   17     -3470.679      17.791       1.000
  16   18     -3471.344      16.964       1.000
  17   19     -3471.599       8.290       1.000
  18   20     -3471.657       8.540       1.000
  19   21     -3471.851       9.869       1.000
  20   22     -3472.207      18.013       1.000
  21   23     -3472.406      19.592       1.000
  22   25     -3472.546       7.244       0.333
  23   26     -3472.603       8.070       1.000
  24   28     -3472.634       9.456       0.496
  25   29     -3472.668       5.892       1.000
  26   31     -3472.707       6.204       0.486
  27   32     -3472.723       8.085       1.000
  28   33     -3472.748       3.115       1.000
  29   34     -3472.775       5.689       1.000
  30   35     -3472.779       6.111       1.000
  31   37     -3472.789       4.052       0.259
  32   38     -3472.797       3.028       1.000
  33   40     -3472.799       2.256       0.513
  34   43     -3472.802       3.107       0.080
  35   46     -3472.819       3.858       2.057
Final RAS Transform: 
0.914739 -0.02433 -0.0599368 0.664068 
-0.00525783 1.00513 -0.0131456 0.320407 
0.0633076 -0.000959268 1.07635 -0.947726 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2632.69   GNORM= 78.1528
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2637.226      53.591       0.001
   2    5     -2638.686      33.917       0.522
   3    6     -2639.294      28.825       1.000
   4    7     -2641.026      37.213       1.000
   5    8     -2645.008      68.737       1.000
   6    9     -2651.003      80.831       1.000
   7   10     -2663.394     107.554       1.000
   8   12     -2667.581      68.563       0.518
   9   13     -2669.068      54.757       1.000
  10   14     -2670.297      25.576       1.000
  11   15     -2670.950      17.086       1.000
  12   17     -2672.954      23.831       5.000
  13   18     -2673.714      29.562       1.000
  14   19     -2674.393      42.348       1.000
  15   20     -2675.372      21.457       1.000
  16   21     -2675.752      19.101       1.000
  17   22     -2676.235      16.839       1.000
  18   23     -2677.699      19.329       1.000
  19   24     -2678.695       9.827       1.000
  20   25     -2679.284      31.370       1.000
  21   26     -2679.632      47.006       1.000
  22   27     -2679.895      26.860       1.000
  23   28     -2680.100       4.331       1.000
  24   29     -2680.151       6.794       1.000
  25   30     -2680.209       6.190       1.000
  26   32     -2680.262       8.171       0.291
  27   33     -2680.281       5.193       1.000
  28   34     -2680.305       5.898       1.000
  29   35     -2680.323       6.942       1.000
  30   36     -2680.349       5.916       1.000
  31   37     -2680.382       5.810       1.000
  32   38     -2680.426       5.036       1.000
  33   39     -2680.440       3.453       1.000
  34   40     -2680.446       8.910       1.000
  35   41     -2680.476       5.491       1.000
  36   42     -2680.487       9.903       1.000
  37   43     -2680.507       2.783       1.000
Final RAS Transform: 
0.931482 -0.0310257 -0.0879952 -0.00830922 
0.00669693 0.997507 -0.00800393 0.0453444 
0.0484034 0.0163925 1.10806 -0.0555817 
0 0 0 1 

Final RAS Transform: 
0.931482 -0.0310257 -0.0879952 -0.00830922 
0.00669693 0.997507 -0.00800393 0.0453444 
0.0484034 0.0163925 1.10806 -0.0555817 
0 0 0 1 


real	0m10.654s
user	0m18.620s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.479724
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0966
Level     0,  Iter     1:    Energy =   0.1035
Level     0,  Iter     2:    Energy =   0.1097
Level     0,  Iter     3:    Energy =   0.1146
Level     0,  Iter     4:    Energy =   0.1177
Level     0,  Iter     5:    Energy =   0.1195
Level     0,  Iter     6:    Energy =   0.1221
Level     0,  Iter     7:    Energy =   0.1229
Level     0,  Iter     8:    Energy =   0.1246
Level     0,  Iter     9:    Energy =   0.1249
Level     0,  Iter    10:    Energy =   0.1261
Level     0,  Iter    11:    Energy =   0.1263
Level     0,  Iter    12:    Energy =   0.1273
Level     0,  Iter    13:    Energy =   0.1274
Level     0,  Iter    14:    Energy =   0.1284
Level     0,  Iter    15:    Energy =   0.1284
Level     0,  Iter    16:    Energy =   0.1292
Level     0,  Iter    17:    Energy =   0.1290
Level     0,  Iter    18:    Energy =   0.1296
Level     0,  Iter    19:    Energy =   0.1294
Level     0,  Iter    20:    Energy =   0.1299
Level     0,  Iter    21:    Energy =   0.1297
Level     0,  Iter    22:    Energy =   0.1302
Level     0,  Iter    23:    Energy =   0.1299
Level     0,  Iter    24:    Energy =   0.1304
Level     0,  Iter    25:    Energy =   0.1301
Level     0,  Iter    26:    Energy =   0.1306
Level     0,  Iter    27:    Energy =   0.1303
Level     0,  Iter    28:    Energy =   0.1308
Level     0,  Iter    29:    Energy =   0.1304
Level     0,  Iter    30:    Energy =   0.1309
Level     0,  Iter    31:    Energy =   0.1305
Level     0,  Iter    32:    Energy =   0.1309
Level     0,  Iter    33:    Energy =   0.1306
Level     0,  Iter    34:    Energy =   0.1310
Level     0,  Iter    35:    Energy =   0.1306
Level     0,  Iter    36:    Energy =   0.1310
Level     0,  Iter    37:    Energy =   0.1306
Level     0,  Iter    38:    Energy =   0.1310
Level     0,  Iter    39:    Energy =   0.1307
Level     0,  Iter    40:    Energy =   0.1310
Level     0,  Iter    41:    Energy =   0.1307
Level     0,  Iter    42:    Energy =   0.1310
Level     0,  Iter    43:    Energy =   0.1307
Level     0,  Iter    44:    Energy =   0.1310
Level     0,  Iter    45:    Energy =   0.1307
Level     0,  Iter    46:    Energy =   0.1311
Level     0,  Iter    47:    Energy =   0.1307
Level     0,  Iter    48:    Energy =   0.1311
Level     0,  Iter    49:    Energy =   0.1307
Level     0,  Iter    50:    Energy =   0.1311
Level     0,  Iter    51:    Energy =   0.1307
Level     0,  Iter    52:    Energy =   0.1311
Level     0,  Iter    53:    Energy =   0.1308
Level     0,  Iter    54:    Energy =   0.1311
Level     0,  Iter    55:    Energy =   0.1308
Level     0,  Iter    56:    Energy =   0.1312
Level     0,  Iter    57:    Energy =   0.1308
Level     0,  Iter    58:    Energy =   0.1312
Level     0,  Iter    59:    Energy =   0.1308
END OF LEVEL     0    DetJac Range:   0.3127  to   1.8821 
  Avg. Gradient Time  : 0.0077s  34.26% 
  Avg. Gaussian Time  : 0.0113s  50.47% 
  Avg. Iteration Time : 0.0224s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0897
Level     1,  Iter     1:    Energy =   0.0941
Level     1,  Iter     2:    Energy =   0.0974
Level     1,  Iter     3:    Energy =   0.1001
Level     1,  Iter     4:    Energy =   0.1025
Level     1,  Iter     5:    Energy =   0.1048
Level     1,  Iter     6:    Energy =   0.1068
Level     1,  Iter     7:    Energy =   0.1084
Level     1,  Iter     8:    Energy =   0.1099
Level     1,  Iter     9:    Energy =   0.1114
Level     1,  Iter    10:    Energy =   0.1128
Level     1,  Iter    11:    Energy =   0.1143
Level     1,  Iter    12:    Energy =   0.1156
Level     1,  Iter    13:    Energy =   0.1160
Level     1,  Iter    14:    Energy =   0.1166
Level     1,  Iter    15:    Energy =   0.1168
Level     1,  Iter    16:    Energy =   0.1172
Level     1,  Iter    17:    Energy =   0.1173
Level     1,  Iter    18:    Energy =   0.1176
Level     1,  Iter    19:    Energy =   0.1178
Level     1,  Iter    20:    Energy =   0.1180
Level     1,  Iter    21:    Energy =   0.1182
Level     1,  Iter    22:    Energy =   0.1183
Level     1,  Iter    23:    Energy =   0.1186
Level     1,  Iter    24:    Energy =   0.1186
Level     1,  Iter    25:    Energy =   0.1191
Level     1,  Iter    26:    Energy =   0.1190
Level     1,  Iter    27:    Energy =   0.1195
Level     1,  Iter    28:    Energy =   0.1194
Level     1,  Iter    29:    Energy =   0.1198
Level     1,  Iter    30:    Energy =   0.1196
Level     1,  Iter    31:    Energy =   0.1200
Level     1,  Iter    32:    Energy =   0.1198
Level     1,  Iter    33:    Energy =   0.1203
Level     1,  Iter    34:    Energy =   0.1201
Level     1,  Iter    35:    Energy =   0.1204
Level     1,  Iter    36:    Energy =   0.1202
Level     1,  Iter    37:    Energy =   0.1206
Level     1,  Iter    38:    Energy =   0.1204
Level     1,  Iter    39:    Energy =   0.1208
Level     1,  Iter    40:    Energy =   0.1205
Level     1,  Iter    41:    Energy =   0.1209
Level     1,  Iter    42:    Energy =   0.1207
Level     1,  Iter    43:    Energy =   0.1211
Level     1,  Iter    44:    Energy =   0.1208
Level     1,  Iter    45:    Energy =   0.1212
Level     1,  Iter    46:    Energy =   0.1209
Level     1,  Iter    47:    Energy =   0.1213
Level     1,  Iter    48:    Energy =   0.1210
Level     1,  Iter    49:    Energy =   0.1213
Level     1,  Iter    50:    Energy =   0.1211
Level     1,  Iter    51:    Energy =   0.1214
Level     1,  Iter    52:    Energy =   0.1211
Level     1,  Iter    53:    Energy =   0.1215
Level     1,  Iter    54:    Energy =   0.1212
Level     1,  Iter    55:    Energy =   0.1216
Level     1,  Iter    56:    Energy =   0.1213
Level     1,  Iter    57:    Energy =   0.1216
Level     1,  Iter    58:    Energy =   0.1213
Level     1,  Iter    59:    Energy =   0.1217
END OF LEVEL     1    DetJac Range:   0.1234  to   3.1474 
  Avg. Gradient Time  : 0.0435s  32.80% 
  Avg. Gaussian Time  : 0.0721s  54.40% 
  Avg. Iteration Time : 0.1326s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0599
Level     2,  Iter     1:    Energy =   0.0628
Level     2,  Iter     2:    Energy =   0.0651
Level     2,  Iter     3:    Energy =   0.0671
Level     2,  Iter     4:    Energy =   0.0688
Level     2,  Iter     5:    Energy =   0.0703
Level     2,  Iter     6:    Energy =   0.0716
Level     2,  Iter     7:    Energy =   0.0728
Level     2,  Iter     8:    Energy =   0.0738
Level     2,  Iter     9:    Energy =   0.0747
Level     2,  Iter    10:    Energy =   0.0755
Level     2,  Iter    11:    Energy =   0.0763
Level     2,  Iter    12:    Energy =   0.0769
Level     2,  Iter    13:    Energy =   0.0775
Level     2,  Iter    14:    Energy =   0.0780
Level     2,  Iter    15:    Energy =   0.0785
Level     2,  Iter    16:    Energy =   0.0790
Level     2,  Iter    17:    Energy =   0.0794
Level     2,  Iter    18:    Energy =   0.0797
Level     2,  Iter    19:    Energy =   0.0799
END OF LEVEL     2    DetJac Range:   0.0406  to   4.3615 
  Avg. Gradient Time  : 0.3058s  26.91% 
  Avg. Gaussian Time  : 0.6932s  61.00% 
  Avg. Iteration Time : 1.1364s 

real	0m36.963s
user	1m7.148s
sys	0m2.132s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.465385 0.471154
+ echo 'CHUNK 0.465385 0.471154 1'
CHUNK 0.465385 0.471154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.465385 0.471154 1
====================================
         PROGRESS: 0.465385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 021 right 0
+ local tid=021
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.693105
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3384.96   GNORM= 825.503
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3535.326     159.240       0.000
   2    4     -3545.902     147.959       1.000
   3    5     -3588.395     143.734       1.000
   4    6     -3609.595      87.895       1.000
   5    7     -3627.898      83.942       1.000
   6    8     -3652.274     124.774       1.000
   7    9     -3674.985     106.521       1.000
   8   11     -3685.795     193.659       0.238
   9   12     -3702.078      55.367       1.000
  10   13     -3704.963      55.508       1.000
  11   14     -3714.266      52.887       1.000
  12   15     -3732.498      64.592       1.000
  13   16     -3735.770      81.874       1.000
  14   17     -3739.214     166.045       1.000
  15   18     -3746.550      34.696       1.000
  16   19     -3746.965      35.045       1.000
  17   20     -3748.658      27.622       1.000
  18   21     -3752.827      38.954       1.000
  19   23     -3754.467      30.215       0.518
  20   24     -3755.078      16.351       1.000
  21   25     -3755.325      14.616       1.000
  22   27     -3755.577      17.172       0.333
  23   29     -3755.687      12.213       0.374
  24   30     -3755.803      12.602       1.000
  25   31     -3756.197      15.855       1.000
  26   32     -3756.517      11.842       1.000
  27   34     -3756.725       9.997       0.452
  28   35     -3757.003      13.283       1.000
  29   36     -3757.381      10.625       1.000
  30   37     -3757.480      20.792       1.000
  31   38     -3757.545      41.206       1.000
  32   39     -3757.849      11.720       1.000
  33   40     -3757.896       8.391       1.000
  34   41     -3757.944       5.938       1.000
  35   43     -3757.988      11.535       0.289
  36   44     -3758.047      10.015       1.000
  37   45     -3758.140       6.520       1.000
  38   46     -3758.196       9.961       1.000
  39   47     -3758.229       3.627       1.000
  40   48     -3758.238       5.345       1.000
  41   51     -3758.323      15.536       1.374
  42   52     -3758.421      11.962       1.000
  43   54     -3758.487       7.026       0.443
  44   55     -3758.489       4.861       1.000
  45   56     -3758.516       9.846       1.000
  46   57     -3758.560       7.109       1.000
  47   58     -3758.587       4.242       1.000
  48   59     -3758.597       5.683       1.000
  49   60     -3758.618       5.736       1.000
  50   61     -3758.661       5.863       1.000
Final RAS Transform: 
0.917615 -0.00300433 -0.0537014 1.39363 
-0.00552491 0.963434 -0.0540445 -0.7298 
0.0527912 0.0173758 1.08233 -0.517488 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2624.59   GNORM= 357.054
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2648.915      95.340       0.000
   2    4     -2651.820      57.058       1.000
   3    5     -2653.815      47.761       1.000
   4    6     -2655.424      27.363       1.000
   5    7     -2656.080      21.924       1.000
   6    8     -2661.173      57.506       1.000
   7    9     -2664.300      41.217       1.000
   8   10     -2666.079      35.302       1.000
   9   12     -2666.492      14.690       0.364
  10   14     -2666.778      12.323       5.000
  11   15     -2667.605      27.504       1.000
  12   16     -2668.601      23.224       1.000
  13   17     -2669.309      13.261       1.000
  14   18     -2670.026      22.833       1.000
  15   19     -2670.833      24.708       1.000
  16   20     -2672.039      38.772       1.000
  17   21     -2672.441      20.902       1.000
  18   22     -2672.553      15.427       1.000
  19   23     -2672.801      17.003       1.000
  20   24     -2673.014       9.511       1.000
  21   25     -2673.205       7.850       1.000
  22   26     -2673.277      20.703       1.000
  23   27     -2673.374      11.300       1.000
  24   28     -2673.400       4.998       1.000
  25   29     -2673.413       4.475       1.000
  26   30     -2673.468       8.085       1.000
  27   31     -2673.537      20.729       1.000
  28   32     -2673.604      12.311       1.000
  29   33     -2673.749       4.243       1.000
  30   36     -2673.827       8.560       2.420
  31   38     -2673.856       9.079       0.312
  32   39     -2673.909       5.857       1.000
  33   40     -2673.974       6.316       1.000
  34   41     -2674.240      13.550       1.000
  35   42     -2674.415      12.652       1.000
  36   43     -2674.827      11.705       1.000
  37   44     -2675.071      10.042       1.000
  38   46     -2675.132      13.105       0.226
  39   47     -2675.208      10.468       1.000
  40   48     -2675.295      13.744       1.000
  41   49     -2675.356       7.351       1.000
  42   50     -2675.453       7.982       1.000
  43   51     -2675.620      11.611       1.000
  44   52     -2675.807      12.783       1.000
  45   54     -2675.980      17.612       0.145
  46   55     -2676.042      14.396       1.000
  47   56     -2676.073       6.905       1.000
  48   57     -2676.097       5.213       1.000
  49   58     -2676.132       5.415       1.000
  50   60     -2676.154       5.436       0.183
  51   61     -2676.176       2.136       1.000
Final RAS Transform: 
0.944873 -0.00713489 -0.0399634 0.543077 
-0.000553613 0.968372 -0.0637383 -0.673344 
0.0325166 0.0171172 1.082 -0.240146 
0 0 0 1 

Final RAS Transform: 
0.944873 -0.00713489 -0.0399634 0.543077 
-0.000553613 0.968372 -0.0637383 -0.673344 
0.0325166 0.0171172 1.082 -0.240146 
0 0 0 1 


real	0m10.877s
user	0m19.020s
sys	0m0.532s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.690013
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1054
Level     0,  Iter     1:    Energy =   0.1130
Level     0,  Iter     2:    Energy =   0.1194
Level     0,  Iter     3:    Energy =   0.1244
Level     0,  Iter     4:    Energy =   0.1270
Level     0,  Iter     5:    Energy =   0.1283
Level     0,  Iter     6:    Energy =   0.1292
Level     0,  Iter     7:    Energy =   0.1300
Level     0,  Iter     8:    Energy =   0.1307
Level     0,  Iter     9:    Energy =   0.1316
Level     0,  Iter    10:    Energy =   0.1323
Level     0,  Iter    11:    Energy =   0.1331
Level     0,  Iter    12:    Energy =   0.1338
Level     0,  Iter    13:    Energy =   0.1341
Level     0,  Iter    14:    Energy =   0.1347
Level     0,  Iter    15:    Energy =   0.1351
Level     0,  Iter    16:    Energy =   0.1355
Level     0,  Iter    17:    Energy =   0.1354
Level     0,  Iter    18:    Energy =   0.1358
Level     0,  Iter    19:    Energy =   0.1358
Level     0,  Iter    20:    Energy =   0.1362
Level     0,  Iter    21:    Energy =   0.1363
Level     0,  Iter    22:    Energy =   0.1367
Level     0,  Iter    23:    Energy =   0.1365
Level     0,  Iter    24:    Energy =   0.1369
Level     0,  Iter    25:    Energy =   0.1369
Level     0,  Iter    26:    Energy =   0.1372
Level     0,  Iter    27:    Energy =   0.1370
Level     0,  Iter    28:    Energy =   0.1373
Level     0,  Iter    29:    Energy =   0.1371
Level     0,  Iter    30:    Energy =   0.1374
Level     0,  Iter    31:    Energy =   0.1372
Level     0,  Iter    32:    Energy =   0.1374
Level     0,  Iter    33:    Energy =   0.1372
Level     0,  Iter    34:    Energy =   0.1375
Level     0,  Iter    35:    Energy =   0.1372
Level     0,  Iter    36:    Energy =   0.1377
Level     0,  Iter    37:    Energy =   0.1379
Level     0,  Iter    38:    Energy =   0.1381
Level     0,  Iter    39:    Energy =   0.1377
Level     0,  Iter    40:    Energy =   0.1379
Level     0,  Iter    41:    Energy =   0.1375
Level     0,  Iter    42:    Energy =   0.1379
Level     0,  Iter    43:    Energy =   0.1376
Level     0,  Iter    44:    Energy =   0.1381
Level     0,  Iter    45:    Energy =   0.1381
Level     0,  Iter    46:    Energy =   0.1383
Level     0,  Iter    47:    Energy =   0.1378
Level     0,  Iter    48:    Energy =   0.1380
Level     0,  Iter    49:    Energy =   0.1376
Level     0,  Iter    50:    Energy =   0.1380
Level     0,  Iter    51:    Energy =   0.1379
Level     0,  Iter    52:    Energy =   0.1384
Level     0,  Iter    53:    Energy =   0.1381
Level     0,  Iter    54:    Energy =   0.1386
Level     0,  Iter    55:    Energy =   0.1384
Level     0,  Iter    56:    Energy =   0.1388
Level     0,  Iter    57:    Energy =   0.1386
Level     0,  Iter    58:    Energy =   0.1389
Level     0,  Iter    59:    Energy =   0.1384
END OF LEVEL     0    DetJac Range:   0.2706  to   2.0089 
  Avg. Gradient Time  : 0.0077s  34.28% 
  Avg. Gaussian Time  : 0.0114s  50.43% 
  Avg. Iteration Time : 0.0225s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0923
Level     1,  Iter     1:    Energy =   0.0969
Level     1,  Iter     2:    Energy =   0.1008
Level     1,  Iter     3:    Energy =   0.1040
Level     1,  Iter     4:    Energy =   0.1071
Level     1,  Iter     5:    Energy =   0.1098
Level     1,  Iter     6:    Energy =   0.1117
Level     1,  Iter     7:    Energy =   0.1128
Level     1,  Iter     8:    Energy =   0.1133
Level     1,  Iter     9:    Energy =   0.1140
Level     1,  Iter    10:    Energy =   0.1144
Level     1,  Iter    11:    Energy =   0.1148
Level     1,  Iter    12:    Energy =   0.1154
Level     1,  Iter    13:    Energy =   0.1155
Level     1,  Iter    14:    Energy =   0.1161
Level     1,  Iter    15:    Energy =   0.1161
Level     1,  Iter    16:    Energy =   0.1168
Level     1,  Iter    17:    Energy =   0.1167
Level     1,  Iter    18:    Energy =   0.1174
Level     1,  Iter    19:    Energy =   0.1173
Level     1,  Iter    20:    Energy =   0.1179
Level     1,  Iter    21:    Energy =   0.1177
Level     1,  Iter    22:    Energy =   0.1182
Level     1,  Iter    23:    Energy =   0.1180
Level     1,  Iter    24:    Energy =   0.1184
Level     1,  Iter    25:    Energy =   0.1183
Level     1,  Iter    26:    Energy =   0.1186
Level     1,  Iter    27:    Energy =   0.1184
Level     1,  Iter    28:    Energy =   0.1188
Level     1,  Iter    29:    Energy =   0.1186
Level     1,  Iter    30:    Energy =   0.1190
Level     1,  Iter    31:    Energy =   0.1188
Level     1,  Iter    32:    Energy =   0.1191
Level     1,  Iter    33:    Energy =   0.1189
Level     1,  Iter    34:    Energy =   0.1192
Level     1,  Iter    35:    Energy =   0.1190
Level     1,  Iter    36:    Energy =   0.1193
Level     1,  Iter    37:    Energy =   0.1192
Level     1,  Iter    38:    Energy =   0.1194
Level     1,  Iter    39:    Energy =   0.1193
Level     1,  Iter    40:    Energy =   0.1195
Level     1,  Iter    41:    Energy =   0.1194
Level     1,  Iter    42:    Energy =   0.1196
Level     1,  Iter    43:    Energy =   0.1194
Level     1,  Iter    44:    Energy =   0.1197
Level     1,  Iter    45:    Energy =   0.1195
Level     1,  Iter    46:    Energy =   0.1197
Level     1,  Iter    47:    Energy =   0.1195
Level     1,  Iter    48:    Energy =   0.1197
Level     1,  Iter    49:    Energy =   0.1196
Level     1,  Iter    50:    Energy =   0.1198
Level     1,  Iter    51:    Energy =   0.1196
Level     1,  Iter    52:    Energy =   0.1198
Level     1,  Iter    53:    Energy =   0.1196
Level     1,  Iter    54:    Energy =   0.1198
Level     1,  Iter    55:    Energy =   0.1197
Level     1,  Iter    56:    Energy =   0.1198
Level     1,  Iter    57:    Energy =   0.1197
Level     1,  Iter    58:    Energy =   0.1199
Level     1,  Iter    59:    Energy =   0.1197
END OF LEVEL     1    DetJac Range:   0.1831  to   2.6291 
  Avg. Gradient Time  : 0.0431s  32.52% 
  Avg. Gaussian Time  : 0.0723s  54.60% 
  Avg. Iteration Time : 0.1325s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0590
Level     2,  Iter     1:    Energy =   0.0616
Level     2,  Iter     2:    Energy =   0.0640
Level     2,  Iter     3:    Energy =   0.0661
Level     2,  Iter     4:    Energy =   0.0682
Level     2,  Iter     5:    Energy =   0.0697
Level     2,  Iter     6:    Energy =   0.0710
Level     2,  Iter     7:    Energy =   0.0723
Level     2,  Iter     8:    Energy =   0.0732
Level     2,  Iter     9:    Energy =   0.0740
Level     2,  Iter    10:    Energy =   0.0744
Level     2,  Iter    11:    Energy =   0.0749
Level     2,  Iter    12:    Energy =   0.0754
Level     2,  Iter    13:    Energy =   0.0759
Level     2,  Iter    14:    Energy =   0.0764
Level     2,  Iter    15:    Energy =   0.0768
Level     2,  Iter    16:    Energy =   0.0772
Level     2,  Iter    17:    Energy =   0.0776
Level     2,  Iter    18:    Energy =   0.0780
Level     2,  Iter    19:    Energy =   0.0784
END OF LEVEL     2    DetJac Range:   0.0549  to   3.3681 
  Avg. Gradient Time  : 0.3049s  29.88% 
  Avg. Gaussian Time  : 0.5780s  56.63% 
  Avg. Iteration Time : 1.0206s 

real	0m34.675s
user	1m2.508s
sys	0m2.192s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.471154 0.476923
+ echo 'CHUNK 0.471154 0.476923 1'
CHUNK 0.471154 0.476923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.471154 0.476923 1
====================================
         PROGRESS: 0.471154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 022 right 0
+ local tid=022
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.601767
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3727.26   GNORM= 604.591
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3809.714     325.495       0.000
   2    4     -3845.115     261.828       1.000
   3    5     -3896.315     135.215       1.000
   4    6     -3910.745     105.904       1.000
   5    7     -3937.745      91.804       1.000
   6    8     -3975.775     100.239       1.000
   7   10     -3988.566     224.497       0.360
   8   11     -4013.363     133.551       1.000
   9   12     -4025.582      67.890       1.000
  10   13     -4030.027      57.343       1.000
  11   14     -4038.106      62.611       1.000
  12   15     -4049.554     117.957       1.000
  13   16     -4059.300      93.531       1.000
  14   17     -4063.869      40.591       1.000
  15   18     -4064.914      42.458       1.000
  16   19     -4066.033      29.692       1.000
  17   21     -4066.772      44.770       0.314
  18   22     -4067.868      25.629       1.000
  19   23     -4069.857      47.202       1.000
  20   24     -4070.824      42.158       1.000
  21   25     -4071.727      33.699       1.000
  22   26     -4072.410      14.552       1.000
  23   27     -4072.590      14.360       1.000
  24   28     -4072.834      25.085       1.000
  25   29     -4073.162      19.981       1.000
  26   30     -4073.328      14.867       1.000
  27   31     -4074.379      36.658       1.000
  28   32     -4074.964      19.011       1.000
  29   33     -4075.189      21.049       1.000
  30   34     -4075.316      10.643       1.000
  31   35     -4075.465       8.170       1.000
  32   36     -4075.616      17.201       1.000
  33   37     -4075.823       9.440       1.000
  34   38     -4075.966       8.214       1.000
  35   39     -4076.091      13.844       1.000
  36   40     -4076.249       9.802       1.000
  37   41     -4076.326      23.258       1.000
  38   42     -4076.445       8.379       1.000
  39   43     -4076.492       7.764       1.000
  40   44     -4076.523      15.915       1.000
  41   45     -4076.578       9.661       1.000
  42   46     -4076.606      10.982       1.000
  43   47     -4076.645       5.830       1.000
  44   48     -4076.675       6.762       1.000
  45   49     -4076.696       4.406       1.000
  46   50     -4076.718       3.606       1.000
  47   51     -4076.758       4.048       1.000
  48   53     -4076.793      10.686       0.310
  49   54     -4076.835       4.282       1.000
  50   55     -4076.850       4.258       1.000
  51   57     -4076.858       9.345       0.385
  52   58     -4076.861       9.086       1.000
  53   59     -4076.881       5.833       1.000
  54   60     -4076.902       2.323       1.000
  55   61     -4076.909       2.549       1.000
Final RAS Transform: 
0.916704 -0.00234004 -0.0564369 1.03323 
0.0562061 1.01564 0.0752574 -0.470033 
0.00475904 -0.0104529 1.00943 -0.0720848 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2924.54   GNORM= 202.154
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2932.739      88.895       0.000
   2    4     -2936.124      76.679       1.000
   3    5     -2938.041      78.857       1.000
   4    6     -2940.549      25.882       1.000
   5    8     -2943.964      37.400       5.000
   6    9     -2954.151      74.776       1.000
   7   11     -2956.853      86.484       0.350
   8   12     -2961.103      40.695       1.000
   9   13     -2962.458      22.215       1.000
  10   14     -2963.463      22.554       1.000
  11   15     -2964.963      30.932       1.000
  12   16     -2967.437      38.421       1.000
  13   18     -2969.349      49.246       0.493
  14   19     -2970.918      93.016       1.000
  15   20     -2973.392      36.407       1.000
  16   21     -2974.475      43.244       1.000
  17   22     -2975.837      36.409       1.000
  18   23     -2977.877      10.893       1.000
  19   24     -2978.261      19.963       1.000
  20   25     -2978.603      19.731       1.000
  21   26     -2978.979      11.955       1.000
  22   27     -2979.405      26.947       1.000
  23   28     -2979.943      21.765       1.000
  24   29     -2980.304      16.064       1.000
  25   30     -2980.615       9.255       1.000
  26   31     -2980.725      16.742       1.000
  27   32     -2980.843       8.617       1.000
  28   33     -2981.241      22.547       1.000
  29   34     -2981.635      28.643       1.000
  30   35     -2982.139      38.842       1.000
  31   36     -2982.328      11.126       1.000
  32   37     -2982.445      10.535       1.000
  33   39     -2982.508      10.658       0.261
  34   40     -2982.583      10.712       1.000
  35   41     -2982.657       6.617       1.000
  36   42     -2982.755      10.075       1.000
  37   43     -2982.863      11.014       1.000
  38   44     -2983.040      14.562       1.000
  39   45     -2983.130      22.868       1.000
  40   46     -2983.216       6.521       1.000
  41   47     -2983.230       3.479       1.000
  42   48     -2983.252       3.014       1.000
  43   49     -2983.256       5.220       1.000
  44   50     -2983.285       2.103       1.000
  45   51     -2983.325       9.083       1.000
  46   52     -2983.411      18.156       1.000
  47   53     -2983.476      12.853       1.000
  48   54     -2983.553       6.468       1.000
  49   55     -2983.592       3.198       1.000
  50   57     -2983.597       2.305       0.446
  51   58     -2983.604       2.207       1.000
  52   59     -2983.617       6.560       1.000
  53   60     -2983.620       5.276       1.000
  54   61     -2983.625       3.339       1.000
Final RAS Transform: 
0.955128 -0.00289134 -0.0334889 0.238814 
0.0326178 1.01923 0.0565438 -0.0584279 
-0.00209338 -0.0128826 1.00543 -0.022812 
0 0 0 1 

Final RAS Transform: 
0.955128 -0.00289134 -0.0334889 0.238814 
0.0326178 1.01923 0.0565438 -0.0584279 
-0.00209338 -0.0128826 1.00543 -0.022812 
0 0 0 1 


real	0m10.497s
user	0m18.188s
sys	0m0.532s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.608364
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1162
Level     0,  Iter     1:    Energy =   0.1231
Level     0,  Iter     2:    Energy =   0.1292
Level     0,  Iter     3:    Energy =   0.1325
Level     0,  Iter     4:    Energy =   0.1344
Level     0,  Iter     5:    Energy =   0.1356
Level     0,  Iter     6:    Energy =   0.1367
Level     0,  Iter     7:    Energy =   0.1375
Level     0,  Iter     8:    Energy =   0.1382
Level     0,  Iter     9:    Energy =   0.1388
Level     0,  Iter    10:    Energy =   0.1393
Level     0,  Iter    11:    Energy =   0.1399
Level     0,  Iter    12:    Energy =   0.1402
Level     0,  Iter    13:    Energy =   0.1407
Level     0,  Iter    14:    Energy =   0.1410
Level     0,  Iter    15:    Energy =   0.1413
Level     0,  Iter    16:    Energy =   0.1415
Level     0,  Iter    17:    Energy =   0.1418
Level     0,  Iter    18:    Energy =   0.1419
Level     0,  Iter    19:    Energy =   0.1422
Level     0,  Iter    20:    Energy =   0.1423
Level     0,  Iter    21:    Energy =   0.1425
Level     0,  Iter    22:    Energy =   0.1426
Level     0,  Iter    23:    Energy =   0.1428
Level     0,  Iter    24:    Energy =   0.1429
Level     0,  Iter    25:    Energy =   0.1431
Level     0,  Iter    26:    Energy =   0.1431
Level     0,  Iter    27:    Energy =   0.1433
Level     0,  Iter    28:    Energy =   0.1433
Level     0,  Iter    29:    Energy =   0.1435
Level     0,  Iter    30:    Energy =   0.1435
Level     0,  Iter    31:    Energy =   0.1436
Level     0,  Iter    32:    Energy =   0.1436
Level     0,  Iter    33:    Energy =   0.1438
Level     0,  Iter    34:    Energy =   0.1438
Level     0,  Iter    35:    Energy =   0.1440
Level     0,  Iter    36:    Energy =   0.1439
Level     0,  Iter    37:    Energy =   0.1441
Level     0,  Iter    38:    Energy =   0.1440
Level     0,  Iter    39:    Energy =   0.1442
Level     0,  Iter    40:    Energy =   0.1441
Level     0,  Iter    41:    Energy =   0.1443
Level     0,  Iter    42:    Energy =   0.1443
Level     0,  Iter    43:    Energy =   0.1444
Level     0,  Iter    44:    Energy =   0.1443
Level     0,  Iter    45:    Energy =   0.1445
Level     0,  Iter    46:    Energy =   0.1445
Level     0,  Iter    47:    Energy =   0.1447
Level     0,  Iter    48:    Energy =   0.1446
Level     0,  Iter    49:    Energy =   0.1448
Level     0,  Iter    50:    Energy =   0.1447
Level     0,  Iter    51:    Energy =   0.1450
Level     0,  Iter    52:    Energy =   0.1449
Level     0,  Iter    53:    Energy =   0.1451
Level     0,  Iter    54:    Energy =   0.1451
Level     0,  Iter    55:    Energy =   0.1453
Level     0,  Iter    56:    Energy =   0.1453
Level     0,  Iter    57:    Energy =   0.1456
Level     0,  Iter    58:    Energy =   0.1455
Level     0,  Iter    59:    Energy =   0.1458
END OF LEVEL     0    DetJac Range:   0.4056  to   2.1910 
  Avg. Gradient Time  : 0.0088s  34.29% 
  Avg. Gaussian Time  : 0.0130s  50.49% 
  Avg. Iteration Time : 0.0257s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0993
Level     1,  Iter     1:    Energy =   0.1033
Level     1,  Iter     2:    Energy =   0.1068
Level     1,  Iter     3:    Energy =   0.1094
Level     1,  Iter     4:    Energy =   0.1120
Level     1,  Iter     5:    Energy =   0.1144
Level     1,  Iter     6:    Energy =   0.1164
Level     1,  Iter     7:    Energy =   0.1178
Level     1,  Iter     8:    Energy =   0.1187
Level     1,  Iter     9:    Energy =   0.1194
Level     1,  Iter    10:    Energy =   0.1199
Level     1,  Iter    11:    Energy =   0.1203
Level     1,  Iter    12:    Energy =   0.1208
Level     1,  Iter    13:    Energy =   0.1211
Level     1,  Iter    14:    Energy =   0.1212
Level     1,  Iter    15:    Energy =   0.1214
Level     1,  Iter    16:    Energy =   0.1216
Level     1,  Iter    17:    Energy =   0.1218
Level     1,  Iter    18:    Energy =   0.1219
Level     1,  Iter    19:    Energy =   0.1220
Level     1,  Iter    20:    Energy =   0.1222
Level     1,  Iter    21:    Energy =   0.1223
Level     1,  Iter    22:    Energy =   0.1224
Level     1,  Iter    23:    Energy =   0.1224
Level     1,  Iter    24:    Energy =   0.1225
Level     1,  Iter    25:    Energy =   0.1226
Level     1,  Iter    26:    Energy =   0.1228
Level     1,  Iter    27:    Energy =   0.1228
Level     1,  Iter    28:    Energy =   0.1229
Level     1,  Iter    29:    Energy =   0.1230
Level     1,  Iter    30:    Energy =   0.1231
Level     1,  Iter    31:    Energy =   0.1231
Level     1,  Iter    32:    Energy =   0.1233
Level     1,  Iter    33:    Energy =   0.1233
Level     1,  Iter    34:    Energy =   0.1234
Level     1,  Iter    35:    Energy =   0.1234
Level     1,  Iter    36:    Energy =   0.1235
Level     1,  Iter    37:    Energy =   0.1235
Level     1,  Iter    38:    Energy =   0.1235
Level     1,  Iter    39:    Energy =   0.1236
Level     1,  Iter    40:    Energy =   0.1237
Level     1,  Iter    41:    Energy =   0.1236
Level     1,  Iter    42:    Energy =   0.1237
Level     1,  Iter    43:    Energy =   0.1237
Level     1,  Iter    44:    Energy =   0.1238
Level     1,  Iter    45:    Energy =   0.1238
Level     1,  Iter    46:    Energy =   0.1238
Level     1,  Iter    47:    Energy =   0.1239
Level     1,  Iter    48:    Energy =   0.1239
Level     1,  Iter    49:    Energy =   0.1240
Level     1,  Iter    50:    Energy =   0.1240
Level     1,  Iter    51:    Energy =   0.1240
Level     1,  Iter    52:    Energy =   0.1240
Level     1,  Iter    53:    Energy =   0.1241
Level     1,  Iter    54:    Energy =   0.1241
Level     1,  Iter    55:    Energy =   0.1241
Level     1,  Iter    56:    Energy =   0.1241
Level     1,  Iter    57:    Energy =   0.1242
Level     1,  Iter    58:    Energy =   0.1241
Level     1,  Iter    59:    Energy =   0.1242
END OF LEVEL     1    DetJac Range:   0.1475  to   2.8318 
  Avg. Gradient Time  : 0.0487s  32.39% 
  Avg. Gaussian Time  : 0.0821s  54.57% 
  Avg. Iteration Time : 0.1504s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0606
Level     2,  Iter     1:    Energy =   0.0632
Level     2,  Iter     2:    Energy =   0.0654
Level     2,  Iter     3:    Energy =   0.0670
Level     2,  Iter     4:    Energy =   0.0683
Level     2,  Iter     5:    Energy =   0.0694
Level     2,  Iter     6:    Energy =   0.0705
Level     2,  Iter     7:    Energy =   0.0715
Level     2,  Iter     8:    Energy =   0.0726
Level     2,  Iter     9:    Energy =   0.0737
Level     2,  Iter    10:    Energy =   0.0748
Level     2,  Iter    11:    Energy =   0.0759
Level     2,  Iter    12:    Energy =   0.0768
Level     2,  Iter    13:    Energy =   0.0776
Level     2,  Iter    14:    Energy =   0.0782
Level     2,  Iter    15:    Energy =   0.0789
Level     2,  Iter    16:    Energy =   0.0794
Level     2,  Iter    17:    Energy =   0.0799
Level     2,  Iter    18:    Energy =   0.0802
Level     2,  Iter    19:    Energy =   0.0805
END OF LEVEL     2    DetJac Range:   0.0897  to   4.5332 
  Avg. Gradient Time  : 0.3182s  26.75% 
  Avg. Gaussian Time  : 0.7271s  61.12% 
  Avg. Iteration Time : 1.1896s 

real	0m39.644s
user	1m11.984s
sys	0m2.420s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.476923 0.482692
+ echo 'CHUNK 0.476923 0.482692 1'
CHUNK 0.476923 0.482692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.476923 0.482692 1
====================================
         PROGRESS: 0.476923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 023 right 0
+ local tid=023
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.813393
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3870.44   GNORM= 785.895
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4002.183     282.891       0.000
   2    4     -4029.645     220.446       1.000
   3    5     -4089.067     120.823       1.000
   4    6     -4104.808     128.204       1.000
   5    7     -4117.046      89.501       1.000
   6    8     -4128.756      69.270       1.000
   7    9     -4135.490      59.697       1.000
   8   10     -4137.984     100.071       1.000
   9   11     -4140.026      27.237       1.000
  10   12     -4140.429      29.318       1.000
  11   13     -4141.860      67.497       1.000
  12   14     -4143.578      90.525       1.000
  13   15     -4144.907     100.334       1.000
  14   16     -4146.929      31.244       1.000
  15   17     -4147.240      18.092       1.000
  16   19     -4147.401      25.237       0.426
  17   20     -4147.566      28.794       1.000
  18   21     -4148.014      19.523       1.000
  19   22     -4148.483      20.113       1.000
  20   23     -4148.804      16.386       1.000
  21   24     -4148.887      29.209       1.000
  22   25     -4149.116      13.462       1.000
  23   26     -4149.152      12.527       1.000
  24   27     -4149.196       7.458       1.000
  25   28     -4149.247      10.683       1.000
  26   29     -4149.293       6.669       1.000
  27   30     -4149.308       7.899       1.000
  28   31     -4149.324       7.996       1.000
  29   32     -4149.346       5.228       1.000
  30   33     -4149.352       2.282       1.000
  31   34     -4149.369       5.090       1.000
  32   35     -4149.392       4.326       1.000
  33   36     -4149.406       5.712       1.000
  34   37     -4149.421       4.550       1.000
  35   39     -4149.429       3.511       0.493
  36   40     -4149.431       2.839       1.000
  37   41     -4149.432       1.947       1.000
  38   42     -4149.436       1.710       1.000
Final RAS Transform: 
0.994722 0.000127975 -0.0213661 -0.170513 
0.00711759 1.00491 0.0348927 -0.0706314 
0.017982 -0.00253631 1.0269 -0.169274 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2910.58   GNORM= 151.701
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2923.933     114.776       0.001
   2    4     -2926.590      81.906       1.000
   3    5     -2928.364      28.441       1.000
   4    6     -2928.884      23.213       1.000
   5    7     -2929.803      25.418       1.000
   6    8     -2930.749      35.913       1.000
   7    9     -2932.736      29.869       1.000
   8   11     -2933.093      25.233       0.305
   9   12     -2933.330      13.462       1.000
  10   13     -2933.551      14.691       1.000
  11   14     -2933.977      18.777       1.000
  12   15     -2934.575      21.450       1.000
  13   17     -2934.669       7.966       0.166
  14   18     -2934.727       5.174       1.000
  15   19     -2934.780       4.785       1.000
  16   20     -2934.865       9.090       1.000
  17   21     -2934.903      19.875       1.000
  18   22     -2935.082      15.848       1.000
  19   24     -2935.261      17.661       0.485
  20   25     -2935.457      12.195       1.000
  21   26     -2935.600       8.071       1.000
  22   27     -2935.763       9.350       1.000
  23   28     -2935.873       8.860       1.000
  24   29     -2935.932      11.594       1.000
  25   30     -2936.036      11.833       1.000
  26   31     -2936.055       8.137       1.000
  27   32     -2936.078       3.567       1.000
  28   33     -2936.089       5.268       1.000
  29   34     -2936.135       7.894       1.000
  30   35     -2936.161      18.085       1.000
  31   36     -2936.259      20.078       1.000
  32   37     -2936.329      10.062       1.000
  33   38     -2936.370       3.331       1.000
  34   39     -2936.397       5.787       1.000
  35   40     -2936.413       5.306       1.000
  36   41     -2936.414       2.522       1.000
  37   42     -2936.422       2.397       1.000
  38   43     -2936.439       3.002       1.000
  39   44     -2936.461       3.166       1.000
  40   45     -2936.465       3.454       1.000
  41   46     -2936.474       1.954       1.000
  42   47     -2936.476       2.363       1.000
  43   48     -2936.481       8.545       1.000
  44   49     -2936.498       6.804       1.000
Final RAS Transform: 
0.994199 0.00335602 -0.0309184 -0.331183 
0.00338053 0.993535 0.0208805 -0.425553 
0.0173047 0.000808649 1.03164 0.0861545 
0 0 0 1 

Final RAS Transform: 
0.994199 0.00335602 -0.0309184 -0.331183 
0.00338053 0.993535 0.0208805 -0.425553 
0.0173047 0.000808649 1.03164 0.0861545 
0 0 0 1 


real	0m10.839s
user	0m18.952s
sys	0m0.536s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.830054
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1166
Level     0,  Iter     1:    Energy =   0.1251
Level     0,  Iter     2:    Energy =   0.1303
Level     0,  Iter     3:    Energy =   0.1339
Level     0,  Iter     4:    Energy =   0.1376
Level     0,  Iter     5:    Energy =   0.1402
Level     0,  Iter     6:    Energy =   0.1409
Level     0,  Iter     7:    Energy =   0.1418
Level     0,  Iter     8:    Energy =   0.1421
Level     0,  Iter     9:    Energy =   0.1427
Level     0,  Iter    10:    Energy =   0.1429
Level     0,  Iter    11:    Energy =   0.1433
Level     0,  Iter    12:    Energy =   0.1435
Level     0,  Iter    13:    Energy =   0.1439
Level     0,  Iter    14:    Energy =   0.1440
Level     0,  Iter    15:    Energy =   0.1444
Level     0,  Iter    16:    Energy =   0.1445
Level     0,  Iter    17:    Energy =   0.1449
Level     0,  Iter    18:    Energy =   0.1450
Level     0,  Iter    19:    Energy =   0.1453
Level     0,  Iter    20:    Energy =   0.1453
Level     0,  Iter    21:    Energy =   0.1456
Level     0,  Iter    22:    Energy =   0.1455
Level     0,  Iter    23:    Energy =   0.1459
Level     0,  Iter    24:    Energy =   0.1459
Level     0,  Iter    25:    Energy =   0.1462
Level     0,  Iter    26:    Energy =   0.1461
Level     0,  Iter    27:    Energy =   0.1464
Level     0,  Iter    28:    Energy =   0.1463
Level     0,  Iter    29:    Energy =   0.1467
Level     0,  Iter    30:    Energy =   0.1465
Level     0,  Iter    31:    Energy =   0.1469
Level     0,  Iter    32:    Energy =   0.1466
Level     0,  Iter    33:    Energy =   0.1471
Level     0,  Iter    34:    Energy =   0.1466
Level     0,  Iter    35:    Energy =   0.1473
Level     0,  Iter    36:    Energy =   0.1467
Level     0,  Iter    37:    Energy =   0.1475
Level     0,  Iter    38:    Energy =   0.1468
Level     0,  Iter    39:    Energy =   0.1473
Level     0,  Iter    40:    Energy =   0.1470
Level     0,  Iter    41:    Energy =   0.1470
Level     0,  Iter    42:    Energy =   0.1469
Level     0,  Iter    43:    Energy =   0.1467
Level     0,  Iter    44:    Energy =   0.1469
Level     0,  Iter    45:    Energy =   0.1464
Level     0,  Iter    46:    Energy =   0.1469
Level     0,  Iter    47:    Energy =   0.1463
Level     0,  Iter    48:    Energy =   0.1471
Level     0,  Iter    49:    Energy =   0.1465
Level     0,  Iter    50:    Energy =   0.1472
Level     0,  Iter    51:    Energy =   0.1466
Level     0,  Iter    52:    Energy =   0.1474
Level     0,  Iter    53:    Energy =   0.1467
Level     0,  Iter    54:    Energy =   0.1475
Level     0,  Iter    55:    Energy =   0.1467
Level     0,  Iter    56:    Energy =   0.1476
Level     0,  Iter    57:    Energy =   0.1468
Level     0,  Iter    58:    Energy =   0.1477
Level     0,  Iter    59:    Energy =   0.1471
END OF LEVEL     0    DetJac Range:   0.3998  to   2.2146 
  Avg. Gradient Time  : 0.0076s  34.32% 
  Avg. Gaussian Time  : 0.0112s  50.27% 
  Avg. Iteration Time : 0.0223s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0981
Level     1,  Iter     1:    Energy =   0.1038
Level     1,  Iter     2:    Energy =   0.1081
Level     1,  Iter     3:    Energy =   0.1120
Level     1,  Iter     4:    Energy =   0.1148
Level     1,  Iter     5:    Energy =   0.1168
Level     1,  Iter     6:    Energy =   0.1185
Level     1,  Iter     7:    Energy =   0.1200
Level     1,  Iter     8:    Energy =   0.1211
Level     1,  Iter     9:    Energy =   0.1220
Level     1,  Iter    10:    Energy =   0.1229
Level     1,  Iter    11:    Energy =   0.1237
Level     1,  Iter    12:    Energy =   0.1244
Level     1,  Iter    13:    Energy =   0.1246
Level     1,  Iter    14:    Energy =   0.1249
Level     1,  Iter    15:    Energy =   0.1251
Level     1,  Iter    16:    Energy =   0.1255
Level     1,  Iter    17:    Energy =   0.1256
Level     1,  Iter    18:    Energy =   0.1260
Level     1,  Iter    19:    Energy =   0.1260
Level     1,  Iter    20:    Energy =   0.1264
Level     1,  Iter    21:    Energy =   0.1265
Level     1,  Iter    22:    Energy =   0.1269
Level     1,  Iter    23:    Energy =   0.1269
Level     1,  Iter    24:    Energy =   0.1274
Level     1,  Iter    25:    Energy =   0.1273
Level     1,  Iter    26:    Energy =   0.1277
Level     1,  Iter    27:    Energy =   0.1277
Level     1,  Iter    28:    Energy =   0.1281
Level     1,  Iter    29:    Energy =   0.1280
Level     1,  Iter    30:    Energy =   0.1283
Level     1,  Iter    31:    Energy =   0.1282
Level     1,  Iter    32:    Energy =   0.1284
Level     1,  Iter    33:    Energy =   0.1283
Level     1,  Iter    34:    Energy =   0.1285
Level     1,  Iter    35:    Energy =   0.1284
Level     1,  Iter    36:    Energy =   0.1286
Level     1,  Iter    37:    Energy =   0.1286
Level     1,  Iter    38:    Energy =   0.1287
Level     1,  Iter    39:    Energy =   0.1287
Level     1,  Iter    40:    Energy =   0.1288
Level     1,  Iter    41:    Energy =   0.1288
Level     1,  Iter    42:    Energy =   0.1289
Level     1,  Iter    43:    Energy =   0.1288
Level     1,  Iter    44:    Energy =   0.1290
Level     1,  Iter    45:    Energy =   0.1289
Level     1,  Iter    46:    Energy =   0.1291
Level     1,  Iter    47:    Energy =   0.1290
Level     1,  Iter    48:    Energy =   0.1292
Level     1,  Iter    49:    Energy =   0.1291
Level     1,  Iter    50:    Energy =   0.1292
Level     1,  Iter    51:    Energy =   0.1292
Level     1,  Iter    52:    Energy =   0.1293
Level     1,  Iter    53:    Energy =   0.1292
Level     1,  Iter    54:    Energy =   0.1295
Level     1,  Iter    55:    Energy =   0.1293
Level     1,  Iter    56:    Energy =   0.1295
Level     1,  Iter    57:    Energy =   0.1294
Level     1,  Iter    58:    Energy =   0.1296
Level     1,  Iter    59:    Energy =   0.1295
END OF LEVEL     1    DetJac Range:   0.1595  to   3.8469 
  Avg. Gradient Time  : 0.0433s  32.74% 
  Avg. Gaussian Time  : 0.0720s  54.41% 
  Avg. Iteration Time : 0.1324s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0660
Level     2,  Iter     1:    Energy =   0.0686
Level     2,  Iter     2:    Energy =   0.0707
Level     2,  Iter     3:    Energy =   0.0721
Level     2,  Iter     4:    Energy =   0.0732
Level     2,  Iter     5:    Energy =   0.0743
Level     2,  Iter     6:    Energy =   0.0753
Level     2,  Iter     7:    Energy =   0.0762
Level     2,  Iter     8:    Energy =   0.0771
Level     2,  Iter     9:    Energy =   0.0779
Level     2,  Iter    10:    Energy =   0.0786
Level     2,  Iter    11:    Energy =   0.0793
Level     2,  Iter    12:    Energy =   0.0801
Level     2,  Iter    13:    Energy =   0.0808
Level     2,  Iter    14:    Energy =   0.0816
Level     2,  Iter    15:    Energy =   0.0824
Level     2,  Iter    16:    Energy =   0.0832
Level     2,  Iter    17:    Energy =   0.0836
Level     2,  Iter    18:    Energy =   0.0841
Level     2,  Iter    19:    Energy =   0.0845
END OF LEVEL     2    DetJac Range:   0.1022  to   4.1997 
  Avg. Gradient Time  : 0.3049s  26.87% 
  Avg. Gaussian Time  : 0.6924s  61.02% 
  Avg. Iteration Time : 1.1346s 

real	0m36.910s
user	1m6.976s
sys	0m2.188s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.482692 0.488462
+ echo 'CHUNK 0.482692 0.488462 1'
CHUNK 0.482692 0.488462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.482692 0.488462 1
====================================
         PROGRESS: 0.482692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 024 right 0
+ local tid=024
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.680361
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3126.81   GNORM= 879.125
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3285.534     647.445       0.001
   2    3     -3420.904     130.995       1.000
   3    5     -3455.239      93.873       5.000
   4    6     -3481.349      99.404       1.000
   5    7     -3530.461     184.434       1.000
   6    8     -3569.479     115.815       1.000
   7    9     -3585.796      75.159       1.000
   8   10     -3606.491      70.717       1.000
   9   12     -3612.919      93.824       0.453
  10   13     -3620.808      63.222       1.000
  11   14     -3630.135      65.749       1.000
  12   15     -3638.672      54.194       1.000
  13   16     -3642.950      71.894       1.000
  14   17     -3649.490      33.262       1.000
  15   18     -3651.176      56.782       1.000
  16   19     -3653.605      37.827       1.000
  17   21     -3654.256      21.167       0.432
  18   22     -3654.718      20.779       1.000
  19   24     -3655.189      21.423       0.309
  20   25     -3656.273      20.528       1.000
  21   26     -3657.617      30.793       1.000
  22   27     -3658.837      23.585       1.000
  23   28     -3659.651      24.380       1.000
  24   29     -3660.089      16.226       1.000
  25   30     -3660.350      12.192       1.000
  26   31     -3660.768       9.691       1.000
  27   32     -3661.305      18.426       1.000
  28   33     -3661.943      10.783       1.000
  29   35     -3662.172      13.055       0.495
  30   36     -3662.310      16.544       1.000
  31   37     -3662.473      10.475       1.000
  32   39     -3662.568       6.307       0.449
  33   40     -3662.645      10.697       1.000
  34   41     -3662.653      15.650       1.000
  35   42     -3662.893       4.459       1.000
  36   43     -3662.940       7.947       1.000
  37   45     -3662.970       6.104       0.448
  38   46     -3662.978       2.469       1.000
  39   47     -3662.981       5.359       1.000
  40   48     -3662.992       2.142       1.000
  41   49     -3662.993       2.714       1.000
  42   50     -3663.001       3.123       1.000
Final RAS Transform: 
0.94134 0.0198592 0.0182738 1.5792 
-0.0474464 0.963481 -0.090652 -0.801644 
0.0686 0.0242952 1.07562 -0.570679 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2298.68   GNORM= 263.117
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2322.693      52.758       0.001
   2    4     -2324.580      47.169       1.000
   3    5     -2330.853      82.870       1.000
   4    6     -2339.219      97.085       1.000
   5    7     -2347.676      78.790       1.000
   6    8     -2350.750      28.482       1.000
   7    9     -2352.048      19.412       1.000
   8   10     -2353.995      14.719       1.000
   9   11     -2357.027      48.085       1.000
  10   12     -2358.714      28.218       1.000
  11   13     -2359.512      10.224       1.000
  12   15     -2360.291      11.858       5.000
  13   16     -2361.996      35.894       1.000
  14   17     -2364.384      26.924       1.000
  15   18     -2364.955      48.816       1.000
  16   19     -2365.988      20.095       1.000
  17   20     -2366.256       6.357       1.000
  18   21     -2366.329       5.094       1.000
  19   22     -2366.436       9.585       1.000
  20   23     -2366.615      13.246       1.000
  21   24     -2366.955       8.864       1.000
  22   26     -2367.262      10.867       0.469
  23   28     -2367.348      11.546       0.391
  24   29     -2367.447      10.392       1.000
  25   30     -2367.627       9.100       1.000
  26   31     -2367.766       5.063       1.000
  27   32     -2367.819       4.993       1.000
  28   33     -2367.825       6.954       1.000
  29   34     -2367.851       2.501       1.000
  30   35     -2367.861       1.954       1.000
  31   36     -2367.875       6.127       1.000
  32   37     -2367.879       4.017       1.000
  33   38     -2367.893       3.073       1.000
  34   39     -2367.923       3.120       1.000
  35   41     -2367.944       1.962       0.108
  36   43     -2367.960       5.621       0.413
  37   44     -2367.984       3.472       1.000
  38   45     -2368.001       3.479       1.000
  39   46     -2368.017       4.593       1.000
  40   47     -2368.027       2.896       1.000
  41   50     -2368.040       1.337       0.018
Final RAS Transform: 
0.966093 0.00677998 0.0169046 0.911024 
-0.0526878 0.978384 -0.0681959 -0.249135 
0.0513738 0.00946368 1.07712 -0.329244 
0 0 0 1 

Final RAS Transform: 
0.966093 0.00677998 0.0169046 0.911024 
-0.0526878 0.978384 -0.0681959 -0.249135 
0.0513738 0.00946368 1.07712 -0.329244 
0 0 0 1 


real	0m10.723s
user	0m18.732s
sys	0m0.520s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.679894
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0978
Level     0,  Iter     1:    Energy =   0.1049
Level     0,  Iter     2:    Energy =   0.1114
Level     0,  Iter     3:    Energy =   0.1168
Level     0,  Iter     4:    Energy =   0.1212
Level     0,  Iter     5:    Energy =   0.1244
Level     0,  Iter     6:    Energy =   0.1265
Level     0,  Iter     7:    Energy =   0.1275
Level     0,  Iter     8:    Energy =   0.1282
Level     0,  Iter     9:    Energy =   0.1288
Level     0,  Iter    10:    Energy =   0.1293
Level     0,  Iter    11:    Energy =   0.1296
Level     0,  Iter    12:    Energy =   0.1301
Level     0,  Iter    13:    Energy =   0.1303
Level     0,  Iter    14:    Energy =   0.1307
Level     0,  Iter    15:    Energy =   0.1309
Level     0,  Iter    16:    Energy =   0.1313
Level     0,  Iter    17:    Energy =   0.1313
Level     0,  Iter    18:    Energy =   0.1316
Level     0,  Iter    19:    Energy =   0.1318
Level     0,  Iter    20:    Energy =   0.1321
Level     0,  Iter    21:    Energy =   0.1320
Level     0,  Iter    22:    Energy =   0.1323
Level     0,  Iter    23:    Energy =   0.1324
Level     0,  Iter    24:    Energy =   0.1326
Level     0,  Iter    25:    Energy =   0.1326
Level     0,  Iter    26:    Energy =   0.1328
Level     0,  Iter    27:    Energy =   0.1330
Level     0,  Iter    28:    Energy =   0.1331
Level     0,  Iter    29:    Energy =   0.1330
Level     0,  Iter    30:    Energy =   0.1332
Level     0,  Iter    31:    Energy =   0.1333
Level     0,  Iter    32:    Energy =   0.1334
Level     0,  Iter    33:    Energy =   0.1333
Level     0,  Iter    34:    Energy =   0.1335
Level     0,  Iter    35:    Energy =   0.1336
Level     0,  Iter    36:    Energy =   0.1337
Level     0,  Iter    37:    Energy =   0.1336
Level     0,  Iter    38:    Energy =   0.1338
Level     0,  Iter    39:    Energy =   0.1339
Level     0,  Iter    40:    Energy =   0.1340
Level     0,  Iter    41:    Energy =   0.1338
Level     0,  Iter    42:    Energy =   0.1340
Level     0,  Iter    43:    Energy =   0.1341
Level     0,  Iter    44:    Energy =   0.1342
Level     0,  Iter    45:    Energy =   0.1341
Level     0,  Iter    46:    Energy =   0.1342
Level     0,  Iter    47:    Energy =   0.1342
Level     0,  Iter    48:    Energy =   0.1344
Level     0,  Iter    49:    Energy =   0.1343
Level     0,  Iter    50:    Energy =   0.1344
Level     0,  Iter    51:    Energy =   0.1345
Level     0,  Iter    52:    Energy =   0.1346
Level     0,  Iter    53:    Energy =   0.1345
Level     0,  Iter    54:    Energy =   0.1347
Level     0,  Iter    55:    Energy =   0.1347
Level     0,  Iter    56:    Energy =   0.1348
Level     0,  Iter    57:    Energy =   0.1347
Level     0,  Iter    58:    Energy =   0.1348
Level     0,  Iter    59:    Energy =   0.1348
END OF LEVEL     0    DetJac Range:   0.2727  to   1.8630 
  Avg. Gradient Time  : 0.0086s  34.41% 
  Avg. Gaussian Time  : 0.0125s  49.95% 
  Avg. Iteration Time : 0.0251s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0843
Level     1,  Iter     1:    Energy =   0.0884
Level     1,  Iter     2:    Energy =   0.0918
Level     1,  Iter     3:    Energy =   0.0951
Level     1,  Iter     4:    Energy =   0.0973
Level     1,  Iter     5:    Energy =   0.0992
Level     1,  Iter     6:    Energy =   0.1008
Level     1,  Iter     7:    Energy =   0.1021
Level     1,  Iter     8:    Energy =   0.1036
Level     1,  Iter     9:    Energy =   0.1051
Level     1,  Iter    10:    Energy =   0.1064
Level     1,  Iter    11:    Energy =   0.1076
Level     1,  Iter    12:    Energy =   0.1083
Level     1,  Iter    13:    Energy =   0.1091
Level     1,  Iter    14:    Energy =   0.1094
Level     1,  Iter    15:    Energy =   0.1095
Level     1,  Iter    16:    Energy =   0.1098
Level     1,  Iter    17:    Energy =   0.1100
Level     1,  Iter    18:    Energy =   0.1102
Level     1,  Iter    19:    Energy =   0.1105
Level     1,  Iter    20:    Energy =   0.1107
Level     1,  Iter    21:    Energy =   0.1109
Level     1,  Iter    22:    Energy =   0.1110
Level     1,  Iter    23:    Energy =   0.1111
Level     1,  Iter    24:    Energy =   0.1112
Level     1,  Iter    25:    Energy =   0.1116
Level     1,  Iter    26:    Energy =   0.1119
Level     1,  Iter    27:    Energy =   0.1123
Level     1,  Iter    28:    Energy =   0.1127
Level     1,  Iter    29:    Energy =   0.1131
Level     1,  Iter    30:    Energy =   0.1134
Level     1,  Iter    31:    Energy =   0.1130
Level     1,  Iter    32:    Energy =   0.1132
Level     1,  Iter    33:    Energy =   0.1132
Level     1,  Iter    34:    Energy =   0.1134
Level     1,  Iter    35:    Energy =   0.1129
Level     1,  Iter    36:    Energy =   0.1132
Level     1,  Iter    37:    Energy =   0.1135
Level     1,  Iter    38:    Energy =   0.1135
Level     1,  Iter    39:    Energy =   0.1131
Level     1,  Iter    40:    Energy =   0.1134
Level     1,  Iter    41:    Energy =   0.1135
Level     1,  Iter    42:    Energy =   0.1133
Level     1,  Iter    43:    Energy =   0.1135
Level     1,  Iter    44:    Energy =   0.1133
Level     1,  Iter    45:    Energy =   0.1135
Level     1,  Iter    46:    Energy =   0.1132
Level     1,  Iter    47:    Energy =   0.1137
Level     1,  Iter    48:    Energy =   0.1134
Level     1,  Iter    49:    Energy =   0.1138
Level     1,  Iter    50:    Energy =   0.1135
Level     1,  Iter    51:    Energy =   0.1138
Level     1,  Iter    52:    Energy =   0.1135
Level     1,  Iter    53:    Energy =   0.1139
Level     1,  Iter    54:    Energy =   0.1136
Level     1,  Iter    55:    Energy =   0.1140
Level     1,  Iter    56:    Energy =   0.1136
Level     1,  Iter    57:    Energy =   0.1140
Level     1,  Iter    58:    Energy =   0.1137
Level     1,  Iter    59:    Energy =   0.1141
END OF LEVEL     1    DetJac Range:   0.1327  to   3.4887 
  Avg. Gradient Time  : 0.0488s  32.48% 
  Avg. Gaussian Time  : 0.0818s  54.49% 
  Avg. Iteration Time : 0.1501s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0538
Level     2,  Iter     1:    Energy =   0.0558
Level     2,  Iter     2:    Energy =   0.0583
Level     2,  Iter     3:    Energy =   0.0602
Level     2,  Iter     4:    Energy =   0.0617
Level     2,  Iter     5:    Energy =   0.0630
Level     2,  Iter     6:    Energy =   0.0642
Level     2,  Iter     7:    Energy =   0.0651
Level     2,  Iter     8:    Energy =   0.0658
Level     2,  Iter     9:    Energy =   0.0664
Level     2,  Iter    10:    Energy =   0.0670
Level     2,  Iter    11:    Energy =   0.0676
Level     2,  Iter    12:    Energy =   0.0680
Level     2,  Iter    13:    Energy =   0.0683
Level     2,  Iter    14:    Energy =   0.0687
Level     2,  Iter    15:    Energy =   0.0690
Level     2,  Iter    16:    Energy =   0.0692
Level     2,  Iter    17:    Energy =   0.0694
Level     2,  Iter    18:    Energy =   0.0697
Level     2,  Iter    19:    Energy =   0.0700
END OF LEVEL     2    DetJac Range:   0.0584  to   4.1454 
  Avg. Gradient Time  : 0.3359s  26.01% 
  Avg. Gaussian Time  : 0.8022s  62.12% 
  Avg. Iteration Time : 1.2913s 

real	0m41.527s
user	1m15.932s
sys	0m2.292s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.488462 0.494231
+ echo 'CHUNK 0.488462 0.494231 1'
CHUNK 0.488462 0.494231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.488462 0.494231 1
====================================
         PROGRESS: 0.488462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local side=right
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 025 right 0
+ local tid=025
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.447635
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2645.7   GNORM= 559.431
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2765.157     194.755       0.001
   2    4     -2787.880     152.258       1.000
   3    5     -2829.036      97.827       1.000
   4    6     -2838.940      51.671       1.000
   5    7     -2842.636      44.710       1.000
   6    8     -2855.448      95.958       1.000
   7    9     -2866.284      64.376       1.000
   8   10     -2879.575      79.651       1.000
   9   11     -2886.297      67.857       1.000
  10   12     -2888.019      58.726       1.000
  11   13     -2889.018      22.266       1.000
  12   14     -2889.508      18.566       1.000
  13   15     -2890.702      33.331       1.000
  14   16     -2892.834      43.028       1.000
  15   17     -2896.923      51.321       1.000
  16   18     -2902.247      65.054       1.000
  17   20     -2905.111      59.609       0.483
  18   21     -2905.812      56.839       1.000
  19   22     -2906.950      12.631       1.000
  20   23     -2907.118      11.879       1.000
  21   24     -2907.788      15.950       1.000
  22   25     -2908.266      23.075       1.000
  23   26     -2909.046      21.571       1.000
  24   28     -2909.760      15.704       0.492
  25   30     -2909.922       8.810       0.464
  26   31     -2909.962       7.114       1.000
  27   32     -2909.995       6.621       1.000
  28   34     -2910.024       7.937       0.477
  29   35     -2910.066       7.092       1.000
  30   37     -2910.099       6.065       0.480
  31   38     -2910.157       6.584       1.000
  32   39     -2910.230       6.309       1.000
  33   41     -2910.304       8.241       0.467
  34   42     -2910.378      10.291       1.000
  35   44     -2910.423       7.440       0.474
  36   45     -2910.494       5.570       1.000
  37   46     -2910.554       3.896       1.000
  38   47     -2910.583       3.210       1.000
  39   48     -2910.599       3.234       1.000
  40   50     -2910.619       4.469       0.468
  41   52     -2910.621       2.504       0.184
  42   54     -2910.625       3.960       0.442
  43   55     -2910.633       5.107       1.000
  44   56     -2910.676      10.065       1.000
  45   57     -2910.733       7.618       1.000
  46   59     -2910.740       3.980       0.082
  47   60     -2910.766       6.891       1.000
  48   61     -2910.788       6.785       1.000
Final RAS Transform: 
0.932346 -0.0081744 -0.00546755 1.04859 
0.033946 0.992984 -0.0187431 -0.972971 
0.0602611 0.00151815 1.04748 -1.03031 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2015.5   GNORM= 181.55
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2028.225      98.717       0.001
   2    4     -2034.024      84.158       1.000
   3    5     -2050.428      28.458       1.000
   4    6     -2053.065      35.541       1.000
   5    7     -2056.461      35.648       1.000
   6    8     -2064.055      40.814       1.000
   7    9     -2069.445      29.444       1.000
   8   10     -2073.652      87.235       1.000
   9   11     -2079.167      56.538       1.000
  10   12     -2087.564      56.125       1.000
  11   13     -2096.067      38.365       1.000
  12   15     -2096.691      39.818       0.280
  13   16     -2097.356      11.332       1.000
  14   17     -2097.520      10.963       1.000
  15   19     -2097.992      37.818       0.387
  16   20     -2098.770      43.132       1.000
  17   21     -2100.501      47.093       1.000
  18   22     -2103.218      22.043       1.000
  19   23     -2103.953       9.277       1.000
  20   24     -2104.350      10.017       1.000
  21   26     -2104.668      16.942       0.502
  22   27     -2104.986      14.135       1.000
  23   28     -2105.331      14.827       1.000
  24   30     -2105.933      20.465       0.441
  25   31     -2106.417      16.541       1.000
  26   32     -2108.295      15.319       1.000
  27   34     -2108.484      20.074       0.126
  28   35     -2108.834      10.837       1.000
  29   36     -2109.015       5.181       1.000
  30   37     -2109.188      14.293       1.000
  31   38     -2109.363       8.256       1.000
  32   39     -2109.724      13.655       1.000
  33   41     -2109.880      10.101       0.460
  34   42     -2109.994       5.622       1.000
  35   43     -2110.123      13.384       1.000
  36   44     -2110.202       9.953       1.000
  37   45     -2110.348       4.635       1.000
  38   46     -2110.386       5.439       1.000
  39   47     -2110.446       5.341       1.000
  40   48     -2110.465       3.651       1.000
  41   49     -2110.474       5.289       1.000
  42   50     -2110.499       3.425       1.000
  43   51     -2110.523       4.108       1.000
  44   52     -2110.545       4.625       1.000
  45   53     -2110.584       4.589       1.000
  46   54     -2110.662       2.842       1.000
  47   55     -2110.678       5.923       1.000
  48   56     -2110.718       4.530       1.000
  49   57     -2110.750       2.357       1.000
  50   58     -2110.759       2.163       1.000
  51   59     -2110.765       2.184       1.000
  52   61     -2110.784       3.530       0.147
Final RAS Transform: 
0.971125 -0.0212994 -0.0329455 0.0463803 
0.008531 1.01346 0.0122438 -0.30808 
0.0206929 -0.00151299 1.03188 -0.0811972 
0 0 0 1 

Final RAS Transform: 
0.971125 -0.0212994 -0.0329455 0.0463803 
0.008531 1.01346 0.0122438 -0.30808 
0.0206929 -0.00151299 1.03188 -0.0811972 
0 0 0 1 


real	0m10.050s
user	0m17.576s
sys	0m0.460s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.62, moving = 0.456287
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0795
Level     0,  Iter     1:    Energy =   0.0859
Level     0,  Iter     2:    Energy =   0.0929
Level     0,  Iter     3:    Energy =   0.0985
Level     0,  Iter     4:    Energy =   0.1026
Level     0,  Iter     5:    Energy =   0.1045
Level     0,  Iter     6:    Energy =   0.1074
Level     0,  Iter     7:    Energy =   0.1084
Level     0,  Iter     8:    Energy =   0.1097
Level     0,  Iter     9:    Energy =   0.1103
Level     0,  Iter    10:    Energy =   0.1111
Level     0,  Iter    11:    Energy =   0.1115
Level     0,  Iter    12:    Energy =   0.1121
Level     0,  Iter    13:    Energy =   0.1123
Level     0,  Iter    14:    Energy =   0.1128
Level     0,  Iter    15:    Energy =   0.1128
Level     0,  Iter    16:    Energy =   0.1134
Level     0,  Iter    17:    Energy =   0.1133
Level     0,  Iter    18:    Energy =   0.1138
Level     0,  Iter    19:    Energy =   0.1137
Level     0,  Iter    20:    Energy =   0.1142
Level     0,  Iter    21:    Energy =   0.1140
Level     0,  Iter    22:    Energy =   0.1145
Level     0,  Iter    23:    Energy =   0.1143
Level     0,  Iter    24:    Energy =   0.1147
Level     0,  Iter    25:    Energy =   0.1145
Level     0,  Iter    26:    Energy =   0.1149
Level     0,  Iter    27:    Energy =   0.1147
Level     0,  Iter    28:    Energy =   0.1151
Level     0,  Iter    29:    Energy =   0.1149
Level     0,  Iter    30:    Energy =   0.1153
Level     0,  Iter    31:    Energy =   0.1151
Level     0,  Iter    32:    Energy =   0.1154
Level     0,  Iter    33:    Energy =   0.1152
Level     0,  Iter    34:    Energy =   0.1156
Level     0,  Iter    35:    Energy =   0.1154
Level     0,  Iter    36:    Energy =   0.1157
Level     0,  Iter    37:    Energy =   0.1155
Level     0,  Iter    38:    Energy =   0.1158
Level     0,  Iter    39:    Energy =   0.1155
Level     0,  Iter    40:    Energy =   0.1158
Level     0,  Iter    41:    Energy =   0.1156
Level     0,  Iter    42:    Energy =   0.1159
Level     0,  Iter    43:    Energy =   0.1157
Level     0,  Iter    44:    Energy =   0.1160
Level     0,  Iter    45:    Energy =   0.1158
Level     0,  Iter    46:    Energy =   0.1161
Level     0,  Iter    47:    Energy =   0.1158
Level     0,  Iter    48:    Energy =   0.1161
Level     0,  Iter    49:    Energy =   0.1159
Level     0,  Iter    50:    Energy =   0.1162
Level     0,  Iter    51:    Energy =   0.1159
Level     0,  Iter    52:    Energy =   0.1162
Level     0,  Iter    53:    Energy =   0.1160
Level     0,  Iter    54:    Energy =   0.1163
Level     0,  Iter    55:    Energy =   0.1160
Level     0,  Iter    56:    Energy =   0.1163
Level     0,  Iter    57:    Energy =   0.1160
Level     0,  Iter    58:    Energy =   0.1164
Level     0,  Iter    59:    Energy =   0.1161
END OF LEVEL     0    DetJac Range:   0.2584  to   2.5813 
  Avg. Gradient Time  : 0.0077s  34.14% 
  Avg. Gaussian Time  : 0.0115s  50.61% 
  Avg. Iteration Time : 0.0227s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0758
Level     1,  Iter     1:    Energy =   0.0797
Level     1,  Iter     2:    Energy =   0.0828
Level     1,  Iter     3:    Energy =   0.0855
Level     1,  Iter     4:    Energy =   0.0877
Level     1,  Iter     5:    Energy =   0.0896
Level     1,  Iter     6:    Energy =   0.0915
Level     1,  Iter     7:    Energy =   0.0934
Level     1,  Iter     8:    Energy =   0.0950
Level     1,  Iter     9:    Energy =   0.0964
Level     1,  Iter    10:    Energy =   0.0975
Level     1,  Iter    11:    Energy =   0.0986
Level     1,  Iter    12:    Energy =   0.0995
Level     1,  Iter    13:    Energy =   0.1004
Level     1,  Iter    14:    Energy =   0.1012
Level     1,  Iter    15:    Energy =   0.1018
Level     1,  Iter    16:    Energy =   0.1024
Level     1,  Iter    17:    Energy =   0.1030
Level     1,  Iter    18:    Energy =   0.1036
Level     1,  Iter    19:    Energy =   0.1041
Level     1,  Iter    20:    Energy =   0.1046
Level     1,  Iter    21:    Energy =   0.1051
Level     1,  Iter    22:    Energy =   0.1054
Level     1,  Iter    23:    Energy =   0.1056
Level     1,  Iter    24:    Energy =   0.1058
Level     1,  Iter    25:    Energy =   0.1060
Level     1,  Iter    26:    Energy =   0.1062
Level     1,  Iter    27:    Energy =   0.1063
Level     1,  Iter    28:    Energy =   0.1065
Level     1,  Iter    29:    Energy =   0.1066
Level     1,  Iter    30:    Energy =   0.1066
Level     1,  Iter    31:    Energy =   0.1067
Level     1,  Iter    32:    Energy =   0.1068
Level     1,  Iter    33:    Energy =   0.1068
Level     1,  Iter    34:    Energy =   0.1068
Level     1,  Iter    35:    Energy =   0.1069
Level     1,  Iter    36:    Energy =   0.1070
Level     1,  Iter    37:    Energy =   0.1070
Level     1,  Iter    38:    Energy =   0.1071
Level     1,  Iter    39:    Energy =   0.1072
Level     1,  Iter    40:    Energy =   0.1073
Level     1,  Iter    41:    Energy =   0.1074
Level     1,  Iter    42:    Energy =   0.1074
Level     1,  Iter    43:    Energy =   0.1075
Level     1,  Iter    44:    Energy =   0.1075
Level     1,  Iter    45:    Energy =   0.1076
Level     1,  Iter    46:    Energy =   0.1076
Level     1,  Iter    47:    Energy =   0.1077
Level     1,  Iter    48:    Energy =   0.1077
Level     1,  Iter    49:    Energy =   0.1077
Level     1,  Iter    50:    Energy =   0.1077
Level     1,  Iter    51:    Energy =   0.1078
Level     1,  Iter    52:    Energy =   0.1078
Level     1,  Iter    53:    Energy =   0.1079
Level     1,  Iter    54:    Energy =   0.1079
Level     1,  Iter    55:    Energy =   0.1080
Level     1,  Iter    56:    Energy =   0.1080
Level     1,  Iter    57:    Energy =   0.1080
Level     1,  Iter    58:    Energy =   0.1081
Level     1,  Iter    59:    Energy =   0.1081
END OF LEVEL     1    DetJac Range:   0.0984  to   4.5841 
  Avg. Gradient Time  : 0.0438s  33.03% 
  Avg. Gaussian Time  : 0.0718s  54.15% 
  Avg. Iteration Time : 0.1326s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0522
Level     2,  Iter     1:    Energy =   0.0544
Level     2,  Iter     2:    Energy =   0.0562
Level     2,  Iter     3:    Energy =   0.0578
Level     2,  Iter     4:    Energy =   0.0594
Level     2,  Iter     5:    Energy =   0.0608
Level     2,  Iter     6:    Energy =   0.0622
Level     2,  Iter     7:    Energy =   0.0633
Level     2,  Iter     8:    Energy =   0.0642
Level     2,  Iter     9:    Energy =   0.0650
Level     2,  Iter    10:    Energy =   0.0658
Level     2,  Iter    11:    Energy =   0.0664
Level     2,  Iter    12:    Energy =   0.0670
Level     2,  Iter    13:    Energy =   0.0676
Level     2,  Iter    14:    Energy =   0.0680
Level     2,  Iter    15:    Energy =   0.0684
Level     2,  Iter    16:    Energy =   0.0687
Level     2,  Iter    17:    Energy =   0.0690
Level     2,  Iter    18:    Energy =   0.0693
Level     2,  Iter    19:    Energy =   0.0695
END OF LEVEL     2    DetJac Range:   0.0759  to   5.1976 
  Avg. Gradient Time  : 0.3060s  26.93% 
  Avg. Gaussian Time  : 0.6924s  60.94% 
  Avg. Iteration Time : 1.1362s 

real	0m37.010s
user	1m7.096s
sys	0m2.204s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.494231 0.5
+ echo 'CHUNK 0.494231 0.5 1'
CHUNK 0.494231 0.5 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.494231 0.5 1
====================================
         PROGRESS: 0.494231               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 2 successful
------------------------------------------------
[0m
****************************************
Starting stage 3: Initial joint label fusion
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 3: Initial joint label fusion
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=0
+ side=left
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
Side: left
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 0
+ [[ 0 -ne 1 ]]
+ ashs_label_fusion_apply 0
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ BOOTSTRAP=0
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Bootstrap: 0
+ [[ 0 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz -raw-posteriors tse_native_chunk_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_left.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 14, 4], [68, 72, 43] (210528 pixels)
Computing mask based on input segmentations
  Skipping 114095 out of 210528 voxels.
.......................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_left.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -g tse_native_chunk_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_corr_usegray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
80:100:51
loading tse_native_chunk_left.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 389805
tc: 18195
mean intensity : sample #  196.734:29724
center location: (37.2835,48.3878,20.9696) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2417
tc: 18195
center location: (28.2147,43.8691,10.4231) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 1 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3559
tc: 18195
center location: (33.7946,46.0997,20.7686) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 7066
tc: 18195
center location: (44.2675,49.2974,20.8917) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 252
tc: 18195
center location: (55.8364,50.3816,29.9398) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3871
tc: 18195
center location: (47.1649,48.2163,25.5694) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 522
tc: 18195
center location: (42.9951,54.4095,24.3464) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 0
tc: 18195
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 508
tc: 18195
center location: (35.8101,49.699,42.885) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 1 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_corr_nogray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
80:100:51
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 389805
tc: 18195
center location: (37.2835,48.3878,20.9696) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2417
tc: 18195
center location: (28.2147,43.8691,10.4231) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3559
tc: 18195
center location: (33.7946,46.0997,20.7686) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 7066
tc: 18195
center location: (44.2675,49.2974,20.8917) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 1 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 252
tc: 18195
center location: (55.8364,50.3816,29.9398) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3871
tc: 18195
center location: (47.1649,48.2163,25.5694) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 522
tc: 18195
center location: (42.9951,54.4095,24.3464) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 0
tc: 18195
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_left_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 508
tc: 18195
center location: (35.8101,49.699,42.885) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz
+ [[ -n '' ]]
++ [[ 0 -eq 1 ]]
++ echo multiatlas
+ MALFMODE=multiatlas
+ ashs_segmentation_qc left multiatlas heur
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.54sgqnIj/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.54sgqnIj/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.54sgqnIj/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.54sgqnIj/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.54sgqnIj/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.54sgqnIj/sag_seg_%02d.png
++ ls /tmp/ashs.54sgqnIj/cor_mprage_00.png /tmp/ashs.54sgqnIj/cor_mprage_01.png /tmp/ashs.54sgqnIj/cor_mprage_02.png /tmp/ashs.54sgqnIj/cor_mprage_03.png /tmp/ashs.54sgqnIj/cor_mprage_04.png /tmp/ashs.54sgqnIj/cor_seg_00.png /tmp/ashs.54sgqnIj/cor_seg_03.png /tmp/ashs.54sgqnIj/cor_seg_06.png /tmp/ashs.54sgqnIj/cor_seg_09.png /tmp/ashs.54sgqnIj/cor_seg_12.png /tmp/ashs.54sgqnIj/cor_tse_00.png /tmp/ashs.54sgqnIj/cor_tse_01.png /tmp/ashs.54sgqnIj/cor_tse_02.png /tmp/ashs.54sgqnIj/cor_tse_03.png /tmp/ashs.54sgqnIj/cor_tse_04.png /tmp/ashs.54sgqnIj/sag_mprage_00.png /tmp/ashs.54sgqnIj/sag_mprage_01.png /tmp/ashs.54sgqnIj/sag_seg_00.png /tmp/ashs.54sgqnIj/sag_seg_03.png /tmp/ashs.54sgqnIj/sag_tse_00.png /tmp/ashs.54sgqnIj/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_mprage_00.png /tmp/ashs.54sgqnIj/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_mprage_01.png /tmp/ashs.54sgqnIj/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_mprage_02.png /tmp/ashs.54sgqnIj/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_mprage_03.png /tmp/ashs.54sgqnIj/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_mprage_04.png /tmp/ashs.54sgqnIj/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_seg_00.png /tmp/ashs.54sgqnIj/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_seg_03.png /tmp/ashs.54sgqnIj/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_seg_06.png /tmp/ashs.54sgqnIj/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_seg_09.png /tmp/ashs.54sgqnIj/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_seg_12.png /tmp/ashs.54sgqnIj/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_tse_00.png /tmp/ashs.54sgqnIj/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_tse_01.png /tmp/ashs.54sgqnIj/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_tse_02.png /tmp/ashs.54sgqnIj/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_tse_03.png /tmp/ashs.54sgqnIj/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_tse_04.png /tmp/ashs.54sgqnIj/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_mprage_00.png /tmp/ashs.54sgqnIj/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_mprage_01.png /tmp/ashs.54sgqnIj/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_seg_00.png /tmp/ashs.54sgqnIj/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_seg_03.png /tmp/ashs.54sgqnIj/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_tse_00.png /tmp/ashs.54sgqnIj/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_tse_01.png /tmp/ashs.54sgqnIj/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.54sgqnIj/cor_tse_00.png /tmp/ashs.54sgqnIj/cor_tse_01.png /tmp/ashs.54sgqnIj/cor_tse_02.png /tmp/ashs.54sgqnIj/cor_tse_03.png /tmp/ashs.54sgqnIj/cor_tse_04.png /tmp/ashs.54sgqnIj/sag_tse_00.png /tmp/ashs.54sgqnIj/sag_tse_01.png /tmp/ashs.54sgqnIj/cor_mprage_00.png /tmp/ashs.54sgqnIj/cor_mprage_01.png /tmp/ashs.54sgqnIj/cor_mprage_02.png /tmp/ashs.54sgqnIj/cor_mprage_03.png /tmp/ashs.54sgqnIj/cor_mprage_04.png /tmp/ashs.54sgqnIj/sag_mprage_00.png /tmp/ashs.54sgqnIj/sag_mprage_01.png /tmp/ashs.54sgqnIj/cor_seg_00.png /tmp/ashs.54sgqnIj/cor_seg_03.png /tmp/ashs.54sgqnIj/cor_seg_06.png /tmp/ashs.54sgqnIj/cor_seg_09.png /tmp/ashs.54sgqnIj/cor_seg_12.png /tmp/ashs.54sgqnIj/sag_seg_00.png /tmp/ashs.54sgqnIj/sag_seg_03.png /tmp/ashs.54sgqnIj/qa.png
+ convert /tmp/ashs.54sgqnIj/qa.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa
+ montage -label 25846:left /tmp/ashs.54sgqnIj/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_multiatlas_heur_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_multiatlas_heur_left_qa.png
+ ashs_segmentation_qc left multiatlas corr_usegray
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.54sgqnIj/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.54sgqnIj/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.54sgqnIj/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.54sgqnIj/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.54sgqnIj/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.54sgqnIj/sag_seg_%02d.png
++ ls /tmp/ashs.54sgqnIj/cor_mprage_00.png /tmp/ashs.54sgqnIj/cor_mprage_01.png /tmp/ashs.54sgqnIj/cor_mprage_02.png /tmp/ashs.54sgqnIj/cor_mprage_03.png /tmp/ashs.54sgqnIj/cor_mprage_04.png /tmp/ashs.54sgqnIj/cor_seg_00.png /tmp/ashs.54sgqnIj/cor_seg_03.png /tmp/ashs.54sgqnIj/cor_seg_06.png /tmp/ashs.54sgqnIj/cor_seg_09.png /tmp/ashs.54sgqnIj/cor_seg_12.png /tmp/ashs.54sgqnIj/cor_tse_00.png /tmp/ashs.54sgqnIj/cor_tse_01.png /tmp/ashs.54sgqnIj/cor_tse_02.png /tmp/ashs.54sgqnIj/cor_tse_03.png /tmp/ashs.54sgqnIj/cor_tse_04.png /tmp/ashs.54sgqnIj/sag_mprage_00.png /tmp/ashs.54sgqnIj/sag_mprage_01.png /tmp/ashs.54sgqnIj/sag_seg_00.png /tmp/ashs.54sgqnIj/sag_seg_03.png /tmp/ashs.54sgqnIj/sag_tse_00.png /tmp/ashs.54sgqnIj/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_mprage_00.png /tmp/ashs.54sgqnIj/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_mprage_01.png /tmp/ashs.54sgqnIj/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_mprage_02.png /tmp/ashs.54sgqnIj/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_mprage_03.png /tmp/ashs.54sgqnIj/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_mprage_04.png /tmp/ashs.54sgqnIj/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_seg_00.png /tmp/ashs.54sgqnIj/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_seg_03.png /tmp/ashs.54sgqnIj/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_seg_06.png /tmp/ashs.54sgqnIj/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_seg_09.png /tmp/ashs.54sgqnIj/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_seg_12.png /tmp/ashs.54sgqnIj/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_tse_00.png /tmp/ashs.54sgqnIj/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_tse_01.png /tmp/ashs.54sgqnIj/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_tse_02.png /tmp/ashs.54sgqnIj/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_tse_03.png /tmp/ashs.54sgqnIj/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_tse_04.png /tmp/ashs.54sgqnIj/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_mprage_00.png /tmp/ashs.54sgqnIj/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_mprage_01.png /tmp/ashs.54sgqnIj/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_seg_00.png /tmp/ashs.54sgqnIj/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_seg_03.png /tmp/ashs.54sgqnIj/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_tse_00.png /tmp/ashs.54sgqnIj/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_tse_01.png /tmp/ashs.54sgqnIj/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.54sgqnIj/cor_tse_00.png /tmp/ashs.54sgqnIj/cor_tse_01.png /tmp/ashs.54sgqnIj/cor_tse_02.png /tmp/ashs.54sgqnIj/cor_tse_03.png /tmp/ashs.54sgqnIj/cor_tse_04.png /tmp/ashs.54sgqnIj/sag_tse_00.png /tmp/ashs.54sgqnIj/sag_tse_01.png /tmp/ashs.54sgqnIj/cor_mprage_00.png /tmp/ashs.54sgqnIj/cor_mprage_01.png /tmp/ashs.54sgqnIj/cor_mprage_02.png /tmp/ashs.54sgqnIj/cor_mprage_03.png /tmp/ashs.54sgqnIj/cor_mprage_04.png /tmp/ashs.54sgqnIj/sag_mprage_00.png /tmp/ashs.54sgqnIj/sag_mprage_01.png /tmp/ashs.54sgqnIj/cor_seg_00.png /tmp/ashs.54sgqnIj/cor_seg_03.png /tmp/ashs.54sgqnIj/cor_seg_06.png /tmp/ashs.54sgqnIj/cor_seg_09.png /tmp/ashs.54sgqnIj/cor_seg_12.png /tmp/ashs.54sgqnIj/sag_seg_00.png /tmp/ashs.54sgqnIj/sag_seg_03.png /tmp/ashs.54sgqnIj/qa.png
+ convert /tmp/ashs.54sgqnIj/qa.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa
+ montage -label 25846:left /tmp/ashs.54sgqnIj/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_left_qa.png
+ ashs_segmentation_qc left multiatlas corr_nogray
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.54sgqnIj/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.54sgqnIj/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.54sgqnIj/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.54sgqnIj/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.54sgqnIj/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.54sgqnIj/sag_seg_%02d.png
++ ls /tmp/ashs.54sgqnIj/cor_mprage_00.png /tmp/ashs.54sgqnIj/cor_mprage_01.png /tmp/ashs.54sgqnIj/cor_mprage_02.png /tmp/ashs.54sgqnIj/cor_mprage_03.png /tmp/ashs.54sgqnIj/cor_mprage_04.png /tmp/ashs.54sgqnIj/cor_seg_00.png /tmp/ashs.54sgqnIj/cor_seg_03.png /tmp/ashs.54sgqnIj/cor_seg_06.png /tmp/ashs.54sgqnIj/cor_seg_09.png /tmp/ashs.54sgqnIj/cor_seg_12.png /tmp/ashs.54sgqnIj/cor_tse_00.png /tmp/ashs.54sgqnIj/cor_tse_01.png /tmp/ashs.54sgqnIj/cor_tse_02.png /tmp/ashs.54sgqnIj/cor_tse_03.png /tmp/ashs.54sgqnIj/cor_tse_04.png /tmp/ashs.54sgqnIj/sag_mprage_00.png /tmp/ashs.54sgqnIj/sag_mprage_01.png /tmp/ashs.54sgqnIj/sag_seg_00.png /tmp/ashs.54sgqnIj/sag_seg_03.png /tmp/ashs.54sgqnIj/sag_tse_00.png /tmp/ashs.54sgqnIj/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_mprage_00.png /tmp/ashs.54sgqnIj/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_mprage_01.png /tmp/ashs.54sgqnIj/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_mprage_02.png /tmp/ashs.54sgqnIj/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_mprage_03.png /tmp/ashs.54sgqnIj/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_mprage_04.png /tmp/ashs.54sgqnIj/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_seg_00.png /tmp/ashs.54sgqnIj/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_seg_03.png /tmp/ashs.54sgqnIj/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_seg_06.png /tmp/ashs.54sgqnIj/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_seg_09.png /tmp/ashs.54sgqnIj/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_seg_12.png /tmp/ashs.54sgqnIj/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_tse_00.png /tmp/ashs.54sgqnIj/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_tse_01.png /tmp/ashs.54sgqnIj/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_tse_02.png /tmp/ashs.54sgqnIj/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_tse_03.png /tmp/ashs.54sgqnIj/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/cor_tse_04.png /tmp/ashs.54sgqnIj/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_mprage_00.png /tmp/ashs.54sgqnIj/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_mprage_01.png /tmp/ashs.54sgqnIj/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_seg_00.png /tmp/ashs.54sgqnIj/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_seg_03.png /tmp/ashs.54sgqnIj/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_tse_00.png /tmp/ashs.54sgqnIj/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.54sgqnIj/sag_tse_01.png /tmp/ashs.54sgqnIj/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.54sgqnIj/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.54sgqnIj/cor_tse_00.png /tmp/ashs.54sgqnIj/cor_tse_01.png /tmp/ashs.54sgqnIj/cor_tse_02.png /tmp/ashs.54sgqnIj/cor_tse_03.png /tmp/ashs.54sgqnIj/cor_tse_04.png /tmp/ashs.54sgqnIj/sag_tse_00.png /tmp/ashs.54sgqnIj/sag_tse_01.png /tmp/ashs.54sgqnIj/cor_mprage_00.png /tmp/ashs.54sgqnIj/cor_mprage_01.png /tmp/ashs.54sgqnIj/cor_mprage_02.png /tmp/ashs.54sgqnIj/cor_mprage_03.png /tmp/ashs.54sgqnIj/cor_mprage_04.png /tmp/ashs.54sgqnIj/sag_mprage_00.png /tmp/ashs.54sgqnIj/sag_mprage_01.png /tmp/ashs.54sgqnIj/cor_seg_00.png /tmp/ashs.54sgqnIj/cor_seg_03.png /tmp/ashs.54sgqnIj/cor_seg_06.png /tmp/ashs.54sgqnIj/cor_seg_09.png /tmp/ashs.54sgqnIj/cor_seg_12.png /tmp/ashs.54sgqnIj/sag_seg_00.png /tmp/ashs.54sgqnIj/sag_seg_03.png /tmp/ashs.54sgqnIj/qa.png
+ convert /tmp/ashs.54sgqnIj/qa.png -bordercolor Black -border 1x1 /tmp/ashs.54sgqnIj/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa
+ montage -label 25846:left /tmp/ashs.54sgqnIj/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_left_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.5 -v be=0.6 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.5 0.6'
CHUNK 0.5 0.6
+ echo 1
+ awk -v bs=0.5 -v be=0.6 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.5 0.55
+ echo 'CHUNK 0.5 0.55 1'
CHUNK 0.5 0.55 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.5 0.55 1
====================================
         PROGRESS: 0.5               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=0
+ side=right
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
Side: right
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 0
+ [[ 0 -ne 1 ]]
+ ashs_label_fusion_apply 0
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ BOOTSTRAP=0
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Bootstrap: 0
+ [[ 0 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz -raw-posteriors tse_native_chunk_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_right.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 11, 4], [72, 76, 41] (224352 pixels)
Computing mask based on input segmentations
  Skipping 114579 out of 224352 voxels.
....................................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_right.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -g tse_native_chunk_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_corr_usegray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
84:99:49
loading tse_native_chunk_right.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 388420
tc: 19064
mean intensity : sample #  213.677:31311
center location: (41.1791,48.4754,20.4424) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2239
tc: 19064
center location: (50.9994,41.8733,10.338) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 1 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3305
tc: 19064
center location: (45.8098,46.8411,19.9818) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 8152
tc: 19064
center location: (33.7553,50.2665,19.4759) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 321
tc: 19064
center location: (22.4848,51.7432,29.9489) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 4095
tc: 19064
center location: (30.1931,49.4608,24.4591) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 1 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 436
tc: 19064
center location: (33.5897,55.0382,24.056) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 17
tc: 19064
center location: (17.9625,43.5123,26.4727) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 499
tc: 19064
center location: (43.3409,53.8288,42.2719) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_corr_nogray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
84:99:49
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 388420
tc: 19064
center location: (41.1791,48.4754,20.4424) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2239
tc: 19064
center location: (50.9994,41.8733,10.338) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3305
tc: 19064
center location: (45.8098,46.8411,19.9818) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 1 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 8152
tc: 19064
center location: (33.7553,50.2665,19.4759) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 321
tc: 19064
center location: (22.4848,51.7432,29.9489) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 4095
tc: 19064
center location: (30.1931,49.4608,24.4591) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 436
tc: 19064
center location: (33.5897,55.0382,24.056) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 17
tc: 19064
center location: (17.9625,43.5123,26.4727) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/posterior_right_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 499
tc: 19064
center location: (43.3409,53.8288,42.2719) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz
+ [[ -n '' ]]
++ [[ 0 -eq 1 ]]
++ echo multiatlas
+ MALFMODE=multiatlas
+ ashs_segmentation_qc right multiatlas heur
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.gcnLdljF/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.gcnLdljF/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.gcnLdljF/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.gcnLdljF/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.gcnLdljF/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.gcnLdljF/sag_seg_%02d.png
++ ls /tmp/ashs.gcnLdljF/cor_mprage_00.png /tmp/ashs.gcnLdljF/cor_mprage_01.png /tmp/ashs.gcnLdljF/cor_mprage_02.png /tmp/ashs.gcnLdljF/cor_mprage_03.png /tmp/ashs.gcnLdljF/cor_mprage_04.png /tmp/ashs.gcnLdljF/cor_seg_00.png /tmp/ashs.gcnLdljF/cor_seg_03.png /tmp/ashs.gcnLdljF/cor_seg_06.png /tmp/ashs.gcnLdljF/cor_seg_09.png /tmp/ashs.gcnLdljF/cor_seg_12.png /tmp/ashs.gcnLdljF/cor_tse_00.png /tmp/ashs.gcnLdljF/cor_tse_01.png /tmp/ashs.gcnLdljF/cor_tse_02.png /tmp/ashs.gcnLdljF/cor_tse_03.png /tmp/ashs.gcnLdljF/cor_tse_04.png /tmp/ashs.gcnLdljF/sag_mprage_00.png /tmp/ashs.gcnLdljF/sag_mprage_01.png /tmp/ashs.gcnLdljF/sag_seg_00.png /tmp/ashs.gcnLdljF/sag_seg_03.png /tmp/ashs.gcnLdljF/sag_tse_00.png /tmp/ashs.gcnLdljF/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_mprage_00.png /tmp/ashs.gcnLdljF/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_mprage_01.png /tmp/ashs.gcnLdljF/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_mprage_02.png /tmp/ashs.gcnLdljF/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_mprage_03.png /tmp/ashs.gcnLdljF/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_mprage_04.png /tmp/ashs.gcnLdljF/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_seg_00.png /tmp/ashs.gcnLdljF/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_seg_03.png /tmp/ashs.gcnLdljF/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_seg_06.png /tmp/ashs.gcnLdljF/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_seg_09.png /tmp/ashs.gcnLdljF/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_seg_12.png /tmp/ashs.gcnLdljF/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_tse_00.png /tmp/ashs.gcnLdljF/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_tse_01.png /tmp/ashs.gcnLdljF/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_tse_02.png /tmp/ashs.gcnLdljF/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_tse_03.png /tmp/ashs.gcnLdljF/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_tse_04.png /tmp/ashs.gcnLdljF/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_mprage_00.png /tmp/ashs.gcnLdljF/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_mprage_01.png /tmp/ashs.gcnLdljF/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_seg_00.png /tmp/ashs.gcnLdljF/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_seg_03.png /tmp/ashs.gcnLdljF/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_tse_00.png /tmp/ashs.gcnLdljF/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_tse_01.png /tmp/ashs.gcnLdljF/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.gcnLdljF/cor_tse_00.png /tmp/ashs.gcnLdljF/cor_tse_01.png /tmp/ashs.gcnLdljF/cor_tse_02.png /tmp/ashs.gcnLdljF/cor_tse_03.png /tmp/ashs.gcnLdljF/cor_tse_04.png /tmp/ashs.gcnLdljF/sag_tse_00.png /tmp/ashs.gcnLdljF/sag_tse_01.png /tmp/ashs.gcnLdljF/cor_mprage_00.png /tmp/ashs.gcnLdljF/cor_mprage_01.png /tmp/ashs.gcnLdljF/cor_mprage_02.png /tmp/ashs.gcnLdljF/cor_mprage_03.png /tmp/ashs.gcnLdljF/cor_mprage_04.png /tmp/ashs.gcnLdljF/sag_mprage_00.png /tmp/ashs.gcnLdljF/sag_mprage_01.png /tmp/ashs.gcnLdljF/cor_seg_00.png /tmp/ashs.gcnLdljF/cor_seg_03.png /tmp/ashs.gcnLdljF/cor_seg_06.png /tmp/ashs.gcnLdljF/cor_seg_09.png /tmp/ashs.gcnLdljF/cor_seg_12.png /tmp/ashs.gcnLdljF/sag_seg_00.png /tmp/ashs.gcnLdljF/sag_seg_03.png /tmp/ashs.gcnLdljF/qa.png
+ convert /tmp/ashs.gcnLdljF/qa.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa
+ montage -label 25846:right /tmp/ashs.gcnLdljF/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_multiatlas_heur_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_multiatlas_heur_right_qa.png
+ ashs_segmentation_qc right multiatlas corr_usegray
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.gcnLdljF/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.gcnLdljF/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.gcnLdljF/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.gcnLdljF/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.gcnLdljF/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.gcnLdljF/sag_seg_%02d.png
++ ls /tmp/ashs.gcnLdljF/cor_mprage_00.png /tmp/ashs.gcnLdljF/cor_mprage_01.png /tmp/ashs.gcnLdljF/cor_mprage_02.png /tmp/ashs.gcnLdljF/cor_mprage_03.png /tmp/ashs.gcnLdljF/cor_mprage_04.png /tmp/ashs.gcnLdljF/cor_seg_00.png /tmp/ashs.gcnLdljF/cor_seg_03.png /tmp/ashs.gcnLdljF/cor_seg_06.png /tmp/ashs.gcnLdljF/cor_seg_09.png /tmp/ashs.gcnLdljF/cor_seg_12.png /tmp/ashs.gcnLdljF/cor_tse_00.png /tmp/ashs.gcnLdljF/cor_tse_01.png /tmp/ashs.gcnLdljF/cor_tse_02.png /tmp/ashs.gcnLdljF/cor_tse_03.png /tmp/ashs.gcnLdljF/cor_tse_04.png /tmp/ashs.gcnLdljF/sag_mprage_00.png /tmp/ashs.gcnLdljF/sag_mprage_01.png /tmp/ashs.gcnLdljF/sag_seg_00.png /tmp/ashs.gcnLdljF/sag_seg_03.png /tmp/ashs.gcnLdljF/sag_tse_00.png /tmp/ashs.gcnLdljF/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_mprage_00.png /tmp/ashs.gcnLdljF/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_mprage_01.png /tmp/ashs.gcnLdljF/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_mprage_02.png /tmp/ashs.gcnLdljF/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_mprage_03.png /tmp/ashs.gcnLdljF/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_mprage_04.png /tmp/ashs.gcnLdljF/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_seg_00.png /tmp/ashs.gcnLdljF/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_seg_03.png /tmp/ashs.gcnLdljF/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_seg_06.png /tmp/ashs.gcnLdljF/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_seg_09.png /tmp/ashs.gcnLdljF/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_seg_12.png /tmp/ashs.gcnLdljF/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_tse_00.png /tmp/ashs.gcnLdljF/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_tse_01.png /tmp/ashs.gcnLdljF/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_tse_02.png /tmp/ashs.gcnLdljF/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_tse_03.png /tmp/ashs.gcnLdljF/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_tse_04.png /tmp/ashs.gcnLdljF/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_mprage_00.png /tmp/ashs.gcnLdljF/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_mprage_01.png /tmp/ashs.gcnLdljF/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_seg_00.png /tmp/ashs.gcnLdljF/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_seg_03.png /tmp/ashs.gcnLdljF/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_tse_00.png /tmp/ashs.gcnLdljF/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_tse_01.png /tmp/ashs.gcnLdljF/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.gcnLdljF/cor_tse_00.png /tmp/ashs.gcnLdljF/cor_tse_01.png /tmp/ashs.gcnLdljF/cor_tse_02.png /tmp/ashs.gcnLdljF/cor_tse_03.png /tmp/ashs.gcnLdljF/cor_tse_04.png /tmp/ashs.gcnLdljF/sag_tse_00.png /tmp/ashs.gcnLdljF/sag_tse_01.png /tmp/ashs.gcnLdljF/cor_mprage_00.png /tmp/ashs.gcnLdljF/cor_mprage_01.png /tmp/ashs.gcnLdljF/cor_mprage_02.png /tmp/ashs.gcnLdljF/cor_mprage_03.png /tmp/ashs.gcnLdljF/cor_mprage_04.png /tmp/ashs.gcnLdljF/sag_mprage_00.png /tmp/ashs.gcnLdljF/sag_mprage_01.png /tmp/ashs.gcnLdljF/cor_seg_00.png /tmp/ashs.gcnLdljF/cor_seg_03.png /tmp/ashs.gcnLdljF/cor_seg_06.png /tmp/ashs.gcnLdljF/cor_seg_09.png /tmp/ashs.gcnLdljF/cor_seg_12.png /tmp/ashs.gcnLdljF/sag_seg_00.png /tmp/ashs.gcnLdljF/sag_seg_03.png /tmp/ashs.gcnLdljF/qa.png
+ convert /tmp/ashs.gcnLdljF/qa.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa
+ montage -label 25846:right /tmp/ashs.gcnLdljF/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_right_qa.png
+ ashs_segmentation_qc right multiatlas corr_nogray
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.gcnLdljF/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.gcnLdljF/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.gcnLdljF/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.gcnLdljF/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.gcnLdljF/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.gcnLdljF/sag_seg_%02d.png
++ ls /tmp/ashs.gcnLdljF/cor_mprage_00.png /tmp/ashs.gcnLdljF/cor_mprage_01.png /tmp/ashs.gcnLdljF/cor_mprage_02.png /tmp/ashs.gcnLdljF/cor_mprage_03.png /tmp/ashs.gcnLdljF/cor_mprage_04.png /tmp/ashs.gcnLdljF/cor_seg_00.png /tmp/ashs.gcnLdljF/cor_seg_03.png /tmp/ashs.gcnLdljF/cor_seg_06.png /tmp/ashs.gcnLdljF/cor_seg_09.png /tmp/ashs.gcnLdljF/cor_seg_12.png /tmp/ashs.gcnLdljF/cor_tse_00.png /tmp/ashs.gcnLdljF/cor_tse_01.png /tmp/ashs.gcnLdljF/cor_tse_02.png /tmp/ashs.gcnLdljF/cor_tse_03.png /tmp/ashs.gcnLdljF/cor_tse_04.png /tmp/ashs.gcnLdljF/sag_mprage_00.png /tmp/ashs.gcnLdljF/sag_mprage_01.png /tmp/ashs.gcnLdljF/sag_seg_00.png /tmp/ashs.gcnLdljF/sag_seg_03.png /tmp/ashs.gcnLdljF/sag_tse_00.png /tmp/ashs.gcnLdljF/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_mprage_00.png /tmp/ashs.gcnLdljF/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_mprage_01.png /tmp/ashs.gcnLdljF/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_mprage_02.png /tmp/ashs.gcnLdljF/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_mprage_03.png /tmp/ashs.gcnLdljF/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_mprage_04.png /tmp/ashs.gcnLdljF/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_seg_00.png /tmp/ashs.gcnLdljF/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_seg_03.png /tmp/ashs.gcnLdljF/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_seg_06.png /tmp/ashs.gcnLdljF/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_seg_09.png /tmp/ashs.gcnLdljF/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_seg_12.png /tmp/ashs.gcnLdljF/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_tse_00.png /tmp/ashs.gcnLdljF/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_tse_01.png /tmp/ashs.gcnLdljF/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_tse_02.png /tmp/ashs.gcnLdljF/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_tse_03.png /tmp/ashs.gcnLdljF/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/cor_tse_04.png /tmp/ashs.gcnLdljF/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_mprage_00.png /tmp/ashs.gcnLdljF/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_mprage_01.png /tmp/ashs.gcnLdljF/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_seg_00.png /tmp/ashs.gcnLdljF/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_seg_03.png /tmp/ashs.gcnLdljF/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_tse_00.png /tmp/ashs.gcnLdljF/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.gcnLdljF/sag_tse_01.png /tmp/ashs.gcnLdljF/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.gcnLdljF/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.gcnLdljF/cor_tse_00.png /tmp/ashs.gcnLdljF/cor_tse_01.png /tmp/ashs.gcnLdljF/cor_tse_02.png /tmp/ashs.gcnLdljF/cor_tse_03.png /tmp/ashs.gcnLdljF/cor_tse_04.png /tmp/ashs.gcnLdljF/sag_tse_00.png /tmp/ashs.gcnLdljF/sag_tse_01.png /tmp/ashs.gcnLdljF/cor_mprage_00.png /tmp/ashs.gcnLdljF/cor_mprage_01.png /tmp/ashs.gcnLdljF/cor_mprage_02.png /tmp/ashs.gcnLdljF/cor_mprage_03.png /tmp/ashs.gcnLdljF/cor_mprage_04.png /tmp/ashs.gcnLdljF/sag_mprage_00.png /tmp/ashs.gcnLdljF/sag_mprage_01.png /tmp/ashs.gcnLdljF/cor_seg_00.png /tmp/ashs.gcnLdljF/cor_seg_03.png /tmp/ashs.gcnLdljF/cor_seg_06.png /tmp/ashs.gcnLdljF/cor_seg_09.png /tmp/ashs.gcnLdljF/cor_seg_12.png /tmp/ashs.gcnLdljF/sag_seg_00.png /tmp/ashs.gcnLdljF/sag_seg_03.png /tmp/ashs.gcnLdljF/qa.png
+ convert /tmp/ashs.gcnLdljF/qa.png -bordercolor Black -border 1x1 /tmp/ashs.gcnLdljF/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa
+ montage -label 25846:right /tmp/ashs.gcnLdljF/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.5 -v be=0.6 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.5 0.6'
CHUNK 0.5 0.6
+ echo 1
+ awk -v bs=0.5 -v be=0.6 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.55 0.6
+ echo 'CHUNK 0.55 0.6 1'
CHUNK 0.55 0.6 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.55 0.6 1
====================================
         PROGRESS: 0.55               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 3 successful
------------------------------------------------
[0m
****************************************
Starting stage 4: Boostrapped ROI registration to all T2 atlases
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 4: Boostrapped ROI registration 
to all T2 atlases
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=000
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 000
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 000 left 0
+ local tid=000
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2132.26 	 OutFr   0.0000 	 RMSD     2.5266
Iter 002 	 Temp     3.72 	 Delta  1980.11 	 OutFr   0.0000 	 RMSD     2.0037
Iter 003 	 Temp     3.46 	 Delta  1853.34 	 OutFr   0.0000 	 RMSD     2.0045
Iter 004 	 Temp     3.22 	 Delta  1744.85 	 OutFr   0.0000 	 RMSD     1.9892
Iter 005 	 Temp     2.99 	 Delta  1648.79 	 OutFr   0.0000 	 RMSD     1.9707
Iter 006 	 Temp     2.78 	 Delta  1562.29 	 OutFr   0.0000 	 RMSD     1.9541
Iter 007 	 Temp     2.59 	 Delta  1483.02 	 OutFr   0.0000 	 RMSD     1.9383
Iter 008 	 Temp     2.41 	 Delta  1409.41 	 OutFr   0.0000 	 RMSD     1.9233
Iter 009 	 Temp     2.24 	 Delta  1341.99 	 OutFr   0.0000 	 RMSD     1.9088
Iter 010 	 Temp     2.08 	 Delta  1280.79 	 OutFr   0.0000 	 RMSD     1.8955
Iter 011 	 Temp     1.94 	 Delta  1222.40 	 OutFr   0.0000 	 RMSD     1.8825
Iter 012 	 Temp     1.80 	 Delta  1164.63 	 OutFr   0.0000 	 RMSD     1.8709
Iter 013 	 Temp     1.67 	 Delta  1106.67 	 OutFr   0.0000 	 RMSD     1.8602
Iter 014 	 Temp     1.56 	 Delta  1048.18 	 OutFr   0.0000 	 RMSD     1.8516
Iter 015 	 Temp     1.45 	 Delta   989.79 	 OutFr   0.0000 	 RMSD     1.8446
Iter 016 	 Temp     1.35 	 Delta   931.89 	 OutFr   0.0000 	 RMSD     1.8390
Iter 017 	 Temp     1.25 	 Delta   873.00 	 OutFr   0.0000 	 RMSD     1.8339
Iter 018 	 Temp     1.16 	 Delta   810.90 	 OutFr   0.0025 	 RMSD     1.8282
Iter 019 	 Temp     1.08 	 Delta   745.26 	 OutFr   0.0074 	 RMSD     1.8236
Iter 020 	 Temp     1.01 	 Delta   680.53 	 OutFr   0.0172 	 RMSD     1.8202
Iter 021 	 Temp     0.94 	 Delta   624.85 	 OutFr   0.0246 	 RMSD     1.8174
Iter 022 	 Temp     0.87 	 Delta   578.55 	 OutFr   0.0345 	 RMSD     1.8154
Iter 023 	 Temp     0.81 	 Delta   537.74 	 OutFr   0.0567 	 RMSD     1.8144
Iter 024 	 Temp     0.75 	 Delta   502.96 	 OutFr   0.0665 	 RMSD     1.8143
Iter 025 	 Temp     0.70 	 Delta   472.25 	 OutFr   0.0961 	 RMSD     1.8158
Iter 026 	 Temp     0.65 	 Delta   441.43 	 OutFr   0.1059 	 RMSD     1.8184
Iter 027 	 Temp     0.61 	 Delta   412.50 	 OutFr   0.1305 	 RMSD     1.8216
Iter 028 	 Temp     0.56 	 Delta   386.40 	 OutFr   0.1404 	 RMSD     1.8249
Iter 029 	 Temp     0.52 	 Delta   356.75 	 OutFr   0.1576 	 RMSD     1.8276
Iter 030 	 Temp     0.49 	 Delta   322.27 	 OutFr   0.1897 	 RMSD     1.8296
Iter 031 	 Temp     0.45 	 Delta   286.53 	 OutFr   0.2291 	 RMSD     1.8313
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.lHuf3lqH/mybin.nii.gz
+ vtklevelset /tmp/ashs.lHuf3lqH/mybin.nii.gz /tmp/ashs.lHuf3lqH/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.lHuf3lqH/mymesh.vtk /tmp/ashs.lHuf3lqH/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 3165.73915618   1.03675206
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.lHuf3lqH/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -35.4838 to -11.1441
   Y : -20.1352 to 28.5597
   Z : -25.8387 to 2.75925
   Image resolution  : 99 by 170 by 111
   Image box origin  : {-40.4838, -25.1352, -30.8387}
   Image box size    : {34.375, 59.0277, 38.8496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [40.4838, 25.1352, -30.8387]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat -o /tmp/ashs.lHuf3lqH/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat -o /tmp/ashs.lHuf3lqH/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.lHuf3lqH/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.6 0.605769
+ echo 'CHUNK 0.6 0.605769 0.5'
CHUNK 0.6 0.605769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.6 0.605769 0.5
====================================
         PROGRESS: 0.6               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.lHuf3lqH/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.lHuf3lqH/fixed_hw.nii.gz /tmp/ashs.lHuf3lqH/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.51389, moving = 0.739734
LEVEL 1 of 3
  Smoothing sigmas: [2.38157, 2.37765, 2.40319], [0.972271, 0.970672, 0.981099]
Level     0,  Iter     0:    Energy =   0.0494
Level     0,  Iter     1:    Energy =   0.0568
Level     0,  Iter     2:    Energy =   0.0639
Level     0,  Iter     3:    Energy =   0.0693
Level     0,  Iter     4:    Energy =   0.0737
Level     0,  Iter     5:    Energy =   0.0780
Level     0,  Iter     6:    Energy =   0.0819
Level     0,  Iter     7:    Energy =   0.0846
Level     0,  Iter     8:    Energy =   0.0867
Level     0,  Iter     9:    Energy =   0.0886
Level     0,  Iter    10:    Energy =   0.0907
Level     0,  Iter    11:    Energy =   0.0927
Level     0,  Iter    12:    Energy =   0.0940
Level     0,  Iter    13:    Energy =   0.0947
Level     0,  Iter    14:    Energy =   0.0949
Level     0,  Iter    15:    Energy =   0.0948
Level     0,  Iter    16:    Energy =   0.0948
Level     0,  Iter    17:    Energy =   0.0948
Level     0,  Iter    18:    Energy =   0.0947
Level     0,  Iter    19:    Energy =   0.0947
Level     0,  Iter    20:    Energy =   0.0947
Level     0,  Iter    21:    Energy =   0.0948
Level     0,  Iter    22:    Energy =   0.0948
Level     0,  Iter    23:    Energy =   0.0949
Level     0,  Iter    24:    Energy =   0.0949
Level     0,  Iter    25:    Energy =   0.0950
Level     0,  Iter    26:    Energy =   0.0950
Level     0,  Iter    27:    Energy =   0.0951
Level     0,  Iter    28:    Energy =   0.0951
Level     0,  Iter    29:    Energy =   0.0952
Level     0,  Iter    30:    Energy =   0.0952
Level     0,  Iter    31:    Energy =   0.0954
Level     0,  Iter    32:    Energy =   0.0954
Level     0,  Iter    33:    Energy =   0.0955
Level     0,  Iter    34:    Energy =   0.0955
Level     0,  Iter    35:    Energy =   0.0956
Level     0,  Iter    36:    Energy =   0.0956
Level     0,  Iter    37:    Energy =   0.0957
Level     0,  Iter    38:    Energy =   0.0957
Level     0,  Iter    39:    Energy =   0.0958
Level     0,  Iter    40:    Energy =   0.0958
Level     0,  Iter    41:    Energy =   0.0959
Level     0,  Iter    42:    Energy =   0.0958
Level     0,  Iter    43:    Energy =   0.0959
Level     0,  Iter    44:    Energy =   0.0959
Level     0,  Iter    45:    Energy =   0.0959
Level     0,  Iter    46:    Energy =   0.0959
Level     0,  Iter    47:    Energy =   0.0960
Level     0,  Iter    48:    Energy =   0.0959
Level     0,  Iter    49:    Energy =   0.0960
Level     0,  Iter    50:    Energy =   0.0960
Level     0,  Iter    51:    Energy =   0.0960
Level     0,  Iter    52:    Energy =   0.0960
Level     0,  Iter    53:    Energy =   0.0961
Level     0,  Iter    54:    Energy =   0.0960
Level     0,  Iter    55:    Energy =   0.0961
Level     0,  Iter    56:    Energy =   0.0961
Level     0,  Iter    57:    Energy =   0.0961
Level     0,  Iter    58:    Energy =   0.0961
Level     0,  Iter    59:    Energy =   0.0962
END OF LEVEL     0    DetJac Range:   0.4310  to   2.0889 
  Avg. Gradient Time  : 0.0068s  37.70% 
  Avg. Gaussian Time  : 0.0086s  47.61% 
  Avg. Iteration Time : 0.0180s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19078, 1.20281, 1.2016], [0.486136, 0.491046, 0.49055]
Level     1,  Iter     0:    Energy =   0.0658
Level     1,  Iter     1:    Energy =   0.0704
Level     1,  Iter     2:    Energy =   0.0735
Level     1,  Iter     3:    Energy =   0.0766
Level     1,  Iter     4:    Energy =   0.0792
Level     1,  Iter     5:    Energy =   0.0816
Level     1,  Iter     6:    Energy =   0.0830
Level     1,  Iter     7:    Energy =   0.0845
Level     1,  Iter     8:    Energy =   0.0859
Level     1,  Iter     9:    Energy =   0.0866
Level     1,  Iter    10:    Energy =   0.0876
Level     1,  Iter    11:    Energy =   0.0881
Level     1,  Iter    12:    Energy =   0.0882
Level     1,  Iter    13:    Energy =   0.0883
Level     1,  Iter    14:    Energy =   0.0887
Level     1,  Iter    15:    Energy =   0.0885
Level     1,  Iter    16:    Energy =   0.0892
Level     1,  Iter    17:    Energy =   0.0889
Level     1,  Iter    18:    Energy =   0.0896
Level     1,  Iter    19:    Energy =   0.0893
Level     1,  Iter    20:    Energy =   0.0900
Level     1,  Iter    21:    Energy =   0.0896
Level     1,  Iter    22:    Energy =   0.0902
Level     1,  Iter    23:    Energy =   0.0898
Level     1,  Iter    24:    Energy =   0.0904
Level     1,  Iter    25:    Energy =   0.0900
Level     1,  Iter    26:    Energy =   0.0905
Level     1,  Iter    27:    Energy =   0.0901
Level     1,  Iter    28:    Energy =   0.0905
Level     1,  Iter    29:    Energy =   0.0901
Level     1,  Iter    30:    Energy =   0.0908
Level     1,  Iter    31:    Energy =   0.0904
Level     1,  Iter    32:    Energy =   0.0909
Level     1,  Iter    33:    Energy =   0.0904
Level     1,  Iter    34:    Energy =   0.0910
Level     1,  Iter    35:    Energy =   0.0907
Level     1,  Iter    36:    Energy =   0.0909
Level     1,  Iter    37:    Energy =   0.0905
Level     1,  Iter    38:    Energy =   0.0910
Level     1,  Iter    39:    Energy =   0.0906
Level     1,  Iter    40:    Energy =   0.0911
Level     1,  Iter    41:    Energy =   0.0907
Level     1,  Iter    42:    Energy =   0.0912
Level     1,  Iter    43:    Energy =   0.0907
Level     1,  Iter    44:    Energy =   0.0913
Level     1,  Iter    45:    Energy =   0.0909
Level     1,  Iter    46:    Energy =   0.0913
Level     1,  Iter    47:    Energy =   0.0909
Level     1,  Iter    48:    Energy =   0.0914
Level     1,  Iter    49:    Energy =   0.0910
Level     1,  Iter    50:    Energy =   0.0915
Level     1,  Iter    51:    Energy =   0.0910
Level     1,  Iter    52:    Energy =   0.0916
Level     1,  Iter    53:    Energy =   0.0911
Level     1,  Iter    54:    Energy =   0.0914
Level     1,  Iter    55:    Energy =   0.0910
Level     1,  Iter    56:    Energy =   0.0916
Level     1,  Iter    57:    Energy =   0.0911
Level     1,  Iter    58:    Energy =   0.0914
Level     1,  Iter    59:    Energy =   0.0910
END OF LEVEL     1    DetJac Range:   0.1873  to   2.7520 
  Avg. Gradient Time  : 0.0425s  40.31% 
  Avg. Gaussian Time  : 0.0506s  48.01% 
  Avg. Iteration Time : 0.1054s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0489
Level     2,  Iter     1:    Energy =   0.0518
Level     2,  Iter     2:    Energy =   0.0543
Level     2,  Iter     3:    Energy =   0.0566
Level     2,  Iter     4:    Energy =   0.0586
Level     2,  Iter     5:    Energy =   0.0604
Level     2,  Iter     6:    Energy =   0.0618
Level     2,  Iter     7:    Energy =   0.0629
Level     2,  Iter     8:    Energy =   0.0640
Level     2,  Iter     9:    Energy =   0.0650
Level     2,  Iter    10:    Energy =   0.0658
Level     2,  Iter    11:    Energy =   0.0666
Level     2,  Iter    12:    Energy =   0.0672
Level     2,  Iter    13:    Energy =   0.0676
Level     2,  Iter    14:    Energy =   0.0681
Level     2,  Iter    15:    Energy =   0.0685
Level     2,  Iter    16:    Energy =   0.0688
Level     2,  Iter    17:    Energy =   0.0686
Level     2,  Iter    18:    Energy =   0.0691
Level     2,  Iter    19:    Energy =   0.0690
END OF LEVEL     2    DetJac Range:   0.0877  to   4.1549 
  Avg. Gradient Time  : 0.3014s  38.06% 
  Avg. Gaussian Time  : 0.4066s  51.35% 
  Avg. Iteration Time : 0.7919s 

real	0m26.372s
user	0m46.484s
sys	0m2.684s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.6 0.605769
+ echo 'CHUNK 0.6 0.605769 1'
CHUNK 0.6 0.605769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.6 0.605769 1
====================================
         PROGRESS: 0.6               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=001
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 001
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 001 left 0
+ local tid=001
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2072.69 	 OutFr   0.0000 	 RMSD     2.5652
Iter 002 	 Temp     3.72 	 Delta  1956.40 	 OutFr   0.0000 	 RMSD     2.0917
Iter 003 	 Temp     3.46 	 Delta  1855.76 	 OutFr   0.0000 	 RMSD     2.0994
Iter 004 	 Temp     3.22 	 Delta  1765.13 	 OutFr   0.0000 	 RMSD     2.0764
Iter 005 	 Temp     2.99 	 Delta  1681.55 	 OutFr   0.0000 	 RMSD     2.0534
Iter 006 	 Temp     2.78 	 Delta  1604.12 	 OutFr   0.0000 	 RMSD     2.0326
Iter 007 	 Temp     2.59 	 Delta  1530.54 	 OutFr   0.0000 	 RMSD     2.0143
Iter 008 	 Temp     2.41 	 Delta  1458.45 	 OutFr   0.0000 	 RMSD     1.9979
Iter 009 	 Temp     2.24 	 Delta  1386.82 	 OutFr   0.0000 	 RMSD     1.9839
Iter 010 	 Temp     2.08 	 Delta  1315.65 	 OutFr   0.0000 	 RMSD     1.9717
Iter 011 	 Temp     1.94 	 Delta  1245.05 	 OutFr   0.0025 	 RMSD     1.9614
Iter 012 	 Temp     1.80 	 Delta  1175.40 	 OutFr   0.0025 	 RMSD     1.9531
Iter 013 	 Temp     1.67 	 Delta  1107.87 	 OutFr   0.0025 	 RMSD     1.9464
Iter 014 	 Temp     1.56 	 Delta  1043.37 	 OutFr   0.0074 	 RMSD     1.9406
Iter 015 	 Temp     1.45 	 Delta   981.42 	 OutFr   0.0074 	 RMSD     1.9348
Iter 016 	 Temp     1.35 	 Delta   919.89 	 OutFr   0.0123 	 RMSD     1.9288
Iter 017 	 Temp     1.25 	 Delta   857.13 	 OutFr   0.0197 	 RMSD     1.9232
Iter 018 	 Temp     1.16 	 Delta   794.30 	 OutFr   0.0222 	 RMSD     1.9192
Iter 019 	 Temp     1.08 	 Delta   733.44 	 OutFr   0.0345 	 RMSD     1.9172
Iter 020 	 Temp     1.01 	 Delta   674.78 	 OutFr   0.0443 	 RMSD     1.9174
Iter 021 	 Temp     0.94 	 Delta   615.83 	 OutFr   0.0542 	 RMSD     1.9197
Iter 022 	 Temp     0.87 	 Delta   555.90 	 OutFr   0.0837 	 RMSD     1.9240
Iter 023 	 Temp     0.81 	 Delta   505.61 	 OutFr   0.1108 	 RMSD     1.9296
Iter 024 	 Temp     0.75 	 Delta   470.56 	 OutFr   0.1305 	 RMSD     1.9371
Iter 025 	 Temp     0.70 	 Delta   444.79 	 OutFr   0.1379 	 RMSD     1.9446
Iter 026 	 Temp     0.65 	 Delta   422.90 	 OutFr   0.1527 	 RMSD     1.9512
Iter 027 	 Temp     0.61 	 Delta   395.58 	 OutFr   0.1650 	 RMSD     1.9571
Iter 028 	 Temp     0.56 	 Delta   364.01 	 OutFr   0.1847 	 RMSD     1.9621
Iter 029 	 Temp     0.52 	 Delta   329.55 	 OutFr   0.2118 	 RMSD     1.9668
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.NrENsyNN/mybin.nii.gz
+ vtklevelset /tmp/ashs.NrENsyNN/mybin.nii.gz /tmp/ashs.NrENsyNN/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.NrENsyNN/mymesh.vtk /tmp/ashs.NrENsyNN/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 3046.31957263   0.99764318
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.NrENsyNN/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.6241 to -8.47085
   Y : -15.9027 to 30.1491
   Z : -22.1792 to 7.18724
   Image resolution  : 99 by 162 by 113
   Image box origin  : {-37.6241, -20.9027, -27.1792}
   Image box size    : {34.375, 56.25, 39.5495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.6241, 20.9027, -27.1792]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat -o /tmp/ashs.NrENsyNN/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat -o /tmp/ashs.NrENsyNN/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.NrENsyNN/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.605769 0.611538
+ echo 'CHUNK 0.605769 0.611538 0.5'
CHUNK 0.605769 0.611538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.605769 0.611538 0.5
====================================
         PROGRESS: 0.605769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.NrENsyNN/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.NrENsyNN/fixed_hw.nii.gz /tmp/ashs.NrENsyNN/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.510806, moving = 0.706236
LEVEL 1 of 3
  Smoothing sigmas: [2.38157, 2.37629, 2.36213], [0.972271, 0.970115, 0.964336]
Level     0,  Iter     0:    Energy =   0.0480
Level     0,  Iter     1:    Energy =   0.0535
Level     0,  Iter     2:    Energy =   0.0578
Level     0,  Iter     3:    Energy =   0.0611
Level     0,  Iter     4:    Energy =   0.0641
Level     0,  Iter     5:    Energy =   0.0672
Level     0,  Iter     6:    Energy =   0.0707
Level     0,  Iter     7:    Energy =   0.0736
Level     0,  Iter     8:    Energy =   0.0758
Level     0,  Iter     9:    Energy =   0.0776
Level     0,  Iter    10:    Energy =   0.0789
Level     0,  Iter    11:    Energy =   0.0797
Level     0,  Iter    12:    Energy =   0.0807
Level     0,  Iter    13:    Energy =   0.0809
Level     0,  Iter    14:    Energy =   0.0813
Level     0,  Iter    15:    Energy =   0.0816
Level     0,  Iter    16:    Energy =   0.0820
Level     0,  Iter    17:    Energy =   0.0821
Level     0,  Iter    18:    Energy =   0.0826
Level     0,  Iter    19:    Energy =   0.0827
Level     0,  Iter    20:    Energy =   0.0831
Level     0,  Iter    21:    Energy =   0.0831
Level     0,  Iter    22:    Energy =   0.0834
Level     0,  Iter    23:    Energy =   0.0835
Level     0,  Iter    24:    Energy =   0.0837
Level     0,  Iter    25:    Energy =   0.0837
Level     0,  Iter    26:    Energy =   0.0840
Level     0,  Iter    27:    Energy =   0.0840
Level     0,  Iter    28:    Energy =   0.0842
Level     0,  Iter    29:    Energy =   0.0842
Level     0,  Iter    30:    Energy =   0.0844
Level     0,  Iter    31:    Energy =   0.0843
Level     0,  Iter    32:    Energy =   0.0846
Level     0,  Iter    33:    Energy =   0.0845
Level     0,  Iter    34:    Energy =   0.0847
Level     0,  Iter    35:    Energy =   0.0847
Level     0,  Iter    36:    Energy =   0.0849
Level     0,  Iter    37:    Energy =   0.0848
Level     0,  Iter    38:    Energy =   0.0850
Level     0,  Iter    39:    Energy =   0.0850
Level     0,  Iter    40:    Energy =   0.0852
Level     0,  Iter    41:    Energy =   0.0851
Level     0,  Iter    42:    Energy =   0.0853
Level     0,  Iter    43:    Energy =   0.0852
Level     0,  Iter    44:    Energy =   0.0854
Level     0,  Iter    45:    Energy =   0.0852
Level     0,  Iter    46:    Energy =   0.0854
Level     0,  Iter    47:    Energy =   0.0853
Level     0,  Iter    48:    Energy =   0.0855
Level     0,  Iter    49:    Energy =   0.0854
Level     0,  Iter    50:    Energy =   0.0856
Level     0,  Iter    51:    Energy =   0.0855
Level     0,  Iter    52:    Energy =   0.0857
Level     0,  Iter    53:    Energy =   0.0855
Level     0,  Iter    54:    Energy =   0.0857
Level     0,  Iter    55:    Energy =   0.0855
Level     0,  Iter    56:    Energy =   0.0857
Level     0,  Iter    57:    Energy =   0.0856
Level     0,  Iter    58:    Energy =   0.0858
Level     0,  Iter    59:    Energy =   0.0856
END OF LEVEL     0    DetJac Range:   0.4031  to   1.9619 
  Avg. Gradient Time  : 0.0079s  37.71% 
  Avg. Gaussian Time  : 0.0100s  47.52% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19078, 1.20281, 1.20179], [0.486136, 0.491046, 0.490627]
Level     1,  Iter     0:    Energy =   0.0625
Level     1,  Iter     1:    Energy =   0.0672
Level     1,  Iter     2:    Energy =   0.0713
Level     1,  Iter     3:    Energy =   0.0742
Level     1,  Iter     4:    Energy =   0.0763
Level     1,  Iter     5:    Energy =   0.0778
Level     1,  Iter     6:    Energy =   0.0790
Level     1,  Iter     7:    Energy =   0.0800
Level     1,  Iter     8:    Energy =   0.0810
Level     1,  Iter     9:    Energy =   0.0818
Level     1,  Iter    10:    Energy =   0.0825
Level     1,  Iter    11:    Energy =   0.0831
Level     1,  Iter    12:    Energy =   0.0833
Level     1,  Iter    13:    Energy =   0.0835
Level     1,  Iter    14:    Energy =   0.0839
Level     1,  Iter    15:    Energy =   0.0840
Level     1,  Iter    16:    Energy =   0.0843
Level     1,  Iter    17:    Energy =   0.0844
Level     1,  Iter    18:    Energy =   0.0847
Level     1,  Iter    19:    Energy =   0.0847
Level     1,  Iter    20:    Energy =   0.0850
Level     1,  Iter    21:    Energy =   0.0850
Level     1,  Iter    22:    Energy =   0.0852
Level     1,  Iter    23:    Energy =   0.0851
Level     1,  Iter    24:    Energy =   0.0854
Level     1,  Iter    25:    Energy =   0.0854
Level     1,  Iter    26:    Energy =   0.0856
Level     1,  Iter    27:    Energy =   0.0855
Level     1,  Iter    28:    Energy =   0.0857
Level     1,  Iter    29:    Energy =   0.0856
Level     1,  Iter    30:    Energy =   0.0856
Level     1,  Iter    31:    Energy =   0.0857
Level     1,  Iter    32:    Energy =   0.0857
Level     1,  Iter    33:    Energy =   0.0857
Level     1,  Iter    34:    Energy =   0.0857
Level     1,  Iter    35:    Energy =   0.0858
Level     1,  Iter    36:    Energy =   0.0857
Level     1,  Iter    37:    Energy =   0.0858
Level     1,  Iter    38:    Energy =   0.0858
Level     1,  Iter    39:    Energy =   0.0858
Level     1,  Iter    40:    Energy =   0.0858
Level     1,  Iter    41:    Energy =   0.0859
Level     1,  Iter    42:    Energy =   0.0859
Level     1,  Iter    43:    Energy =   0.0859
Level     1,  Iter    44:    Energy =   0.0859
Level     1,  Iter    45:    Energy =   0.0859
Level     1,  Iter    46:    Energy =   0.0859
Level     1,  Iter    47:    Energy =   0.0859
Level     1,  Iter    48:    Energy =   0.0859
Level     1,  Iter    49:    Energy =   0.0859
Level     1,  Iter    50:    Energy =   0.0859
Level     1,  Iter    51:    Energy =   0.0860
Level     1,  Iter    52:    Energy =   0.0859
Level     1,  Iter    53:    Energy =   0.0860
Level     1,  Iter    54:    Energy =   0.0859
Level     1,  Iter    55:    Energy =   0.0860
Level     1,  Iter    56:    Energy =   0.0860
Level     1,  Iter    57:    Energy =   0.0860
Level     1,  Iter    58:    Energy =   0.0860
Level     1,  Iter    59:    Energy =   0.0861
END OF LEVEL     1    DetJac Range:   0.1961  to   3.0670 
  Avg. Gradient Time  : 0.0458s  39.85% 
  Avg. Gaussian Time  : 0.0554s  48.20% 
  Avg. Iteration Time : 0.1150s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0463
Level     2,  Iter     1:    Energy =   0.0489
Level     2,  Iter     2:    Energy =   0.0517
Level     2,  Iter     3:    Energy =   0.0538
Level     2,  Iter     4:    Energy =   0.0558
Level     2,  Iter     5:    Energy =   0.0573
Level     2,  Iter     6:    Energy =   0.0588
Level     2,  Iter     7:    Energy =   0.0598
Level     2,  Iter     8:    Energy =   0.0604
Level     2,  Iter     9:    Energy =   0.0609
Level     2,  Iter    10:    Energy =   0.0613
Level     2,  Iter    11:    Energy =   0.0617
Level     2,  Iter    12:    Energy =   0.0621
Level     2,  Iter    13:    Energy =   0.0626
Level     2,  Iter    14:    Energy =   0.0632
Level     2,  Iter    15:    Energy =   0.0638
Level     2,  Iter    16:    Energy =   0.0643
Level     2,  Iter    17:    Energy =   0.0646
Level     2,  Iter    18:    Energy =   0.0649
Level     2,  Iter    19:    Energy =   0.0653
END OF LEVEL     2    DetJac Range:   0.0990  to   4.3340 
  Avg. Gradient Time  : 0.3221s  37.60% 
  Avg. Gaussian Time  : 0.4416s  51.56% 
  Avg. Iteration Time : 0.8565s 

real	0m28.713s
user	0m50.636s
sys	0m2.832s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.605769 0.611538
+ echo 'CHUNK 0.605769 0.611538 1'
CHUNK 0.605769 0.611538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.605769 0.611538 1
====================================
         PROGRESS: 0.605769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=002
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 002
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 002 left 0
+ local tid=002
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1701.18 	 OutFr   0.0000 	 RMSD     2.6827
Iter 002 	 Temp     3.72 	 Delta  1635.17 	 OutFr   0.0000 	 RMSD     2.1783
Iter 003 	 Temp     3.46 	 Delta  1567.29 	 OutFr   0.0000 	 RMSD     2.2039
Iter 004 	 Temp     3.22 	 Delta  1493.53 	 OutFr   0.0000 	 RMSD     2.1953
Iter 005 	 Temp     2.99 	 Delta  1423.58 	 OutFr   0.0000 	 RMSD     2.1790
Iter 006 	 Temp     2.78 	 Delta  1359.62 	 OutFr   0.0000 	 RMSD     2.1632
Iter 007 	 Temp     2.59 	 Delta  1300.81 	 OutFr   0.0000 	 RMSD     2.1490
Iter 008 	 Temp     2.41 	 Delta  1245.36 	 OutFr   0.0025 	 RMSD     2.1374
Iter 009 	 Temp     2.24 	 Delta  1191.58 	 OutFr   0.0049 	 RMSD     2.1271
Iter 010 	 Temp     2.08 	 Delta  1138.78 	 OutFr   0.0099 	 RMSD     2.1172
Iter 011 	 Temp     1.94 	 Delta  1087.63 	 OutFr   0.0148 	 RMSD     2.1078
Iter 012 	 Temp     1.80 	 Delta  1039.02 	 OutFr   0.0222 	 RMSD     2.0991
Iter 013 	 Temp     1.67 	 Delta   992.70 	 OutFr   0.0320 	 RMSD     2.0912
Iter 014 	 Temp     1.56 	 Delta   946.47 	 OutFr   0.0320 	 RMSD     2.0837
Iter 015 	 Temp     1.45 	 Delta   896.92 	 OutFr   0.0419 	 RMSD     2.0762
Iter 016 	 Temp     1.35 	 Delta   841.99 	 OutFr   0.0493 	 RMSD     2.0698
Iter 017 	 Temp     1.25 	 Delta   782.32 	 OutFr   0.0567 	 RMSD     2.0638
Iter 018 	 Temp     1.16 	 Delta   720.96 	 OutFr   0.0591 	 RMSD     2.0597
Iter 019 	 Temp     1.08 	 Delta   661.75 	 OutFr   0.0739 	 RMSD     2.0570
Iter 020 	 Temp     1.01 	 Delta   607.87 	 OutFr   0.0788 	 RMSD     2.0559
Iter 021 	 Temp     0.94 	 Delta   558.46 	 OutFr   0.0887 	 RMSD     2.0546
Iter 022 	 Temp     0.87 	 Delta   512.15 	 OutFr   0.1108 	 RMSD     2.0532
Iter 023 	 Temp     0.81 	 Delta   470.13 	 OutFr   0.1355 	 RMSD     2.0522
Iter 024 	 Temp     0.75 	 Delta   433.79 	 OutFr   0.1453 	 RMSD     2.0513
Iter 025 	 Temp     0.70 	 Delta   402.45 	 OutFr   0.1798 	 RMSD     2.0508
Iter 026 	 Temp     0.65 	 Delta   373.89 	 OutFr   0.1921 	 RMSD     2.0510
Iter 027 	 Temp     0.61 	 Delta   346.55 	 OutFr   0.2118 	 RMSD     2.0518
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.lG1gOMmm/mybin.nii.gz
+ vtklevelset /tmp/ashs.lG1gOMmm/mybin.nii.gz /tmp/ashs.lG1gOMmm/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.lG1gOMmm/mymesh.vtk /tmp/ashs.lG1gOMmm/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 3055.48906049   1.00064611
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.lG1gOMmm/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -36.3299 to -13.1916
   Y : -23.5044 to 21.2189
   Z : -17.3372 to 15.512
   Image resolution  : 96 by 158 by 123
   Image box origin  : {-41.3299, -28.5044, -22.3372}
   Image box size    : {33.3333, 54.8611, 43.0495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [41.3299, 28.5044, -22.3372]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat -o /tmp/ashs.lG1gOMmm/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat -o /tmp/ashs.lG1gOMmm/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.lG1gOMmm/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.611538 0.617308
+ echo 'CHUNK 0.611538 0.617308 0.5'
CHUNK 0.611538 0.617308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.611538 0.617308 0.5
====================================
         PROGRESS: 0.611538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.lG1gOMmm/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.lG1gOMmm/fixed_hw.nii.gz /tmp/ashs.lG1gOMmm/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509032, moving = 0.528525
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.37555, 2.40529], [0.982092, 0.969816, 0.981955]
Level     0,  Iter     0:    Energy =   0.0464
Level     0,  Iter     1:    Energy =   0.0516
Level     0,  Iter     2:    Energy =   0.0575
Level     0,  Iter     3:    Energy =   0.0615
Level     0,  Iter     4:    Energy =   0.0648
Level     0,  Iter     5:    Energy =   0.0679
Level     0,  Iter     6:    Energy =   0.0704
Level     0,  Iter     7:    Energy =   0.0734
Level     0,  Iter     8:    Energy =   0.0757
Level     0,  Iter     9:    Energy =   0.0777
Level     0,  Iter    10:    Energy =   0.0789
Level     0,  Iter    11:    Energy =   0.0799
Level     0,  Iter    12:    Energy =   0.0813
Level     0,  Iter    13:    Energy =   0.0817
Level     0,  Iter    14:    Energy =   0.0820
Level     0,  Iter    15:    Energy =   0.0823
Level     0,  Iter    16:    Energy =   0.0828
Level     0,  Iter    17:    Energy =   0.0830
Level     0,  Iter    18:    Energy =   0.0833
Level     0,  Iter    19:    Energy =   0.0835
Level     0,  Iter    20:    Energy =   0.0838
Level     0,  Iter    21:    Energy =   0.0840
Level     0,  Iter    22:    Energy =   0.0842
Level     0,  Iter    23:    Energy =   0.0844
Level     0,  Iter    24:    Energy =   0.0847
Level     0,  Iter    25:    Energy =   0.0848
Level     0,  Iter    26:    Energy =   0.0851
Level     0,  Iter    27:    Energy =   0.0853
Level     0,  Iter    28:    Energy =   0.0854
Level     0,  Iter    29:    Energy =   0.0856
Level     0,  Iter    30:    Energy =   0.0858
Level     0,  Iter    31:    Energy =   0.0858
Level     0,  Iter    32:    Energy =   0.0860
Level     0,  Iter    33:    Energy =   0.0861
Level     0,  Iter    34:    Energy =   0.0860
Level     0,  Iter    35:    Energy =   0.0862
Level     0,  Iter    36:    Energy =   0.0863
Level     0,  Iter    37:    Energy =   0.0863
Level     0,  Iter    38:    Energy =   0.0865
Level     0,  Iter    39:    Energy =   0.0864
Level     0,  Iter    40:    Energy =   0.0866
Level     0,  Iter    41:    Energy =   0.0866
Level     0,  Iter    42:    Energy =   0.0866
Level     0,  Iter    43:    Energy =   0.0866
Level     0,  Iter    44:    Energy =   0.0867
Level     0,  Iter    45:    Energy =   0.0867
Level     0,  Iter    46:    Energy =   0.0868
Level     0,  Iter    47:    Energy =   0.0868
Level     0,  Iter    48:    Energy =   0.0868
Level     0,  Iter    49:    Energy =   0.0869
Level     0,  Iter    50:    Energy =   0.0869
Level     0,  Iter    51:    Energy =   0.0869
Level     0,  Iter    52:    Energy =   0.0869
Level     0,  Iter    53:    Energy =   0.0869
Level     0,  Iter    54:    Energy =   0.0869
Level     0,  Iter    55:    Energy =   0.0870
Level     0,  Iter    56:    Energy =   0.0870
Level     0,  Iter    57:    Energy =   0.0870
Level     0,  Iter    58:    Energy =   0.0872
Level     0,  Iter    59:    Energy =   0.0871
END OF LEVEL     0    DetJac Range:   0.2815  to   2.5340 
  Avg. Gradient Time  : 0.0081s  38.07% 
  Avg. Gaussian Time  : 0.0099s  46.88% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20264], [0.491046, 0.491046, 0.490977]
Level     1,  Iter     0:    Energy =   0.0597
Level     1,  Iter     1:    Energy =   0.0640
Level     1,  Iter     2:    Energy =   0.0677
Level     1,  Iter     3:    Energy =   0.0707
Level     1,  Iter     4:    Energy =   0.0731
Level     1,  Iter     5:    Energy =   0.0749
Level     1,  Iter     6:    Energy =   0.0768
Level     1,  Iter     7:    Energy =   0.0786
Level     1,  Iter     8:    Energy =   0.0800
Level     1,  Iter     9:    Energy =   0.0813
Level     1,  Iter    10:    Energy =   0.0822
Level     1,  Iter    11:    Energy =   0.0830
Level     1,  Iter    12:    Energy =   0.0834
Level     1,  Iter    13:    Energy =   0.0836
Level     1,  Iter    14:    Energy =   0.0841
Level     1,  Iter    15:    Energy =   0.0845
Level     1,  Iter    16:    Energy =   0.0847
Level     1,  Iter    17:    Energy =   0.0848
Level     1,  Iter    18:    Energy =   0.0853
Level     1,  Iter    19:    Energy =   0.0853
Level     1,  Iter    20:    Energy =   0.0857
Level     1,  Iter    21:    Energy =   0.0857
Level     1,  Iter    22:    Energy =   0.0859
Level     1,  Iter    23:    Energy =   0.0859
Level     1,  Iter    24:    Energy =   0.0861
Level     1,  Iter    25:    Energy =   0.0861
Level     1,  Iter    26:    Energy =   0.0863
Level     1,  Iter    27:    Energy =   0.0863
Level     1,  Iter    28:    Energy =   0.0864
Level     1,  Iter    29:    Energy =   0.0865
Level     1,  Iter    30:    Energy =   0.0866
Level     1,  Iter    31:    Energy =   0.0867
Level     1,  Iter    32:    Energy =   0.0868
Level     1,  Iter    33:    Energy =   0.0869
Level     1,  Iter    34:    Energy =   0.0869
Level     1,  Iter    35:    Energy =   0.0870
Level     1,  Iter    36:    Energy =   0.0870
Level     1,  Iter    37:    Energy =   0.0871
Level     1,  Iter    38:    Energy =   0.0871
Level     1,  Iter    39:    Energy =   0.0872
Level     1,  Iter    40:    Energy =   0.0872
Level     1,  Iter    41:    Energy =   0.0872
Level     1,  Iter    42:    Energy =   0.0874
Level     1,  Iter    43:    Energy =   0.0873
Level     1,  Iter    44:    Energy =   0.0875
Level     1,  Iter    45:    Energy =   0.0875
Level     1,  Iter    46:    Energy =   0.0875
Level     1,  Iter    47:    Energy =   0.0876
Level     1,  Iter    48:    Energy =   0.0876
Level     1,  Iter    49:    Energy =   0.0876
Level     1,  Iter    50:    Energy =   0.0877
Level     1,  Iter    51:    Energy =   0.0876
Level     1,  Iter    52:    Energy =   0.0878
Level     1,  Iter    53:    Energy =   0.0878
Level     1,  Iter    54:    Energy =   0.0878
Level     1,  Iter    55:    Energy =   0.0879
Level     1,  Iter    56:    Energy =   0.0879
Level     1,  Iter    57:    Energy =   0.0878
Level     1,  Iter    58:    Energy =   0.0880
Level     1,  Iter    59:    Energy =   0.0879
END OF LEVEL     1    DetJac Range:   0.1407  to   3.0492 
  Avg. Gradient Time  : 0.0465s  39.97% 
  Avg. Gaussian Time  : 0.0555s  47.76% 
  Avg. Iteration Time : 0.1163s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0491
Level     2,  Iter     1:    Energy =   0.0512
Level     2,  Iter     2:    Energy =   0.0532
Level     2,  Iter     3:    Energy =   0.0550
Level     2,  Iter     4:    Energy =   0.0569
Level     2,  Iter     5:    Energy =   0.0584
Level     2,  Iter     6:    Energy =   0.0598
Level     2,  Iter     7:    Energy =   0.0609
Level     2,  Iter     8:    Energy =   0.0617
Level     2,  Iter     9:    Energy =   0.0623
Level     2,  Iter    10:    Energy =   0.0630
Level     2,  Iter    11:    Energy =   0.0635
Level     2,  Iter    12:    Energy =   0.0638
Level     2,  Iter    13:    Energy =   0.0641
Level     2,  Iter    14:    Energy =   0.0642
Level     2,  Iter    15:    Energy =   0.0647
Level     2,  Iter    16:    Energy =   0.0646
Level     2,  Iter    17:    Energy =   0.0652
Level     2,  Iter    18:    Energy =   0.0651
Level     2,  Iter    19:    Energy =   0.0656
END OF LEVEL     2    DetJac Range:   0.1043  to   3.1679 
  Avg. Gradient Time  : 0.3344s  37.77% 
  Avg. Gaussian Time  : 0.4561s  51.51% 
  Avg. Iteration Time : 0.8854s 

real	0m29.383s
user	0m51.660s
sys	0m3.172s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.611538 0.617308
+ echo 'CHUNK 0.611538 0.617308 1'
CHUNK 0.611538 0.617308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.611538 0.617308 1
====================================
         PROGRESS: 0.611538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=003
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 003
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 003 left 0
+ local tid=003
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1993.20 	 OutFr   0.0000 	 RMSD     2.9894
Iter 002 	 Temp     3.72 	 Delta  1806.82 	 OutFr   0.0000 	 RMSD     1.9723
Iter 003 	 Temp     3.46 	 Delta  1650.28 	 OutFr   0.0000 	 RMSD     2.0200
Iter 004 	 Temp     3.22 	 Delta  1517.05 	 OutFr   0.0000 	 RMSD     2.0065
Iter 005 	 Temp     2.99 	 Delta  1400.42 	 OutFr   0.0000 	 RMSD     1.9830
Iter 006 	 Temp     2.78 	 Delta  1298.96 	 OutFr   0.0000 	 RMSD     1.9606
Iter 007 	 Temp     2.59 	 Delta  1210.43 	 OutFr   0.0000 	 RMSD     1.9418
Iter 008 	 Temp     2.41 	 Delta  1130.96 	 OutFr   0.0000 	 RMSD     1.9255
Iter 009 	 Temp     2.24 	 Delta  1056.83 	 OutFr   0.0025 	 RMSD     1.9118
Iter 010 	 Temp     2.08 	 Delta   987.15 	 OutFr   0.0025 	 RMSD     1.9004
Iter 011 	 Temp     1.94 	 Delta   923.31 	 OutFr   0.0025 	 RMSD     1.8899
Iter 012 	 Temp     1.80 	 Delta   866.62 	 OutFr   0.0025 	 RMSD     1.8816
Iter 013 	 Temp     1.67 	 Delta   818.02 	 OutFr   0.0074 	 RMSD     1.8762
Iter 014 	 Temp     1.56 	 Delta   777.65 	 OutFr   0.0099 	 RMSD     1.8734
Iter 015 	 Temp     1.45 	 Delta   743.86 	 OutFr   0.0099 	 RMSD     1.8718
Iter 016 	 Temp     1.35 	 Delta   713.18 	 OutFr   0.0099 	 RMSD     1.8707
Iter 017 	 Temp     1.25 	 Delta   683.34 	 OutFr   0.0172 	 RMSD     1.8706
Iter 018 	 Temp     1.16 	 Delta   654.26 	 OutFr   0.0172 	 RMSD     1.8718
Iter 019 	 Temp     1.08 	 Delta   626.60 	 OutFr   0.0197 	 RMSD     1.8737
Iter 020 	 Temp     1.01 	 Delta   599.30 	 OutFr   0.0197 	 RMSD     1.8760
Iter 021 	 Temp     0.94 	 Delta   570.24 	 OutFr   0.0296 	 RMSD     1.8785
Iter 022 	 Temp     0.87 	 Delta   538.87 	 OutFr   0.0296 	 RMSD     1.8806
Iter 023 	 Temp     0.81 	 Delta   506.11 	 OutFr   0.0394 	 RMSD     1.8825
Iter 024 	 Temp     0.75 	 Delta   473.36 	 OutFr   0.0542 	 RMSD     1.8846
Iter 025 	 Temp     0.70 	 Delta   442.33 	 OutFr   0.0665 	 RMSD     1.8871
Iter 026 	 Temp     0.65 	 Delta   411.55 	 OutFr   0.0788 	 RMSD     1.8899
Iter 027 	 Temp     0.61 	 Delta   381.45 	 OutFr   0.0936 	 RMSD     1.8932
Iter 028 	 Temp     0.56 	 Delta   353.53 	 OutFr   0.1133 	 RMSD     1.8972
Iter 029 	 Temp     0.52 	 Delta   326.85 	 OutFr   0.1330 	 RMSD     1.9015
Iter 030 	 Temp     0.49 	 Delta   298.31 	 OutFr   0.1626 	 RMSD     1.9059
Iter 031 	 Temp     0.45 	 Delta   264.94 	 OutFr   0.2069 	 RMSD     1.9110
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.4pjmUOIi/mybin.nii.gz
+ vtklevelset /tmp/ashs.4pjmUOIi/mybin.nii.gz /tmp/ashs.4pjmUOIi/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.4pjmUOIi/mymesh.vtk /tmp/ashs.4pjmUOIi/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 2779.23287659   0.91017461
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.4pjmUOIi/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.623 to -10.0706
   Y : -16.9109 to 28.3867
   Z : -30.3278 to -3.85249
   Image resolution  : 94 by 160 by 105
   Image box origin  : {-37.623, -21.9109, -35.3278}
   Image box size    : {32.6389, 55.5555, 36.7496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.623, 21.9109, -35.3278]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat -o /tmp/ashs.4pjmUOIi/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat -o /tmp/ashs.4pjmUOIi/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.4pjmUOIi/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.617308 0.623077
+ echo 'CHUNK 0.617308 0.623077 0.5'
CHUNK 0.617308 0.623077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.617308 0.623077 0.5
====================================
         PROGRESS: 0.617308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.4pjmUOIi/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.4pjmUOIi/fixed_hw.nii.gz /tmp/ashs.4pjmUOIi/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.51908, moving = 0.225266
LEVEL 1 of 3
  Smoothing sigmas: [2.35551, 2.40562, 2.35749], [0.961632, 0.982092, 0.96244]
Level     0,  Iter     0:    Energy =   0.0437
Level     0,  Iter     1:    Energy =   0.0502
Level     0,  Iter     2:    Energy =   0.0555
Level     0,  Iter     3:    Energy =   0.0599
Level     0,  Iter     4:    Energy =   0.0632
Level     0,  Iter     5:    Energy =   0.0668
Level     0,  Iter     6:    Energy =   0.0702
Level     0,  Iter     7:    Energy =   0.0740
Level     0,  Iter     8:    Energy =   0.0768
Level     0,  Iter     9:    Energy =   0.0791
Level     0,  Iter    10:    Energy =   0.0817
Level     0,  Iter    11:    Energy =   0.0834
Level     0,  Iter    12:    Energy =   0.0848
Level     0,  Iter    13:    Energy =   0.0845
Level     0,  Iter    14:    Energy =   0.0853
Level     0,  Iter    15:    Energy =   0.0851
Level     0,  Iter    16:    Energy =   0.0860
Level     0,  Iter    17:    Energy =   0.0857
Level     0,  Iter    18:    Energy =   0.0866
Level     0,  Iter    19:    Energy =   0.0862
Level     0,  Iter    20:    Energy =   0.0871
Level     0,  Iter    21:    Energy =   0.0866
Level     0,  Iter    22:    Energy =   0.0871
Level     0,  Iter    23:    Energy =   0.0866
Level     0,  Iter    24:    Energy =   0.0875
Level     0,  Iter    25:    Energy =   0.0869
Level     0,  Iter    26:    Energy =   0.0873
Level     0,  Iter    27:    Energy =   0.0869
Level     0,  Iter    28:    Energy =   0.0876
Level     0,  Iter    29:    Energy =   0.0872
Level     0,  Iter    30:    Energy =   0.0880
Level     0,  Iter    31:    Energy =   0.0873
Level     0,  Iter    32:    Energy =   0.0876
Level     0,  Iter    33:    Energy =   0.0871
Level     0,  Iter    34:    Energy =   0.0878
Level     0,  Iter    35:    Energy =   0.0873
Level     0,  Iter    36:    Energy =   0.0880
Level     0,  Iter    37:    Energy =   0.0875
Level     0,  Iter    38:    Energy =   0.0882
Level     0,  Iter    39:    Energy =   0.0877
Level     0,  Iter    40:    Energy =   0.0884
Level     0,  Iter    41:    Energy =   0.0878
Level     0,  Iter    42:    Energy =   0.0883
Level     0,  Iter    43:    Energy =   0.0878
Level     0,  Iter    44:    Energy =   0.0886
Level     0,  Iter    45:    Energy =   0.0880
Level     0,  Iter    46:    Energy =   0.0886
Level     0,  Iter    47:    Energy =   0.0880
Level     0,  Iter    48:    Energy =   0.0886
Level     0,  Iter    49:    Energy =   0.0881
Level     0,  Iter    50:    Energy =   0.0888
Level     0,  Iter    51:    Energy =   0.0882
Level     0,  Iter    52:    Energy =   0.0886
Level     0,  Iter    53:    Energy =   0.0880
Level     0,  Iter    54:    Energy =   0.0884
Level     0,  Iter    55:    Energy =   0.0879
Level     0,  Iter    56:    Energy =   0.0884
Level     0,  Iter    57:    Energy =   0.0879
Level     0,  Iter    58:    Energy =   0.0884
Level     0,  Iter    59:    Energy =   0.0879
END OF LEVEL     0    DetJac Range:   0.3816  to   2.3012 
  Avg. Gradient Time  : 0.0070s  37.78% 
  Avg. Gaussian Time  : 0.0088s  47.36% 
  Avg. Iteration Time : 0.0186s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20098], [0.491046, 0.491046, 0.4903]
Level     1,  Iter     0:    Energy =   0.0644
Level     1,  Iter     1:    Energy =   0.0684
Level     1,  Iter     2:    Energy =   0.0720
Level     1,  Iter     3:    Energy =   0.0741
Level     1,  Iter     4:    Energy =   0.0760
Level     1,  Iter     5:    Energy =   0.0777
Level     1,  Iter     6:    Energy =   0.0794
Level     1,  Iter     7:    Energy =   0.0810
Level     1,  Iter     8:    Energy =   0.0826
Level     1,  Iter     9:    Energy =   0.0836
Level     1,  Iter    10:    Energy =   0.0846
Level     1,  Iter    11:    Energy =   0.0850
Level     1,  Iter    12:    Energy =   0.0854
Level     1,  Iter    13:    Energy =   0.0857
Level     1,  Iter    14:    Energy =   0.0859
Level     1,  Iter    15:    Energy =   0.0860
Level     1,  Iter    16:    Energy =   0.0861
Level     1,  Iter    17:    Energy =   0.0863
Level     1,  Iter    18:    Energy =   0.0864
Level     1,  Iter    19:    Energy =   0.0867
Level     1,  Iter    20:    Energy =   0.0867
Level     1,  Iter    21:    Energy =   0.0869
Level     1,  Iter    22:    Energy =   0.0869
Level     1,  Iter    23:    Energy =   0.0871
Level     1,  Iter    24:    Energy =   0.0871
Level     1,  Iter    25:    Energy =   0.0872
Level     1,  Iter    26:    Energy =   0.0873
Level     1,  Iter    27:    Energy =   0.0874
Level     1,  Iter    28:    Energy =   0.0874
Level     1,  Iter    29:    Energy =   0.0875
Level     1,  Iter    30:    Energy =   0.0876
Level     1,  Iter    31:    Energy =   0.0876
Level     1,  Iter    32:    Energy =   0.0877
Level     1,  Iter    33:    Energy =   0.0877
Level     1,  Iter    34:    Energy =   0.0878
Level     1,  Iter    35:    Energy =   0.0878
Level     1,  Iter    36:    Energy =   0.0879
Level     1,  Iter    37:    Energy =   0.0879
Level     1,  Iter    38:    Energy =   0.0880
Level     1,  Iter    39:    Energy =   0.0879
Level     1,  Iter    40:    Energy =   0.0880
Level     1,  Iter    41:    Energy =   0.0880
Level     1,  Iter    42:    Energy =   0.0880
Level     1,  Iter    43:    Energy =   0.0880
Level     1,  Iter    44:    Energy =   0.0880
Level     1,  Iter    45:    Energy =   0.0880
Level     1,  Iter    46:    Energy =   0.0881
Level     1,  Iter    47:    Energy =   0.0880
Level     1,  Iter    48:    Energy =   0.0881
Level     1,  Iter    49:    Energy =   0.0881
Level     1,  Iter    50:    Energy =   0.0881
Level     1,  Iter    51:    Energy =   0.0881
Level     1,  Iter    52:    Energy =   0.0881
Level     1,  Iter    53:    Energy =   0.0881
Level     1,  Iter    54:    Energy =   0.0881
Level     1,  Iter    55:    Energy =   0.0882
Level     1,  Iter    56:    Energy =   0.0882
Level     1,  Iter    57:    Energy =   0.0882
Level     1,  Iter    58:    Energy =   0.0882
Level     1,  Iter    59:    Energy =   0.0882
END OF LEVEL     1    DetJac Range:   0.1454  to   3.5883 
  Avg. Gradient Time  : 0.0407s  40.71% 
  Avg. Gaussian Time  : 0.0472s  47.27% 
  Avg. Iteration Time : 0.0999s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0461
Level     2,  Iter     1:    Energy =   0.0487
Level     2,  Iter     2:    Energy =   0.0516
Level     2,  Iter     3:    Energy =   0.0536
Level     2,  Iter     4:    Energy =   0.0551
Level     2,  Iter     5:    Energy =   0.0567
Level     2,  Iter     6:    Energy =   0.0582
Level     2,  Iter     7:    Energy =   0.0595
Level     2,  Iter     8:    Energy =   0.0606
Level     2,  Iter     9:    Energy =   0.0614
Level     2,  Iter    10:    Energy =   0.0621
Level     2,  Iter    11:    Energy =   0.0626
Level     2,  Iter    12:    Energy =   0.0630
Level     2,  Iter    13:    Energy =   0.0633
Level     2,  Iter    14:    Energy =   0.0636
Level     2,  Iter    15:    Energy =   0.0638
Level     2,  Iter    16:    Energy =   0.0639
Level     2,  Iter    17:    Energy =   0.0641
Level     2,  Iter    18:    Energy =   0.0642
Level     2,  Iter    19:    Energy =   0.0644
END OF LEVEL     2    DetJac Range:   0.0753  to   4.3636 
  Avg. Gradient Time  : 0.2833s  37.53% 
  Avg. Gaussian Time  : 0.3905s  51.74% 
  Avg. Iteration Time : 0.7547s 

real	0m25.154s
user	0m44.076s
sys	0m2.612s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.617308 0.623077
+ echo 'CHUNK 0.617308 0.623077 1'
CHUNK 0.617308 0.623077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.617308 0.623077 1
====================================
         PROGRESS: 0.617308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=004
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 004
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 004 left 0
+ local tid=004
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1599.73 	 OutFr   0.0000 	 RMSD     2.2280
Iter 002 	 Temp     3.72 	 Delta  1512.09 	 OutFr   0.0000 	 RMSD     1.8056
Iter 003 	 Temp     3.46 	 Delta  1412.26 	 OutFr   0.0000 	 RMSD     1.8832
Iter 004 	 Temp     3.22 	 Delta  1316.71 	 OutFr   0.0000 	 RMSD     1.8717
Iter 005 	 Temp     2.99 	 Delta  1228.02 	 OutFr   0.0000 	 RMSD     1.8433
Iter 006 	 Temp     2.78 	 Delta  1144.86 	 OutFr   0.0000 	 RMSD     1.8152
Iter 007 	 Temp     2.59 	 Delta  1066.05 	 OutFr   0.0000 	 RMSD     1.7893
Iter 008 	 Temp     2.41 	 Delta   991.26 	 OutFr   0.0000 	 RMSD     1.7652
Iter 009 	 Temp     2.24 	 Delta   920.98 	 OutFr   0.0000 	 RMSD     1.7437
Iter 010 	 Temp     2.08 	 Delta   856.88 	 OutFr   0.0025 	 RMSD     1.7250
Iter 011 	 Temp     1.94 	 Delta   801.34 	 OutFr   0.0025 	 RMSD     1.7080
Iter 012 	 Temp     1.80 	 Delta   756.43 	 OutFr   0.0025 	 RMSD     1.6932
Iter 013 	 Temp     1.67 	 Delta   721.01 	 OutFr   0.0025 	 RMSD     1.6801
Iter 014 	 Temp     1.56 	 Delta   691.20 	 OutFr   0.0025 	 RMSD     1.6693
Iter 015 	 Temp     1.45 	 Delta   664.89 	 OutFr   0.0025 	 RMSD     1.6605
Iter 016 	 Temp     1.35 	 Delta   640.39 	 OutFr   0.0025 	 RMSD     1.6517
Iter 017 	 Temp     1.25 	 Delta   615.91 	 OutFr   0.0025 	 RMSD     1.6437
Iter 018 	 Temp     1.16 	 Delta   590.02 	 OutFr   0.0074 	 RMSD     1.6364
Iter 019 	 Temp     1.08 	 Delta   562.10 	 OutFr   0.0099 	 RMSD     1.6298
Iter 020 	 Temp     1.01 	 Delta   532.36 	 OutFr   0.0123 	 RMSD     1.6241
Iter 021 	 Temp     0.94 	 Delta   502.68 	 OutFr   0.0222 	 RMSD     1.6192
Iter 022 	 Temp     0.87 	 Delta   477.38 	 OutFr   0.0296 	 RMSD     1.6151
Iter 023 	 Temp     0.81 	 Delta   457.30 	 OutFr   0.0394 	 RMSD     1.6124
Iter 024 	 Temp     0.75 	 Delta   438.53 	 OutFr   0.0517 	 RMSD     1.6119
Iter 025 	 Temp     0.70 	 Delta   419.17 	 OutFr   0.0739 	 RMSD     1.6126
Iter 026 	 Temp     0.65 	 Delta   399.56 	 OutFr   0.0813 	 RMSD     1.6142
Iter 027 	 Temp     0.61 	 Delta   378.20 	 OutFr   0.0936 	 RMSD     1.6165
Iter 028 	 Temp     0.56 	 Delta   354.36 	 OutFr   0.1158 	 RMSD     1.6194
Iter 029 	 Temp     0.52 	 Delta   327.49 	 OutFr   0.1281 	 RMSD     1.6232
Iter 030 	 Temp     0.49 	 Delta   297.71 	 OutFr   0.1626 	 RMSD     1.6282
Iter 031 	 Temp     0.45 	 Delta   266.50 	 OutFr   0.1897 	 RMSD     1.6344
Iter 032 	 Temp     0.42 	 Delta   235.59 	 OutFr   0.2340 	 RMSD     1.6421
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.Ig8lDoYh/mybin.nii.gz
+ vtklevelset /tmp/ashs.Ig8lDoYh/mybin.nii.gz /tmp/ashs.Ig8lDoYh/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.Ig8lDoYh/mymesh.vtk /tmp/ashs.Ig8lDoYh/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 2750.05111099   0.90061784
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.Ig8lDoYh/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -30.2545 to -7.96037
   Y : -13.717 to 31.3513
   Z : -26.2286 to 2.46359
   Image resolution  : 94 by 159 by 111
   Image box origin  : {-35.2545, -18.717, -31.2286}
   Image box size    : {32.6389, 55.2083, 38.8496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [35.2545, 18.717, -31.2286]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat -o /tmp/ashs.Ig8lDoYh/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat -o /tmp/ashs.Ig8lDoYh/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.Ig8lDoYh/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.623077 0.628846
+ echo 'CHUNK 0.623077 0.628846 0.5'
CHUNK 0.623077 0.628846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.623077 0.628846 0.5
====================================
         PROGRESS: 0.623077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.Ig8lDoYh/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.Ig8lDoYh/fixed_hw.nii.gz /tmp/ashs.Ig8lDoYh/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.516481, moving = 0.609298
LEVEL 1 of 3
  Smoothing sigmas: [2.35551, 2.39059, 2.40319], [0.961632, 0.975954, 0.981099]
Level     0,  Iter     0:    Energy =   0.0627
Level     0,  Iter     1:    Energy =   0.0689
Level     0,  Iter     2:    Energy =   0.0746
Level     0,  Iter     3:    Energy =   0.0781
Level     0,  Iter     4:    Energy =   0.0817
Level     0,  Iter     5:    Energy =   0.0854
Level     0,  Iter     6:    Energy =   0.0879
Level     0,  Iter     7:    Energy =   0.0891
Level     0,  Iter     8:    Energy =   0.0901
Level     0,  Iter     9:    Energy =   0.0907
Level     0,  Iter    10:    Energy =   0.0916
Level     0,  Iter    11:    Energy =   0.0919
Level     0,  Iter    12:    Energy =   0.0922
Level     0,  Iter    13:    Energy =   0.0924
Level     0,  Iter    14:    Energy =   0.0929
Level     0,  Iter    15:    Energy =   0.0929
Level     0,  Iter    16:    Energy =   0.0932
Level     0,  Iter    17:    Energy =   0.0933
Level     0,  Iter    18:    Energy =   0.0935
Level     0,  Iter    19:    Energy =   0.0935
Level     0,  Iter    20:    Energy =   0.0937
Level     0,  Iter    21:    Energy =   0.0936
Level     0,  Iter    22:    Energy =   0.0937
Level     0,  Iter    23:    Energy =   0.0937
Level     0,  Iter    24:    Energy =   0.0940
Level     0,  Iter    25:    Energy =   0.0939
Level     0,  Iter    26:    Energy =   0.0940
Level     0,  Iter    27:    Energy =   0.0939
Level     0,  Iter    28:    Energy =   0.0943
Level     0,  Iter    29:    Energy =   0.0941
Level     0,  Iter    30:    Energy =   0.0942
Level     0,  Iter    31:    Energy =   0.0941
Level     0,  Iter    32:    Energy =   0.0944
Level     0,  Iter    33:    Energy =   0.0942
Level     0,  Iter    34:    Energy =   0.0943
Level     0,  Iter    35:    Energy =   0.0942
Level     0,  Iter    36:    Energy =   0.0943
Level     0,  Iter    37:    Energy =   0.0942
Level     0,  Iter    38:    Energy =   0.0945
Level     0,  Iter    39:    Energy =   0.0943
Level     0,  Iter    40:    Energy =   0.0944
Level     0,  Iter    41:    Energy =   0.0943
Level     0,  Iter    42:    Energy =   0.0944
Level     0,  Iter    43:    Energy =   0.0943
Level     0,  Iter    44:    Energy =   0.0945
Level     0,  Iter    45:    Energy =   0.0944
Level     0,  Iter    46:    Energy =   0.0946
Level     0,  Iter    47:    Energy =   0.0945
Level     0,  Iter    48:    Energy =   0.0945
Level     0,  Iter    49:    Energy =   0.0944
Level     0,  Iter    50:    Energy =   0.0945
Level     0,  Iter    51:    Energy =   0.0944
Level     0,  Iter    52:    Energy =   0.0945
Level     0,  Iter    53:    Energy =   0.0944
Level     0,  Iter    54:    Energy =   0.0945
Level     0,  Iter    55:    Energy =   0.0944
Level     0,  Iter    56:    Energy =   0.0946
Level     0,  Iter    57:    Energy =   0.0944
Level     0,  Iter    58:    Energy =   0.0946
Level     0,  Iter    59:    Energy =   0.0945
END OF LEVEL     0    DetJac Range:   0.4096  to   1.9865 
  Avg. Gradient Time  : 0.0071s  37.55% 
  Avg. Gaussian Time  : 0.0090s  47.61% 
  Avg. Iteration Time : 0.0188s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19529, 1.2016], [0.491046, 0.487977, 0.49055]
Level     1,  Iter     0:    Energy =   0.0684
Level     1,  Iter     1:    Energy =   0.0730
Level     1,  Iter     2:    Energy =   0.0768
Level     1,  Iter     3:    Energy =   0.0799
Level     1,  Iter     4:    Energy =   0.0820
Level     1,  Iter     5:    Energy =   0.0832
Level     1,  Iter     6:    Energy =   0.0845
Level     1,  Iter     7:    Energy =   0.0859
Level     1,  Iter     8:    Energy =   0.0872
Level     1,  Iter     9:    Energy =   0.0882
Level     1,  Iter    10:    Energy =   0.0891
Level     1,  Iter    11:    Energy =   0.0893
Level     1,  Iter    12:    Energy =   0.0892
Level     1,  Iter    13:    Energy =   0.0897
Level     1,  Iter    14:    Energy =   0.0894
Level     1,  Iter    15:    Energy =   0.0901
Level     1,  Iter    16:    Energy =   0.0898
Level     1,  Iter    17:    Energy =   0.0905
Level     1,  Iter    18:    Energy =   0.0902
Level     1,  Iter    19:    Energy =   0.0909
Level     1,  Iter    20:    Energy =   0.0906
Level     1,  Iter    21:    Energy =   0.0911
Level     1,  Iter    22:    Energy =   0.0908
Level     1,  Iter    23:    Energy =   0.0912
Level     1,  Iter    24:    Energy =   0.0908
Level     1,  Iter    25:    Energy =   0.0914
Level     1,  Iter    26:    Energy =   0.0910
Level     1,  Iter    27:    Energy =   0.0916
Level     1,  Iter    28:    Energy =   0.0912
Level     1,  Iter    29:    Energy =   0.0917
Level     1,  Iter    30:    Energy =   0.0914
Level     1,  Iter    31:    Energy =   0.0919
Level     1,  Iter    32:    Energy =   0.0915
Level     1,  Iter    33:    Energy =   0.0919
Level     1,  Iter    34:    Energy =   0.0915
Level     1,  Iter    35:    Energy =   0.0920
Level     1,  Iter    36:    Energy =   0.0916
Level     1,  Iter    37:    Energy =   0.0919
Level     1,  Iter    38:    Energy =   0.0915
Level     1,  Iter    39:    Energy =   0.0920
Level     1,  Iter    40:    Energy =   0.0916
Level     1,  Iter    41:    Energy =   0.0921
Level     1,  Iter    42:    Energy =   0.0917
Level     1,  Iter    43:    Energy =   0.0921
Level     1,  Iter    44:    Energy =   0.0918
Level     1,  Iter    45:    Energy =   0.0922
Level     1,  Iter    46:    Energy =   0.0918
Level     1,  Iter    47:    Energy =   0.0923
Level     1,  Iter    48:    Energy =   0.0919
Level     1,  Iter    49:    Energy =   0.0922
Level     1,  Iter    50:    Energy =   0.0918
Level     1,  Iter    51:    Energy =   0.0923
Level     1,  Iter    52:    Energy =   0.0919
Level     1,  Iter    53:    Energy =   0.0924
Level     1,  Iter    54:    Energy =   0.0920
Level     1,  Iter    55:    Energy =   0.0924
Level     1,  Iter    56:    Energy =   0.0920
Level     1,  Iter    57:    Energy =   0.0926
Level     1,  Iter    58:    Energy =   0.0922
Level     1,  Iter    59:    Energy =   0.0927
END OF LEVEL     1    DetJac Range:   0.1105  to   2.7119 
  Avg. Gradient Time  : 0.0429s  40.56% 
  Avg. Gaussian Time  : 0.0500s  47.29% 
  Avg. Iteration Time : 0.1058s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0503
Level     2,  Iter     1:    Energy =   0.0523
Level     2,  Iter     2:    Energy =   0.0543
Level     2,  Iter     3:    Energy =   0.0561
Level     2,  Iter     4:    Energy =   0.0581
Level     2,  Iter     5:    Energy =   0.0598
Level     2,  Iter     6:    Energy =   0.0611
Level     2,  Iter     7:    Energy =   0.0620
Level     2,  Iter     8:    Energy =   0.0627
Level     2,  Iter     9:    Energy =   0.0632
Level     2,  Iter    10:    Energy =   0.0639
Level     2,  Iter    11:    Energy =   0.0646
Level     2,  Iter    12:    Energy =   0.0652
Level     2,  Iter    13:    Energy =   0.0659
Level     2,  Iter    14:    Energy =   0.0664
Level     2,  Iter    15:    Energy =   0.0669
Level     2,  Iter    16:    Energy =   0.0673
Level     2,  Iter    17:    Energy =   0.0674
Level     2,  Iter    18:    Energy =   0.0676
Level     2,  Iter    19:    Energy =   0.0675
END OF LEVEL     2    DetJac Range:   0.0820  to   4.5211 
  Avg. Gradient Time  : 0.2964s  36.82% 
  Avg. Gaussian Time  : 0.4235s  52.61% 
  Avg. Iteration Time : 0.8049s 

real	0m26.643s
user	0m47.104s
sys	0m2.732s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.623077 0.628846
+ echo 'CHUNK 0.623077 0.628846 1'
CHUNK 0.623077 0.628846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.623077 0.628846 1
====================================
         PROGRESS: 0.623077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=005
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 005
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 005 left 0
+ local tid=005
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1998.72 	 OutFr   0.0000 	 RMSD     2.2235
Iter 002 	 Temp     3.72 	 Delta  1829.91 	 OutFr   0.0000 	 RMSD     1.9669
Iter 003 	 Temp     3.46 	 Delta  1698.35 	 OutFr   0.0000 	 RMSD     1.9703
Iter 004 	 Temp     3.22 	 Delta  1574.00 	 OutFr   0.0000 	 RMSD     1.9547
Iter 005 	 Temp     2.99 	 Delta  1460.03 	 OutFr   0.0000 	 RMSD     1.9383
Iter 006 	 Temp     2.78 	 Delta  1355.63 	 OutFr   0.0000 	 RMSD     1.9229
Iter 007 	 Temp     2.59 	 Delta  1258.39 	 OutFr   0.0000 	 RMSD     1.9100
Iter 008 	 Temp     2.41 	 Delta  1166.84 	 OutFr   0.0000 	 RMSD     1.8984
Iter 009 	 Temp     2.24 	 Delta  1084.07 	 OutFr   0.0000 	 RMSD     1.8889
Iter 010 	 Temp     2.08 	 Delta  1016.56 	 OutFr   0.0025 	 RMSD     1.8806
Iter 011 	 Temp     1.94 	 Delta   964.41 	 OutFr   0.0049 	 RMSD     1.8737
Iter 012 	 Temp     1.80 	 Delta   923.09 	 OutFr   0.0049 	 RMSD     1.8681
Iter 013 	 Temp     1.67 	 Delta   890.27 	 OutFr   0.0049 	 RMSD     1.8639
Iter 014 	 Temp     1.56 	 Delta   863.14 	 OutFr   0.0049 	 RMSD     1.8608
Iter 015 	 Temp     1.45 	 Delta   837.44 	 OutFr   0.0049 	 RMSD     1.8582
Iter 016 	 Temp     1.35 	 Delta   810.54 	 OutFr   0.0049 	 RMSD     1.8559
Iter 017 	 Temp     1.25 	 Delta   781.30 	 OutFr   0.0099 	 RMSD     1.8543
Iter 018 	 Temp     1.16 	 Delta   749.64 	 OutFr   0.0197 	 RMSD     1.8528
Iter 019 	 Temp     1.08 	 Delta   716.61 	 OutFr   0.0246 	 RMSD     1.8517
Iter 020 	 Temp     1.01 	 Delta   683.14 	 OutFr   0.0271 	 RMSD     1.8514
Iter 021 	 Temp     0.94 	 Delta   648.76 	 OutFr   0.0419 	 RMSD     1.8511
Iter 022 	 Temp     0.87 	 Delta   612.95 	 OutFr   0.0567 	 RMSD     1.8510
Iter 023 	 Temp     0.81 	 Delta   575.85 	 OutFr   0.0788 	 RMSD     1.8514
Iter 024 	 Temp     0.75 	 Delta   537.34 	 OutFr   0.0862 	 RMSD     1.8516
Iter 025 	 Temp     0.70 	 Delta   498.02 	 OutFr   0.0985 	 RMSD     1.8516
Iter 026 	 Temp     0.65 	 Delta   459.18 	 OutFr   0.1182 	 RMSD     1.8518
Iter 027 	 Temp     0.61 	 Delta   421.11 	 OutFr   0.1478 	 RMSD     1.8521
Iter 028 	 Temp     0.56 	 Delta   382.30 	 OutFr   0.1626 	 RMSD     1.8530
Iter 029 	 Temp     0.52 	 Delta   341.79 	 OutFr   0.1946 	 RMSD     1.8539
Iter 030 	 Temp     0.49 	 Delta   301.83 	 OutFr   0.2291 	 RMSD     1.8545
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.WkbM666g/mybin.nii.gz
+ vtklevelset /tmp/ashs.WkbM666g/mybin.nii.gz /tmp/ashs.WkbM666g/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.WkbM666g/mymesh.vtk /tmp/ashs.WkbM666g/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 3036.90042157   0.99455849
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.WkbM666g/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -30.6711 to -8.16526
   Y : -14.0502 to 33.4514
   Z : -12.1761 to 19.5982
   Image resolution  : 94 by 166 by 120
   Image box origin  : {-35.6711, -19.0502, -17.1761}
   Image box size    : {32.6389, 57.6389, 41.9995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [35.6711, 19.0502, -17.1761]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat -o /tmp/ashs.WkbM666g/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat -o /tmp/ashs.WkbM666g/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.WkbM666g/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.628846 0.634615
+ echo 'CHUNK 0.628846 0.634615 0.5'
CHUNK 0.628846 0.634615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.628846 0.634615 0.5
====================================
         PROGRESS: 0.628846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.WkbM666g/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.WkbM666g/fixed_hw.nii.gz /tmp/ashs.WkbM666g/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.514951, moving = 0.668059
LEVEL 1 of 3
  Smoothing sigmas: [2.35551, 2.37699, 2.42484], [0.961632, 0.970401, 0.989938]
Level     0,  Iter     0:    Energy =   0.0329
Level     0,  Iter     1:    Energy =   0.0388
Level     0,  Iter     2:    Energy =   0.0451
Level     0,  Iter     3:    Energy =   0.0502
Level     0,  Iter     4:    Energy =   0.0543
Level     0,  Iter     5:    Energy =   0.0582
Level     0,  Iter     6:    Energy =   0.0612
Level     0,  Iter     7:    Energy =   0.0636
Level     0,  Iter     8:    Energy =   0.0658
Level     0,  Iter     9:    Energy =   0.0680
Level     0,  Iter    10:    Energy =   0.0696
Level     0,  Iter    11:    Energy =   0.0709
Level     0,  Iter    12:    Energy =   0.0712
Level     0,  Iter    13:    Energy =   0.0720
Level     0,  Iter    14:    Energy =   0.0722
Level     0,  Iter    15:    Energy =   0.0728
Level     0,  Iter    16:    Energy =   0.0733
Level     0,  Iter    17:    Energy =   0.0737
Level     0,  Iter    18:    Energy =   0.0740
Level     0,  Iter    19:    Energy =   0.0744
Level     0,  Iter    20:    Energy =   0.0748
Level     0,  Iter    21:    Energy =   0.0751
Level     0,  Iter    22:    Energy =   0.0753
Level     0,  Iter    23:    Energy =   0.0756
Level     0,  Iter    24:    Energy =   0.0758
Level     0,  Iter    25:    Energy =   0.0760
Level     0,  Iter    26:    Energy =   0.0761
Level     0,  Iter    27:    Energy =   0.0763
Level     0,  Iter    28:    Energy =   0.0762
Level     0,  Iter    29:    Energy =   0.0765
Level     0,  Iter    30:    Energy =   0.0764
Level     0,  Iter    31:    Energy =   0.0768
Level     0,  Iter    32:    Energy =   0.0766
Level     0,  Iter    33:    Energy =   0.0770
Level     0,  Iter    34:    Energy =   0.0768
Level     0,  Iter    35:    Energy =   0.0772
Level     0,  Iter    36:    Energy =   0.0770
Level     0,  Iter    37:    Energy =   0.0773
Level     0,  Iter    38:    Energy =   0.0772
Level     0,  Iter    39:    Energy =   0.0776
Level     0,  Iter    40:    Energy =   0.0773
Level     0,  Iter    41:    Energy =   0.0777
Level     0,  Iter    42:    Energy =   0.0775
Level     0,  Iter    43:    Energy =   0.0779
Level     0,  Iter    44:    Energy =   0.0776
Level     0,  Iter    45:    Energy =   0.0780
Level     0,  Iter    46:    Energy =   0.0778
Level     0,  Iter    47:    Energy =   0.0782
Level     0,  Iter    48:    Energy =   0.0780
Level     0,  Iter    49:    Energy =   0.0783
Level     0,  Iter    50:    Energy =   0.0781
Level     0,  Iter    51:    Energy =   0.0785
Level     0,  Iter    52:    Energy =   0.0782
Level     0,  Iter    53:    Energy =   0.0785
Level     0,  Iter    54:    Energy =   0.0783
Level     0,  Iter    55:    Energy =   0.0786
Level     0,  Iter    56:    Energy =   0.0784
Level     0,  Iter    57:    Energy =   0.0788
Level     0,  Iter    58:    Energy =   0.0786
Level     0,  Iter    59:    Energy =   0.0789
END OF LEVEL     0    DetJac Range:   0.3913  to   2.1118 
  Avg. Gradient Time  : 0.0081s  38.18% 
  Avg. Gaussian Time  : 0.0099s  46.90% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0544
Level     1,  Iter     1:    Energy =   0.0587
Level     1,  Iter     2:    Energy =   0.0627
Level     1,  Iter     3:    Energy =   0.0655
Level     1,  Iter     4:    Energy =   0.0680
Level     1,  Iter     5:    Energy =   0.0704
Level     1,  Iter     6:    Energy =   0.0722
Level     1,  Iter     7:    Energy =   0.0740
Level     1,  Iter     8:    Energy =   0.0757
Level     1,  Iter     9:    Energy =   0.0768
Level     1,  Iter    10:    Energy =   0.0779
Level     1,  Iter    11:    Energy =   0.0787
Level     1,  Iter    12:    Energy =   0.0794
Level     1,  Iter    13:    Energy =   0.0793
Level     1,  Iter    14:    Energy =   0.0798
Level     1,  Iter    15:    Energy =   0.0795
Level     1,  Iter    16:    Energy =   0.0799
Level     1,  Iter    17:    Energy =   0.0803
Level     1,  Iter    18:    Energy =   0.0803
Level     1,  Iter    19:    Energy =   0.0800
Level     1,  Iter    20:    Energy =   0.0804
Level     1,  Iter    21:    Energy =   0.0802
Level     1,  Iter    22:    Energy =   0.0806
Level     1,  Iter    23:    Energy =   0.0803
Level     1,  Iter    24:    Energy =   0.0807
Level     1,  Iter    25:    Energy =   0.0806
Level     1,  Iter    26:    Energy =   0.0807
Level     1,  Iter    27:    Energy =   0.0805
Level     1,  Iter    28:    Energy =   0.0808
Level     1,  Iter    29:    Energy =   0.0806
Level     1,  Iter    30:    Energy =   0.0807
Level     1,  Iter    31:    Energy =   0.0806
Level     1,  Iter    32:    Energy =   0.0807
Level     1,  Iter    33:    Energy =   0.0806
Level     1,  Iter    34:    Energy =   0.0808
Level     1,  Iter    35:    Energy =   0.0807
Level     1,  Iter    36:    Energy =   0.0808
Level     1,  Iter    37:    Energy =   0.0807
Level     1,  Iter    38:    Energy =   0.0808
Level     1,  Iter    39:    Energy =   0.0808
Level     1,  Iter    40:    Energy =   0.0808
Level     1,  Iter    41:    Energy =   0.0808
Level     1,  Iter    42:    Energy =   0.0809
Level     1,  Iter    43:    Energy =   0.0809
Level     1,  Iter    44:    Energy =   0.0809
Level     1,  Iter    45:    Energy =   0.0809
Level     1,  Iter    46:    Energy =   0.0809
Level     1,  Iter    47:    Energy =   0.0809
Level     1,  Iter    48:    Energy =   0.0809
Level     1,  Iter    49:    Energy =   0.0809
Level     1,  Iter    50:    Energy =   0.0809
Level     1,  Iter    51:    Energy =   0.0810
Level     1,  Iter    52:    Energy =   0.0810
Level     1,  Iter    53:    Energy =   0.0810
Level     1,  Iter    54:    Energy =   0.0810
Level     1,  Iter    55:    Energy =   0.0810
Level     1,  Iter    56:    Energy =   0.0810
Level     1,  Iter    57:    Energy =   0.0811
Level     1,  Iter    58:    Energy =   0.0811
Level     1,  Iter    59:    Energy =   0.0811
END OF LEVEL     1    DetJac Range:   0.1263  to   3.4228 
  Avg. Gradient Time  : 0.0466s  40.13% 
  Avg. Gaussian Time  : 0.0556s  47.80% 
  Avg. Iteration Time : 0.1162s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0424
Level     2,  Iter     1:    Energy =   0.0448
Level     2,  Iter     2:    Energy =   0.0469
Level     2,  Iter     3:    Energy =   0.0486
Level     2,  Iter     4:    Energy =   0.0501
Level     2,  Iter     5:    Energy =   0.0515
Level     2,  Iter     6:    Energy =   0.0525
Level     2,  Iter     7:    Energy =   0.0534
Level     2,  Iter     8:    Energy =   0.0545
Level     2,  Iter     9:    Energy =   0.0556
Level     2,  Iter    10:    Energy =   0.0565
Level     2,  Iter    11:    Energy =   0.0571
Level     2,  Iter    12:    Energy =   0.0577
Level     2,  Iter    13:    Energy =   0.0582
Level     2,  Iter    14:    Energy =   0.0586
Level     2,  Iter    15:    Energy =   0.0589
Level     2,  Iter    16:    Energy =   0.0592
Level     2,  Iter    17:    Energy =   0.0596
Level     2,  Iter    18:    Energy =   0.0599
Level     2,  Iter    19:    Energy =   0.0603
END OF LEVEL     2    DetJac Range:   0.0542  to   4.0300 
  Avg. Gradient Time  : 0.3576s  34.23% 
  Avg. Gaussian Time  : 0.5930s  56.77% 
  Avg. Iteration Time : 1.0446s 

real	0m32.600s
user	0m58.488s
sys	0m3.016s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.628846 0.634615
+ echo 'CHUNK 0.628846 0.634615 1'
CHUNK 0.628846 0.634615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.628846 0.634615 1
====================================
         PROGRESS: 0.628846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=006
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 006
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 006 left 0
+ local tid=006
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1379.13 	 OutFr   0.0000 	 RMSD     1.9448
Iter 002 	 Temp     3.72 	 Delta  1328.04 	 OutFr   0.0000 	 RMSD     1.7288
Iter 003 	 Temp     3.46 	 Delta  1210.89 	 OutFr   0.0000 	 RMSD     1.7803
Iter 004 	 Temp     3.22 	 Delta  1103.71 	 OutFr   0.0000 	 RMSD     1.7571
Iter 005 	 Temp     2.99 	 Delta  1016.80 	 OutFr   0.0000 	 RMSD     1.7243
Iter 006 	 Temp     2.78 	 Delta   943.57 	 OutFr   0.0000 	 RMSD     1.6947
Iter 007 	 Temp     2.59 	 Delta   880.77 	 OutFr   0.0000 	 RMSD     1.6702
Iter 008 	 Temp     2.41 	 Delta   826.67 	 OutFr   0.0000 	 RMSD     1.6500
Iter 009 	 Temp     2.24 	 Delta   779.65 	 OutFr   0.0000 	 RMSD     1.6329
Iter 010 	 Temp     2.08 	 Delta   738.04 	 OutFr   0.0000 	 RMSD     1.6194
Iter 011 	 Temp     1.94 	 Delta   700.34 	 OutFr   0.0000 	 RMSD     1.6082
Iter 012 	 Temp     1.80 	 Delta   665.41 	 OutFr   0.0025 	 RMSD     1.5985
Iter 013 	 Temp     1.67 	 Delta   632.61 	 OutFr   0.0025 	 RMSD     1.5907
Iter 014 	 Temp     1.56 	 Delta   601.76 	 OutFr   0.0049 	 RMSD     1.5845
Iter 015 	 Temp     1.45 	 Delta   572.11 	 OutFr   0.0074 	 RMSD     1.5789
Iter 016 	 Temp     1.35 	 Delta   542.76 	 OutFr   0.0099 	 RMSD     1.5736
Iter 017 	 Temp     1.25 	 Delta   515.51 	 OutFr   0.0148 	 RMSD     1.5684
Iter 018 	 Temp     1.16 	 Delta   491.93 	 OutFr   0.0222 	 RMSD     1.5636
Iter 019 	 Temp     1.08 	 Delta   468.83 	 OutFr   0.0271 	 RMSD     1.5603
Iter 020 	 Temp     1.01 	 Delta   444.20 	 OutFr   0.0345 	 RMSD     1.5577
Iter 021 	 Temp     0.94 	 Delta   418.33 	 OutFr   0.0369 	 RMSD     1.5562
Iter 022 	 Temp     0.87 	 Delta   393.83 	 OutFr   0.0468 	 RMSD     1.5557
Iter 023 	 Temp     0.81 	 Delta   374.85 	 OutFr   0.0468 	 RMSD     1.5560
Iter 024 	 Temp     0.75 	 Delta   359.46 	 OutFr   0.0690 	 RMSD     1.5569
Iter 025 	 Temp     0.70 	 Delta   342.99 	 OutFr   0.0862 	 RMSD     1.5585
Iter 026 	 Temp     0.65 	 Delta   326.14 	 OutFr   0.1084 	 RMSD     1.5607
Iter 027 	 Temp     0.61 	 Delta   309.80 	 OutFr   0.1207 	 RMSD     1.5627
Iter 028 	 Temp     0.56 	 Delta   292.52 	 OutFr   0.1281 	 RMSD     1.5637
Iter 029 	 Temp     0.52 	 Delta   275.71 	 OutFr   0.1453 	 RMSD     1.5641
Iter 030 	 Temp     0.49 	 Delta   259.66 	 OutFr   0.1601 	 RMSD     1.5642
Iter 031 	 Temp     0.45 	 Delta   242.08 	 OutFr   0.1749 	 RMSD     1.5641
Iter 032 	 Temp     0.42 	 Delta   221.84 	 OutFr   0.2069 	 RMSD     1.5643
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.R6hefHMX/mybin.nii.gz
+ vtklevelset /tmp/ashs.R6hefHMX/mybin.nii.gz /tmp/ashs.R6hefHMX/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.R6hefHMX/mymesh.vtk /tmp/ashs.R6hefHMX/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 2828.61509679   0.92634686
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.R6hefHMX/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.3734 to -12.6031
   Y : -13.7449 to 31.7397
   Z : -24.221 to 6.28519
   Image resolution  : 89 by 160 by 116
   Image box origin  : {-38.3734, -18.7449, -29.221}
   Image box size    : {30.9028, 55.5555, 40.5995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.3734, 18.7449, -29.221]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat -o /tmp/ashs.R6hefHMX/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat -o /tmp/ashs.R6hefHMX/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.R6hefHMX/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.634615 0.640385
+ echo 'CHUNK 0.634615 0.640385 0.5'
CHUNK 0.634615 0.640385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.634615 0.640385 0.5
====================================
         PROGRESS: 0.634615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.R6hefHMX/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.R6hefHMX/fixed_hw.nii.gz /tmp/ashs.R6hefHMX/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.514574, moving = 0.515154
LEVEL 1 of 3
  Smoothing sigmas: [2.32718, 2.40562, 2.42484], [0.950067, 0.982092, 0.989938]
Level     0,  Iter     0:    Energy =   0.0532
Level     0,  Iter     1:    Energy =   0.0613
Level     0,  Iter     2:    Energy =   0.0675
Level     0,  Iter     3:    Energy =   0.0730
Level     0,  Iter     4:    Energy =   0.0775
Level     0,  Iter     5:    Energy =   0.0813
Level     0,  Iter     6:    Energy =   0.0850
Level     0,  Iter     7:    Energy =   0.0874
Level     0,  Iter     8:    Energy =   0.0885
Level     0,  Iter     9:    Energy =   0.0896
Level     0,  Iter    10:    Energy =   0.0903
Level     0,  Iter    11:    Energy =   0.0911
Level     0,  Iter    12:    Energy =   0.0915
Level     0,  Iter    13:    Energy =   0.0920
Level     0,  Iter    14:    Energy =   0.0921
Level     0,  Iter    15:    Energy =   0.0925
Level     0,  Iter    16:    Energy =   0.0926
Level     0,  Iter    17:    Energy =   0.0930
Level     0,  Iter    18:    Energy =   0.0931
Level     0,  Iter    19:    Energy =   0.0934
Level     0,  Iter    20:    Energy =   0.0933
Level     0,  Iter    21:    Energy =   0.0937
Level     0,  Iter    22:    Energy =   0.0935
Level     0,  Iter    23:    Energy =   0.0938
Level     0,  Iter    24:    Energy =   0.0938
Level     0,  Iter    25:    Energy =   0.0941
Level     0,  Iter    26:    Energy =   0.0939
Level     0,  Iter    27:    Energy =   0.0942
Level     0,  Iter    28:    Energy =   0.0941
Level     0,  Iter    29:    Energy =   0.0944
Level     0,  Iter    30:    Energy =   0.0942
Level     0,  Iter    31:    Energy =   0.0945
Level     0,  Iter    32:    Energy =   0.0944
Level     0,  Iter    33:    Energy =   0.0947
Level     0,  Iter    34:    Energy =   0.0945
Level     0,  Iter    35:    Energy =   0.0948
Level     0,  Iter    36:    Energy =   0.0946
Level     0,  Iter    37:    Energy =   0.0949
Level     0,  Iter    38:    Energy =   0.0947
Level     0,  Iter    39:    Energy =   0.0950
Level     0,  Iter    40:    Energy =   0.0948
Level     0,  Iter    41:    Energy =   0.0950
Level     0,  Iter    42:    Energy =   0.0948
Level     0,  Iter    43:    Energy =   0.0951
Level     0,  Iter    44:    Energy =   0.0949
Level     0,  Iter    45:    Energy =   0.0951
Level     0,  Iter    46:    Energy =   0.0949
Level     0,  Iter    47:    Energy =   0.0952
Level     0,  Iter    48:    Energy =   0.0950
Level     0,  Iter    49:    Energy =   0.0952
Level     0,  Iter    50:    Energy =   0.0950
Level     0,  Iter    51:    Energy =   0.0952
Level     0,  Iter    52:    Energy =   0.0950
Level     0,  Iter    53:    Energy =   0.0952
Level     0,  Iter    54:    Energy =   0.0950
Level     0,  Iter    55:    Energy =   0.0953
Level     0,  Iter    56:    Energy =   0.0950
Level     0,  Iter    57:    Energy =   0.0953
Level     0,  Iter    58:    Energy =   0.0951
Level     0,  Iter    59:    Energy =   0.0953
END OF LEVEL     0    DetJac Range:   0.3934  to   1.9327 
  Avg. Gradient Time  : 0.0073s  37.71% 
  Avg. Gaussian Time  : 0.0091s  46.96% 
  Avg. Iteration Time : 0.0193s 
LEVEL 2 of 3
  Smoothing sigmas: [1.18945, 1.20281, 1.21242], [0.48559, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0696
Level     1,  Iter     1:    Energy =   0.0746
Level     1,  Iter     2:    Energy =   0.0783
Level     1,  Iter     3:    Energy =   0.0817
Level     1,  Iter     4:    Energy =   0.0846
Level     1,  Iter     5:    Energy =   0.0868
Level     1,  Iter     6:    Energy =   0.0888
Level     1,  Iter     7:    Energy =   0.0896
Level     1,  Iter     8:    Energy =   0.0898
Level     1,  Iter     9:    Energy =   0.0906
Level     1,  Iter    10:    Energy =   0.0906
Level     1,  Iter    11:    Energy =   0.0914
Level     1,  Iter    12:    Energy =   0.0913
Level     1,  Iter    13:    Energy =   0.0920
Level     1,  Iter    14:    Energy =   0.0919
Level     1,  Iter    15:    Energy =   0.0926
Level     1,  Iter    16:    Energy =   0.0924
Level     1,  Iter    17:    Energy =   0.0931
Level     1,  Iter    18:    Energy =   0.0928
Level     1,  Iter    19:    Energy =   0.0935
Level     1,  Iter    20:    Energy =   0.0932
Level     1,  Iter    21:    Energy =   0.0937
Level     1,  Iter    22:    Energy =   0.0934
Level     1,  Iter    23:    Energy =   0.0940
Level     1,  Iter    24:    Energy =   0.0936
Level     1,  Iter    25:    Energy =   0.0942
Level     1,  Iter    26:    Energy =   0.0938
Level     1,  Iter    27:    Energy =   0.0942
Level     1,  Iter    28:    Energy =   0.0939
Level     1,  Iter    29:    Energy =   0.0943
Level     1,  Iter    30:    Energy =   0.0940
Level     1,  Iter    31:    Energy =   0.0944
Level     1,  Iter    32:    Energy =   0.0940
Level     1,  Iter    33:    Energy =   0.0944
Level     1,  Iter    34:    Energy =   0.0941
Level     1,  Iter    35:    Energy =   0.0945
Level     1,  Iter    36:    Energy =   0.0942
Level     1,  Iter    37:    Energy =   0.0946
Level     1,  Iter    38:    Energy =   0.0942
Level     1,  Iter    39:    Energy =   0.0947
Level     1,  Iter    40:    Energy =   0.0943
Level     1,  Iter    41:    Energy =   0.0947
Level     1,  Iter    42:    Energy =   0.0944
Level     1,  Iter    43:    Energy =   0.0948
Level     1,  Iter    44:    Energy =   0.0944
Level     1,  Iter    45:    Energy =   0.0948
Level     1,  Iter    46:    Energy =   0.0945
Level     1,  Iter    47:    Energy =   0.0948
Level     1,  Iter    48:    Energy =   0.0945
Level     1,  Iter    49:    Energy =   0.0949
Level     1,  Iter    50:    Energy =   0.0945
Level     1,  Iter    51:    Energy =   0.0949
Level     1,  Iter    52:    Energy =   0.0946
Level     1,  Iter    53:    Energy =   0.0950
Level     1,  Iter    54:    Energy =   0.0946
Level     1,  Iter    55:    Energy =   0.0950
Level     1,  Iter    56:    Energy =   0.0947
Level     1,  Iter    57:    Energy =   0.0951
Level     1,  Iter    58:    Energy =   0.0947
Level     1,  Iter    59:    Energy =   0.0951
END OF LEVEL     1    DetJac Range:   0.2058  to   2.9783 
  Avg. Gradient Time  : 0.0425s  40.52% 
  Avg. Gaussian Time  : 0.0498s  47.40% 
  Avg. Iteration Time : 0.1050s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0507
Level     2,  Iter     1:    Energy =   0.0537
Level     2,  Iter     2:    Energy =   0.0561
Level     2,  Iter     3:    Energy =   0.0583
Level     2,  Iter     4:    Energy =   0.0600
Level     2,  Iter     5:    Energy =   0.0618
Level     2,  Iter     6:    Energy =   0.0632
Level     2,  Iter     7:    Energy =   0.0645
Level     2,  Iter     8:    Energy =   0.0654
Level     2,  Iter     9:    Energy =   0.0661
Level     2,  Iter    10:    Energy =   0.0665
Level     2,  Iter    11:    Energy =   0.0668
Level     2,  Iter    12:    Energy =   0.0670
Level     2,  Iter    13:    Energy =   0.0672
Level     2,  Iter    14:    Energy =   0.0673
Level     2,  Iter    15:    Energy =   0.0673
Level     2,  Iter    16:    Energy =   0.0675
Level     2,  Iter    17:    Energy =   0.0676
Level     2,  Iter    18:    Energy =   0.0677
Level     2,  Iter    19:    Energy =   0.0679
END OF LEVEL     2    DetJac Range:   0.1395  to   3.9149 
  Avg. Gradient Time  : 0.2992s  37.83% 
  Avg. Gaussian Time  : 0.4066s  51.41% 
  Avg. Iteration Time : 0.7908s 

real	0m26.417s
user	0m46.352s
sys	0m2.772s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.634615 0.640385
+ echo 'CHUNK 0.634615 0.640385 1'
CHUNK 0.634615 0.640385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.634615 0.640385 1
====================================
         PROGRESS: 0.634615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=007
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 007
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 007 left 0
+ local tid=007
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1922.03 	 OutFr   0.0025 	 RMSD     2.8045
Iter 002 	 Temp     3.72 	 Delta  1785.23 	 OutFr   0.0025 	 RMSD     2.1251
Iter 003 	 Temp     3.46 	 Delta  1651.83 	 OutFr   0.0025 	 RMSD     2.1389
Iter 004 	 Temp     3.22 	 Delta  1534.89 	 OutFr   0.0025 	 RMSD     2.1197
Iter 005 	 Temp     2.99 	 Delta  1430.27 	 OutFr   0.0025 	 RMSD     2.0966
Iter 006 	 Temp     2.78 	 Delta  1335.94 	 OutFr   0.0025 	 RMSD     2.0762
Iter 007 	 Temp     2.59 	 Delta  1252.17 	 OutFr   0.0025 	 RMSD     2.0583
Iter 008 	 Temp     2.41 	 Delta  1179.38 	 OutFr   0.0025 	 RMSD     2.0428
Iter 009 	 Temp     2.24 	 Delta  1116.56 	 OutFr   0.0025 	 RMSD     2.0306
Iter 010 	 Temp     2.08 	 Delta  1062.36 	 OutFr   0.0025 	 RMSD     2.0218
Iter 011 	 Temp     1.94 	 Delta  1014.94 	 OutFr   0.0049 	 RMSD     2.0155
Iter 012 	 Temp     1.80 	 Delta   969.53 	 OutFr   0.0049 	 RMSD     2.0102
Iter 013 	 Temp     1.67 	 Delta   921.58 	 OutFr   0.0049 	 RMSD     2.0064
Iter 014 	 Temp     1.56 	 Delta   871.55 	 OutFr   0.0049 	 RMSD     2.0038
Iter 015 	 Temp     1.45 	 Delta   823.27 	 OutFr   0.0074 	 RMSD     2.0018
Iter 016 	 Temp     1.35 	 Delta   778.66 	 OutFr   0.0099 	 RMSD     1.9998
Iter 017 	 Temp     1.25 	 Delta   737.87 	 OutFr   0.0172 	 RMSD     1.9972
Iter 018 	 Temp     1.16 	 Delta   700.60 	 OutFr   0.0271 	 RMSD     1.9945
Iter 019 	 Temp     1.08 	 Delta   665.46 	 OutFr   0.0320 	 RMSD     1.9922
Iter 020 	 Temp     1.01 	 Delta   630.47 	 OutFr   0.0394 	 RMSD     1.9897
Iter 021 	 Temp     0.94 	 Delta   593.48 	 OutFr   0.0468 	 RMSD     1.9877
Iter 022 	 Temp     0.87 	 Delta   554.16 	 OutFr   0.0567 	 RMSD     1.9866
Iter 023 	 Temp     0.81 	 Delta   513.98 	 OutFr   0.0665 	 RMSD     1.9861
Iter 024 	 Temp     0.75 	 Delta   473.88 	 OutFr   0.0813 	 RMSD     1.9853
Iter 025 	 Temp     0.70 	 Delta   436.00 	 OutFr   0.0961 	 RMSD     1.9853
Iter 026 	 Temp     0.65 	 Delta   402.82 	 OutFr   0.1133 	 RMSD     1.9877
Iter 027 	 Temp     0.61 	 Delta   373.93 	 OutFr   0.1305 	 RMSD     1.9915
Iter 028 	 Temp     0.56 	 Delta   346.57 	 OutFr   0.1601 	 RMSD     1.9961
Iter 029 	 Temp     0.52 	 Delta   318.54 	 OutFr   0.1700 	 RMSD     2.0003
Iter 030 	 Temp     0.49 	 Delta   288.53 	 OutFr   0.2020 	 RMSD     2.0051
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.XJvjSI3w/mybin.nii.gz
+ vtklevelset /tmp/ashs.XJvjSI3w/mybin.nii.gz /tmp/ashs.XJvjSI3w/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.XJvjSI3w/mymesh.vtk /tmp/ashs.XJvjSI3w/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 2959.85967616   0.96932832
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.XJvjSI3w/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -34.4954 to -11.5281
   Y : -19.272 to 24.613
   Z : -20.5797 to 13.1117
   Image resolution  : 95 by 156 by 125
   Image box origin  : {-39.4954, -24.272, -25.5797}
   Image box size    : {32.9861, 54.1666, 43.7495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [39.4954, 24.272, -25.5797]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat -o /tmp/ashs.XJvjSI3w/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat -o /tmp/ashs.XJvjSI3w/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.XJvjSI3w/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.640385 0.646154
+ echo 'CHUNK 0.640385 0.646154 0.5'
CHUNK 0.640385 0.646154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.640385 0.646154 0.5
====================================
         PROGRESS: 0.640385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.XJvjSI3w/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.XJvjSI3w/fixed_hw.nii.gz /tmp/ashs.XJvjSI3w/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509198, moving = 0.389319
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.40562, 2.36801], [0.971862, 0.982092, 0.966737]
Level     0,  Iter     0:    Energy =   0.0399
Level     0,  Iter     1:    Energy =   0.0440
Level     0,  Iter     2:    Energy =   0.0491
Level     0,  Iter     3:    Energy =   0.0538
Level     0,  Iter     4:    Energy =   0.0575
Level     0,  Iter     5:    Energy =   0.0604
Level     0,  Iter     6:    Energy =   0.0623
Level     0,  Iter     7:    Energy =   0.0638
Level     0,  Iter     8:    Energy =   0.0653
Level     0,  Iter     9:    Energy =   0.0665
Level     0,  Iter    10:    Energy =   0.0670
Level     0,  Iter    11:    Energy =   0.0672
Level     0,  Iter    12:    Energy =   0.0675
Level     0,  Iter    13:    Energy =   0.0676
Level     0,  Iter    14:    Energy =   0.0678
Level     0,  Iter    15:    Energy =   0.0680
Level     0,  Iter    16:    Energy =   0.0681
Level     0,  Iter    17:    Energy =   0.0682
Level     0,  Iter    18:    Energy =   0.0684
Level     0,  Iter    19:    Energy =   0.0685
Level     0,  Iter    20:    Energy =   0.0687
Level     0,  Iter    21:    Energy =   0.0686
Level     0,  Iter    22:    Energy =   0.0688
Level     0,  Iter    23:    Energy =   0.0688
Level     0,  Iter    24:    Energy =   0.0690
Level     0,  Iter    25:    Energy =   0.0690
Level     0,  Iter    26:    Energy =   0.0691
Level     0,  Iter    27:    Energy =   0.0691
Level     0,  Iter    28:    Energy =   0.0693
Level     0,  Iter    29:    Energy =   0.0693
Level     0,  Iter    30:    Energy =   0.0695
Level     0,  Iter    31:    Energy =   0.0695
Level     0,  Iter    32:    Energy =   0.0696
Level     0,  Iter    33:    Energy =   0.0696
Level     0,  Iter    34:    Energy =   0.0697
Level     0,  Iter    35:    Energy =   0.0697
Level     0,  Iter    36:    Energy =   0.0698
Level     0,  Iter    37:    Energy =   0.0698
Level     0,  Iter    38:    Energy =   0.0699
Level     0,  Iter    39:    Energy =   0.0698
Level     0,  Iter    40:    Energy =   0.0701
Level     0,  Iter    41:    Energy =   0.0700
Level     0,  Iter    42:    Energy =   0.0701
Level     0,  Iter    43:    Energy =   0.0701
Level     0,  Iter    44:    Energy =   0.0702
Level     0,  Iter    45:    Energy =   0.0700
Level     0,  Iter    46:    Energy =   0.0703
Level     0,  Iter    47:    Energy =   0.0702
Level     0,  Iter    48:    Energy =   0.0703
Level     0,  Iter    49:    Energy =   0.0703
Level     0,  Iter    50:    Energy =   0.0704
Level     0,  Iter    51:    Energy =   0.0702
Level     0,  Iter    52:    Energy =   0.0705
Level     0,  Iter    53:    Energy =   0.0704
Level     0,  Iter    54:    Energy =   0.0705
Level     0,  Iter    55:    Energy =   0.0703
Level     0,  Iter    56:    Energy =   0.0706
Level     0,  Iter    57:    Energy =   0.0704
Level     0,  Iter    58:    Energy =   0.0706
Level     0,  Iter    59:    Energy =   0.0704
END OF LEVEL     0    DetJac Range:   0.1442  to   2.0396 
  Avg. Gradient Time  : 0.0081s  38.12% 
  Avg. Gaussian Time  : 0.0100s  46.91% 
  Avg. Iteration Time : 0.0214s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.20281, 1.2028], [0.485931, 0.491046, 0.491041]
Level     1,  Iter     0:    Energy =   0.0566
Level     1,  Iter     1:    Energy =   0.0607
Level     1,  Iter     2:    Energy =   0.0638
Level     1,  Iter     3:    Energy =   0.0665
Level     1,  Iter     4:    Energy =   0.0693
Level     1,  Iter     5:    Energy =   0.0718
Level     1,  Iter     6:    Energy =   0.0737
Level     1,  Iter     7:    Energy =   0.0752
Level     1,  Iter     8:    Energy =   0.0761
Level     1,  Iter     9:    Energy =   0.0771
Level     1,  Iter    10:    Energy =   0.0778
Level     1,  Iter    11:    Energy =   0.0780
Level     1,  Iter    12:    Energy =   0.0782
Level     1,  Iter    13:    Energy =   0.0783
Level     1,  Iter    14:    Energy =   0.0787
Level     1,  Iter    15:    Energy =   0.0787
Level     1,  Iter    16:    Energy =   0.0791
Level     1,  Iter    17:    Energy =   0.0791
Level     1,  Iter    18:    Energy =   0.0796
Level     1,  Iter    19:    Energy =   0.0794
Level     1,  Iter    20:    Energy =   0.0800
Level     1,  Iter    21:    Energy =   0.0799
Level     1,  Iter    22:    Energy =   0.0803
Level     1,  Iter    23:    Energy =   0.0801
Level     1,  Iter    24:    Energy =   0.0806
Level     1,  Iter    25:    Energy =   0.0804
Level     1,  Iter    26:    Energy =   0.0808
Level     1,  Iter    27:    Energy =   0.0805
Level     1,  Iter    28:    Energy =   0.0810
Level     1,  Iter    29:    Energy =   0.0808
Level     1,  Iter    30:    Energy =   0.0811
Level     1,  Iter    31:    Energy =   0.0808
Level     1,  Iter    32:    Energy =   0.0813
Level     1,  Iter    33:    Energy =   0.0810
Level     1,  Iter    34:    Energy =   0.0814
Level     1,  Iter    35:    Energy =   0.0811
Level     1,  Iter    36:    Energy =   0.0815
Level     1,  Iter    37:    Energy =   0.0812
Level     1,  Iter    38:    Energy =   0.0817
Level     1,  Iter    39:    Energy =   0.0814
Level     1,  Iter    40:    Energy =   0.0817
Level     1,  Iter    41:    Energy =   0.0814
Level     1,  Iter    42:    Energy =   0.0818
Level     1,  Iter    43:    Energy =   0.0816
Level     1,  Iter    44:    Energy =   0.0819
Level     1,  Iter    45:    Energy =   0.0816
Level     1,  Iter    46:    Energy =   0.0819
Level     1,  Iter    47:    Energy =   0.0817
Level     1,  Iter    48:    Energy =   0.0820
Level     1,  Iter    49:    Energy =   0.0817
Level     1,  Iter    50:    Energy =   0.0821
Level     1,  Iter    51:    Energy =   0.0819
Level     1,  Iter    52:    Energy =   0.0821
Level     1,  Iter    53:    Energy =   0.0818
Level     1,  Iter    54:    Energy =   0.0822
Level     1,  Iter    55:    Energy =   0.0819
Level     1,  Iter    56:    Energy =   0.0822
Level     1,  Iter    57:    Energy =   0.0819
Level     1,  Iter    58:    Energy =   0.0823
Level     1,  Iter    59:    Energy =   0.0821
END OF LEVEL     1    DetJac Range:   0.1160  to   2.8648 
  Avg. Gradient Time  : 0.0477s  40.23% 
  Avg. Gaussian Time  : 0.0565s  47.60% 
  Avg. Iteration Time : 0.1186s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0473
Level     2,  Iter     1:    Energy =   0.0497
Level     2,  Iter     2:    Energy =   0.0520
Level     2,  Iter     3:    Energy =   0.0536
Level     2,  Iter     4:    Energy =   0.0549
Level     2,  Iter     5:    Energy =   0.0561
Level     2,  Iter     6:    Energy =   0.0571
Level     2,  Iter     7:    Energy =   0.0579
Level     2,  Iter     8:    Energy =   0.0588
Level     2,  Iter     9:    Energy =   0.0597
Level     2,  Iter    10:    Energy =   0.0604
Level     2,  Iter    11:    Energy =   0.0611
Level     2,  Iter    12:    Energy =   0.0617
Level     2,  Iter    13:    Energy =   0.0623
Level     2,  Iter    14:    Energy =   0.0628
Level     2,  Iter    15:    Energy =   0.0632
Level     2,  Iter    16:    Energy =   0.0635
Level     2,  Iter    17:    Energy =   0.0635
Level     2,  Iter    18:    Energy =   0.0638
Level     2,  Iter    19:    Energy =   0.0635
END OF LEVEL     2    DetJac Range:   0.0791  to   3.7886 
  Avg. Gradient Time  : 0.3313s  37.59% 
  Avg. Gaussian Time  : 0.4562s  51.76% 
  Avg. Iteration Time : 0.8814s 

real	0m29.481s
user	0m51.792s
sys	0m3.040s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.640385 0.646154
+ echo 'CHUNK 0.640385 0.646154 1'
CHUNK 0.640385 0.646154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.640385 0.646154 1
====================================
         PROGRESS: 0.640385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=008
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 008
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 008 left 0
+ local tid=008
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1895.01 	 OutFr   0.0025 	 RMSD     2.2744
Iter 002 	 Temp     3.72 	 Delta  1784.88 	 OutFr   0.0025 	 RMSD     2.0694
Iter 003 	 Temp     3.46 	 Delta  1661.53 	 OutFr   0.0025 	 RMSD     2.0863
Iter 004 	 Temp     3.22 	 Delta  1551.65 	 OutFr   0.0025 	 RMSD     2.0753
Iter 005 	 Temp     2.99 	 Delta  1457.14 	 OutFr   0.0025 	 RMSD     2.0603
Iter 006 	 Temp     2.78 	 Delta  1376.96 	 OutFr   0.0025 	 RMSD     2.0461
Iter 007 	 Temp     2.59 	 Delta  1308.87 	 OutFr   0.0025 	 RMSD     2.0339
Iter 008 	 Temp     2.41 	 Delta  1249.82 	 OutFr   0.0025 	 RMSD     2.0238
Iter 009 	 Temp     2.24 	 Delta  1196.55 	 OutFr   0.0025 	 RMSD     2.0155
Iter 010 	 Temp     2.08 	 Delta  1146.08 	 OutFr   0.0025 	 RMSD     2.0088
Iter 011 	 Temp     1.94 	 Delta  1096.31 	 OutFr   0.0025 	 RMSD     2.0037
Iter 012 	 Temp     1.80 	 Delta  1046.62 	 OutFr   0.0025 	 RMSD     1.9998
Iter 013 	 Temp     1.67 	 Delta   997.43 	 OutFr   0.0074 	 RMSD     1.9968
Iter 014 	 Temp     1.56 	 Delta   949.03 	 OutFr   0.0074 	 RMSD     1.9952
Iter 015 	 Temp     1.45 	 Delta   901.05 	 OutFr   0.0123 	 RMSD     1.9943
Iter 016 	 Temp     1.35 	 Delta   851.83 	 OutFr   0.0123 	 RMSD     1.9938
Iter 017 	 Temp     1.25 	 Delta   800.06 	 OutFr   0.0197 	 RMSD     1.9931
Iter 018 	 Temp     1.16 	 Delta   747.43 	 OutFr   0.0246 	 RMSD     1.9924
Iter 019 	 Temp     1.08 	 Delta   697.77 	 OutFr   0.0320 	 RMSD     1.9919
Iter 020 	 Temp     1.01 	 Delta   653.34 	 OutFr   0.0369 	 RMSD     1.9921
Iter 021 	 Temp     0.94 	 Delta   612.36 	 OutFr   0.0542 	 RMSD     1.9924
Iter 022 	 Temp     0.87 	 Delta   573.83 	 OutFr   0.0665 	 RMSD     1.9923
Iter 023 	 Temp     0.81 	 Delta   536.66 	 OutFr   0.0788 	 RMSD     1.9917
Iter 024 	 Temp     0.75 	 Delta   499.47 	 OutFr   0.1084 	 RMSD     1.9905
Iter 025 	 Temp     0.70 	 Delta   462.78 	 OutFr   0.1232 	 RMSD     1.9900
Iter 026 	 Temp     0.65 	 Delta   427.80 	 OutFr   0.1527 	 RMSD     1.9903
Iter 027 	 Temp     0.61 	 Delta   393.20 	 OutFr   0.1724 	 RMSD     1.9905
Iter 028 	 Temp     0.56 	 Delta   356.06 	 OutFr   0.2044 	 RMSD     1.9909
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.ytDJ9hrD/mybin.nii.gz
+ vtklevelset /tmp/ashs.ytDJ9hrD/mybin.nii.gz /tmp/ashs.ytDJ9hrD/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.ytDJ9hrD/mymesh.vtk /tmp/ashs.ytDJ9hrD/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 2982.81627649   0.97684640
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.ytDJ9hrD/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.4277 to -9.56811
   Y : -20.7903 to 24.2887
   Z : -25.0467 to 6.81662
   Image resolution  : 95 by 159 by 120
   Image box origin  : {-37.4277, -25.7903, -30.0467}
   Image box size    : {32.9861, 55.2083, 41.9995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.4277, 25.7903, -30.0467]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat -o /tmp/ashs.ytDJ9hrD/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat -o /tmp/ashs.ytDJ9hrD/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.ytDJ9hrD/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.646154 0.651923
+ echo 'CHUNK 0.646154 0.651923 0.5'
CHUNK 0.646154 0.651923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.646154 0.651923 0.5
====================================
         PROGRESS: 0.646154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.ytDJ9hrD/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.ytDJ9hrD/fixed_hw.nii.gz /tmp/ashs.ytDJ9hrD/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.507758, moving = 0.399984
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.39059, 2.42484], [0.971862, 0.975954, 0.989938]
Level     0,  Iter     0:    Energy =   0.0239
Level     0,  Iter     1:    Energy =   0.0275
Level     0,  Iter     2:    Energy =   0.0312
Level     0,  Iter     3:    Energy =   0.0350
Level     0,  Iter     4:    Energy =   0.0387
Level     0,  Iter     5:    Energy =   0.0416
Level     0,  Iter     6:    Energy =   0.0445
Level     0,  Iter     7:    Energy =   0.0472
Level     0,  Iter     8:    Energy =   0.0492
Level     0,  Iter     9:    Energy =   0.0510
Level     0,  Iter    10:    Energy =   0.0526
Level     0,  Iter    11:    Energy =   0.0543
Level     0,  Iter    12:    Energy =   0.0554
Level     0,  Iter    13:    Energy =   0.0563
Level     0,  Iter    14:    Energy =   0.0571
Level     0,  Iter    15:    Energy =   0.0578
Level     0,  Iter    16:    Energy =   0.0584
Level     0,  Iter    17:    Energy =   0.0589
Level     0,  Iter    18:    Energy =   0.0590
Level     0,  Iter    19:    Energy =   0.0594
Level     0,  Iter    20:    Energy =   0.0598
Level     0,  Iter    21:    Energy =   0.0603
Level     0,  Iter    22:    Energy =   0.0603
Level     0,  Iter    23:    Energy =   0.0608
Level     0,  Iter    24:    Energy =   0.0608
Level     0,  Iter    25:    Energy =   0.0610
Level     0,  Iter    26:    Energy =   0.0613
Level     0,  Iter    27:    Energy =   0.0616
Level     0,  Iter    28:    Energy =   0.0617
Level     0,  Iter    29:    Energy =   0.0620
Level     0,  Iter    30:    Energy =   0.0621
Level     0,  Iter    31:    Energy =   0.0624
Level     0,  Iter    32:    Energy =   0.0625
Level     0,  Iter    33:    Energy =   0.0628
Level     0,  Iter    34:    Energy =   0.0630
Level     0,  Iter    35:    Energy =   0.0632
Level     0,  Iter    36:    Energy =   0.0633
Level     0,  Iter    37:    Energy =   0.0635
Level     0,  Iter    38:    Energy =   0.0636
Level     0,  Iter    39:    Energy =   0.0636
Level     0,  Iter    40:    Energy =   0.0637
Level     0,  Iter    41:    Energy =   0.0641
Level     0,  Iter    42:    Energy =   0.0638
Level     0,  Iter    43:    Energy =   0.0644
Level     0,  Iter    44:    Energy =   0.0644
Level     0,  Iter    45:    Energy =   0.0647
Level     0,  Iter    46:    Energy =   0.0644
Level     0,  Iter    47:    Energy =   0.0651
Level     0,  Iter    48:    Energy =   0.0647
Level     0,  Iter    49:    Energy =   0.0652
Level     0,  Iter    50:    Energy =   0.0651
Level     0,  Iter    51:    Energy =   0.0654
Level     0,  Iter    52:    Energy =   0.0652
Level     0,  Iter    53:    Energy =   0.0656
Level     0,  Iter    54:    Energy =   0.0653
Level     0,  Iter    55:    Energy =   0.0658
Level     0,  Iter    56:    Energy =   0.0654
Level     0,  Iter    57:    Energy =   0.0660
Level     0,  Iter    58:    Energy =   0.0658
Level     0,  Iter    59:    Energy =   0.0663
END OF LEVEL     0    DetJac Range:   0.1394  to   2.8478 
  Avg. Gradient Time  : 0.0076s  37.54% 
  Avg. Gaussian Time  : 0.0095s  47.26% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.19529, 1.21242], [0.485931, 0.487977, 0.494969]
Level     1,  Iter     0:    Energy =   0.0458
Level     1,  Iter     1:    Energy =   0.0493
Level     1,  Iter     2:    Energy =   0.0522
Level     1,  Iter     3:    Energy =   0.0544
Level     1,  Iter     4:    Energy =   0.0559
Level     1,  Iter     5:    Energy =   0.0572
Level     1,  Iter     6:    Energy =   0.0583
Level     1,  Iter     7:    Energy =   0.0593
Level     1,  Iter     8:    Energy =   0.0604
Level     1,  Iter     9:    Energy =   0.0614
Level     1,  Iter    10:    Energy =   0.0624
Level     1,  Iter    11:    Energy =   0.0633
Level     1,  Iter    12:    Energy =   0.0640
Level     1,  Iter    13:    Energy =   0.0648
Level     1,  Iter    14:    Energy =   0.0654
Level     1,  Iter    15:    Energy =   0.0660
Level     1,  Iter    16:    Energy =   0.0665
Level     1,  Iter    17:    Energy =   0.0670
Level     1,  Iter    18:    Energy =   0.0670
Level     1,  Iter    19:    Energy =   0.0672
Level     1,  Iter    20:    Energy =   0.0671
Level     1,  Iter    21:    Energy =   0.0673
Level     1,  Iter    22:    Energy =   0.0673
Level     1,  Iter    23:    Energy =   0.0675
Level     1,  Iter    24:    Energy =   0.0675
Level     1,  Iter    25:    Energy =   0.0678
Level     1,  Iter    26:    Energy =   0.0677
Level     1,  Iter    27:    Energy =   0.0681
Level     1,  Iter    28:    Energy =   0.0680
Level     1,  Iter    29:    Energy =   0.0682
Level     1,  Iter    30:    Energy =   0.0683
Level     1,  Iter    31:    Energy =   0.0685
Level     1,  Iter    32:    Energy =   0.0684
Level     1,  Iter    33:    Energy =   0.0686
Level     1,  Iter    34:    Energy =   0.0686
Level     1,  Iter    35:    Energy =   0.0689
Level     1,  Iter    36:    Energy =   0.0688
Level     1,  Iter    37:    Energy =   0.0690
Level     1,  Iter    38:    Energy =   0.0690
Level     1,  Iter    39:    Energy =   0.0692
Level     1,  Iter    40:    Energy =   0.0691
Level     1,  Iter    41:    Energy =   0.0693
Level     1,  Iter    42:    Energy =   0.0692
Level     1,  Iter    43:    Energy =   0.0695
Level     1,  Iter    44:    Energy =   0.0693
Level     1,  Iter    45:    Energy =   0.0696
Level     1,  Iter    46:    Energy =   0.0695
Level     1,  Iter    47:    Energy =   0.0698
Level     1,  Iter    48:    Energy =   0.0696
Level     1,  Iter    49:    Energy =   0.0698
Level     1,  Iter    50:    Energy =   0.0698
Level     1,  Iter    51:    Energy =   0.0700
Level     1,  Iter    52:    Energy =   0.0698
Level     1,  Iter    53:    Energy =   0.0701
Level     1,  Iter    54:    Energy =   0.0700
Level     1,  Iter    55:    Energy =   0.0703
Level     1,  Iter    56:    Energy =   0.0701
Level     1,  Iter    57:    Energy =   0.0704
Level     1,  Iter    58:    Energy =   0.0703
Level     1,  Iter    59:    Energy =   0.0705
END OF LEVEL     1    DetJac Range:   0.1315  to   3.7421 
  Avg. Gradient Time  : 0.0459s  39.99% 
  Avg. Gaussian Time  : 0.0545s  47.54% 
  Avg. Iteration Time : 0.1147s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0371
Level     2,  Iter     1:    Energy =   0.0393
Level     2,  Iter     2:    Energy =   0.0414
Level     2,  Iter     3:    Energy =   0.0433
Level     2,  Iter     4:    Energy =   0.0449
Level     2,  Iter     5:    Energy =   0.0464
Level     2,  Iter     6:    Energy =   0.0477
Level     2,  Iter     7:    Energy =   0.0488
Level     2,  Iter     8:    Energy =   0.0497
Level     2,  Iter     9:    Energy =   0.0505
Level     2,  Iter    10:    Energy =   0.0512
Level     2,  Iter    11:    Energy =   0.0519
Level     2,  Iter    12:    Energy =   0.0525
Level     2,  Iter    13:    Energy =   0.0532
Level     2,  Iter    14:    Energy =   0.0537
Level     2,  Iter    15:    Energy =   0.0542
Level     2,  Iter    16:    Energy =   0.0546
Level     2,  Iter    17:    Energy =   0.0550
Level     2,  Iter    18:    Energy =   0.0554
Level     2,  Iter    19:    Energy =   0.0557
END OF LEVEL     2    DetJac Range:   0.0660  to   6.0664 
  Avg. Gradient Time  : 0.3264s  37.59% 
  Avg. Gaussian Time  : 0.4491s  51.73% 
  Avg. Iteration Time : 0.8682s 

real	0m28.873s
user	0m51.268s
sys	0m2.744s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.646154 0.651923
+ echo 'CHUNK 0.646154 0.651923 1'
CHUNK 0.646154 0.651923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.646154 0.651923 1
====================================
         PROGRESS: 0.646154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=009
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 009
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 009 left 0
+ local tid=009
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2357.21 	 OutFr   0.0000 	 RMSD     2.4965
Iter 002 	 Temp     3.72 	 Delta  2332.52 	 OutFr   0.0000 	 RMSD     2.0751
Iter 003 	 Temp     3.46 	 Delta  2270.72 	 OutFr   0.0000 	 RMSD     2.1405
Iter 004 	 Temp     3.22 	 Delta  2165.65 	 OutFr   0.0000 	 RMSD     2.1435
Iter 005 	 Temp     2.99 	 Delta  2045.69 	 OutFr   0.0000 	 RMSD     2.1280
Iter 006 	 Temp     2.78 	 Delta  1922.35 	 OutFr   0.0000 	 RMSD     2.1066
Iter 007 	 Temp     2.59 	 Delta  1800.01 	 OutFr   0.0000 	 RMSD     2.0840
Iter 008 	 Temp     2.41 	 Delta  1680.86 	 OutFr   0.0000 	 RMSD     2.0627
Iter 009 	 Temp     2.24 	 Delta  1566.43 	 OutFr   0.0000 	 RMSD     2.0412
Iter 010 	 Temp     2.08 	 Delta  1457.12 	 OutFr   0.0000 	 RMSD     2.0201
Iter 011 	 Temp     1.94 	 Delta  1353.38 	 OutFr   0.0000 	 RMSD     2.0010
Iter 012 	 Temp     1.80 	 Delta  1257.37 	 OutFr   0.0000 	 RMSD     1.9843
Iter 013 	 Temp     1.67 	 Delta  1169.70 	 OutFr   0.0025 	 RMSD     1.9691
Iter 014 	 Temp     1.56 	 Delta  1086.91 	 OutFr   0.0025 	 RMSD     1.9559
Iter 015 	 Temp     1.45 	 Delta  1005.67 	 OutFr   0.0074 	 RMSD     1.9440
Iter 016 	 Temp     1.35 	 Delta   924.45 	 OutFr   0.0099 	 RMSD     1.9345
Iter 017 	 Temp     1.25 	 Delta   843.65 	 OutFr   0.0099 	 RMSD     1.9287
Iter 018 	 Temp     1.16 	 Delta   766.32 	 OutFr   0.0197 	 RMSD     1.9245
Iter 019 	 Temp     1.08 	 Delta   696.72 	 OutFr   0.0394 	 RMSD     1.9202
Iter 020 	 Temp     1.01 	 Delta   639.09 	 OutFr   0.0419 	 RMSD     1.9181
Iter 021 	 Temp     0.94 	 Delta   593.38 	 OutFr   0.0493 	 RMSD     1.9187
Iter 022 	 Temp     0.87 	 Delta   551.91 	 OutFr   0.0616 	 RMSD     1.9196
Iter 023 	 Temp     0.81 	 Delta   512.49 	 OutFr   0.0764 	 RMSD     1.9219
Iter 024 	 Temp     0.75 	 Delta   477.49 	 OutFr   0.1158 	 RMSD     1.9255
Iter 025 	 Temp     0.70 	 Delta   443.76 	 OutFr   0.1305 	 RMSD     1.9290
Iter 026 	 Temp     0.65 	 Delta   410.25 	 OutFr   0.1626 	 RMSD     1.9322
Iter 027 	 Temp     0.61 	 Delta   379.20 	 OutFr   0.1724 	 RMSD     1.9347
Iter 028 	 Temp     0.56 	 Delta   349.85 	 OutFr   0.2020 	 RMSD     1.9368
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.FLO9Ae6P/mybin.nii.gz
+ vtklevelset /tmp/ashs.FLO9Ae6P/mybin.nii.gz /tmp/ashs.FLO9Ae6P/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.FLO9Ae6P/mymesh.vtk /tmp/ashs.FLO9Ae6P/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 3093.60190750   1.01312774
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.FLO9Ae6P/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -30.9143 to -7.94602
   Y : -15.9067 to 32.5901
   Z : -21.4702 to 9.22637
   Image resolution  : 95 by 169 by 117
   Image box origin  : {-35.9143, -20.9067, -26.4702}
   Image box size    : {32.9861, 58.6805, 40.9495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [35.9143, 20.9067, -26.4702]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat -o /tmp/ashs.FLO9Ae6P/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat -o /tmp/ashs.FLO9Ae6P/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.FLO9Ae6P/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.651923 0.657692
+ echo 'CHUNK 0.651923 0.657692 0.5'
CHUNK 0.651923 0.657692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.651923 0.657692 0.5
====================================
         PROGRESS: 0.651923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.FLO9Ae6P/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.FLO9Ae6P/fixed_hw.nii.gz /tmp/ashs.FLO9Ae6P/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.51346, moving = 0.702899
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.36367, 2.36422], [0.971862, 0.964963, 0.96519]
Level     0,  Iter     0:    Energy =   0.0545
Level     0,  Iter     1:    Energy =   0.0604
Level     0,  Iter     2:    Energy =   0.0661
Level     0,  Iter     3:    Energy =   0.0710
Level     0,  Iter     4:    Energy =   0.0762
Level     0,  Iter     5:    Energy =   0.0803
Level     0,  Iter     6:    Energy =   0.0829
Level     0,  Iter     7:    Energy =   0.0848
Level     0,  Iter     8:    Energy =   0.0861
Level     0,  Iter     9:    Energy =   0.0870
Level     0,  Iter    10:    Energy =   0.0874
Level     0,  Iter    11:    Energy =   0.0875
Level     0,  Iter    12:    Energy =   0.0878
Level     0,  Iter    13:    Energy =   0.0881
Level     0,  Iter    14:    Energy =   0.0883
Level     0,  Iter    15:    Energy =   0.0886
Level     0,  Iter    16:    Energy =   0.0888
Level     0,  Iter    17:    Energy =   0.0892
Level     0,  Iter    18:    Energy =   0.0893
Level     0,  Iter    19:    Energy =   0.0895
Level     0,  Iter    20:    Energy =   0.0897
Level     0,  Iter    21:    Energy =   0.0902
Level     0,  Iter    22:    Energy =   0.0902
Level     0,  Iter    23:    Energy =   0.0904
Level     0,  Iter    24:    Energy =   0.0904
Level     0,  Iter    25:    Energy =   0.0908
Level     0,  Iter    26:    Energy =   0.0908
Level     0,  Iter    27:    Energy =   0.0909
Level     0,  Iter    28:    Energy =   0.0910
Level     0,  Iter    29:    Energy =   0.0911
Level     0,  Iter    30:    Energy =   0.0911
Level     0,  Iter    31:    Energy =   0.0913
Level     0,  Iter    32:    Energy =   0.0913
Level     0,  Iter    33:    Energy =   0.0915
Level     0,  Iter    34:    Energy =   0.0915
Level     0,  Iter    35:    Energy =   0.0917
Level     0,  Iter    36:    Energy =   0.0917
Level     0,  Iter    37:    Energy =   0.0918
Level     0,  Iter    38:    Energy =   0.0918
Level     0,  Iter    39:    Energy =   0.0920
Level     0,  Iter    40:    Energy =   0.0919
Level     0,  Iter    41:    Energy =   0.0920
Level     0,  Iter    42:    Energy =   0.0920
Level     0,  Iter    43:    Energy =   0.0921
Level     0,  Iter    44:    Energy =   0.0921
Level     0,  Iter    45:    Energy =   0.0922
Level     0,  Iter    46:    Energy =   0.0921
Level     0,  Iter    47:    Energy =   0.0922
Level     0,  Iter    48:    Energy =   0.0922
Level     0,  Iter    49:    Energy =   0.0923
Level     0,  Iter    50:    Energy =   0.0922
Level     0,  Iter    51:    Energy =   0.0923
Level     0,  Iter    52:    Energy =   0.0923
Level     0,  Iter    53:    Energy =   0.0924
Level     0,  Iter    54:    Energy =   0.0923
Level     0,  Iter    55:    Energy =   0.0924
Level     0,  Iter    56:    Energy =   0.0924
Level     0,  Iter    57:    Energy =   0.0924
Level     0,  Iter    58:    Energy =   0.0924
Level     0,  Iter    59:    Energy =   0.0925
END OF LEVEL     0    DetJac Range:   0.3618  to   2.5075 
  Avg. Gradient Time  : 0.0073s  37.76% 
  Avg. Gaussian Time  : 0.0091s  47.44% 
  Avg. Iteration Time : 0.0193s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.19574, 1.20215], [0.485931, 0.488158, 0.490774]
Level     1,  Iter     0:    Energy =   0.0624
Level     1,  Iter     1:    Energy =   0.0669
Level     1,  Iter     2:    Energy =   0.0708
Level     1,  Iter     3:    Energy =   0.0738
Level     1,  Iter     4:    Energy =   0.0765
Level     1,  Iter     5:    Energy =   0.0788
Level     1,  Iter     6:    Energy =   0.0806
Level     1,  Iter     7:    Energy =   0.0822
Level     1,  Iter     8:    Energy =   0.0833
Level     1,  Iter     9:    Energy =   0.0839
Level     1,  Iter    10:    Energy =   0.0840
Level     1,  Iter    11:    Energy =   0.0847
Level     1,  Iter    12:    Energy =   0.0847
Level     1,  Iter    13:    Energy =   0.0850
Level     1,  Iter    14:    Energy =   0.0849
Level     1,  Iter    15:    Energy =   0.0855
Level     1,  Iter    16:    Energy =   0.0853
Level     1,  Iter    17:    Energy =   0.0861
Level     1,  Iter    18:    Energy =   0.0859
Level     1,  Iter    19:    Energy =   0.0865
Level     1,  Iter    20:    Energy =   0.0862
Level     1,  Iter    21:    Energy =   0.0870
Level     1,  Iter    22:    Energy =   0.0867
Level     1,  Iter    23:    Energy =   0.0872
Level     1,  Iter    24:    Energy =   0.0869
Level     1,  Iter    25:    Energy =   0.0877
Level     1,  Iter    26:    Energy =   0.0873
Level     1,  Iter    27:    Energy =   0.0874
Level     1,  Iter    28:    Energy =   0.0871
Level     1,  Iter    29:    Energy =   0.0876
Level     1,  Iter    30:    Energy =   0.0873
Level     1,  Iter    31:    Energy =   0.0876
Level     1,  Iter    32:    Energy =   0.0873
Level     1,  Iter    33:    Energy =   0.0877
Level     1,  Iter    34:    Energy =   0.0874
Level     1,  Iter    35:    Energy =   0.0878
Level     1,  Iter    36:    Energy =   0.0875
Level     1,  Iter    37:    Energy =   0.0879
Level     1,  Iter    38:    Energy =   0.0876
Level     1,  Iter    39:    Energy =   0.0879
Level     1,  Iter    40:    Energy =   0.0876
Level     1,  Iter    41:    Energy =   0.0880
Level     1,  Iter    42:    Energy =   0.0876
Level     1,  Iter    43:    Energy =   0.0882
Level     1,  Iter    44:    Energy =   0.0878
Level     1,  Iter    45:    Energy =   0.0883
Level     1,  Iter    46:    Energy =   0.0879
Level     1,  Iter    47:    Energy =   0.0886
Level     1,  Iter    48:    Energy =   0.0882
Level     1,  Iter    49:    Energy =   0.0889
Level     1,  Iter    50:    Energy =   0.0884
Level     1,  Iter    51:    Energy =   0.0888
Level     1,  Iter    52:    Energy =   0.0883
Level     1,  Iter    53:    Energy =   0.0890
Level     1,  Iter    54:    Energy =   0.0886
Level     1,  Iter    55:    Energy =   0.0889
Level     1,  Iter    56:    Energy =   0.0884
Level     1,  Iter    57:    Energy =   0.0893
Level     1,  Iter    58:    Energy =   0.0888
Level     1,  Iter    59:    Energy =   0.0890
END OF LEVEL     1    DetJac Range:   0.1523  to   2.7088 
  Avg. Gradient Time  : 0.0428s  40.45% 
  Avg. Gaussian Time  : 0.0505s  47.70% 
  Avg. Iteration Time : 0.1058s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0471
Level     2,  Iter     1:    Energy =   0.0496
Level     2,  Iter     2:    Energy =   0.0518
Level     2,  Iter     3:    Energy =   0.0536
Level     2,  Iter     4:    Energy =   0.0548
Level     2,  Iter     5:    Energy =   0.0559
Level     2,  Iter     6:    Energy =   0.0571
Level     2,  Iter     7:    Energy =   0.0581
Level     2,  Iter     8:    Energy =   0.0593
Level     2,  Iter     9:    Energy =   0.0602
Level     2,  Iter    10:    Energy =   0.0610
Level     2,  Iter    11:    Energy =   0.0616
Level     2,  Iter    12:    Energy =   0.0621
Level     2,  Iter    13:    Energy =   0.0625
Level     2,  Iter    14:    Energy =   0.0630
Level     2,  Iter    15:    Energy =   0.0635
Level     2,  Iter    16:    Energy =   0.0640
Level     2,  Iter    17:    Energy =   0.0645
Level     2,  Iter    18:    Energy =   0.0650
Level     2,  Iter    19:    Energy =   0.0654
END OF LEVEL     2    DetJac Range:   0.1167  to   4.2824 
  Avg. Gradient Time  : 0.3031s  37.92% 
  Avg. Gaussian Time  : 0.4120s  51.53% 
  Avg. Iteration Time : 0.7995s 

real	0m26.624s
user	0m46.804s
sys	0m2.844s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.651923 0.657692
+ echo 'CHUNK 0.651923 0.657692 1'
CHUNK 0.651923 0.657692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.651923 0.657692 1
====================================
         PROGRESS: 0.651923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=010
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 010
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 010 left 0
+ local tid=010
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1907.48 	 OutFr   0.0025 	 RMSD     2.5220
Iter 002 	 Temp     3.72 	 Delta  1825.15 	 OutFr   0.0025 	 RMSD     2.0545
Iter 003 	 Temp     3.46 	 Delta  1745.70 	 OutFr   0.0025 	 RMSD     2.0602
Iter 004 	 Temp     3.22 	 Delta  1674.02 	 OutFr   0.0025 	 RMSD     2.0415
Iter 005 	 Temp     2.99 	 Delta  1611.46 	 OutFr   0.0025 	 RMSD     2.0231
Iter 006 	 Temp     2.78 	 Delta  1555.46 	 OutFr   0.0025 	 RMSD     2.0073
Iter 007 	 Temp     2.59 	 Delta  1502.60 	 OutFr   0.0025 	 RMSD     1.9932
Iter 008 	 Temp     2.41 	 Delta  1449.51 	 OutFr   0.0025 	 RMSD     1.9814
Iter 009 	 Temp     2.24 	 Delta  1394.79 	 OutFr   0.0025 	 RMSD     1.9710
Iter 010 	 Temp     2.08 	 Delta  1340.22 	 OutFr   0.0025 	 RMSD     1.9623
Iter 011 	 Temp     1.94 	 Delta  1288.94 	 OutFr   0.0025 	 RMSD     1.9552
Iter 012 	 Temp     1.80 	 Delta  1242.03 	 OutFr   0.0025 	 RMSD     1.9494
Iter 013 	 Temp     1.67 	 Delta  1196.60 	 OutFr   0.0025 	 RMSD     1.9450
Iter 014 	 Temp     1.56 	 Delta  1148.01 	 OutFr   0.0025 	 RMSD     1.9417
Iter 015 	 Temp     1.45 	 Delta  1093.94 	 OutFr   0.0074 	 RMSD     1.9389
Iter 016 	 Temp     1.35 	 Delta  1035.26 	 OutFr   0.0099 	 RMSD     1.9364
Iter 017 	 Temp     1.25 	 Delta   974.69 	 OutFr   0.0172 	 RMSD     1.9338
Iter 018 	 Temp     1.16 	 Delta   912.74 	 OutFr   0.0222 	 RMSD     1.9310
Iter 019 	 Temp     1.08 	 Delta   848.09 	 OutFr   0.0320 	 RMSD     1.9279
Iter 020 	 Temp     1.01 	 Delta   780.37 	 OutFr   0.0443 	 RMSD     1.9236
Iter 021 	 Temp     0.94 	 Delta   708.29 	 OutFr   0.0616 	 RMSD     1.9194
Iter 022 	 Temp     0.87 	 Delta   631.83 	 OutFr   0.0764 	 RMSD     1.9170
Iter 023 	 Temp     0.81 	 Delta   557.33 	 OutFr   0.0985 	 RMSD     1.9177
Iter 024 	 Temp     0.75 	 Delta   488.85 	 OutFr   0.1281 	 RMSD     1.9205
Iter 025 	 Temp     0.70 	 Delta   435.03 	 OutFr   0.1650 	 RMSD     1.9264
Iter 026 	 Temp     0.65 	 Delta   396.02 	 OutFr   0.1847 	 RMSD     1.9351
Iter 027 	 Temp     0.61 	 Delta   362.03 	 OutFr   0.2069 	 RMSD     1.9439
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.PDTfOK0B/mybin.nii.gz
+ vtklevelset /tmp/ashs.PDTfOK0B/mybin.nii.gz /tmp/ashs.PDTfOK0B/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.PDTfOK0B/mymesh.vtk /tmp/ashs.PDTfOK0B/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 3135.25928247   1.02677016
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.PDTfOK0B/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.0225 to -9.6313
   Y : -17.6159 to 28.1269
   Z : -15.2643 to 18.407
   Image resolution  : 97 by 161 by 125
   Image box origin  : {-38.0225, -22.6159, -20.2643}
   Image box size    : {33.6805, 55.9027, 43.7495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.0225, 22.6159, -20.2643]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat -o /tmp/ashs.PDTfOK0B/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat -o /tmp/ashs.PDTfOK0B/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.PDTfOK0B/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.657692 0.663462
+ echo 'CHUNK 0.657692 0.663462 0.5'
CHUNK 0.657692 0.663462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.657692 0.663462 0.5
====================================
         PROGRESS: 0.657692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.PDTfOK0B/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.PDTfOK0B/fixed_hw.nii.gz /tmp/ashs.PDTfOK0B/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.508854, moving = 0.450163
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.36162, 2.36801], [0.952629, 0.964127, 0.966737]
Level     0,  Iter     0:    Energy =   0.0404
Level     0,  Iter     1:    Energy =   0.0466
Level     0,  Iter     2:    Energy =   0.0524
Level     0,  Iter     3:    Energy =   0.0573
Level     0,  Iter     4:    Energy =   0.0619
Level     0,  Iter     5:    Energy =   0.0662
Level     0,  Iter     6:    Energy =   0.0697
Level     0,  Iter     7:    Energy =   0.0728
Level     0,  Iter     8:    Energy =   0.0753
Level     0,  Iter     9:    Energy =   0.0775
Level     0,  Iter    10:    Energy =   0.0796
Level     0,  Iter    11:    Energy =   0.0812
Level     0,  Iter    12:    Energy =   0.0820
Level     0,  Iter    13:    Energy =   0.0824
Level     0,  Iter    14:    Energy =   0.0833
Level     0,  Iter    15:    Energy =   0.0836
Level     0,  Iter    16:    Energy =   0.0844
Level     0,  Iter    17:    Energy =   0.0848
Level     0,  Iter    18:    Energy =   0.0854
Level     0,  Iter    19:    Energy =   0.0859
Level     0,  Iter    20:    Energy =   0.0861
Level     0,  Iter    21:    Energy =   0.0864
Level     0,  Iter    22:    Energy =   0.0867
Level     0,  Iter    23:    Energy =   0.0869
Level     0,  Iter    24:    Energy =   0.0872
Level     0,  Iter    25:    Energy =   0.0874
Level     0,  Iter    26:    Energy =   0.0877
Level     0,  Iter    27:    Energy =   0.0879
Level     0,  Iter    28:    Energy =   0.0880
Level     0,  Iter    29:    Energy =   0.0883
Level     0,  Iter    30:    Energy =   0.0884
Level     0,  Iter    31:    Energy =   0.0886
Level     0,  Iter    32:    Energy =   0.0887
Level     0,  Iter    33:    Energy =   0.0890
Level     0,  Iter    34:    Energy =   0.0891
Level     0,  Iter    35:    Energy =   0.0894
Level     0,  Iter    36:    Energy =   0.0895
Level     0,  Iter    37:    Energy =   0.0897
Level     0,  Iter    38:    Energy =   0.0898
Level     0,  Iter    39:    Energy =   0.0900
Level     0,  Iter    40:    Energy =   0.0901
Level     0,  Iter    41:    Energy =   0.0903
Level     0,  Iter    42:    Energy =   0.0904
Level     0,  Iter    43:    Energy =   0.0905
Level     0,  Iter    44:    Energy =   0.0905
Level     0,  Iter    45:    Energy =   0.0906
Level     0,  Iter    46:    Energy =   0.0907
Level     0,  Iter    47:    Energy =   0.0908
Level     0,  Iter    48:    Energy =   0.0910
Level     0,  Iter    49:    Energy =   0.0911
Level     0,  Iter    50:    Energy =   0.0910
Level     0,  Iter    51:    Energy =   0.0911
Level     0,  Iter    52:    Energy =   0.0909
Level     0,  Iter    53:    Energy =   0.0910
Level     0,  Iter    54:    Energy =   0.0911
Level     0,  Iter    55:    Energy =   0.0912
Level     0,  Iter    56:    Energy =   0.0912
Level     0,  Iter    57:    Energy =   0.0913
Level     0,  Iter    58:    Energy =   0.0911
Level     0,  Iter    59:    Energy =   0.0912
END OF LEVEL     0    DetJac Range:   0.2049  to   2.8592 
  Avg. Gradient Time  : 0.0087s  37.86% 
  Avg. Gaussian Time  : 0.0108s  47.42% 
  Avg. Iteration Time : 0.0229s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.19539, 1.2028], [0.486035, 0.488015, 0.491041]
Level     1,  Iter     0:    Energy =   0.0600
Level     1,  Iter     1:    Energy =   0.0639
Level     1,  Iter     2:    Energy =   0.0675
Level     1,  Iter     3:    Energy =   0.0702
Level     1,  Iter     4:    Energy =   0.0731
Level     1,  Iter     5:    Energy =   0.0755
Level     1,  Iter     6:    Energy =   0.0776
Level     1,  Iter     7:    Energy =   0.0792
Level     1,  Iter     8:    Energy =   0.0801
Level     1,  Iter     9:    Energy =   0.0803
Level     1,  Iter    10:    Energy =   0.0809
Level     1,  Iter    11:    Energy =   0.0809
Level     1,  Iter    12:    Energy =   0.0818
Level     1,  Iter    13:    Energy =   0.0817
Level     1,  Iter    14:    Energy =   0.0825
Level     1,  Iter    15:    Energy =   0.0824
Level     1,  Iter    16:    Energy =   0.0830
Level     1,  Iter    17:    Energy =   0.0827
Level     1,  Iter    18:    Energy =   0.0835
Level     1,  Iter    19:    Energy =   0.0832
Level     1,  Iter    20:    Energy =   0.0838
Level     1,  Iter    21:    Energy =   0.0834
Level     1,  Iter    22:    Energy =   0.0841
Level     1,  Iter    23:    Energy =   0.0838
Level     1,  Iter    24:    Energy =   0.0842
Level     1,  Iter    25:    Energy =   0.0838
Level     1,  Iter    26:    Energy =   0.0845
Level     1,  Iter    27:    Energy =   0.0841
Level     1,  Iter    28:    Energy =   0.0846
Level     1,  Iter    29:    Energy =   0.0842
Level     1,  Iter    30:    Energy =   0.0848
Level     1,  Iter    31:    Energy =   0.0845
Level     1,  Iter    32:    Energy =   0.0848
Level     1,  Iter    33:    Energy =   0.0845
Level     1,  Iter    34:    Energy =   0.0850
Level     1,  Iter    35:    Energy =   0.0847
Level     1,  Iter    36:    Energy =   0.0850
Level     1,  Iter    37:    Energy =   0.0847
Level     1,  Iter    38:    Energy =   0.0852
Level     1,  Iter    39:    Energy =   0.0849
Level     1,  Iter    40:    Energy =   0.0853
Level     1,  Iter    41:    Energy =   0.0849
Level     1,  Iter    42:    Energy =   0.0854
Level     1,  Iter    43:    Energy =   0.0851
Level     1,  Iter    44:    Energy =   0.0854
Level     1,  Iter    45:    Energy =   0.0851
Level     1,  Iter    46:    Energy =   0.0856
Level     1,  Iter    47:    Energy =   0.0853
Level     1,  Iter    48:    Energy =   0.0857
Level     1,  Iter    49:    Energy =   0.0853
Level     1,  Iter    50:    Energy =   0.0859
Level     1,  Iter    51:    Energy =   0.0856
Level     1,  Iter    52:    Energy =   0.0858
Level     1,  Iter    53:    Energy =   0.0854
Level     1,  Iter    54:    Energy =   0.0860
Level     1,  Iter    55:    Energy =   0.0856
Level     1,  Iter    56:    Energy =   0.0861
Level     1,  Iter    57:    Energy =   0.0857
Level     1,  Iter    58:    Energy =   0.0862
Level     1,  Iter    59:    Energy =   0.0859
END OF LEVEL     1    DetJac Range:   0.2031  to   3.1814 
  Avg. Gradient Time  : 0.0497s  39.73% 
  Avg. Gaussian Time  : 0.0605s  48.34% 
  Avg. Iteration Time : 0.1251s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0471
Level     2,  Iter     1:    Energy =   0.0497
Level     2,  Iter     2:    Energy =   0.0519
Level     2,  Iter     3:    Energy =   0.0539
Level     2,  Iter     4:    Energy =   0.0558
Level     2,  Iter     5:    Energy =   0.0575
Level     2,  Iter     6:    Energy =   0.0589
Level     2,  Iter     7:    Energy =   0.0600
Level     2,  Iter     8:    Energy =   0.0611
Level     2,  Iter     9:    Energy =   0.0620
Level     2,  Iter    10:    Energy =   0.0627
Level     2,  Iter    11:    Energy =   0.0633
Level     2,  Iter    12:    Energy =   0.0638
Level     2,  Iter    13:    Energy =   0.0643
Level     2,  Iter    14:    Energy =   0.0648
Level     2,  Iter    15:    Energy =   0.0654
Level     2,  Iter    16:    Energy =   0.0660
Level     2,  Iter    17:    Energy =   0.0666
Level     2,  Iter    18:    Energy =   0.0670
Level     2,  Iter    19:    Energy =   0.0674
END OF LEVEL     2    DetJac Range:   0.0889  to   5.3270 
  Avg. Gradient Time  : 0.3471s  37.37% 
  Avg. Gaussian Time  : 0.4832s  52.03% 
  Avg. Iteration Time : 0.9287s 

real	0m31.123s
user	0m54.944s
sys	0m2.972s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.657692 0.663462
+ echo 'CHUNK 0.657692 0.663462 1'
CHUNK 0.657692 0.663462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.657692 0.663462 1
====================================
         PROGRESS: 0.657692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=011
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 011
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 011 left 0
+ local tid=011
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2187.07 	 OutFr   0.0000 	 RMSD     2.2369
Iter 002 	 Temp     3.72 	 Delta  1950.81 	 OutFr   0.0000 	 RMSD     2.1318
Iter 003 	 Temp     3.46 	 Delta  1777.89 	 OutFr   0.0000 	 RMSD     2.1491
Iter 004 	 Temp     3.22 	 Delta  1635.48 	 OutFr   0.0025 	 RMSD     2.1300
Iter 005 	 Temp     2.99 	 Delta  1516.88 	 OutFr   0.0025 	 RMSD     2.1068
Iter 006 	 Temp     2.78 	 Delta  1418.02 	 OutFr   0.0074 	 RMSD     2.0863
Iter 007 	 Temp     2.59 	 Delta  1334.86 	 OutFr   0.0099 	 RMSD     2.0688
Iter 008 	 Temp     2.41 	 Delta  1263.55 	 OutFr   0.0123 	 RMSD     2.0534
Iter 009 	 Temp     2.24 	 Delta  1200.78 	 OutFr   0.0172 	 RMSD     2.0396
Iter 010 	 Temp     2.08 	 Delta  1144.08 	 OutFr   0.0172 	 RMSD     2.0271
Iter 011 	 Temp     1.94 	 Delta  1091.98 	 OutFr   0.0222 	 RMSD     2.0151
Iter 012 	 Temp     1.80 	 Delta  1043.56 	 OutFr   0.0246 	 RMSD     2.0048
Iter 013 	 Temp     1.67 	 Delta   997.91 	 OutFr   0.0246 	 RMSD     1.9960
Iter 014 	 Temp     1.56 	 Delta   954.33 	 OutFr   0.0246 	 RMSD     1.9887
Iter 015 	 Temp     1.45 	 Delta   911.90 	 OutFr   0.0246 	 RMSD     1.9828
Iter 016 	 Temp     1.35 	 Delta   868.33 	 OutFr   0.0271 	 RMSD     1.9775
Iter 017 	 Temp     1.25 	 Delta   821.23 	 OutFr   0.0271 	 RMSD     1.9730
Iter 018 	 Temp     1.16 	 Delta   770.97 	 OutFr   0.0296 	 RMSD     1.9696
Iter 019 	 Temp     1.08 	 Delta   721.15 	 OutFr   0.0296 	 RMSD     1.9664
Iter 020 	 Temp     1.01 	 Delta   672.75 	 OutFr   0.0369 	 RMSD     1.9630
Iter 021 	 Temp     0.94 	 Delta   620.86 	 OutFr   0.0567 	 RMSD     1.9600
Iter 022 	 Temp     0.87 	 Delta   563.31 	 OutFr   0.0788 	 RMSD     1.9576
Iter 023 	 Temp     0.81 	 Delta   509.59 	 OutFr   0.1059 	 RMSD     1.9542
Iter 024 	 Temp     0.75 	 Delta   463.02 	 OutFr   0.1182 	 RMSD     1.9530
Iter 025 	 Temp     0.70 	 Delta   426.24 	 OutFr   0.1305 	 RMSD     1.9538
Iter 026 	 Temp     0.65 	 Delta   397.37 	 OutFr   0.1502 	 RMSD     1.9556
Iter 027 	 Temp     0.61 	 Delta   373.33 	 OutFr   0.1675 	 RMSD     1.9585
Iter 028 	 Temp     0.56 	 Delta   349.18 	 OutFr   0.1921 	 RMSD     1.9606
Iter 029 	 Temp     0.52 	 Delta   324.55 	 OutFr   0.2241 	 RMSD     1.9618
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.7lailiTY/mybin.nii.gz
+ vtklevelset /tmp/ashs.7lailiTY/mybin.nii.gz /tmp/ashs.7lailiTY/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.7lailiTY/mymesh.vtk /tmp/ashs.7lailiTY/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 3099.99922225   1.01522280
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.7lailiTY/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.9822 to -10.3666
   Y : -21.0835 to 26.1247
   Z : -22.0207 to 9.20307
   Image resolution  : 97 by 165 by 118
   Image box origin  : {-38.9822, -26.0835, -27.0207}
   Image box size    : {33.6805, 57.2916, 41.2995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.9822, 26.0835, -27.0207]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat -o /tmp/ashs.7lailiTY/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat -o /tmp/ashs.7lailiTY/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.7lailiTY/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.663462 0.669231
+ echo 'CHUNK 0.663462 0.669231 0.5'
CHUNK 0.663462 0.669231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.663462 0.669231 0.5
====================================
         PROGRESS: 0.663462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.7lailiTY/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.7lailiTY/fixed_hw.nii.gz /tmp/ashs.7lailiTY/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.510095, moving = 0.433536
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.36267, 2.38443], [0.952629, 0.964555, 0.973439]
Level     0,  Iter     0:    Energy =   0.0484
Level     0,  Iter     1:    Energy =   0.0537
Level     0,  Iter     2:    Energy =   0.0595
Level     0,  Iter     3:    Energy =   0.0635
Level     0,  Iter     4:    Energy =   0.0669
Level     0,  Iter     5:    Energy =   0.0702
Level     0,  Iter     6:    Energy =   0.0728
Level     0,  Iter     7:    Energy =   0.0744
Level     0,  Iter     8:    Energy =   0.0752
Level     0,  Iter     9:    Energy =   0.0758
Level     0,  Iter    10:    Energy =   0.0764
Level     0,  Iter    11:    Energy =   0.0770
Level     0,  Iter    12:    Energy =   0.0774
Level     0,  Iter    13:    Energy =   0.0778
Level     0,  Iter    14:    Energy =   0.0782
Level     0,  Iter    15:    Energy =   0.0784
Level     0,  Iter    16:    Energy =   0.0786
Level     0,  Iter    17:    Energy =   0.0788
Level     0,  Iter    18:    Energy =   0.0791
Level     0,  Iter    19:    Energy =   0.0793
Level     0,  Iter    20:    Energy =   0.0793
Level     0,  Iter    21:    Energy =   0.0795
Level     0,  Iter    22:    Energy =   0.0797
Level     0,  Iter    23:    Energy =   0.0797
Level     0,  Iter    24:    Energy =   0.0798
Level     0,  Iter    25:    Energy =   0.0800
Level     0,  Iter    26:    Energy =   0.0801
Level     0,  Iter    27:    Energy =   0.0802
Level     0,  Iter    28:    Energy =   0.0803
Level     0,  Iter    29:    Energy =   0.0804
Level     0,  Iter    30:    Energy =   0.0806
Level     0,  Iter    31:    Energy =   0.0808
Level     0,  Iter    32:    Energy =   0.0810
Level     0,  Iter    33:    Energy =   0.0812
Level     0,  Iter    34:    Energy =   0.0814
Level     0,  Iter    35:    Energy =   0.0815
Level     0,  Iter    36:    Energy =   0.0816
Level     0,  Iter    37:    Energy =   0.0819
Level     0,  Iter    38:    Energy =   0.0820
Level     0,  Iter    39:    Energy =   0.0821
Level     0,  Iter    40:    Energy =   0.0822
Level     0,  Iter    41:    Energy =   0.0823
Level     0,  Iter    42:    Energy =   0.0825
Level     0,  Iter    43:    Energy =   0.0826
Level     0,  Iter    44:    Energy =   0.0826
Level     0,  Iter    45:    Energy =   0.0828
Level     0,  Iter    46:    Energy =   0.0829
Level     0,  Iter    47:    Energy =   0.0830
Level     0,  Iter    48:    Energy =   0.0831
Level     0,  Iter    49:    Energy =   0.0832
Level     0,  Iter    50:    Energy =   0.0833
Level     0,  Iter    51:    Energy =   0.0834
Level     0,  Iter    52:    Energy =   0.0835
Level     0,  Iter    53:    Energy =   0.0836
Level     0,  Iter    54:    Energy =   0.0836
Level     0,  Iter    55:    Energy =   0.0837
Level     0,  Iter    56:    Energy =   0.0837
Level     0,  Iter    57:    Energy =   0.0838
Level     0,  Iter    58:    Energy =   0.0838
Level     0,  Iter    59:    Energy =   0.0838
END OF LEVEL     0    DetJac Range:   0.3193  to   2.3017 
  Avg. Gradient Time  : 0.0084s  38.16% 
  Avg. Gaussian Time  : 0.0104s  47.10% 
  Avg. Iteration Time : 0.0221s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.19557, 1.21242], [0.486035, 0.488088, 0.494969]
Level     1,  Iter     0:    Energy =   0.0600
Level     1,  Iter     1:    Energy =   0.0639
Level     1,  Iter     2:    Energy =   0.0670
Level     1,  Iter     3:    Energy =   0.0689
Level     1,  Iter     4:    Energy =   0.0705
Level     1,  Iter     5:    Energy =   0.0730
Level     1,  Iter     6:    Energy =   0.0749
Level     1,  Iter     7:    Energy =   0.0763
Level     1,  Iter     8:    Energy =   0.0777
Level     1,  Iter     9:    Energy =   0.0784
Level     1,  Iter    10:    Energy =   0.0785
Level     1,  Iter    11:    Energy =   0.0791
Level     1,  Iter    12:    Energy =   0.0791
Level     1,  Iter    13:    Energy =   0.0796
Level     1,  Iter    14:    Energy =   0.0796
Level     1,  Iter    15:    Energy =   0.0801
Level     1,  Iter    16:    Energy =   0.0801
Level     1,  Iter    17:    Energy =   0.0805
Level     1,  Iter    18:    Energy =   0.0805
Level     1,  Iter    19:    Energy =   0.0810
Level     1,  Iter    20:    Energy =   0.0809
Level     1,  Iter    21:    Energy =   0.0814
Level     1,  Iter    22:    Energy =   0.0812
Level     1,  Iter    23:    Energy =   0.0818
Level     1,  Iter    24:    Energy =   0.0816
Level     1,  Iter    25:    Energy =   0.0822
Level     1,  Iter    26:    Energy =   0.0820
Level     1,  Iter    27:    Energy =   0.0824
Level     1,  Iter    28:    Energy =   0.0822
Level     1,  Iter    29:    Energy =   0.0826
Level     1,  Iter    30:    Energy =   0.0824
Level     1,  Iter    31:    Energy =   0.0828
Level     1,  Iter    32:    Energy =   0.0826
Level     1,  Iter    33:    Energy =   0.0830
Level     1,  Iter    34:    Energy =   0.0827
Level     1,  Iter    35:    Energy =   0.0832
Level     1,  Iter    36:    Energy =   0.0829
Level     1,  Iter    37:    Energy =   0.0834
Level     1,  Iter    38:    Energy =   0.0830
Level     1,  Iter    39:    Energy =   0.0834
Level     1,  Iter    40:    Energy =   0.0834
Level     1,  Iter    41:    Energy =   0.0833
Level     1,  Iter    42:    Energy =   0.0831
Level     1,  Iter    43:    Energy =   0.0834
Level     1,  Iter    44:    Energy =   0.0831
Level     1,  Iter    45:    Energy =   0.0834
Level     1,  Iter    46:    Energy =   0.0833
Level     1,  Iter    47:    Energy =   0.0835
Level     1,  Iter    48:    Energy =   0.0832
Level     1,  Iter    49:    Energy =   0.0835
Level     1,  Iter    50:    Energy =   0.0835
Level     1,  Iter    51:    Energy =   0.0835
Level     1,  Iter    52:    Energy =   0.0833
Level     1,  Iter    53:    Energy =   0.0836
Level     1,  Iter    54:    Energy =   0.0834
Level     1,  Iter    55:    Energy =   0.0837
Level     1,  Iter    56:    Energy =   0.0834
Level     1,  Iter    57:    Energy =   0.0837
Level     1,  Iter    58:    Energy =   0.0836
Level     1,  Iter    59:    Energy =   0.0838
END OF LEVEL     1    DetJac Range:   0.0975  to   2.2139 
  Avg. Gradient Time  : 0.0478s  39.91% 
  Avg. Gaussian Time  : 0.0579s  48.30% 
  Avg. Iteration Time : 0.1198s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0454
Level     2,  Iter     1:    Energy =   0.0475
Level     2,  Iter     2:    Energy =   0.0499
Level     2,  Iter     3:    Energy =   0.0521
Level     2,  Iter     4:    Energy =   0.0537
Level     2,  Iter     5:    Energy =   0.0550
Level     2,  Iter     6:    Energy =   0.0559
Level     2,  Iter     7:    Energy =   0.0567
Level     2,  Iter     8:    Energy =   0.0575
Level     2,  Iter     9:    Energy =   0.0583
Level     2,  Iter    10:    Energy =   0.0588
Level     2,  Iter    11:    Energy =   0.0593
Level     2,  Iter    12:    Energy =   0.0598
Level     2,  Iter    13:    Energy =   0.0602
Level     2,  Iter    14:    Energy =   0.0607
Level     2,  Iter    15:    Energy =   0.0612
Level     2,  Iter    16:    Energy =   0.0618
Level     2,  Iter    17:    Energy =   0.0625
Level     2,  Iter    18:    Energy =   0.0632
Level     2,  Iter    19:    Energy =   0.0639
END OF LEVEL     2    DetJac Range:   0.0363  to   4.8283 
  Avg. Gradient Time  : 0.3356s  37.48% 
  Avg. Gaussian Time  : 0.4645s  51.88% 
  Avg. Iteration Time : 0.8953s 

real	0m29.972s
user	0m53.136s
sys	0m2.932s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.663462 0.669231
+ echo 'CHUNK 0.663462 0.669231 1'
CHUNK 0.663462 0.669231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.663462 0.669231 1
====================================
         PROGRESS: 0.663462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=012
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 012
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 012 left 0
+ local tid=012
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1921.30 	 OutFr   0.0000 	 RMSD     3.2415
Iter 002 	 Temp     3.72 	 Delta  1774.84 	 OutFr   0.0000 	 RMSD     2.2489
Iter 003 	 Temp     3.46 	 Delta  1663.50 	 OutFr   0.0000 	 RMSD     2.2292
Iter 004 	 Temp     3.22 	 Delta  1557.61 	 OutFr   0.0025 	 RMSD     2.2051
Iter 005 	 Temp     2.99 	 Delta  1461.47 	 OutFr   0.0025 	 RMSD     2.1815
Iter 006 	 Temp     2.78 	 Delta  1377.11 	 OutFr   0.0099 	 RMSD     2.1603
Iter 007 	 Temp     2.59 	 Delta  1304.71 	 OutFr   0.0123 	 RMSD     2.1410
Iter 008 	 Temp     2.41 	 Delta  1243.48 	 OutFr   0.0148 	 RMSD     2.1246
Iter 009 	 Temp     2.24 	 Delta  1191.54 	 OutFr   0.0197 	 RMSD     2.1114
Iter 010 	 Temp     2.08 	 Delta  1145.73 	 OutFr   0.0271 	 RMSD     2.1011
Iter 011 	 Temp     1.94 	 Delta  1102.03 	 OutFr   0.0320 	 RMSD     2.0930
Iter 012 	 Temp     1.80 	 Delta  1056.68 	 OutFr   0.0320 	 RMSD     2.0860
Iter 013 	 Temp     1.67 	 Delta  1007.39 	 OutFr   0.0394 	 RMSD     2.0798
Iter 014 	 Temp     1.56 	 Delta   953.85 	 OutFr   0.0443 	 RMSD     2.0738
Iter 015 	 Temp     1.45 	 Delta   897.10 	 OutFr   0.0517 	 RMSD     2.0677
Iter 016 	 Temp     1.35 	 Delta   839.27 	 OutFr   0.0665 	 RMSD     2.0617
Iter 017 	 Temp     1.25 	 Delta   781.80 	 OutFr   0.0764 	 RMSD     2.0562
Iter 018 	 Temp     1.16 	 Delta   722.46 	 OutFr   0.0887 	 RMSD     2.0523
Iter 019 	 Temp     1.08 	 Delta   658.64 	 OutFr   0.0961 	 RMSD     2.0505
Iter 020 	 Temp     1.01 	 Delta   595.90 	 OutFr   0.1133 	 RMSD     2.0507
Iter 021 	 Temp     0.94 	 Delta   542.53 	 OutFr   0.1281 	 RMSD     2.0534
Iter 022 	 Temp     0.87 	 Delta   499.47 	 OutFr   0.1552 	 RMSD     2.0575
Iter 023 	 Temp     0.81 	 Delta   462.76 	 OutFr   0.1650 	 RMSD     2.0624
Iter 024 	 Temp     0.75 	 Delta   428.14 	 OutFr   0.1823 	 RMSD     2.0695
Iter 025 	 Temp     0.70 	 Delta   392.80 	 OutFr   0.1897 	 RMSD     2.0779
Iter 026 	 Temp     0.65 	 Delta   358.69 	 OutFr   0.2167 	 RMSD     2.0866
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.0vXe1U1Z/mybin.nii.gz
+ vtklevelset /tmp/ashs.0vXe1U1Z/mybin.nii.gz /tmp/ashs.0vXe1U1Z/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.0vXe1U1Z/mymesh.vtk /tmp/ashs.0vXe1U1Z/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 2939.31264001   0.96259934
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.0vXe1U1Z/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -30.4492 to -7.238
   Y : -16.8349 to 27.0824
   Z : -28.7685 to 4.37818
   Image resolution  : 96 by 156 by 124
   Image box origin  : {-35.4492, -21.8349, -33.7685}
   Image box size    : {33.3333, 54.1666, 43.3995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [35.4492, 21.8349, -33.7685]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat -o /tmp/ashs.0vXe1U1Z/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat -o /tmp/ashs.0vXe1U1Z/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.0vXe1U1Z/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.669231 0.675
+ echo 'CHUNK 0.669231 0.675 0.5'
CHUNK 0.669231 0.675 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.669231 0.675 0.5
====================================
         PROGRESS: 0.669231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.0vXe1U1Z/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.0vXe1U1Z/fixed_hw.nii.gz /tmp/ashs.0vXe1U1Z/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.511636, moving = 0.787516
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.42484], [0.982092, 0.982092, 0.989938]
Level     0,  Iter     0:    Energy =   0.0560
Level     0,  Iter     1:    Energy =   0.0625
Level     0,  Iter     2:    Energy =   0.0691
Level     0,  Iter     3:    Energy =   0.0746
Level     0,  Iter     4:    Energy =   0.0784
Level     0,  Iter     5:    Energy =   0.0821
Level     0,  Iter     6:    Energy =   0.0851
Level     0,  Iter     7:    Energy =   0.0859
Level     0,  Iter     8:    Energy =   0.0872
Level     0,  Iter     9:    Energy =   0.0874
Level     0,  Iter    10:    Energy =   0.0884
Level     0,  Iter    11:    Energy =   0.0884
Level     0,  Iter    12:    Energy =   0.0892
Level     0,  Iter    13:    Energy =   0.0892
Level     0,  Iter    14:    Energy =   0.0898
Level     0,  Iter    15:    Energy =   0.0899
Level     0,  Iter    16:    Energy =   0.0905
Level     0,  Iter    17:    Energy =   0.0907
Level     0,  Iter    18:    Energy =   0.0913
Level     0,  Iter    19:    Energy =   0.0916
Level     0,  Iter    20:    Energy =   0.0922
Level     0,  Iter    21:    Energy =   0.0923
Level     0,  Iter    22:    Energy =   0.0926
Level     0,  Iter    23:    Energy =   0.0929
Level     0,  Iter    24:    Energy =   0.0933
Level     0,  Iter    25:    Energy =   0.0933
Level     0,  Iter    26:    Energy =   0.0935
Level     0,  Iter    27:    Energy =   0.0935
Level     0,  Iter    28:    Energy =   0.0937
Level     0,  Iter    29:    Energy =   0.0938
Level     0,  Iter    30:    Energy =   0.0940
Level     0,  Iter    31:    Energy =   0.0940
Level     0,  Iter    32:    Energy =   0.0940
Level     0,  Iter    33:    Energy =   0.0940
Level     0,  Iter    34:    Energy =   0.0941
Level     0,  Iter    35:    Energy =   0.0941
Level     0,  Iter    36:    Energy =   0.0942
Level     0,  Iter    37:    Energy =   0.0942
Level     0,  Iter    38:    Energy =   0.0944
Level     0,  Iter    39:    Energy =   0.0944
Level     0,  Iter    40:    Energy =   0.0944
Level     0,  Iter    41:    Energy =   0.0944
Level     0,  Iter    42:    Energy =   0.0944
Level     0,  Iter    43:    Energy =   0.0944
Level     0,  Iter    44:    Energy =   0.0945
Level     0,  Iter    45:    Energy =   0.0945
Level     0,  Iter    46:    Energy =   0.0945
Level     0,  Iter    47:    Energy =   0.0946
Level     0,  Iter    48:    Energy =   0.0946
Level     0,  Iter    49:    Energy =   0.0947
Level     0,  Iter    50:    Energy =   0.0947
Level     0,  Iter    51:    Energy =   0.0948
Level     0,  Iter    52:    Energy =   0.0948
Level     0,  Iter    53:    Energy =   0.0949
Level     0,  Iter    54:    Energy =   0.0949
Level     0,  Iter    55:    Energy =   0.0949
Level     0,  Iter    56:    Energy =   0.0949
Level     0,  Iter    57:    Energy =   0.0949
Level     0,  Iter    58:    Energy =   0.0949
Level     0,  Iter    59:    Energy =   0.0949
END OF LEVEL     0    DetJac Range:   0.2849  to   1.9611 
  Avg. Gradient Time  : 0.0079s  37.83% 
  Avg. Gaussian Time  : 0.0098s  46.94% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0660
Level     1,  Iter     1:    Energy =   0.0707
Level     1,  Iter     2:    Energy =   0.0742
Level     1,  Iter     3:    Energy =   0.0776
Level     1,  Iter     4:    Energy =   0.0795
Level     1,  Iter     5:    Energy =   0.0812
Level     1,  Iter     6:    Energy =   0.0827
Level     1,  Iter     7:    Energy =   0.0838
Level     1,  Iter     8:    Energy =   0.0854
Level     1,  Iter     9:    Energy =   0.0864
Level     1,  Iter    10:    Energy =   0.0867
Level     1,  Iter    11:    Energy =   0.0870
Level     1,  Iter    12:    Energy =   0.0870
Level     1,  Iter    13:    Energy =   0.0877
Level     1,  Iter    14:    Energy =   0.0876
Level     1,  Iter    15:    Energy =   0.0882
Level     1,  Iter    16:    Energy =   0.0880
Level     1,  Iter    17:    Energy =   0.0887
Level     1,  Iter    18:    Energy =   0.0885
Level     1,  Iter    19:    Energy =   0.0889
Level     1,  Iter    20:    Energy =   0.0887
Level     1,  Iter    21:    Energy =   0.0891
Level     1,  Iter    22:    Energy =   0.0889
Level     1,  Iter    23:    Energy =   0.0892
Level     1,  Iter    24:    Energy =   0.0890
Level     1,  Iter    25:    Energy =   0.0894
Level     1,  Iter    26:    Energy =   0.0892
Level     1,  Iter    27:    Energy =   0.0895
Level     1,  Iter    28:    Energy =   0.0893
Level     1,  Iter    29:    Energy =   0.0896
Level     1,  Iter    30:    Energy =   0.0894
Level     1,  Iter    31:    Energy =   0.0898
Level     1,  Iter    32:    Energy =   0.0896
Level     1,  Iter    33:    Energy =   0.0899
Level     1,  Iter    34:    Energy =   0.0897
Level     1,  Iter    35:    Energy =   0.0900
Level     1,  Iter    36:    Energy =   0.0898
Level     1,  Iter    37:    Energy =   0.0901
Level     1,  Iter    38:    Energy =   0.0898
Level     1,  Iter    39:    Energy =   0.0902
Level     1,  Iter    40:    Energy =   0.0899
Level     1,  Iter    41:    Energy =   0.0903
Level     1,  Iter    42:    Energy =   0.0900
Level     1,  Iter    43:    Energy =   0.0904
Level     1,  Iter    44:    Energy =   0.0901
Level     1,  Iter    45:    Energy =   0.0905
Level     1,  Iter    46:    Energy =   0.0902
Level     1,  Iter    47:    Energy =   0.0906
Level     1,  Iter    48:    Energy =   0.0903
Level     1,  Iter    49:    Energy =   0.0907
Level     1,  Iter    50:    Energy =   0.0904
Level     1,  Iter    51:    Energy =   0.0907
Level     1,  Iter    52:    Energy =   0.0904
Level     1,  Iter    53:    Energy =   0.0908
Level     1,  Iter    54:    Energy =   0.0905
Level     1,  Iter    55:    Energy =   0.0909
Level     1,  Iter    56:    Energy =   0.0906
Level     1,  Iter    57:    Energy =   0.0910
Level     1,  Iter    58:    Energy =   0.0907
Level     1,  Iter    59:    Energy =   0.0910
END OF LEVEL     1    DetJac Range:   0.1479  to   2.6429 
  Avg. Gradient Time  : 0.0465s  40.01% 
  Avg. Gaussian Time  : 0.0555s  47.73% 
  Avg. Iteration Time : 0.1162s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0482
Level     2,  Iter     1:    Energy =   0.0506
Level     2,  Iter     2:    Energy =   0.0527
Level     2,  Iter     3:    Energy =   0.0548
Level     2,  Iter     4:    Energy =   0.0564
Level     2,  Iter     5:    Energy =   0.0575
Level     2,  Iter     6:    Energy =   0.0584
Level     2,  Iter     7:    Energy =   0.0592
Level     2,  Iter     8:    Energy =   0.0599
Level     2,  Iter     9:    Energy =   0.0606
Level     2,  Iter    10:    Energy =   0.0613
Level     2,  Iter    11:    Energy =   0.0620
Level     2,  Iter    12:    Energy =   0.0626
Level     2,  Iter    13:    Energy =   0.0632
Level     2,  Iter    14:    Energy =   0.0638
Level     2,  Iter    15:    Energy =   0.0644
Level     2,  Iter    16:    Energy =   0.0649
Level     2,  Iter    17:    Energy =   0.0653
Level     2,  Iter    18:    Energy =   0.0657
Level     2,  Iter    19:    Energy =   0.0661
END OF LEVEL     2    DetJac Range:   0.0905  to   4.5571 
  Avg. Gradient Time  : 0.3268s  37.39% 
  Avg. Gaussian Time  : 0.4540s  51.95% 
  Avg. Iteration Time : 0.8740s 

real	0m29.175s
user	0m51.460s
sys	0m2.876s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.669231 0.675
+ echo 'CHUNK 0.669231 0.675 1'
CHUNK 0.669231 0.675 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.669231 0.675 1
====================================
         PROGRESS: 0.669231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=013
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 013
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 013 left 0
+ local tid=013
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1860.88 	 OutFr   0.0000 	 RMSD     2.6466
Iter 002 	 Temp     3.72 	 Delta  1541.22 	 OutFr   0.0000 	 RMSD     2.0249
Iter 003 	 Temp     3.46 	 Delta  1391.39 	 OutFr   0.0000 	 RMSD     2.0670
Iter 004 	 Temp     3.22 	 Delta  1289.28 	 OutFr   0.0000 	 RMSD     2.0568
Iter 005 	 Temp     2.99 	 Delta  1206.01 	 OutFr   0.0000 	 RMSD     2.0322
Iter 006 	 Temp     2.78 	 Delta  1132.81 	 OutFr   0.0000 	 RMSD     2.0075
Iter 007 	 Temp     2.59 	 Delta  1065.51 	 OutFr   0.0025 	 RMSD     1.9858
Iter 008 	 Temp     2.41 	 Delta  1001.83 	 OutFr   0.0025 	 RMSD     1.9677
Iter 009 	 Temp     2.24 	 Delta   941.93 	 OutFr   0.0025 	 RMSD     1.9536
Iter 010 	 Temp     2.08 	 Delta   886.85 	 OutFr   0.0049 	 RMSD     1.9416
Iter 011 	 Temp     1.94 	 Delta   837.04 	 OutFr   0.0049 	 RMSD     1.9325
Iter 012 	 Temp     1.80 	 Delta   794.70 	 OutFr   0.0099 	 RMSD     1.9262
Iter 013 	 Temp     1.67 	 Delta   762.96 	 OutFr   0.0123 	 RMSD     1.9210
Iter 014 	 Temp     1.56 	 Delta   740.23 	 OutFr   0.0148 	 RMSD     1.9170
Iter 015 	 Temp     1.45 	 Delta   720.67 	 OutFr   0.0222 	 RMSD     1.9127
Iter 016 	 Temp     1.35 	 Delta   700.57 	 OutFr   0.0246 	 RMSD     1.9087
Iter 017 	 Temp     1.25 	 Delta   677.76 	 OutFr   0.0296 	 RMSD     1.9047
Iter 018 	 Temp     1.16 	 Delta   650.79 	 OutFr   0.0369 	 RMSD     1.9015
Iter 019 	 Temp     1.08 	 Delta   620.24 	 OutFr   0.0468 	 RMSD     1.8991
Iter 020 	 Temp     1.01 	 Delta   591.73 	 OutFr   0.0542 	 RMSD     1.8975
Iter 021 	 Temp     0.94 	 Delta   566.87 	 OutFr   0.0640 	 RMSD     1.8977
Iter 022 	 Temp     0.87 	 Delta   539.62 	 OutFr   0.0764 	 RMSD     1.8981
Iter 023 	 Temp     0.81 	 Delta   507.58 	 OutFr   0.0887 	 RMSD     1.8992
Iter 024 	 Temp     0.75 	 Delta   472.58 	 OutFr   0.1133 	 RMSD     1.9017
Iter 025 	 Temp     0.70 	 Delta   435.85 	 OutFr   0.1305 	 RMSD     1.9046
Iter 026 	 Temp     0.65 	 Delta   400.95 	 OutFr   0.1453 	 RMSD     1.9082
Iter 027 	 Temp     0.61 	 Delta   369.70 	 OutFr   0.1601 	 RMSD     1.9123
Iter 028 	 Temp     0.56 	 Delta   339.39 	 OutFr   0.1675 	 RMSD     1.9163
Iter 029 	 Temp     0.52 	 Delta   309.48 	 OutFr   0.1995 	 RMSD     1.9213
Iter 030 	 Temp     0.49 	 Delta   279.00 	 OutFr   0.2340 	 RMSD     1.9294
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.Vkl2M41q/mybin.nii.gz
+ vtklevelset /tmp/ashs.Vkl2M41q/mybin.nii.gz /tmp/ashs.Vkl2M41q/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.Vkl2M41q/mymesh.vtk /tmp/ashs.Vkl2M41q/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 2737.46044870   0.89649450
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.Vkl2M41q/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -31.0477 to -10.0658
   Y : -16.8713 to 28.6162
   Z : -27.8685 to 1.51019
   Image resolution  : 90 by 160 by 113
   Image box origin  : {-36.0477, -21.8713, -32.8685}
   Image box size    : {31.25, 55.5555, 39.5495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [36.0477, 21.8713, -32.8685]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat -o /tmp/ashs.Vkl2M41q/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat -o /tmp/ashs.Vkl2M41q/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.Vkl2M41q/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.675 0.680769
+ echo 'CHUNK 0.675 0.680769 0.5'
CHUNK 0.675 0.680769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.675 0.680769 0.5
====================================
         PROGRESS: 0.675               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.Vkl2M41q/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.Vkl2M41q/fixed_hw.nii.gz /tmp/ashs.Vkl2M41q/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.512756, moving = 0.649309
LEVEL 1 of 3
  Smoothing sigmas: [2.35333, 2.40562, 2.36213], [0.960742, 0.982092, 0.964336]
Level     0,  Iter     0:    Energy =   0.0420
Level     0,  Iter     1:    Energy =   0.0489
Level     0,  Iter     2:    Energy =   0.0538
Level     0,  Iter     3:    Energy =   0.0582
Level     0,  Iter     4:    Energy =   0.0628
Level     0,  Iter     5:    Energy =   0.0668
Level     0,  Iter     6:    Energy =   0.0711
Level     0,  Iter     7:    Energy =   0.0742
Level     0,  Iter     8:    Energy =   0.0762
Level     0,  Iter     9:    Energy =   0.0786
Level     0,  Iter    10:    Energy =   0.0799
Level     0,  Iter    11:    Energy =   0.0804
Level     0,  Iter    12:    Energy =   0.0806
Level     0,  Iter    13:    Energy =   0.0811
Level     0,  Iter    14:    Energy =   0.0811
Level     0,  Iter    15:    Energy =   0.0815
Level     0,  Iter    16:    Energy =   0.0816
Level     0,  Iter    17:    Energy =   0.0818
Level     0,  Iter    18:    Energy =   0.0819
Level     0,  Iter    19:    Energy =   0.0821
Level     0,  Iter    20:    Energy =   0.0822
Level     0,  Iter    21:    Energy =   0.0823
Level     0,  Iter    22:    Energy =   0.0824
Level     0,  Iter    23:    Energy =   0.0825
Level     0,  Iter    24:    Energy =   0.0826
Level     0,  Iter    25:    Energy =   0.0826
Level     0,  Iter    26:    Energy =   0.0827
Level     0,  Iter    27:    Energy =   0.0827
Level     0,  Iter    28:    Energy =   0.0828
Level     0,  Iter    29:    Energy =   0.0829
Level     0,  Iter    30:    Energy =   0.0828
Level     0,  Iter    31:    Energy =   0.0829
Level     0,  Iter    32:    Energy =   0.0829
Level     0,  Iter    33:    Energy =   0.0830
Level     0,  Iter    34:    Energy =   0.0830
Level     0,  Iter    35:    Energy =   0.0831
Level     0,  Iter    36:    Energy =   0.0831
Level     0,  Iter    37:    Energy =   0.0832
Level     0,  Iter    38:    Energy =   0.0832
Level     0,  Iter    39:    Energy =   0.0833
Level     0,  Iter    40:    Energy =   0.0833
Level     0,  Iter    41:    Energy =   0.0834
Level     0,  Iter    42:    Energy =   0.0835
Level     0,  Iter    43:    Energy =   0.0835
Level     0,  Iter    44:    Energy =   0.0834
Level     0,  Iter    45:    Energy =   0.0835
Level     0,  Iter    46:    Energy =   0.0836
Level     0,  Iter    47:    Energy =   0.0837
Level     0,  Iter    48:    Energy =   0.0837
Level     0,  Iter    49:    Energy =   0.0837
Level     0,  Iter    50:    Energy =   0.0838
Level     0,  Iter    51:    Energy =   0.0838
Level     0,  Iter    52:    Energy =   0.0838
Level     0,  Iter    53:    Energy =   0.0838
Level     0,  Iter    54:    Energy =   0.0839
Level     0,  Iter    55:    Energy =   0.0839
Level     0,  Iter    56:    Energy =   0.0839
Level     0,  Iter    57:    Energy =   0.0839
Level     0,  Iter    58:    Energy =   0.0839
Level     0,  Iter    59:    Energy =   0.0839
END OF LEVEL     0    DetJac Range:   0.3120  to   2.0931 
  Avg. Gradient Time  : 0.0074s  37.59% 
  Avg. Gaussian Time  : 0.0092s  47.24% 
  Avg. Iteration Time : 0.0196s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20179], [0.491046, 0.491046, 0.490627]
Level     1,  Iter     0:    Energy =   0.0574
Level     1,  Iter     1:    Energy =   0.0621
Level     1,  Iter     2:    Energy =   0.0656
Level     1,  Iter     3:    Energy =   0.0692
Level     1,  Iter     4:    Energy =   0.0715
Level     1,  Iter     5:    Energy =   0.0732
Level     1,  Iter     6:    Energy =   0.0746
Level     1,  Iter     7:    Energy =   0.0759
Level     1,  Iter     8:    Energy =   0.0770
Level     1,  Iter     9:    Energy =   0.0781
Level     1,  Iter    10:    Energy =   0.0782
Level     1,  Iter    11:    Energy =   0.0783
Level     1,  Iter    12:    Energy =   0.0784
Level     1,  Iter    13:    Energy =   0.0786
Level     1,  Iter    14:    Energy =   0.0787
Level     1,  Iter    15:    Energy =   0.0789
Level     1,  Iter    16:    Energy =   0.0790
Level     1,  Iter    17:    Energy =   0.0793
Level     1,  Iter    18:    Energy =   0.0793
Level     1,  Iter    19:    Energy =   0.0795
Level     1,  Iter    20:    Energy =   0.0795
Level     1,  Iter    21:    Energy =   0.0798
Level     1,  Iter    22:    Energy =   0.0797
Level     1,  Iter    23:    Energy =   0.0799
Level     1,  Iter    24:    Energy =   0.0799
Level     1,  Iter    25:    Energy =   0.0801
Level     1,  Iter    26:    Energy =   0.0800
Level     1,  Iter    27:    Energy =   0.0802
Level     1,  Iter    28:    Energy =   0.0802
Level     1,  Iter    29:    Energy =   0.0804
Level     1,  Iter    30:    Energy =   0.0803
Level     1,  Iter    31:    Energy =   0.0805
Level     1,  Iter    32:    Energy =   0.0803
Level     1,  Iter    33:    Energy =   0.0805
Level     1,  Iter    34:    Energy =   0.0804
Level     1,  Iter    35:    Energy =   0.0806
Level     1,  Iter    36:    Energy =   0.0805
Level     1,  Iter    37:    Energy =   0.0806
Level     1,  Iter    38:    Energy =   0.0805
Level     1,  Iter    39:    Energy =   0.0807
Level     1,  Iter    40:    Energy =   0.0806
Level     1,  Iter    41:    Energy =   0.0808
Level     1,  Iter    42:    Energy =   0.0806
Level     1,  Iter    43:    Energy =   0.0808
Level     1,  Iter    44:    Energy =   0.0807
Level     1,  Iter    45:    Energy =   0.0809
Level     1,  Iter    46:    Energy =   0.0807
Level     1,  Iter    47:    Energy =   0.0809
Level     1,  Iter    48:    Energy =   0.0808
Level     1,  Iter    49:    Energy =   0.0810
Level     1,  Iter    50:    Energy =   0.0808
Level     1,  Iter    51:    Energy =   0.0810
Level     1,  Iter    52:    Energy =   0.0808
Level     1,  Iter    53:    Energy =   0.0810
Level     1,  Iter    54:    Energy =   0.0808
Level     1,  Iter    55:    Energy =   0.0810
Level     1,  Iter    56:    Energy =   0.0808
Level     1,  Iter    57:    Energy =   0.0810
Level     1,  Iter    58:    Energy =   0.0808
Level     1,  Iter    59:    Energy =   0.0810
END OF LEVEL     1    DetJac Range:   0.2510  to   2.8791 
  Avg. Gradient Time  : 0.0416s  40.51% 
  Avg. Gaussian Time  : 0.0488s  47.48% 
  Avg. Iteration Time : 0.1028s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0421
Level     2,  Iter     1:    Energy =   0.0449
Level     2,  Iter     2:    Energy =   0.0472
Level     2,  Iter     3:    Energy =   0.0493
Level     2,  Iter     4:    Energy =   0.0510
Level     2,  Iter     5:    Energy =   0.0525
Level     2,  Iter     6:    Energy =   0.0535
Level     2,  Iter     7:    Energy =   0.0545
Level     2,  Iter     8:    Energy =   0.0555
Level     2,  Iter     9:    Energy =   0.0564
Level     2,  Iter    10:    Energy =   0.0573
Level     2,  Iter    11:    Energy =   0.0581
Level     2,  Iter    12:    Energy =   0.0589
Level     2,  Iter    13:    Energy =   0.0598
Level     2,  Iter    14:    Energy =   0.0607
Level     2,  Iter    15:    Energy =   0.0615
Level     2,  Iter    16:    Energy =   0.0620
Level     2,  Iter    17:    Energy =   0.0622
Level     2,  Iter    18:    Energy =   0.0623
Level     2,  Iter    19:    Energy =   0.0624
END OF LEVEL     2    DetJac Range:   0.0839  to   5.5541 
  Avg. Gradient Time  : 0.2905s  37.70% 
  Avg. Gaussian Time  : 0.3978s  51.62% 
  Avg. Iteration Time : 0.7707s 

real	0m25.798s
user	0m45.260s
sys	0m2.720s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.675 0.680769
+ echo 'CHUNK 0.675 0.680769 1'
CHUNK 0.675 0.680769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.675 0.680769 1
====================================
         PROGRESS: 0.675               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=014
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 014
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 014 left 0
+ local tid=014
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1606.15 	 OutFr   0.0000 	 RMSD     2.5145
Iter 002 	 Temp     3.72 	 Delta  1494.37 	 OutFr   0.0000 	 RMSD     2.0651
Iter 003 	 Temp     3.46 	 Delta  1433.08 	 OutFr   0.0000 	 RMSD     2.0731
Iter 004 	 Temp     3.22 	 Delta  1374.96 	 OutFr   0.0000 	 RMSD     2.0541
Iter 005 	 Temp     2.99 	 Delta  1321.68 	 OutFr   0.0000 	 RMSD     2.0336
Iter 006 	 Temp     2.78 	 Delta  1273.86 	 OutFr   0.0000 	 RMSD     2.0167
Iter 007 	 Temp     2.59 	 Delta  1231.26 	 OutFr   0.0025 	 RMSD     2.0030
Iter 008 	 Temp     2.41 	 Delta  1193.06 	 OutFr   0.0025 	 RMSD     1.9917
Iter 009 	 Temp     2.24 	 Delta  1157.76 	 OutFr   0.0025 	 RMSD     1.9829
Iter 010 	 Temp     2.08 	 Delta  1123.26 	 OutFr   0.0025 	 RMSD     1.9758
Iter 011 	 Temp     1.94 	 Delta  1087.13 	 OutFr   0.0025 	 RMSD     1.9707
Iter 012 	 Temp     1.80 	 Delta  1047.45 	 OutFr   0.0074 	 RMSD     1.9666
Iter 013 	 Temp     1.67 	 Delta  1003.96 	 OutFr   0.0172 	 RMSD     1.9635
Iter 014 	 Temp     1.56 	 Delta   957.81 	 OutFr   0.0222 	 RMSD     1.9607
Iter 015 	 Temp     1.45 	 Delta   910.32 	 OutFr   0.0271 	 RMSD     1.9585
Iter 016 	 Temp     1.35 	 Delta   862.25 	 OutFr   0.0345 	 RMSD     1.9558
Iter 017 	 Temp     1.25 	 Delta   813.37 	 OutFr   0.0443 	 RMSD     1.9534
Iter 018 	 Temp     1.16 	 Delta   762.72 	 OutFr   0.0517 	 RMSD     1.9514
Iter 019 	 Temp     1.08 	 Delta   710.34 	 OutFr   0.0567 	 RMSD     1.9495
Iter 020 	 Temp     1.01 	 Delta   661.19 	 OutFr   0.0739 	 RMSD     1.9469
Iter 021 	 Temp     0.94 	 Delta   619.94 	 OutFr   0.0837 	 RMSD     1.9452
Iter 022 	 Temp     0.87 	 Delta   582.45 	 OutFr   0.0985 	 RMSD     1.9437
Iter 023 	 Temp     0.81 	 Delta   543.25 	 OutFr   0.1133 	 RMSD     1.9421
Iter 024 	 Temp     0.75 	 Delta   497.76 	 OutFr   0.1305 	 RMSD     1.9418
Iter 025 	 Temp     0.70 	 Delta   446.62 	 OutFr   0.1626 	 RMSD     1.9418
Iter 026 	 Temp     0.65 	 Delta   396.93 	 OutFr   0.1946 	 RMSD     1.9428
Iter 027 	 Temp     0.61 	 Delta   352.06 	 OutFr   0.2266 	 RMSD     1.9426
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.K9cnf2SD/mybin.nii.gz
+ vtklevelset /tmp/ashs.K9cnf2SD/mybin.nii.gz /tmp/ashs.K9cnf2SD/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.K9cnf2SD/mymesh.vtk /tmp/ashs.K9cnf2SD/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 3001.74168382   0.98304431
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.K9cnf2SD/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.9017 to -9.54942
   Y : -18.7312 to 26.2264
   Z : -27.6031 to 4.33014
   Image resolution  : 97 by 159 by 120
   Image box origin  : {-37.9017, -23.7312, -32.6031}
   Image box size    : {33.6805, 55.2083, 41.9995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.9017, 23.7312, -32.6031]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat -o /tmp/ashs.K9cnf2SD/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat -o /tmp/ashs.K9cnf2SD/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.K9cnf2SD/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.680769 0.686538
+ echo 'CHUNK 0.680769 0.686538 0.5'
CHUNK 0.680769 0.686538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.680769 0.686538 0.5
====================================
         PROGRESS: 0.680769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.K9cnf2SD/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.K9cnf2SD/fixed_hw.nii.gz /tmp/ashs.K9cnf2SD/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509745, moving = 0.511903
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.39059, 2.42484], [0.952629, 0.975954, 0.989938]
Level     0,  Iter     0:    Energy =   0.0313
Level     0,  Iter     1:    Energy =   0.0355
Level     0,  Iter     2:    Energy =   0.0397
Level     0,  Iter     3:    Energy =   0.0443
Level     0,  Iter     4:    Energy =   0.0483
Level     0,  Iter     5:    Energy =   0.0516
Level     0,  Iter     6:    Energy =   0.0547
Level     0,  Iter     7:    Energy =   0.0575
Level     0,  Iter     8:    Energy =   0.0597
Level     0,  Iter     9:    Energy =   0.0615
Level     0,  Iter    10:    Energy =   0.0634
Level     0,  Iter    11:    Energy =   0.0651
Level     0,  Iter    12:    Energy =   0.0665
Level     0,  Iter    13:    Energy =   0.0669
Level     0,  Iter    14:    Energy =   0.0674
Level     0,  Iter    15:    Energy =   0.0675
Level     0,  Iter    16:    Energy =   0.0685
Level     0,  Iter    17:    Energy =   0.0686
Level     0,  Iter    18:    Energy =   0.0691
Level     0,  Iter    19:    Energy =   0.0691
Level     0,  Iter    20:    Energy =   0.0698
Level     0,  Iter    21:    Energy =   0.0697
Level     0,  Iter    22:    Energy =   0.0701
Level     0,  Iter    23:    Energy =   0.0699
Level     0,  Iter    24:    Energy =   0.0703
Level     0,  Iter    25:    Energy =   0.0701
Level     0,  Iter    26:    Energy =   0.0705
Level     0,  Iter    27:    Energy =   0.0703
Level     0,  Iter    28:    Energy =   0.0708
Level     0,  Iter    29:    Energy =   0.0705
Level     0,  Iter    30:    Energy =   0.0710
Level     0,  Iter    31:    Energy =   0.0707
Level     0,  Iter    32:    Energy =   0.0711
Level     0,  Iter    33:    Energy =   0.0709
Level     0,  Iter    34:    Energy =   0.0712
Level     0,  Iter    35:    Energy =   0.0709
Level     0,  Iter    36:    Energy =   0.0714
Level     0,  Iter    37:    Energy =   0.0711
Level     0,  Iter    38:    Energy =   0.0715
Level     0,  Iter    39:    Energy =   0.0712
Level     0,  Iter    40:    Energy =   0.0717
Level     0,  Iter    41:    Energy =   0.0714
Level     0,  Iter    42:    Energy =   0.0718
Level     0,  Iter    43:    Energy =   0.0715
Level     0,  Iter    44:    Energy =   0.0720
Level     0,  Iter    45:    Energy =   0.0717
Level     0,  Iter    46:    Energy =   0.0721
Level     0,  Iter    47:    Energy =   0.0717
Level     0,  Iter    48:    Energy =   0.0721
Level     0,  Iter    49:    Energy =   0.0718
Level     0,  Iter    50:    Energy =   0.0722
Level     0,  Iter    51:    Energy =   0.0719
Level     0,  Iter    52:    Energy =   0.0722
Level     0,  Iter    53:    Energy =   0.0719
Level     0,  Iter    54:    Energy =   0.0722
Level     0,  Iter    55:    Energy =   0.0719
Level     0,  Iter    56:    Energy =   0.0722
Level     0,  Iter    57:    Energy =   0.0720
Level     0,  Iter    58:    Energy =   0.0722
Level     0,  Iter    59:    Energy =   0.0720
END OF LEVEL     0    DetJac Range:   0.1434  to   2.5884 
  Avg. Gradient Time  : 0.0080s  37.83% 
  Avg. Gaussian Time  : 0.0099s  47.20% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.19529, 1.21242], [0.486035, 0.487977, 0.494969]
Level     1,  Iter     0:    Energy =   0.0489
Level     1,  Iter     1:    Energy =   0.0532
Level     1,  Iter     2:    Energy =   0.0571
Level     1,  Iter     3:    Energy =   0.0600
Level     1,  Iter     4:    Energy =   0.0622
Level     1,  Iter     5:    Energy =   0.0634
Level     1,  Iter     6:    Energy =   0.0646
Level     1,  Iter     7:    Energy =   0.0658
Level     1,  Iter     8:    Energy =   0.0675
Level     1,  Iter     9:    Energy =   0.0692
Level     1,  Iter    10:    Energy =   0.0704
Level     1,  Iter    11:    Energy =   0.0715
Level     1,  Iter    12:    Energy =   0.0725
Level     1,  Iter    13:    Energy =   0.0733
Level     1,  Iter    14:    Energy =   0.0737
Level     1,  Iter    15:    Energy =   0.0738
Level     1,  Iter    16:    Energy =   0.0737
Level     1,  Iter    17:    Energy =   0.0742
Level     1,  Iter    18:    Energy =   0.0741
Level     1,  Iter    19:    Energy =   0.0745
Level     1,  Iter    20:    Energy =   0.0742
Level     1,  Iter    21:    Energy =   0.0748
Level     1,  Iter    22:    Energy =   0.0746
Level     1,  Iter    23:    Energy =   0.0751
Level     1,  Iter    24:    Energy =   0.0748
Level     1,  Iter    25:    Energy =   0.0753
Level     1,  Iter    26:    Energy =   0.0751
Level     1,  Iter    27:    Energy =   0.0756
Level     1,  Iter    28:    Energy =   0.0752
Level     1,  Iter    29:    Energy =   0.0758
Level     1,  Iter    30:    Energy =   0.0755
Level     1,  Iter    31:    Energy =   0.0760
Level     1,  Iter    32:    Energy =   0.0756
Level     1,  Iter    33:    Energy =   0.0761
Level     1,  Iter    34:    Energy =   0.0758
Level     1,  Iter    35:    Energy =   0.0762
Level     1,  Iter    36:    Energy =   0.0758
Level     1,  Iter    37:    Energy =   0.0763
Level     1,  Iter    38:    Energy =   0.0761
Level     1,  Iter    39:    Energy =   0.0763
Level     1,  Iter    40:    Energy =   0.0759
Level     1,  Iter    41:    Energy =   0.0764
Level     1,  Iter    42:    Energy =   0.0762
Level     1,  Iter    43:    Energy =   0.0764
Level     1,  Iter    44:    Energy =   0.0760
Level     1,  Iter    45:    Energy =   0.0764
Level     1,  Iter    46:    Energy =   0.0763
Level     1,  Iter    47:    Energy =   0.0764
Level     1,  Iter    48:    Energy =   0.0759
Level     1,  Iter    49:    Energy =   0.0764
Level     1,  Iter    50:    Energy =   0.0763
Level     1,  Iter    51:    Energy =   0.0764
Level     1,  Iter    52:    Energy =   0.0760
Level     1,  Iter    53:    Energy =   0.0763
Level     1,  Iter    54:    Energy =   0.0763
Level     1,  Iter    55:    Energy =   0.0764
Level     1,  Iter    56:    Energy =   0.0760
Level     1,  Iter    57:    Energy =   0.0764
Level     1,  Iter    58:    Energy =   0.0763
Level     1,  Iter    59:    Energy =   0.0765
END OF LEVEL     1    DetJac Range:   0.0668  to   5.5797 
  Avg. Gradient Time  : 0.0470s  40.21% 
  Avg. Gaussian Time  : 0.0557s  47.64% 
  Avg. Iteration Time : 0.1169s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0395
Level     2,  Iter     1:    Energy =   0.0419
Level     2,  Iter     2:    Energy =   0.0440
Level     2,  Iter     3:    Energy =   0.0463
Level     2,  Iter     4:    Energy =   0.0482
Level     2,  Iter     5:    Energy =   0.0499
Level     2,  Iter     6:    Energy =   0.0514
Level     2,  Iter     7:    Energy =   0.0527
Level     2,  Iter     8:    Energy =   0.0537
Level     2,  Iter     9:    Energy =   0.0546
Level     2,  Iter    10:    Energy =   0.0555
Level     2,  Iter    11:    Energy =   0.0562
Level     2,  Iter    12:    Energy =   0.0567
Level     2,  Iter    13:    Energy =   0.0572
Level     2,  Iter    14:    Energy =   0.0577
Level     2,  Iter    15:    Energy =   0.0580
Level     2,  Iter    16:    Energy =   0.0584
Level     2,  Iter    17:    Energy =   0.0587
Level     2,  Iter    18:    Energy =   0.0589
Level     2,  Iter    19:    Energy =   0.0592
END OF LEVEL     2    DetJac Range:   0.0473  to   6.4840 
  Avg. Gradient Time  : 0.3282s  36.79% 
  Avg. Gaussian Time  : 0.4709s  52.77% 
  Avg. Iteration Time : 0.8923s 

real	0m29.766s
user	0m52.756s
sys	0m2.988s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.680769 0.686538
+ echo 'CHUNK 0.680769 0.686538 1'
CHUNK 0.680769 0.686538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.680769 0.686538 1
====================================
         PROGRESS: 0.680769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=015
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 015
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 015 left 0
+ local tid=015
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2827.11 	 OutFr   0.0000 	 RMSD     2.3969
Iter 002 	 Temp     3.72 	 Delta  2869.07 	 OutFr   0.0000 	 RMSD     2.3655
Iter 003 	 Temp     3.46 	 Delta  2828.79 	 OutFr   0.0000 	 RMSD     2.4101
Iter 004 	 Temp     3.22 	 Delta  2710.14 	 OutFr   0.0000 	 RMSD     2.4024
Iter 005 	 Temp     2.99 	 Delta  2550.35 	 OutFr   0.0000 	 RMSD     2.3728
Iter 006 	 Temp     2.78 	 Delta  2372.81 	 OutFr   0.0025 	 RMSD     2.3348
Iter 007 	 Temp     2.59 	 Delta  2191.62 	 OutFr   0.0025 	 RMSD     2.2963
Iter 008 	 Temp     2.41 	 Delta  2016.03 	 OutFr   0.0025 	 RMSD     2.2604
Iter 009 	 Temp     2.24 	 Delta  1851.95 	 OutFr   0.0025 	 RMSD     2.2270
Iter 010 	 Temp     2.08 	 Delta  1702.01 	 OutFr   0.0025 	 RMSD     2.1973
Iter 011 	 Temp     1.94 	 Delta  1566.60 	 OutFr   0.0025 	 RMSD     2.1724
Iter 012 	 Temp     1.80 	 Delta  1444.17 	 OutFr   0.0025 	 RMSD     2.1516
Iter 013 	 Temp     1.67 	 Delta  1331.24 	 OutFr   0.0074 	 RMSD     2.1362
Iter 014 	 Temp     1.56 	 Delta  1226.85 	 OutFr   0.0123 	 RMSD     2.1250
Iter 015 	 Temp     1.45 	 Delta  1132.65 	 OutFr   0.0123 	 RMSD     2.1176
Iter 016 	 Temp     1.35 	 Delta  1047.23 	 OutFr   0.0197 	 RMSD     2.1142
Iter 017 	 Temp     1.25 	 Delta   967.13 	 OutFr   0.0296 	 RMSD     2.1135
Iter 018 	 Temp     1.16 	 Delta   889.25 	 OutFr   0.0369 	 RMSD     2.1142
Iter 019 	 Temp     1.08 	 Delta   811.44 	 OutFr   0.0443 	 RMSD     2.1163
Iter 020 	 Temp     1.01 	 Delta   733.40 	 OutFr   0.0517 	 RMSD     2.1202
Iter 021 	 Temp     0.94 	 Delta   657.34 	 OutFr   0.0690 	 RMSD     2.1248
Iter 022 	 Temp     0.87 	 Delta   590.39 	 OutFr   0.0837 	 RMSD     2.1297
Iter 023 	 Temp     0.81 	 Delta   536.19 	 OutFr   0.1108 	 RMSD     2.1352
Iter 024 	 Temp     0.75 	 Delta   491.22 	 OutFr   0.1182 	 RMSD     2.1400
Iter 025 	 Temp     0.70 	 Delta   450.96 	 OutFr   0.1404 	 RMSD     2.1441
Iter 026 	 Temp     0.65 	 Delta   411.98 	 OutFr   0.1576 	 RMSD     2.1469
Iter 027 	 Temp     0.61 	 Delta   375.66 	 OutFr   0.1897 	 RMSD     2.1498
Iter 028 	 Temp     0.56 	 Delta   341.66 	 OutFr   0.2044 	 RMSD     2.1538
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.u7ZqbKCx/mybin.nii.gz
+ vtklevelset /tmp/ashs.u7ZqbKCx/mybin.nii.gz /tmp/ashs.u7ZqbKCx/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.u7ZqbKCx/mymesh.vtk /tmp/ashs.u7ZqbKCx/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 3225.73978686   1.05640174
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.u7ZqbKCx/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.7029 to -9.19436
   Y : -22.0323 to 24.1321
   Z : -23.5442 to 8.24945
   Image resolution  : 100 by 162 by 120
   Image box origin  : {-38.7029, -27.0323, -28.5442}
   Image box size    : {34.7222, 56.25, 41.9995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.7029, 27.0323, -28.5442]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat -o /tmp/ashs.u7ZqbKCx/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat -o /tmp/ashs.u7ZqbKCx/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.u7ZqbKCx/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.686538 0.692308
+ echo 'CHUNK 0.686538 0.692308 0.5'
CHUNK 0.686538 0.692308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.686538 0.692308 0.5
====================================
         PROGRESS: 0.686538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.u7ZqbKCx/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.u7ZqbKCx/fixed_hw.nii.gz /tmp/ashs.u7ZqbKCx/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.512578, moving = 0.727484
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.37629, 2.42484], [0.982092, 0.970115, 0.989938]
Level     0,  Iter     0:    Energy =   0.0486
Level     0,  Iter     1:    Energy =   0.0537
Level     0,  Iter     2:    Energy =   0.0584
Level     0,  Iter     3:    Energy =   0.0621
Level     0,  Iter     4:    Energy =   0.0660
Level     0,  Iter     5:    Energy =   0.0692
Level     0,  Iter     6:    Energy =   0.0714
Level     0,  Iter     7:    Energy =   0.0731
Level     0,  Iter     8:    Energy =   0.0751
Level     0,  Iter     9:    Energy =   0.0769
Level     0,  Iter    10:    Energy =   0.0784
Level     0,  Iter    11:    Energy =   0.0791
Level     0,  Iter    12:    Energy =   0.0800
Level     0,  Iter    13:    Energy =   0.0805
Level     0,  Iter    14:    Energy =   0.0812
Level     0,  Iter    15:    Energy =   0.0816
Level     0,  Iter    16:    Energy =   0.0820
Level     0,  Iter    17:    Energy =   0.0823
Level     0,  Iter    18:    Energy =   0.0830
Level     0,  Iter    19:    Energy =   0.0833
Level     0,  Iter    20:    Energy =   0.0834
Level     0,  Iter    21:    Energy =   0.0836
Level     0,  Iter    22:    Energy =   0.0842
Level     0,  Iter    23:    Energy =   0.0845
Level     0,  Iter    24:    Energy =   0.0845
Level     0,  Iter    25:    Energy =   0.0846
Level     0,  Iter    26:    Energy =   0.0852
Level     0,  Iter    27:    Energy =   0.0855
Level     0,  Iter    28:    Energy =   0.0856
Level     0,  Iter    29:    Energy =   0.0857
Level     0,  Iter    30:    Energy =   0.0864
Level     0,  Iter    31:    Energy =   0.0866
Level     0,  Iter    32:    Energy =   0.0866
Level     0,  Iter    33:    Energy =   0.0867
Level     0,  Iter    34:    Energy =   0.0873
Level     0,  Iter    35:    Energy =   0.0876
Level     0,  Iter    36:    Energy =   0.0873
Level     0,  Iter    37:    Energy =   0.0874
Level     0,  Iter    38:    Energy =   0.0878
Level     0,  Iter    39:    Energy =   0.0879
Level     0,  Iter    40:    Energy =   0.0877
Level     0,  Iter    41:    Energy =   0.0877
Level     0,  Iter    42:    Energy =   0.0882
Level     0,  Iter    43:    Energy =   0.0883
Level     0,  Iter    44:    Energy =   0.0881
Level     0,  Iter    45:    Energy =   0.0881
Level     0,  Iter    46:    Energy =   0.0886
Level     0,  Iter    47:    Energy =   0.0887
Level     0,  Iter    48:    Energy =   0.0884
Level     0,  Iter    49:    Energy =   0.0885
Level     0,  Iter    50:    Energy =   0.0890
Level     0,  Iter    51:    Energy =   0.0890
Level     0,  Iter    52:    Energy =   0.0888
Level     0,  Iter    53:    Energy =   0.0888
Level     0,  Iter    54:    Energy =   0.0893
Level     0,  Iter    55:    Energy =   0.0893
Level     0,  Iter    56:    Energy =   0.0890
Level     0,  Iter    57:    Energy =   0.0891
Level     0,  Iter    58:    Energy =   0.0896
Level     0,  Iter    59:    Energy =   0.0896
END OF LEVEL     0    DetJac Range:   0.2302  to   2.1951 
  Avg. Gradient Time  : 0.0083s  37.82% 
  Avg. Gaussian Time  : 0.0104s  47.43% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0652
Level     1,  Iter     1:    Energy =   0.0691
Level     1,  Iter     2:    Energy =   0.0722
Level     1,  Iter     3:    Energy =   0.0751
Level     1,  Iter     4:    Energy =   0.0774
Level     1,  Iter     5:    Energy =   0.0796
Level     1,  Iter     6:    Energy =   0.0814
Level     1,  Iter     7:    Energy =   0.0828
Level     1,  Iter     8:    Energy =   0.0838
Level     1,  Iter     9:    Energy =   0.0848
Level     1,  Iter    10:    Energy =   0.0856
Level     1,  Iter    11:    Energy =   0.0862
Level     1,  Iter    12:    Energy =   0.0867
Level     1,  Iter    13:    Energy =   0.0873
Level     1,  Iter    14:    Energy =   0.0878
Level     1,  Iter    15:    Energy =   0.0883
Level     1,  Iter    16:    Energy =   0.0886
Level     1,  Iter    17:    Energy =   0.0888
Level     1,  Iter    18:    Energy =   0.0890
Level     1,  Iter    19:    Energy =   0.0891
Level     1,  Iter    20:    Energy =   0.0893
Level     1,  Iter    21:    Energy =   0.0895
Level     1,  Iter    22:    Energy =   0.0896
Level     1,  Iter    23:    Energy =   0.0898
Level     1,  Iter    24:    Energy =   0.0899
Level     1,  Iter    25:    Energy =   0.0900
Level     1,  Iter    26:    Energy =   0.0901
Level     1,  Iter    27:    Energy =   0.0902
Level     1,  Iter    28:    Energy =   0.0902
Level     1,  Iter    29:    Energy =   0.0903
Level     1,  Iter    30:    Energy =   0.0904
Level     1,  Iter    31:    Energy =   0.0904
Level     1,  Iter    32:    Energy =   0.0905
Level     1,  Iter    33:    Energy =   0.0905
Level     1,  Iter    34:    Energy =   0.0905
Level     1,  Iter    35:    Energy =   0.0906
Level     1,  Iter    36:    Energy =   0.0906
Level     1,  Iter    37:    Energy =   0.0907
Level     1,  Iter    38:    Energy =   0.0907
Level     1,  Iter    39:    Energy =   0.0908
Level     1,  Iter    40:    Energy =   0.0908
Level     1,  Iter    41:    Energy =   0.0909
Level     1,  Iter    42:    Energy =   0.0908
Level     1,  Iter    43:    Energy =   0.0910
Level     1,  Iter    44:    Energy =   0.0909
Level     1,  Iter    45:    Energy =   0.0910
Level     1,  Iter    46:    Energy =   0.0909
Level     1,  Iter    47:    Energy =   0.0911
Level     1,  Iter    48:    Energy =   0.0909
Level     1,  Iter    49:    Energy =   0.0911
Level     1,  Iter    50:    Energy =   0.0910
Level     1,  Iter    51:    Energy =   0.0911
Level     1,  Iter    52:    Energy =   0.0910
Level     1,  Iter    53:    Energy =   0.0911
Level     1,  Iter    54:    Energy =   0.0910
Level     1,  Iter    55:    Energy =   0.0912
Level     1,  Iter    56:    Energy =   0.0910
Level     1,  Iter    57:    Energy =   0.0912
Level     1,  Iter    58:    Energy =   0.0910
Level     1,  Iter    59:    Energy =   0.0912
END OF LEVEL     1    DetJac Range:   0.0570  to   2.8133 
  Avg. Gradient Time  : 0.0482s  39.82% 
  Avg. Gaussian Time  : 0.0583s  48.16% 
  Avg. Iteration Time : 0.1210s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0500
Level     2,  Iter     1:    Energy =   0.0525
Level     2,  Iter     2:    Energy =   0.0544
Level     2,  Iter     3:    Energy =   0.0564
Level     2,  Iter     4:    Energy =   0.0583
Level     2,  Iter     5:    Energy =   0.0598
Level     2,  Iter     6:    Energy =   0.0611
Level     2,  Iter     7:    Energy =   0.0624
Level     2,  Iter     8:    Energy =   0.0634
Level     2,  Iter     9:    Energy =   0.0645
Level     2,  Iter    10:    Energy =   0.0654
Level     2,  Iter    11:    Energy =   0.0662
Level     2,  Iter    12:    Energy =   0.0668
Level     2,  Iter    13:    Energy =   0.0675
Level     2,  Iter    14:    Energy =   0.0680
Level     2,  Iter    15:    Energy =   0.0683
Level     2,  Iter    16:    Energy =   0.0686
Level     2,  Iter    17:    Energy =   0.0689
Level     2,  Iter    18:    Energy =   0.0692
Level     2,  Iter    19:    Energy =   0.0695
END OF LEVEL     2    DetJac Range:   0.0775  to   3.9998 
  Avg. Gradient Time  : 0.3350s  37.52% 
  Avg. Gaussian Time  : 0.4631s  51.88% 
  Avg. Iteration Time : 0.8927s 

real	0m29.872s
user	0m52.916s
sys	0m3.036s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.686538 0.692308
+ echo 'CHUNK 0.686538 0.692308 1'
CHUNK 0.686538 0.692308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.686538 0.692308 1
====================================
         PROGRESS: 0.686538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=016
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 016
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 016 left 0
+ local tid=016
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1617.71 	 OutFr   0.0000 	 RMSD     2.3961
Iter 002 	 Temp     3.72 	 Delta  1542.27 	 OutFr   0.0000 	 RMSD     1.7899
Iter 003 	 Temp     3.46 	 Delta  1436.54 	 OutFr   0.0000 	 RMSD     1.8124
Iter 004 	 Temp     3.22 	 Delta  1333.30 	 OutFr   0.0000 	 RMSD     1.7921
Iter 005 	 Temp     2.99 	 Delta  1241.20 	 OutFr   0.0000 	 RMSD     1.7701
Iter 006 	 Temp     2.78 	 Delta  1162.25 	 OutFr   0.0025 	 RMSD     1.7520
Iter 007 	 Temp     2.59 	 Delta  1096.66 	 OutFr   0.0025 	 RMSD     1.7373
Iter 008 	 Temp     2.41 	 Delta  1043.06 	 OutFr   0.0025 	 RMSD     1.7255
Iter 009 	 Temp     2.24 	 Delta   998.68 	 OutFr   0.0025 	 RMSD     1.7148
Iter 010 	 Temp     2.08 	 Delta   960.63 	 OutFr   0.0025 	 RMSD     1.7065
Iter 011 	 Temp     1.94 	 Delta   926.74 	 OutFr   0.0025 	 RMSD     1.7001
Iter 012 	 Temp     1.80 	 Delta   895.04 	 OutFr   0.0049 	 RMSD     1.6951
Iter 013 	 Temp     1.67 	 Delta   862.17 	 OutFr   0.0049 	 RMSD     1.6911
Iter 014 	 Temp     1.56 	 Delta   824.82 	 OutFr   0.0099 	 RMSD     1.6877
Iter 015 	 Temp     1.45 	 Delta   782.46 	 OutFr   0.0123 	 RMSD     1.6852
Iter 016 	 Temp     1.35 	 Delta   737.39 	 OutFr   0.0197 	 RMSD     1.6832
Iter 017 	 Temp     1.25 	 Delta   692.72 	 OutFr   0.0197 	 RMSD     1.6814
Iter 018 	 Temp     1.16 	 Delta   650.38 	 OutFr   0.0197 	 RMSD     1.6799
Iter 019 	 Temp     1.08 	 Delta   610.09 	 OutFr   0.0345 	 RMSD     1.6787
Iter 020 	 Temp     1.01 	 Delta   570.19 	 OutFr   0.0394 	 RMSD     1.6777
Iter 021 	 Temp     0.94 	 Delta   530.83 	 OutFr   0.0443 	 RMSD     1.6771
Iter 022 	 Temp     0.87 	 Delta   494.33 	 OutFr   0.0517 	 RMSD     1.6767
Iter 023 	 Temp     0.81 	 Delta   462.42 	 OutFr   0.0665 	 RMSD     1.6766
Iter 024 	 Temp     0.75 	 Delta   435.97 	 OutFr   0.0837 	 RMSD     1.6768
Iter 025 	 Temp     0.70 	 Delta   412.72 	 OutFr   0.0936 	 RMSD     1.6768
Iter 026 	 Temp     0.65 	 Delta   389.80 	 OutFr   0.1232 	 RMSD     1.6773
Iter 027 	 Temp     0.61 	 Delta   365.55 	 OutFr   0.1453 	 RMSD     1.6781
Iter 028 	 Temp     0.56 	 Delta   337.69 	 OutFr   0.1576 	 RMSD     1.6789
Iter 029 	 Temp     0.52 	 Delta   306.62 	 OutFr   0.1897 	 RMSD     1.6798
Iter 030 	 Temp     0.49 	 Delta   275.64 	 OutFr   0.2241 	 RMSD     1.6807
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.mrF5C7Ma/mybin.nii.gz
+ vtklevelset /tmp/ashs.mrF5C7Ma/mybin.nii.gz /tmp/ashs.mrF5C7Ma/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.mrF5C7Ma/mymesh.vtk /tmp/ashs.mrF5C7Ma/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 2795.51736533   0.91550764
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.mrF5C7Ma/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -31.6335 to -11.0421
   Y : -16.0051 to 28.1826
   Z : -35.0868 to -2.16236
   Image resolution  : 89 by 157 by 123
   Image box origin  : {-36.6335, -21.0051, -40.0868}
   Image box size    : {30.9028, 54.5139, 43.0495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [36.6335, 21.0051, -40.0868]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat -o /tmp/ashs.mrF5C7Ma/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat -o /tmp/ashs.mrF5C7Ma/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.mrF5C7Ma/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.692308 0.698077
+ echo 'CHUNK 0.692308 0.698077 0.5'
CHUNK 0.692308 0.698077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.692308 0.698077 0.5
====================================
         PROGRESS: 0.692308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.mrF5C7Ma/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.mrF5C7Ma/fixed_hw.nii.gz /tmp/ashs.mrF5C7Ma/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.509126, moving = 0.649118
LEVEL 1 of 3
  Smoothing sigmas: [2.32718, 2.36052, 2.40529], [0.950067, 0.963678, 0.981955]
Level     0,  Iter     0:    Energy =   0.0461
Level     0,  Iter     1:    Energy =   0.0506
Level     0,  Iter     2:    Energy =   0.0552
Level     0,  Iter     3:    Energy =   0.0591
Level     0,  Iter     4:    Energy =   0.0621
Level     0,  Iter     5:    Energy =   0.0646
Level     0,  Iter     6:    Energy =   0.0669
Level     0,  Iter     7:    Energy =   0.0690
Level     0,  Iter     8:    Energy =   0.0716
Level     0,  Iter     9:    Energy =   0.0732
Level     0,  Iter    10:    Energy =   0.0748
Level     0,  Iter    11:    Energy =   0.0767
Level     0,  Iter    12:    Energy =   0.0780
Level     0,  Iter    13:    Energy =   0.0786
Level     0,  Iter    14:    Energy =   0.0794
Level     0,  Iter    15:    Energy =   0.0800
Level     0,  Iter    16:    Energy =   0.0801
Level     0,  Iter    17:    Energy =   0.0806
Level     0,  Iter    18:    Energy =   0.0811
Level     0,  Iter    19:    Energy =   0.0813
Level     0,  Iter    20:    Energy =   0.0811
Level     0,  Iter    21:    Energy =   0.0812
Level     0,  Iter    22:    Energy =   0.0812
Level     0,  Iter    23:    Energy =   0.0813
Level     0,  Iter    24:    Energy =   0.0812
Level     0,  Iter    25:    Energy =   0.0813
Level     0,  Iter    26:    Energy =   0.0813
Level     0,  Iter    27:    Energy =   0.0816
Level     0,  Iter    28:    Energy =   0.0816
Level     0,  Iter    29:    Energy =   0.0817
Level     0,  Iter    30:    Energy =   0.0818
Level     0,  Iter    31:    Energy =   0.0820
Level     0,  Iter    32:    Energy =   0.0820
Level     0,  Iter    33:    Energy =   0.0820
Level     0,  Iter    34:    Energy =   0.0820
Level     0,  Iter    35:    Energy =   0.0821
Level     0,  Iter    36:    Energy =   0.0822
Level     0,  Iter    37:    Energy =   0.0821
Level     0,  Iter    38:    Energy =   0.0822
Level     0,  Iter    39:    Energy =   0.0822
Level     0,  Iter    40:    Energy =   0.0824
Level     0,  Iter    41:    Energy =   0.0822
Level     0,  Iter    42:    Energy =   0.0824
Level     0,  Iter    43:    Energy =   0.0825
Level     0,  Iter    44:    Energy =   0.0827
Level     0,  Iter    45:    Energy =   0.0825
Level     0,  Iter    46:    Energy =   0.0828
Level     0,  Iter    47:    Energy =   0.0828
Level     0,  Iter    48:    Energy =   0.0829
Level     0,  Iter    49:    Energy =   0.0826
Level     0,  Iter    50:    Energy =   0.0828
Level     0,  Iter    51:    Energy =   0.0825
Level     0,  Iter    52:    Energy =   0.0828
Level     0,  Iter    53:    Energy =   0.0826
Level     0,  Iter    54:    Energy =   0.0829
Level     0,  Iter    55:    Energy =   0.0827
Level     0,  Iter    56:    Energy =   0.0829
Level     0,  Iter    57:    Energy =   0.0826
Level     0,  Iter    58:    Energy =   0.0829
Level     0,  Iter    59:    Energy =   0.0827
END OF LEVEL     0    DetJac Range:   0.3027  to   2.0352 
  Avg. Gradient Time  : 0.0079s  37.93% 
  Avg. Gaussian Time  : 0.0098s  46.97% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.18945, 1.1952, 1.20264], [0.48559, 0.487938, 0.490977]
Level     1,  Iter     0:    Energy =   0.0646
Level     1,  Iter     1:    Energy =   0.0701
Level     1,  Iter     2:    Energy =   0.0740
Level     1,  Iter     3:    Energy =   0.0767
Level     1,  Iter     4:    Energy =   0.0792
Level     1,  Iter     5:    Energy =   0.0816
Level     1,  Iter     6:    Energy =   0.0834
Level     1,  Iter     7:    Energy =   0.0850
Level     1,  Iter     8:    Energy =   0.0863
Level     1,  Iter     9:    Energy =   0.0867
Level     1,  Iter    10:    Energy =   0.0867
Level     1,  Iter    11:    Energy =   0.0874
Level     1,  Iter    12:    Energy =   0.0873
Level     1,  Iter    13:    Energy =   0.0879
Level     1,  Iter    14:    Energy =   0.0878
Level     1,  Iter    15:    Energy =   0.0883
Level     1,  Iter    16:    Energy =   0.0882
Level     1,  Iter    17:    Energy =   0.0886
Level     1,  Iter    18:    Energy =   0.0885
Level     1,  Iter    19:    Energy =   0.0889
Level     1,  Iter    20:    Energy =   0.0887
Level     1,  Iter    21:    Energy =   0.0891
Level     1,  Iter    22:    Energy =   0.0888
Level     1,  Iter    23:    Energy =   0.0892
Level     1,  Iter    24:    Energy =   0.0889
Level     1,  Iter    25:    Energy =   0.0893
Level     1,  Iter    26:    Energy =   0.0891
Level     1,  Iter    27:    Energy =   0.0894
Level     1,  Iter    28:    Energy =   0.0892
Level     1,  Iter    29:    Energy =   0.0895
Level     1,  Iter    30:    Energy =   0.0893
Level     1,  Iter    31:    Energy =   0.0895
Level     1,  Iter    32:    Energy =   0.0894
Level     1,  Iter    33:    Energy =   0.0896
Level     1,  Iter    34:    Energy =   0.0894
Level     1,  Iter    35:    Energy =   0.0896
Level     1,  Iter    36:    Energy =   0.0895
Level     1,  Iter    37:    Energy =   0.0897
Level     1,  Iter    38:    Energy =   0.0895
Level     1,  Iter    39:    Energy =   0.0896
Level     1,  Iter    40:    Energy =   0.0895
Level     1,  Iter    41:    Energy =   0.0895
Level     1,  Iter    42:    Energy =   0.0894
Level     1,  Iter    43:    Energy =   0.0894
Level     1,  Iter    44:    Energy =   0.0893
Level     1,  Iter    45:    Energy =   0.0894
Level     1,  Iter    46:    Energy =   0.0893
Level     1,  Iter    47:    Energy =   0.0894
Level     1,  Iter    48:    Energy =   0.0893
Level     1,  Iter    49:    Energy =   0.0895
Level     1,  Iter    50:    Energy =   0.0893
Level     1,  Iter    51:    Energy =   0.0895
Level     1,  Iter    52:    Energy =   0.0894
Level     1,  Iter    53:    Energy =   0.0895
Level     1,  Iter    54:    Energy =   0.0894
Level     1,  Iter    55:    Energy =   0.0896
Level     1,  Iter    56:    Energy =   0.0894
Level     1,  Iter    57:    Energy =   0.0896
Level     1,  Iter    58:    Energy =   0.0895
Level     1,  Iter    59:    Energy =   0.0896
END OF LEVEL     1    DetJac Range:   0.1704  to   2.6524 
  Avg. Gradient Time  : 0.0450s  40.09% 
  Avg. Gaussian Time  : 0.0537s  47.83% 
  Avg. Iteration Time : 0.1123s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0509
Level     2,  Iter     1:    Energy =   0.0539
Level     2,  Iter     2:    Energy =   0.0565
Level     2,  Iter     3:    Energy =   0.0586
Level     2,  Iter     4:    Energy =   0.0606
Level     2,  Iter     5:    Energy =   0.0621
Level     2,  Iter     6:    Energy =   0.0634
Level     2,  Iter     7:    Energy =   0.0644
Level     2,  Iter     8:    Energy =   0.0654
Level     2,  Iter     9:    Energy =   0.0661
Level     2,  Iter    10:    Energy =   0.0667
Level     2,  Iter    11:    Energy =   0.0673
Level     2,  Iter    12:    Energy =   0.0675
Level     2,  Iter    13:    Energy =   0.0675
Level     2,  Iter    14:    Energy =   0.0679
Level     2,  Iter    15:    Energy =   0.0678
Level     2,  Iter    16:    Energy =   0.0682
Level     2,  Iter    17:    Energy =   0.0682
Level     2,  Iter    18:    Energy =   0.0686
Level     2,  Iter    19:    Energy =   0.0684
END OF LEVEL     2    DetJac Range:   0.1369  to   3.7000 
  Avg. Gradient Time  : 0.3032s  37.40% 
  Avg. Gaussian Time  : 0.4209s  51.92% 
  Avg. Iteration Time : 0.8106s 

real	0m27.434s
user	0m48.308s
sys	0m2.764s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.692308 0.698077
+ echo 'CHUNK 0.692308 0.698077 1'
CHUNK 0.692308 0.698077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.692308 0.698077 1
====================================
         PROGRESS: 0.692308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=017
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 017
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 017 left 0
+ local tid=017
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2166.26 	 OutFr   0.0025 	 RMSD     2.7889
Iter 002 	 Temp     3.72 	 Delta  1998.85 	 OutFr   0.0025 	 RMSD     2.1545
Iter 003 	 Temp     3.46 	 Delta  1854.77 	 OutFr   0.0025 	 RMSD     2.1500
Iter 004 	 Temp     3.22 	 Delta  1731.90 	 OutFr   0.0025 	 RMSD     2.1276
Iter 005 	 Temp     2.99 	 Delta  1625.61 	 OutFr   0.0025 	 RMSD     2.1067
Iter 006 	 Temp     2.78 	 Delta  1533.51 	 OutFr   0.0025 	 RMSD     2.0889
Iter 007 	 Temp     2.59 	 Delta  1454.09 	 OutFr   0.0025 	 RMSD     2.0747
Iter 008 	 Temp     2.41 	 Delta  1385.82 	 OutFr   0.0025 	 RMSD     2.0636
Iter 009 	 Temp     2.24 	 Delta  1326.87 	 OutFr   0.0025 	 RMSD     2.0549
Iter 010 	 Temp     2.08 	 Delta  1275.05 	 OutFr   0.0025 	 RMSD     2.0477
Iter 011 	 Temp     1.94 	 Delta  1227.80 	 OutFr   0.0025 	 RMSD     2.0415
Iter 012 	 Temp     1.80 	 Delta  1182.26 	 OutFr   0.0025 	 RMSD     2.0360
Iter 013 	 Temp     1.67 	 Delta  1135.27 	 OutFr   0.0049 	 RMSD     2.0312
Iter 014 	 Temp     1.56 	 Delta  1084.05 	 OutFr   0.0099 	 RMSD     2.0270
Iter 015 	 Temp     1.45 	 Delta  1027.54 	 OutFr   0.0099 	 RMSD     2.0236
Iter 016 	 Temp     1.35 	 Delta   966.67 	 OutFr   0.0123 	 RMSD     2.0206
Iter 017 	 Temp     1.25 	 Delta   902.74 	 OutFr   0.0123 	 RMSD     2.0179
Iter 018 	 Temp     1.16 	 Delta   837.08 	 OutFr   0.0197 	 RMSD     2.0163
Iter 019 	 Temp     1.08 	 Delta   771.57 	 OutFr   0.0271 	 RMSD     2.0158
Iter 020 	 Temp     1.01 	 Delta   708.62 	 OutFr   0.0320 	 RMSD     2.0158
Iter 021 	 Temp     0.94 	 Delta   649.42 	 OutFr   0.0419 	 RMSD     2.0164
Iter 022 	 Temp     0.87 	 Delta   593.38 	 OutFr   0.0567 	 RMSD     2.0178
Iter 023 	 Temp     0.81 	 Delta   541.94 	 OutFr   0.0862 	 RMSD     2.0201
Iter 024 	 Temp     0.75 	 Delta   494.04 	 OutFr   0.0985 	 RMSD     2.0235
Iter 025 	 Temp     0.70 	 Delta   451.17 	 OutFr   0.1232 	 RMSD     2.0281
Iter 026 	 Temp     0.65 	 Delta   412.53 	 OutFr   0.1305 	 RMSD     2.0341
Iter 027 	 Temp     0.61 	 Delta   376.51 	 OutFr   0.1552 	 RMSD     2.0396
Iter 028 	 Temp     0.56 	 Delta   343.93 	 OutFr   0.1847 	 RMSD     2.0453
Iter 029 	 Temp     0.52 	 Delta   315.54 	 OutFr   0.2094 	 RMSD     2.0501
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.hG73BHxY/mybin.nii.gz
+ vtklevelset /tmp/ashs.hG73BHxY/mybin.nii.gz /tmp/ashs.hG73BHxY/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.hG73BHxY/mymesh.vtk /tmp/ashs.hG73BHxY/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 3035.12901007   0.99397837
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.hG73BHxY/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.8236 to -11.5785
   Y : -20.163 to 27.8163
   Z : -22.0949 to 6.46379
   Image resolution  : 93 by 167 by 111
   Image box origin  : {-38.8236, -25.163, -27.0949}
   Image box size    : {32.2916, 57.9861, 38.8496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.8236, 25.163, -27.0949]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat -o /tmp/ashs.hG73BHxY/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat -o /tmp/ashs.hG73BHxY/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.hG73BHxY/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.698077 0.703846
+ echo 'CHUNK 0.698077 0.703846 0.5'
CHUNK 0.698077 0.703846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.698077 0.703846 0.5
====================================
         PROGRESS: 0.698077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.hG73BHxY/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.hG73BHxY/fixed_hw.nii.gz /tmp/ashs.hG73BHxY/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.513032, moving = 0.402187
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.39131, 2.40319], [0.951402, 0.976246, 0.981099]
Level     0,  Iter     0:    Energy =   0.0470
Level     0,  Iter     1:    Energy =   0.0517
Level     0,  Iter     2:    Energy =   0.0562
Level     0,  Iter     3:    Energy =   0.0602
Level     0,  Iter     4:    Energy =   0.0638
Level     0,  Iter     5:    Energy =   0.0668
Level     0,  Iter     6:    Energy =   0.0695
Level     0,  Iter     7:    Energy =   0.0723
Level     0,  Iter     8:    Energy =   0.0743
Level     0,  Iter     9:    Energy =   0.0765
Level     0,  Iter    10:    Energy =   0.0777
Level     0,  Iter    11:    Energy =   0.0792
Level     0,  Iter    12:    Energy =   0.0801
Level     0,  Iter    13:    Energy =   0.0806
Level     0,  Iter    14:    Energy =   0.0812
Level     0,  Iter    15:    Energy =   0.0818
Level     0,  Iter    16:    Energy =   0.0822
Level     0,  Iter    17:    Energy =   0.0828
Level     0,  Iter    18:    Energy =   0.0830
Level     0,  Iter    19:    Energy =   0.0834
Level     0,  Iter    20:    Energy =   0.0835
Level     0,  Iter    21:    Energy =   0.0838
Level     0,  Iter    22:    Energy =   0.0838
Level     0,  Iter    23:    Energy =   0.0841
Level     0,  Iter    24:    Energy =   0.0841
Level     0,  Iter    25:    Energy =   0.0843
Level     0,  Iter    26:    Energy =   0.0843
Level     0,  Iter    27:    Energy =   0.0844
Level     0,  Iter    28:    Energy =   0.0844
Level     0,  Iter    29:    Energy =   0.0845
Level     0,  Iter    30:    Energy =   0.0845
Level     0,  Iter    31:    Energy =   0.0847
Level     0,  Iter    32:    Energy =   0.0846
Level     0,  Iter    33:    Energy =   0.0848
Level     0,  Iter    34:    Energy =   0.0848
Level     0,  Iter    35:    Energy =   0.0849
Level     0,  Iter    36:    Energy =   0.0849
Level     0,  Iter    37:    Energy =   0.0849
Level     0,  Iter    38:    Energy =   0.0850
Level     0,  Iter    39:    Energy =   0.0850
Level     0,  Iter    40:    Energy =   0.0851
Level     0,  Iter    41:    Energy =   0.0851
Level     0,  Iter    42:    Energy =   0.0852
Level     0,  Iter    43:    Energy =   0.0851
Level     0,  Iter    44:    Energy =   0.0852
Level     0,  Iter    45:    Energy =   0.0851
Level     0,  Iter    46:    Energy =   0.0852
Level     0,  Iter    47:    Energy =   0.0852
Level     0,  Iter    48:    Energy =   0.0853
Level     0,  Iter    49:    Energy =   0.0852
Level     0,  Iter    50:    Energy =   0.0853
Level     0,  Iter    51:    Energy =   0.0852
Level     0,  Iter    52:    Energy =   0.0854
Level     0,  Iter    53:    Energy =   0.0853
Level     0,  Iter    54:    Energy =   0.0854
Level     0,  Iter    55:    Energy =   0.0853
Level     0,  Iter    56:    Energy =   0.0854
Level     0,  Iter    57:    Energy =   0.0853
Level     0,  Iter    58:    Energy =   0.0854
Level     0,  Iter    59:    Energy =   0.0853
END OF LEVEL     0    DetJac Range:   0.3329  to   2.1486 
  Avg. Gradient Time  : 0.0077s  38.13% 
  Avg. Gaussian Time  : 0.0095s  47.36% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.19565, 1.2016], [0.485822, 0.488123, 0.49055]
Level     1,  Iter     0:    Energy =   0.0589
Level     1,  Iter     1:    Energy =   0.0630
Level     1,  Iter     2:    Energy =   0.0665
Level     1,  Iter     3:    Energy =   0.0697
Level     1,  Iter     4:    Energy =   0.0724
Level     1,  Iter     5:    Energy =   0.0745
Level     1,  Iter     6:    Energy =   0.0758
Level     1,  Iter     7:    Energy =   0.0770
Level     1,  Iter     8:    Energy =   0.0784
Level     1,  Iter     9:    Energy =   0.0797
Level     1,  Iter    10:    Energy =   0.0809
Level     1,  Iter    11:    Energy =   0.0821
Level     1,  Iter    12:    Energy =   0.0830
Level     1,  Iter    13:    Energy =   0.0833
Level     1,  Iter    14:    Energy =   0.0834
Level     1,  Iter    15:    Energy =   0.0836
Level     1,  Iter    16:    Energy =   0.0838
Level     1,  Iter    17:    Energy =   0.0837
Level     1,  Iter    18:    Energy =   0.0841
Level     1,  Iter    19:    Energy =   0.0840
Level     1,  Iter    20:    Energy =   0.0844
Level     1,  Iter    21:    Energy =   0.0842
Level     1,  Iter    22:    Energy =   0.0848
Level     1,  Iter    23:    Energy =   0.0846
Level     1,  Iter    24:    Energy =   0.0852
Level     1,  Iter    25:    Energy =   0.0849
Level     1,  Iter    26:    Energy =   0.0854
Level     1,  Iter    27:    Energy =   0.0852
Level     1,  Iter    28:    Energy =   0.0857
Level     1,  Iter    29:    Energy =   0.0854
Level     1,  Iter    30:    Energy =   0.0859
Level     1,  Iter    31:    Energy =   0.0856
Level     1,  Iter    32:    Energy =   0.0860
Level     1,  Iter    33:    Energy =   0.0857
Level     1,  Iter    34:    Energy =   0.0861
Level     1,  Iter    35:    Energy =   0.0858
Level     1,  Iter    36:    Energy =   0.0861
Level     1,  Iter    37:    Energy =   0.0858
Level     1,  Iter    38:    Energy =   0.0861
Level     1,  Iter    39:    Energy =   0.0859
Level     1,  Iter    40:    Energy =   0.0862
Level     1,  Iter    41:    Energy =   0.0859
Level     1,  Iter    42:    Energy =   0.0863
Level     1,  Iter    43:    Energy =   0.0860
Level     1,  Iter    44:    Energy =   0.0863
Level     1,  Iter    45:    Energy =   0.0861
Level     1,  Iter    46:    Energy =   0.0863
Level     1,  Iter    47:    Energy =   0.0861
Level     1,  Iter    48:    Energy =   0.0864
Level     1,  Iter    49:    Energy =   0.0862
Level     1,  Iter    50:    Energy =   0.0865
Level     1,  Iter    51:    Energy =   0.0862
Level     1,  Iter    52:    Energy =   0.0866
Level     1,  Iter    53:    Energy =   0.0863
Level     1,  Iter    54:    Energy =   0.0866
Level     1,  Iter    55:    Energy =   0.0864
Level     1,  Iter    56:    Energy =   0.0866
Level     1,  Iter    57:    Energy =   0.0864
Level     1,  Iter    58:    Energy =   0.0866
Level     1,  Iter    59:    Energy =   0.0864
END OF LEVEL     1    DetJac Range:   0.2028  to   3.7870 
  Avg. Gradient Time  : 0.0449s  40.26% 
  Avg. Gaussian Time  : 0.0534s  47.86% 
  Avg. Iteration Time : 0.1116s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0473
Level     2,  Iter     1:    Energy =   0.0499
Level     2,  Iter     2:    Energy =   0.0524
Level     2,  Iter     3:    Energy =   0.0543
Level     2,  Iter     4:    Energy =   0.0563
Level     2,  Iter     5:    Energy =   0.0580
Level     2,  Iter     6:    Energy =   0.0596
Level     2,  Iter     7:    Energy =   0.0609
Level     2,  Iter     8:    Energy =   0.0619
Level     2,  Iter     9:    Energy =   0.0627
Level     2,  Iter    10:    Energy =   0.0635
Level     2,  Iter    11:    Energy =   0.0642
Level     2,  Iter    12:    Energy =   0.0649
Level     2,  Iter    13:    Energy =   0.0655
Level     2,  Iter    14:    Energy =   0.0661
Level     2,  Iter    15:    Energy =   0.0660
Level     2,  Iter    16:    Energy =   0.0666
Level     2,  Iter    17:    Energy =   0.0665
Level     2,  Iter    18:    Energy =   0.0670
Level     2,  Iter    19:    Energy =   0.0669
END OF LEVEL     2    DetJac Range:   0.1441  to   3.9320 
  Avg. Gradient Time  : 0.3109s  37.63% 
  Avg. Gaussian Time  : 0.4278s  51.79% 
  Avg. Iteration Time : 0.8260s 

real	0m27.721s
user	0m48.860s
sys	0m2.900s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.698077 0.703846
+ echo 'CHUNK 0.698077 0.703846 1'
CHUNK 0.698077 0.703846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.698077 0.703846 1
====================================
         PROGRESS: 0.698077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=018
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 018
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 018 left 0
+ local tid=018
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2179.11 	 OutFr   0.0000 	 RMSD     2.4755
Iter 002 	 Temp     3.72 	 Delta  2007.45 	 OutFr   0.0000 	 RMSD     2.1436
Iter 003 	 Temp     3.46 	 Delta  1891.67 	 OutFr   0.0000 	 RMSD     2.1646
Iter 004 	 Temp     3.22 	 Delta  1792.79 	 OutFr   0.0000 	 RMSD     2.1427
Iter 005 	 Temp     2.99 	 Delta  1705.39 	 OutFr   0.0000 	 RMSD     2.1172
Iter 006 	 Temp     2.78 	 Delta  1628.39 	 OutFr   0.0000 	 RMSD     2.0940
Iter 007 	 Temp     2.59 	 Delta  1560.95 	 OutFr   0.0000 	 RMSD     2.0741
Iter 008 	 Temp     2.41 	 Delta  1501.11 	 OutFr   0.0000 	 RMSD     2.0572
Iter 009 	 Temp     2.24 	 Delta  1445.48 	 OutFr   0.0000 	 RMSD     2.0429
Iter 010 	 Temp     2.08 	 Delta  1391.17 	 OutFr   0.0000 	 RMSD     2.0315
Iter 011 	 Temp     1.94 	 Delta  1336.96 	 OutFr   0.0000 	 RMSD     2.0230
Iter 012 	 Temp     1.80 	 Delta  1282.13 	 OutFr   0.0000 	 RMSD     2.0162
Iter 013 	 Temp     1.67 	 Delta  1225.91 	 OutFr   0.0025 	 RMSD     2.0112
Iter 014 	 Temp     1.56 	 Delta  1167.29 	 OutFr   0.0049 	 RMSD     2.0074
Iter 015 	 Temp     1.45 	 Delta  1105.08 	 OutFr   0.0049 	 RMSD     2.0045
Iter 016 	 Temp     1.35 	 Delta  1039.17 	 OutFr   0.0074 	 RMSD     2.0022
Iter 017 	 Temp     1.25 	 Delta   971.21 	 OutFr   0.0123 	 RMSD     2.0001
Iter 018 	 Temp     1.16 	 Delta   902.29 	 OutFr   0.0148 	 RMSD     1.9979
Iter 019 	 Temp     1.08 	 Delta   832.06 	 OutFr   0.0197 	 RMSD     1.9958
Iter 020 	 Temp     1.01 	 Delta   761.95 	 OutFr   0.0320 	 RMSD     1.9933
Iter 021 	 Temp     0.94 	 Delta   693.77 	 OutFr   0.0369 	 RMSD     1.9901
Iter 022 	 Temp     0.87 	 Delta   628.68 	 OutFr   0.0542 	 RMSD     1.9869
Iter 023 	 Temp     0.81 	 Delta   567.42 	 OutFr   0.0739 	 RMSD     1.9847
Iter 024 	 Temp     0.75 	 Delta   506.87 	 OutFr   0.1084 	 RMSD     1.9834
Iter 025 	 Temp     0.70 	 Delta   449.33 	 OutFr   0.1256 	 RMSD     1.9843
Iter 026 	 Temp     0.65 	 Delta   405.89 	 OutFr   0.1429 	 RMSD     1.9873
Iter 027 	 Temp     0.61 	 Delta   370.26 	 OutFr   0.1601 	 RMSD     1.9897
Iter 028 	 Temp     0.56 	 Delta   337.62 	 OutFr   0.1847 	 RMSD     1.9922
Iter 029 	 Temp     0.52 	 Delta   308.06 	 OutFr   0.2094 	 RMSD     1.9948
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.oLhDOt5X/mybin.nii.gz
+ vtklevelset /tmp/ashs.oLhDOt5X/mybin.nii.gz /tmp/ashs.oLhDOt5X/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.oLhDOt5X/mymesh.vtk /tmp/ashs.oLhDOt5X/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 2965.81657433   0.97127915
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.oLhDOt5X/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -34.0331 to -9.19034
   Y : -23.4197 to 21.1184
   Z : -6.96869 to 21.3822
   Image resolution  : 101 by 158 by 110
   Image box origin  : {-39.0331, -28.4197, -11.9687}
   Image box size    : {35.0694, 54.8611, 38.4996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [39.0331, 28.4197, -11.9687]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat -o /tmp/ashs.oLhDOt5X/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat -o /tmp/ashs.oLhDOt5X/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.oLhDOt5X/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.703846 0.709615
+ echo 'CHUNK 0.703846 0.709615 0.5'
CHUNK 0.703846 0.709615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.703846 0.709615 0.5
====================================
         PROGRESS: 0.703846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.oLhDOt5X/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.oLhDOt5X/fixed_hw.nii.gz /tmp/ashs.oLhDOt5X/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.516776, moving = 0.5894
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.37555, 2.38154], [0.953763, 0.969816, 0.972261]
Level     0,  Iter     0:    Energy =   0.0536
Level     0,  Iter     1:    Energy =   0.0601
Level     0,  Iter     2:    Energy =   0.0654
Level     0,  Iter     3:    Energy =   0.0700
Level     0,  Iter     4:    Energy =   0.0732
Level     0,  Iter     5:    Energy =   0.0761
Level     0,  Iter     6:    Energy =   0.0789
Level     0,  Iter     7:    Energy =   0.0804
Level     0,  Iter     8:    Energy =   0.0814
Level     0,  Iter     9:    Energy =   0.0827
Level     0,  Iter    10:    Energy =   0.0833
Level     0,  Iter    11:    Energy =   0.0845
Level     0,  Iter    12:    Energy =   0.0849
Level     0,  Iter    13:    Energy =   0.0859
Level     0,  Iter    14:    Energy =   0.0862
Level     0,  Iter    15:    Energy =   0.0872
Level     0,  Iter    16:    Energy =   0.0872
Level     0,  Iter    17:    Energy =   0.0880
Level     0,  Iter    18:    Energy =   0.0881
Level     0,  Iter    19:    Energy =   0.0888
Level     0,  Iter    20:    Energy =   0.0888
Level     0,  Iter    21:    Energy =   0.0893
Level     0,  Iter    22:    Energy =   0.0893
Level     0,  Iter    23:    Energy =   0.0898
Level     0,  Iter    24:    Energy =   0.0898
Level     0,  Iter    25:    Energy =   0.0902
Level     0,  Iter    26:    Energy =   0.0902
Level     0,  Iter    27:    Energy =   0.0905
Level     0,  Iter    28:    Energy =   0.0904
Level     0,  Iter    29:    Energy =   0.0908
Level     0,  Iter    30:    Energy =   0.0908
Level     0,  Iter    31:    Energy =   0.0910
Level     0,  Iter    32:    Energy =   0.0910
Level     0,  Iter    33:    Energy =   0.0912
Level     0,  Iter    34:    Energy =   0.0912
Level     0,  Iter    35:    Energy =   0.0914
Level     0,  Iter    36:    Energy =   0.0914
Level     0,  Iter    37:    Energy =   0.0916
Level     0,  Iter    38:    Energy =   0.0915
Level     0,  Iter    39:    Energy =   0.0917
Level     0,  Iter    40:    Energy =   0.0916
Level     0,  Iter    41:    Energy =   0.0918
Level     0,  Iter    42:    Energy =   0.0917
Level     0,  Iter    43:    Energy =   0.0919
Level     0,  Iter    44:    Energy =   0.0917
Level     0,  Iter    45:    Energy =   0.0919
Level     0,  Iter    46:    Energy =   0.0918
Level     0,  Iter    47:    Energy =   0.0920
Level     0,  Iter    48:    Energy =   0.0919
Level     0,  Iter    49:    Energy =   0.0921
Level     0,  Iter    50:    Energy =   0.0919
Level     0,  Iter    51:    Energy =   0.0921
Level     0,  Iter    52:    Energy =   0.0920
Level     0,  Iter    53:    Energy =   0.0922
Level     0,  Iter    54:    Energy =   0.0920
Level     0,  Iter    55:    Energy =   0.0923
Level     0,  Iter    56:    Energy =   0.0921
Level     0,  Iter    57:    Energy =   0.0923
Level     0,  Iter    58:    Energy =   0.0922
Level     0,  Iter    59:    Energy =   0.0923
END OF LEVEL     0    DetJac Range:   0.3368  to   2.2816 
  Avg. Gradient Time  : 0.0075s  37.30% 
  Avg. Gaussian Time  : 0.0096s  48.03% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.20281, 1.21242], [0.486232, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0642
Level     1,  Iter     1:    Energy =   0.0693
Level     1,  Iter     2:    Energy =   0.0724
Level     1,  Iter     3:    Energy =   0.0746
Level     1,  Iter     4:    Energy =   0.0763
Level     1,  Iter     5:    Energy =   0.0777
Level     1,  Iter     6:    Energy =   0.0788
Level     1,  Iter     7:    Energy =   0.0797
Level     1,  Iter     8:    Energy =   0.0804
Level     1,  Iter     9:    Energy =   0.0810
Level     1,  Iter    10:    Energy =   0.0816
Level     1,  Iter    11:    Energy =   0.0822
Level     1,  Iter    12:    Energy =   0.0827
Level     1,  Iter    13:    Energy =   0.0832
Level     1,  Iter    14:    Energy =   0.0836
Level     1,  Iter    15:    Energy =   0.0841
Level     1,  Iter    16:    Energy =   0.0845
Level     1,  Iter    17:    Energy =   0.0848
Level     1,  Iter    18:    Energy =   0.0852
Level     1,  Iter    19:    Energy =   0.0855
Level     1,  Iter    20:    Energy =   0.0858
Level     1,  Iter    21:    Energy =   0.0861
Level     1,  Iter    22:    Energy =   0.0864
Level     1,  Iter    23:    Energy =   0.0866
Level     1,  Iter    24:    Energy =   0.0869
Level     1,  Iter    25:    Energy =   0.0870
Level     1,  Iter    26:    Energy =   0.0872
Level     1,  Iter    27:    Energy =   0.0874
Level     1,  Iter    28:    Energy =   0.0875
Level     1,  Iter    29:    Energy =   0.0875
Level     1,  Iter    30:    Energy =   0.0877
Level     1,  Iter    31:    Energy =   0.0876
Level     1,  Iter    32:    Energy =   0.0877
Level     1,  Iter    33:    Energy =   0.0878
Level     1,  Iter    34:    Energy =   0.0879
Level     1,  Iter    35:    Energy =   0.0879
Level     1,  Iter    36:    Energy =   0.0880
Level     1,  Iter    37:    Energy =   0.0881
Level     1,  Iter    38:    Energy =   0.0881
Level     1,  Iter    39:    Energy =   0.0881
Level     1,  Iter    40:    Energy =   0.0882
Level     1,  Iter    41:    Energy =   0.0882
Level     1,  Iter    42:    Energy =   0.0883
Level     1,  Iter    43:    Energy =   0.0882
Level     1,  Iter    44:    Energy =   0.0883
Level     1,  Iter    45:    Energy =   0.0883
Level     1,  Iter    46:    Energy =   0.0884
Level     1,  Iter    47:    Energy =   0.0884
Level     1,  Iter    48:    Energy =   0.0884
Level     1,  Iter    49:    Energy =   0.0884
Level     1,  Iter    50:    Energy =   0.0885
Level     1,  Iter    51:    Energy =   0.0884
Level     1,  Iter    52:    Energy =   0.0885
Level     1,  Iter    53:    Energy =   0.0885
Level     1,  Iter    54:    Energy =   0.0885
Level     1,  Iter    55:    Energy =   0.0885
Level     1,  Iter    56:    Energy =   0.0886
Level     1,  Iter    57:    Energy =   0.0885
Level     1,  Iter    58:    Energy =   0.0886
Level     1,  Iter    59:    Energy =   0.0886
END OF LEVEL     1    DetJac Range:   0.1484  to   3.6401 
  Avg. Gradient Time  : 0.0444s  39.96% 
  Avg. Gaussian Time  : 0.0536s  48.22% 
  Avg. Iteration Time : 0.1112s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0472
Level     2,  Iter     1:    Energy =   0.0495
Level     2,  Iter     2:    Energy =   0.0515
Level     2,  Iter     3:    Energy =   0.0537
Level     2,  Iter     4:    Energy =   0.0554
Level     2,  Iter     5:    Energy =   0.0565
Level     2,  Iter     6:    Energy =   0.0573
Level     2,  Iter     7:    Energy =   0.0579
Level     2,  Iter     8:    Energy =   0.0584
Level     2,  Iter     9:    Energy =   0.0588
Level     2,  Iter    10:    Energy =   0.0593
Level     2,  Iter    11:    Energy =   0.0598
Level     2,  Iter    12:    Energy =   0.0603
Level     2,  Iter    13:    Energy =   0.0608
Level     2,  Iter    14:    Energy =   0.0613
Level     2,  Iter    15:    Energy =   0.0619
Level     2,  Iter    16:    Energy =   0.0624
Level     2,  Iter    17:    Energy =   0.0630
Level     2,  Iter    18:    Energy =   0.0635
Level     2,  Iter    19:    Energy =   0.0641
END OF LEVEL     2    DetJac Range:   0.0864  to   4.5150 
  Avg. Gradient Time  : 0.3070s  37.35% 
  Avg. Gaussian Time  : 0.4272s  51.98% 
  Avg. Iteration Time : 0.8218s 

real	0m27.488s
user	0m48.668s
sys	0m2.768s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.703846 0.709615
+ echo 'CHUNK 0.703846 0.709615 1'
CHUNK 0.703846 0.709615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.703846 0.709615 1
====================================
         PROGRESS: 0.703846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=019
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 019
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 019 left 0
+ local tid=019
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1953.98 	 OutFr   0.0000 	 RMSD     2.6028
Iter 002 	 Temp     3.72 	 Delta  1835.14 	 OutFr   0.0000 	 RMSD     2.3093
Iter 003 	 Temp     3.46 	 Delta  1744.89 	 OutFr   0.0025 	 RMSD     2.3168
Iter 004 	 Temp     3.22 	 Delta  1664.16 	 OutFr   0.0049 	 RMSD     2.3140
Iter 005 	 Temp     2.99 	 Delta  1587.87 	 OutFr   0.0049 	 RMSD     2.3043
Iter 006 	 Temp     2.78 	 Delta  1511.93 	 OutFr   0.0049 	 RMSD     2.2928
Iter 007 	 Temp     2.59 	 Delta  1434.11 	 OutFr   0.0074 	 RMSD     2.2813
Iter 008 	 Temp     2.41 	 Delta  1355.87 	 OutFr   0.0123 	 RMSD     2.2692
Iter 009 	 Temp     2.24 	 Delta  1278.02 	 OutFr   0.0172 	 RMSD     2.2574
Iter 010 	 Temp     2.08 	 Delta  1200.36 	 OutFr   0.0172 	 RMSD     2.2453
Iter 011 	 Temp     1.94 	 Delta  1125.88 	 OutFr   0.0172 	 RMSD     2.2331
Iter 012 	 Temp     1.80 	 Delta  1058.88 	 OutFr   0.0246 	 RMSD     2.2224
Iter 013 	 Temp     1.67 	 Delta  1001.87 	 OutFr   0.0320 	 RMSD     2.2134
Iter 014 	 Temp     1.56 	 Delta   951.33 	 OutFr   0.0443 	 RMSD     2.2054
Iter 015 	 Temp     1.45 	 Delta   902.79 	 OutFr   0.0542 	 RMSD     2.1976
Iter 016 	 Temp     1.35 	 Delta   854.98 	 OutFr   0.0640 	 RMSD     2.1894
Iter 017 	 Temp     1.25 	 Delta   805.99 	 OutFr   0.0764 	 RMSD     2.1821
Iter 018 	 Temp     1.16 	 Delta   750.05 	 OutFr   0.0887 	 RMSD     2.1773
Iter 019 	 Temp     1.08 	 Delta   688.54 	 OutFr   0.1034 	 RMSD     2.1748
Iter 020 	 Temp     1.01 	 Delta   632.42 	 OutFr   0.1182 	 RMSD     2.1745
Iter 021 	 Temp     0.94 	 Delta   584.01 	 OutFr   0.1281 	 RMSD     2.1747
Iter 022 	 Temp     0.87 	 Delta   541.32 	 OutFr   0.1281 	 RMSD     2.1757
Iter 023 	 Temp     0.81 	 Delta   503.44 	 OutFr   0.1502 	 RMSD     2.1775
Iter 024 	 Temp     0.75 	 Delta   469.54 	 OutFr   0.1601 	 RMSD     2.1801
Iter 025 	 Temp     0.70 	 Delta   436.06 	 OutFr   0.1773 	 RMSD     2.1820
Iter 026 	 Temp     0.65 	 Delta   400.09 	 OutFr   0.2069 	 RMSD     2.1831
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.HteAQfjE/mybin.nii.gz
+ vtklevelset /tmp/ashs.HteAQfjE/mybin.nii.gz /tmp/ashs.HteAQfjE/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.HteAQfjE/mymesh.vtk /tmp/ashs.HteAQfjE/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 3236.02512663   1.05977010
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.HteAQfjE/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -34.6136 to -10.6476
   Y : -18.8688 to 27.5241
   Z : -20.1578 to 12.3379
   Image resolution  : 98 by 163 by 122
   Image box origin  : {-39.6136, -23.8688, -25.1578}
   Image box size    : {34.0278, 56.5972, 42.6995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [39.6136, 23.8688, -25.1578]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat -o /tmp/ashs.HteAQfjE/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat -o /tmp/ashs.HteAQfjE/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.HteAQfjE/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.709615 0.715385
+ echo 'CHUNK 0.709615 0.715385 0.5'
CHUNK 0.709615 0.715385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.709615 0.715385 0.5
====================================
         PROGRESS: 0.709615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.HteAQfjE/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.HteAQfjE/fixed_hw.nii.gz /tmp/ashs.HteAQfjE/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.512477, moving = 0.441262
LEVEL 1 of 3
  Smoothing sigmas: [2.35751, 2.39096, 2.38573], [0.96245, 0.976104, 0.973971]
Level     0,  Iter     0:    Energy =   0.0371
Level     0,  Iter     1:    Energy =   0.0431
Level     0,  Iter     2:    Energy =   0.0477
Level     0,  Iter     3:    Energy =   0.0515
Level     0,  Iter     4:    Energy =   0.0553
Level     0,  Iter     5:    Energy =   0.0592
Level     0,  Iter     6:    Energy =   0.0629
Level     0,  Iter     7:    Energy =   0.0656
Level     0,  Iter     8:    Energy =   0.0679
Level     0,  Iter     9:    Energy =   0.0690
Level     0,  Iter    10:    Energy =   0.0696
Level     0,  Iter    11:    Energy =   0.0700
Level     0,  Iter    12:    Energy =   0.0704
Level     0,  Iter    13:    Energy =   0.0707
Level     0,  Iter    14:    Energy =   0.0713
Level     0,  Iter    15:    Energy =   0.0715
Level     0,  Iter    16:    Energy =   0.0720
Level     0,  Iter    17:    Energy =   0.0722
Level     0,  Iter    18:    Energy =   0.0727
Level     0,  Iter    19:    Energy =   0.0729
Level     0,  Iter    20:    Energy =   0.0734
Level     0,  Iter    21:    Energy =   0.0735
Level     0,  Iter    22:    Energy =   0.0740
Level     0,  Iter    23:    Energy =   0.0741
Level     0,  Iter    24:    Energy =   0.0745
Level     0,  Iter    25:    Energy =   0.0746
Level     0,  Iter    26:    Energy =   0.0747
Level     0,  Iter    27:    Energy =   0.0747
Level     0,  Iter    28:    Energy =   0.0750
Level     0,  Iter    29:    Energy =   0.0750
Level     0,  Iter    30:    Energy =   0.0752
Level     0,  Iter    31:    Energy =   0.0752
Level     0,  Iter    32:    Energy =   0.0755
Level     0,  Iter    33:    Energy =   0.0754
Level     0,  Iter    34:    Energy =   0.0756
Level     0,  Iter    35:    Energy =   0.0755
Level     0,  Iter    36:    Energy =   0.0757
Level     0,  Iter    37:    Energy =   0.0756
Level     0,  Iter    38:    Energy =   0.0758
Level     0,  Iter    39:    Energy =   0.0757
Level     0,  Iter    40:    Energy =   0.0759
Level     0,  Iter    41:    Energy =   0.0758
Level     0,  Iter    42:    Energy =   0.0760
Level     0,  Iter    43:    Energy =   0.0760
Level     0,  Iter    44:    Energy =   0.0761
Level     0,  Iter    45:    Energy =   0.0760
Level     0,  Iter    46:    Energy =   0.0762
Level     0,  Iter    47:    Energy =   0.0761
Level     0,  Iter    48:    Energy =   0.0761
Level     0,  Iter    49:    Energy =   0.0761
Level     0,  Iter    50:    Energy =   0.0762
Level     0,  Iter    51:    Energy =   0.0762
Level     0,  Iter    52:    Energy =   0.0764
Level     0,  Iter    53:    Energy =   0.0763
Level     0,  Iter    54:    Energy =   0.0765
Level     0,  Iter    55:    Energy =   0.0764
Level     0,  Iter    56:    Energy =   0.0765
Level     0,  Iter    57:    Energy =   0.0765
Level     0,  Iter    58:    Energy =   0.0766
Level     0,  Iter    59:    Energy =   0.0765
END OF LEVEL     0    DetJac Range:   0.2914  to   1.8031 
  Avg. Gradient Time  : 0.0085s  37.75% 
  Avg. Gaussian Time  : 0.0107s  47.53% 
  Avg. Iteration Time : 0.0226s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19548, 1.21242], [0.491046, 0.488052, 0.494969]
Level     1,  Iter     0:    Energy =   0.0549
Level     1,  Iter     1:    Energy =   0.0592
Level     1,  Iter     2:    Energy =   0.0631
Level     1,  Iter     3:    Energy =   0.0664
Level     1,  Iter     4:    Energy =   0.0689
Level     1,  Iter     5:    Energy =   0.0710
Level     1,  Iter     6:    Energy =   0.0731
Level     1,  Iter     7:    Energy =   0.0745
Level     1,  Iter     8:    Energy =   0.0754
Level     1,  Iter     9:    Energy =   0.0762
Level     1,  Iter    10:    Energy =   0.0769
Level     1,  Iter    11:    Energy =   0.0775
Level     1,  Iter    12:    Energy =   0.0777
Level     1,  Iter    13:    Energy =   0.0778
Level     1,  Iter    14:    Energy =   0.0781
Level     1,  Iter    15:    Energy =   0.0781
Level     1,  Iter    16:    Energy =   0.0784
Level     1,  Iter    17:    Energy =   0.0784
Level     1,  Iter    18:    Energy =   0.0787
Level     1,  Iter    19:    Energy =   0.0787
Level     1,  Iter    20:    Energy =   0.0789
Level     1,  Iter    21:    Energy =   0.0789
Level     1,  Iter    22:    Energy =   0.0790
Level     1,  Iter    23:    Energy =   0.0791
Level     1,  Iter    24:    Energy =   0.0792
Level     1,  Iter    25:    Energy =   0.0793
Level     1,  Iter    26:    Energy =   0.0794
Level     1,  Iter    27:    Energy =   0.0794
Level     1,  Iter    28:    Energy =   0.0795
Level     1,  Iter    29:    Energy =   0.0796
Level     1,  Iter    30:    Energy =   0.0797
Level     1,  Iter    31:    Energy =   0.0798
Level     1,  Iter    32:    Energy =   0.0798
Level     1,  Iter    33:    Energy =   0.0800
Level     1,  Iter    34:    Energy =   0.0800
Level     1,  Iter    35:    Energy =   0.0801
Level     1,  Iter    36:    Energy =   0.0801
Level     1,  Iter    37:    Energy =   0.0803
Level     1,  Iter    38:    Energy =   0.0803
Level     1,  Iter    39:    Energy =   0.0805
Level     1,  Iter    40:    Energy =   0.0804
Level     1,  Iter    41:    Energy =   0.0807
Level     1,  Iter    42:    Energy =   0.0806
Level     1,  Iter    43:    Energy =   0.0809
Level     1,  Iter    44:    Energy =   0.0808
Level     1,  Iter    45:    Energy =   0.0811
Level     1,  Iter    46:    Energy =   0.0810
Level     1,  Iter    47:    Energy =   0.0812
Level     1,  Iter    48:    Energy =   0.0811
Level     1,  Iter    49:    Energy =   0.0814
Level     1,  Iter    50:    Energy =   0.0814
Level     1,  Iter    51:    Energy =   0.0815
Level     1,  Iter    52:    Energy =   0.0815
Level     1,  Iter    53:    Energy =   0.0816
Level     1,  Iter    54:    Energy =   0.0816
Level     1,  Iter    55:    Energy =   0.0817
Level     1,  Iter    56:    Energy =   0.0817
Level     1,  Iter    57:    Energy =   0.0817
Level     1,  Iter    58:    Energy =   0.0819
Level     1,  Iter    59:    Energy =   0.0818
END OF LEVEL     1    DetJac Range:   0.0976  to   2.8049 
  Avg. Gradient Time  : 0.0484s  39.66% 
  Avg. Gaussian Time  : 0.0590s  48.35% 
  Avg. Iteration Time : 0.1220s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0432
Level     2,  Iter     1:    Energy =   0.0458
Level     2,  Iter     2:    Energy =   0.0482
Level     2,  Iter     3:    Energy =   0.0497
Level     2,  Iter     4:    Energy =   0.0511
Level     2,  Iter     5:    Energy =   0.0522
Level     2,  Iter     6:    Energy =   0.0535
Level     2,  Iter     7:    Energy =   0.0547
Level     2,  Iter     8:    Energy =   0.0558
Level     2,  Iter     9:    Energy =   0.0567
Level     2,  Iter    10:    Energy =   0.0575
Level     2,  Iter    11:    Energy =   0.0584
Level     2,  Iter    12:    Energy =   0.0592
Level     2,  Iter    13:    Energy =   0.0601
Level     2,  Iter    14:    Energy =   0.0608
Level     2,  Iter    15:    Energy =   0.0615
Level     2,  Iter    16:    Energy =   0.0621
Level     2,  Iter    17:    Energy =   0.0627
Level     2,  Iter    18:    Energy =   0.0633
Level     2,  Iter    19:    Energy =   0.0638
END OF LEVEL     2    DetJac Range:   0.0322  to   4.9095 
  Avg. Gradient Time  : 0.3425s  37.59% 
  Avg. Gaussian Time  : 0.4722s  51.83% 
  Avg. Iteration Time : 0.9110s 

real	0m30.448s
user	0m53.928s
sys	0m2.996s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.709615 0.715385
+ echo 'CHUNK 0.709615 0.715385 1'
CHUNK 0.709615 0.715385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.709615 0.715385 1
====================================
         PROGRESS: 0.709615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=020
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 020
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 020 left 0
+ local tid=020
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2413.21 	 OutFr   0.0000 	 RMSD     3.1223
Iter 002 	 Temp     3.72 	 Delta  2474.59 	 OutFr   0.0000 	 RMSD     2.1873
Iter 003 	 Temp     3.46 	 Delta  2414.44 	 OutFr   0.0000 	 RMSD     2.2674
Iter 004 	 Temp     3.22 	 Delta  2326.60 	 OutFr   0.0000 	 RMSD     2.2799
Iter 005 	 Temp     2.99 	 Delta  2226.23 	 OutFr   0.0000 	 RMSD     2.2679
Iter 006 	 Temp     2.78 	 Delta  2118.11 	 OutFr   0.0000 	 RMSD     2.2476
Iter 007 	 Temp     2.59 	 Delta  2003.27 	 OutFr   0.0000 	 RMSD     2.2244
Iter 008 	 Temp     2.41 	 Delta  1884.39 	 OutFr   0.0000 	 RMSD     2.2012
Iter 009 	 Temp     2.24 	 Delta  1766.43 	 OutFr   0.0074 	 RMSD     2.1788
Iter 010 	 Temp     2.08 	 Delta  1652.77 	 OutFr   0.0099 	 RMSD     2.1582
Iter 011 	 Temp     1.94 	 Delta  1544.51 	 OutFr   0.0099 	 RMSD     2.1390
Iter 012 	 Temp     1.80 	 Delta  1442.58 	 OutFr   0.0123 	 RMSD     2.1218
Iter 013 	 Temp     1.67 	 Delta  1346.28 	 OutFr   0.0148 	 RMSD     2.1047
Iter 014 	 Temp     1.56 	 Delta  1254.27 	 OutFr   0.0197 	 RMSD     2.0891
Iter 015 	 Temp     1.45 	 Delta  1166.73 	 OutFr   0.0246 	 RMSD     2.0755
Iter 016 	 Temp     1.35 	 Delta  1083.59 	 OutFr   0.0296 	 RMSD     2.0654
Iter 017 	 Temp     1.25 	 Delta  1003.63 	 OutFr   0.0369 	 RMSD     2.0586
Iter 018 	 Temp     1.16 	 Delta   924.92 	 OutFr   0.0542 	 RMSD     2.0556
Iter 019 	 Temp     1.08 	 Delta   848.01 	 OutFr   0.0665 	 RMSD     2.0554
Iter 020 	 Temp     1.01 	 Delta   775.80 	 OutFr   0.0764 	 RMSD     2.0564
Iter 021 	 Temp     0.94 	 Delta   708.26 	 OutFr   0.0862 	 RMSD     2.0582
Iter 022 	 Temp     0.87 	 Delta   637.69 	 OutFr   0.1034 	 RMSD     2.0614
Iter 023 	 Temp     0.81 	 Delta   563.72 	 OutFr   0.1281 	 RMSD     2.0671
Iter 024 	 Temp     0.75 	 Delta   493.76 	 OutFr   0.1749 	 RMSD     2.0758
Iter 025 	 Temp     0.70 	 Delta   444.50 	 OutFr   0.1970 	 RMSD     2.0902
Iter 026 	 Temp     0.65 	 Delta   408.61 	 OutFr   0.2094 	 RMSD     2.1026
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.UqvmYQMD/mybin.nii.gz
+ vtklevelset /tmp/ashs.UqvmYQMD/mybin.nii.gz /tmp/ashs.UqvmYQMD/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.UqvmYQMD/mymesh.vtk /tmp/ashs.UqvmYQMD/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 3164.03611472   1.03619433
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.UqvmYQMD/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -28.9632 to -5.319
   Y : -18.6983 to 28.4437
   Z : -19.482 to 14.9512
   Image resolution  : 97 by 165 by 127
   Image box origin  : {-33.9632, -23.6983, -24.482}
   Image box size    : {33.6805, 57.2916, 44.4495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [33.9632, 23.6983, -24.482]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat -o /tmp/ashs.UqvmYQMD/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat -o /tmp/ashs.UqvmYQMD/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.UqvmYQMD/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.715385 0.721154
+ echo 'CHUNK 0.715385 0.721154 0.5'
CHUNK 0.715385 0.721154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.715385 0.721154 0.5
====================================
         PROGRESS: 0.715385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.UqvmYQMD/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.UqvmYQMD/fixed_hw.nii.gz /tmp/ashs.UqvmYQMD/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.514597, moving = 0.459486
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.36267, 2.4059], [0.952629, 0.964555, 0.982204]
Level     0,  Iter     0:    Energy =   0.0342
Level     0,  Iter     1:    Energy =   0.0393
Level     0,  Iter     2:    Energy =   0.0438
Level     0,  Iter     3:    Energy =   0.0480
Level     0,  Iter     4:    Energy =   0.0525
Level     0,  Iter     5:    Energy =   0.0555
Level     0,  Iter     6:    Energy =   0.0581
Level     0,  Iter     7:    Energy =   0.0603
Level     0,  Iter     8:    Energy =   0.0628
Level     0,  Iter     9:    Energy =   0.0649
Level     0,  Iter    10:    Energy =   0.0661
Level     0,  Iter    11:    Energy =   0.0662
Level     0,  Iter    12:    Energy =   0.0670
Level     0,  Iter    13:    Energy =   0.0668
Level     0,  Iter    14:    Energy =   0.0676
Level     0,  Iter    15:    Energy =   0.0675
Level     0,  Iter    16:    Energy =   0.0681
Level     0,  Iter    17:    Energy =   0.0679
Level     0,  Iter    18:    Energy =   0.0684
Level     0,  Iter    19:    Energy =   0.0684
Level     0,  Iter    20:    Energy =   0.0689
Level     0,  Iter    21:    Energy =   0.0688
Level     0,  Iter    22:    Energy =   0.0692
Level     0,  Iter    23:    Energy =   0.0691
Level     0,  Iter    24:    Energy =   0.0696
Level     0,  Iter    25:    Energy =   0.0694
Level     0,  Iter    26:    Energy =   0.0698
Level     0,  Iter    27:    Energy =   0.0697
Level     0,  Iter    28:    Energy =   0.0701
Level     0,  Iter    29:    Energy =   0.0700
Level     0,  Iter    30:    Energy =   0.0704
Level     0,  Iter    31:    Energy =   0.0702
Level     0,  Iter    32:    Energy =   0.0706
Level     0,  Iter    33:    Energy =   0.0704
Level     0,  Iter    34:    Energy =   0.0708
Level     0,  Iter    35:    Energy =   0.0706
Level     0,  Iter    36:    Energy =   0.0711
Level     0,  Iter    37:    Energy =   0.0709
Level     0,  Iter    38:    Energy =   0.0714
Level     0,  Iter    39:    Energy =   0.0712
Level     0,  Iter    40:    Energy =   0.0715
Level     0,  Iter    41:    Energy =   0.0713
Level     0,  Iter    42:    Energy =   0.0717
Level     0,  Iter    43:    Energy =   0.0715
Level     0,  Iter    44:    Energy =   0.0720
Level     0,  Iter    45:    Energy =   0.0717
Level     0,  Iter    46:    Energy =   0.0722
Level     0,  Iter    47:    Energy =   0.0720
Level     0,  Iter    48:    Energy =   0.0726
Level     0,  Iter    49:    Energy =   0.0724
Level     0,  Iter    50:    Energy =   0.0729
Level     0,  Iter    51:    Energy =   0.0727
Level     0,  Iter    52:    Energy =   0.0732
Level     0,  Iter    53:    Energy =   0.0729
Level     0,  Iter    54:    Energy =   0.0733
Level     0,  Iter    55:    Energy =   0.0730
Level     0,  Iter    56:    Energy =   0.0735
Level     0,  Iter    57:    Energy =   0.0732
Level     0,  Iter    58:    Energy =   0.0736
Level     0,  Iter    59:    Energy =   0.0733
END OF LEVEL     0    DetJac Range:   0.2029  to   2.0622 
  Avg. Gradient Time  : 0.0088s  38.14% 
  Avg. Gaussian Time  : 0.0109s  47.29% 
  Avg. Iteration Time : 0.0231s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.19557, 1.20295], [0.486035, 0.488088, 0.491102]
Level     1,  Iter     0:    Energy =   0.0482
Level     1,  Iter     1:    Energy =   0.0522
Level     1,  Iter     2:    Energy =   0.0561
Level     1,  Iter     3:    Energy =   0.0585
Level     1,  Iter     4:    Energy =   0.0608
Level     1,  Iter     5:    Energy =   0.0631
Level     1,  Iter     6:    Energy =   0.0652
Level     1,  Iter     7:    Energy =   0.0672
Level     1,  Iter     8:    Energy =   0.0681
Level     1,  Iter     9:    Energy =   0.0694
Level     1,  Iter    10:    Energy =   0.0707
Level     1,  Iter    11:    Energy =   0.0720
Level     1,  Iter    12:    Energy =   0.0728
Level     1,  Iter    13:    Energy =   0.0727
Level     1,  Iter    14:    Energy =   0.0732
Level     1,  Iter    15:    Energy =   0.0734
Level     1,  Iter    16:    Energy =   0.0736
Level     1,  Iter    17:    Energy =   0.0735
Level     1,  Iter    18:    Energy =   0.0738
Level     1,  Iter    19:    Energy =   0.0740
Level     1,  Iter    20:    Energy =   0.0741
Level     1,  Iter    21:    Energy =   0.0740
Level     1,  Iter    22:    Energy =   0.0744
Level     1,  Iter    23:    Energy =   0.0744
Level     1,  Iter    24:    Energy =   0.0747
Level     1,  Iter    25:    Energy =   0.0745
Level     1,  Iter    26:    Energy =   0.0750
Level     1,  Iter    27:    Energy =   0.0750
Level     1,  Iter    28:    Energy =   0.0749
Level     1,  Iter    29:    Energy =   0.0748
Level     1,  Iter    30:    Energy =   0.0751
Level     1,  Iter    31:    Energy =   0.0749
Level     1,  Iter    32:    Energy =   0.0754
Level     1,  Iter    33:    Energy =   0.0752
Level     1,  Iter    34:    Energy =   0.0754
Level     1,  Iter    35:    Energy =   0.0751
Level     1,  Iter    36:    Energy =   0.0757
Level     1,  Iter    37:    Energy =   0.0754
Level     1,  Iter    38:    Energy =   0.0757
Level     1,  Iter    39:    Energy =   0.0754
Level     1,  Iter    40:    Energy =   0.0760
Level     1,  Iter    41:    Energy =   0.0757
Level     1,  Iter    42:    Energy =   0.0759
Level     1,  Iter    43:    Energy =   0.0755
Level     1,  Iter    44:    Energy =   0.0763
Level     1,  Iter    45:    Energy =   0.0759
Level     1,  Iter    46:    Energy =   0.0763
Level     1,  Iter    47:    Energy =   0.0759
Level     1,  Iter    48:    Energy =   0.0766
Level     1,  Iter    49:    Energy =   0.0762
Level     1,  Iter    50:    Energy =   0.0764
Level     1,  Iter    51:    Energy =   0.0760
Level     1,  Iter    52:    Energy =   0.0767
Level     1,  Iter    53:    Energy =   0.0763
Level     1,  Iter    54:    Energy =   0.0769
Level     1,  Iter    55:    Energy =   0.0765
Level     1,  Iter    56:    Energy =   0.0770
Level     1,  Iter    57:    Energy =   0.0765
Level     1,  Iter    58:    Energy =   0.0769
Level     1,  Iter    59:    Energy =   0.0765
END OF LEVEL     1    DetJac Range:   0.0786  to   3.1954 
  Avg. Gradient Time  : 0.0515s  39.59% 
  Avg. Gaussian Time  : 0.0630s  48.44% 
  Avg. Iteration Time : 0.1300s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0422
Level     2,  Iter     1:    Energy =   0.0445
Level     2,  Iter     2:    Energy =   0.0466
Level     2,  Iter     3:    Energy =   0.0486
Level     2,  Iter     4:    Energy =   0.0499
Level     2,  Iter     5:    Energy =   0.0509
Level     2,  Iter     6:    Energy =   0.0519
Level     2,  Iter     7:    Energy =   0.0529
Level     2,  Iter     8:    Energy =   0.0539
Level     2,  Iter     9:    Energy =   0.0546
Level     2,  Iter    10:    Energy =   0.0552
Level     2,  Iter    11:    Energy =   0.0559
Level     2,  Iter    12:    Energy =   0.0566
Level     2,  Iter    13:    Energy =   0.0571
Level     2,  Iter    14:    Energy =   0.0577
Level     2,  Iter    15:    Energy =   0.0582
Level     2,  Iter    16:    Energy =   0.0587
Level     2,  Iter    17:    Energy =   0.0591
Level     2,  Iter    18:    Energy =   0.0595
Level     2,  Iter    19:    Energy =   0.0599
END OF LEVEL     2    DetJac Range:   0.0785  to   4.9920 
  Avg. Gradient Time  : 0.3570s  37.19% 
  Avg. Gaussian Time  : 0.5011s  52.22% 
  Avg. Iteration Time : 0.9597s 

real	0m32.182s
user	0m56.604s
sys	0m3.396s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.715385 0.721154
+ echo 'CHUNK 0.715385 0.721154 1'
CHUNK 0.715385 0.721154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.715385 0.721154 1
====================================
         PROGRESS: 0.715385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=021
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 021
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 021 left 0
+ local tid=021
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1810.21 	 OutFr   0.0025 	 RMSD     2.6957
Iter 002 	 Temp     3.72 	 Delta  1808.12 	 OutFr   0.0025 	 RMSD     1.9593
Iter 003 	 Temp     3.46 	 Delta  1708.64 	 OutFr   0.0025 	 RMSD     1.9676
Iter 004 	 Temp     3.22 	 Delta  1599.73 	 OutFr   0.0025 	 RMSD     1.9430
Iter 005 	 Temp     2.99 	 Delta  1498.22 	 OutFr   0.0025 	 RMSD     1.9167
Iter 006 	 Temp     2.78 	 Delta  1407.94 	 OutFr   0.0025 	 RMSD     1.8936
Iter 007 	 Temp     2.59 	 Delta  1329.48 	 OutFr   0.0025 	 RMSD     1.8735
Iter 008 	 Temp     2.41 	 Delta  1262.13 	 OutFr   0.0025 	 RMSD     1.8553
Iter 009 	 Temp     2.24 	 Delta  1204.38 	 OutFr   0.0025 	 RMSD     1.8396
Iter 010 	 Temp     2.08 	 Delta  1154.26 	 OutFr   0.0025 	 RMSD     1.8264
Iter 011 	 Temp     1.94 	 Delta  1109.59 	 OutFr   0.0025 	 RMSD     1.8155
Iter 012 	 Temp     1.80 	 Delta  1068.33 	 OutFr   0.0025 	 RMSD     1.8065
Iter 013 	 Temp     1.67 	 Delta  1028.66 	 OutFr   0.0025 	 RMSD     1.7992
Iter 014 	 Temp     1.56 	 Delta   988.63 	 OutFr   0.0025 	 RMSD     1.7934
Iter 015 	 Temp     1.45 	 Delta   946.10 	 OutFr   0.0025 	 RMSD     1.7889
Iter 016 	 Temp     1.35 	 Delta   899.40 	 OutFr   0.0049 	 RMSD     1.7854
Iter 017 	 Temp     1.25 	 Delta   847.73 	 OutFr   0.0074 	 RMSD     1.7827
Iter 018 	 Temp     1.16 	 Delta   791.60 	 OutFr   0.0074 	 RMSD     1.7808
Iter 019 	 Temp     1.08 	 Delta   734.47 	 OutFr   0.0148 	 RMSD     1.7795
Iter 020 	 Temp     1.01 	 Delta   681.98 	 OutFr   0.0246 	 RMSD     1.7787
Iter 021 	 Temp     0.94 	 Delta   636.19 	 OutFr   0.0345 	 RMSD     1.7782
Iter 022 	 Temp     0.87 	 Delta   592.53 	 OutFr   0.0394 	 RMSD     1.7784
Iter 023 	 Temp     0.81 	 Delta   545.53 	 OutFr   0.0493 	 RMSD     1.7792
Iter 024 	 Temp     0.75 	 Delta   493.15 	 OutFr   0.0690 	 RMSD     1.7803
Iter 025 	 Temp     0.70 	 Delta   437.77 	 OutFr   0.0911 	 RMSD     1.7817
Iter 026 	 Temp     0.65 	 Delta   387.03 	 OutFr   0.1133 	 RMSD     1.7842
Iter 027 	 Temp     0.61 	 Delta   349.80 	 OutFr   0.1527 	 RMSD     1.7886
Iter 028 	 Temp     0.56 	 Delta   325.37 	 OutFr   0.1675 	 RMSD     1.7940
Iter 029 	 Temp     0.52 	 Delta   304.01 	 OutFr   0.1823 	 RMSD     1.7985
Iter 030 	 Temp     0.49 	 Delta   282.48 	 OutFr   0.2044 	 RMSD     1.8010
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.EU7vcuG9/mybin.nii.gz
+ vtklevelset /tmp/ashs.EU7vcuG9/mybin.nii.gz /tmp/ashs.EU7vcuG9/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.EU7vcuG9/mymesh.vtk /tmp/ashs.EU7vcuG9/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 2993.10976950   0.98021743
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.EU7vcuG9/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -30.7007 to -7.84636
   Y : -22.0411 to 25.653
   Z : -39.8312 to -12.1293
   Image resolution  : 95 by 167 by 108
   Image box origin  : {-35.7007, -27.0411, -44.8312}
   Image box size    : {32.9861, 57.9861, 37.7996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [35.7007, 27.0411, -44.8312]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat -o /tmp/ashs.EU7vcuG9/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat -o /tmp/ashs.EU7vcuG9/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.EU7vcuG9/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.721154 0.726923
+ echo 'CHUNK 0.721154 0.726923 0.5'
CHUNK 0.721154 0.726923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.721154 0.726923 0.5
====================================
         PROGRESS: 0.721154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.EU7vcuG9/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.EU7vcuG9/fixed_hw.nii.gz /tmp/ashs.EU7vcuG9/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.512832, moving = 0.675186
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.39131, 2.42484], [0.971862, 0.976246, 0.989938]
Level     0,  Iter     0:    Energy =   0.0377
Level     0,  Iter     1:    Energy =   0.0438
Level     0,  Iter     2:    Energy =   0.0487
Level     0,  Iter     3:    Energy =   0.0531
Level     0,  Iter     4:    Energy =   0.0572
Level     0,  Iter     5:    Energy =   0.0611
Level     0,  Iter     6:    Energy =   0.0650
Level     0,  Iter     7:    Energy =   0.0677
Level     0,  Iter     8:    Energy =   0.0699
Level     0,  Iter     9:    Energy =   0.0726
Level     0,  Iter    10:    Energy =   0.0747
Level     0,  Iter    11:    Energy =   0.0753
Level     0,  Iter    12:    Energy =   0.0758
Level     0,  Iter    13:    Energy =   0.0765
Level     0,  Iter    14:    Energy =   0.0768
Level     0,  Iter    15:    Energy =   0.0774
Level     0,  Iter    16:    Energy =   0.0777
Level     0,  Iter    17:    Energy =   0.0780
Level     0,  Iter    18:    Energy =   0.0783
Level     0,  Iter    19:    Energy =   0.0785
Level     0,  Iter    20:    Energy =   0.0787
Level     0,  Iter    21:    Energy =   0.0788
Level     0,  Iter    22:    Energy =   0.0792
Level     0,  Iter    23:    Energy =   0.0792
Level     0,  Iter    24:    Energy =   0.0796
Level     0,  Iter    25:    Energy =   0.0796
Level     0,  Iter    26:    Energy =   0.0799
Level     0,  Iter    27:    Energy =   0.0799
Level     0,  Iter    28:    Energy =   0.0802
Level     0,  Iter    29:    Energy =   0.0803
Level     0,  Iter    30:    Energy =   0.0805
Level     0,  Iter    31:    Energy =   0.0805
Level     0,  Iter    32:    Energy =   0.0806
Level     0,  Iter    33:    Energy =   0.0806
Level     0,  Iter    34:    Energy =   0.0807
Level     0,  Iter    35:    Energy =   0.0808
Level     0,  Iter    36:    Energy =   0.0809
Level     0,  Iter    37:    Energy =   0.0809
Level     0,  Iter    38:    Energy =   0.0810
Level     0,  Iter    39:    Energy =   0.0810
Level     0,  Iter    40:    Energy =   0.0811
Level     0,  Iter    41:    Energy =   0.0811
Level     0,  Iter    42:    Energy =   0.0812
Level     0,  Iter    43:    Energy =   0.0811
Level     0,  Iter    44:    Energy =   0.0812
Level     0,  Iter    45:    Energy =   0.0811
Level     0,  Iter    46:    Energy =   0.0813
Level     0,  Iter    47:    Energy =   0.0812
Level     0,  Iter    48:    Energy =   0.0813
Level     0,  Iter    49:    Energy =   0.0812
Level     0,  Iter    50:    Energy =   0.0813
Level     0,  Iter    51:    Energy =   0.0812
Level     0,  Iter    52:    Energy =   0.0813
Level     0,  Iter    53:    Energy =   0.0812
Level     0,  Iter    54:    Energy =   0.0813
Level     0,  Iter    55:    Energy =   0.0812
Level     0,  Iter    56:    Energy =   0.0814
Level     0,  Iter    57:    Energy =   0.0813
Level     0,  Iter    58:    Energy =   0.0814
Level     0,  Iter    59:    Energy =   0.0813
END OF LEVEL     0    DetJac Range:   0.4018  to   1.9117 
  Avg. Gradient Time  : 0.0075s  38.01% 
  Avg. Gaussian Time  : 0.0094s  47.25% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.19565, 1.21242], [0.485931, 0.488123, 0.494969]
Level     1,  Iter     0:    Energy =   0.0571
Level     1,  Iter     1:    Energy =   0.0613
Level     1,  Iter     2:    Energy =   0.0644
Level     1,  Iter     3:    Energy =   0.0665
Level     1,  Iter     4:    Energy =   0.0691
Level     1,  Iter     5:    Energy =   0.0710
Level     1,  Iter     6:    Energy =   0.0724
Level     1,  Iter     7:    Energy =   0.0734
Level     1,  Iter     8:    Energy =   0.0745
Level     1,  Iter     9:    Energy =   0.0757
Level     1,  Iter    10:    Energy =   0.0769
Level     1,  Iter    11:    Energy =   0.0782
Level     1,  Iter    12:    Energy =   0.0794
Level     1,  Iter    13:    Energy =   0.0803
Level     1,  Iter    14:    Energy =   0.0809
Level     1,  Iter    15:    Energy =   0.0809
Level     1,  Iter    16:    Energy =   0.0812
Level     1,  Iter    17:    Energy =   0.0811
Level     1,  Iter    18:    Energy =   0.0815
Level     1,  Iter    19:    Energy =   0.0814
Level     1,  Iter    20:    Energy =   0.0815
Level     1,  Iter    21:    Energy =   0.0814
Level     1,  Iter    22:    Energy =   0.0817
Level     1,  Iter    23:    Energy =   0.0815
Level     1,  Iter    24:    Energy =   0.0819
Level     1,  Iter    25:    Energy =   0.0817
Level     1,  Iter    26:    Energy =   0.0820
Level     1,  Iter    27:    Energy =   0.0818
Level     1,  Iter    28:    Energy =   0.0821
Level     1,  Iter    29:    Energy =   0.0820
Level     1,  Iter    30:    Energy =   0.0822
Level     1,  Iter    31:    Energy =   0.0821
Level     1,  Iter    32:    Energy =   0.0823
Level     1,  Iter    33:    Energy =   0.0822
Level     1,  Iter    34:    Energy =   0.0825
Level     1,  Iter    35:    Energy =   0.0823
Level     1,  Iter    36:    Energy =   0.0826
Level     1,  Iter    37:    Energy =   0.0824
Level     1,  Iter    38:    Energy =   0.0827
Level     1,  Iter    39:    Energy =   0.0825
Level     1,  Iter    40:    Energy =   0.0828
Level     1,  Iter    41:    Energy =   0.0826
Level     1,  Iter    42:    Energy =   0.0829
Level     1,  Iter    43:    Energy =   0.0827
Level     1,  Iter    44:    Energy =   0.0830
Level     1,  Iter    45:    Energy =   0.0828
Level     1,  Iter    46:    Energy =   0.0829
Level     1,  Iter    47:    Energy =   0.0828
Level     1,  Iter    48:    Energy =   0.0831
Level     1,  Iter    49:    Energy =   0.0829
Level     1,  Iter    50:    Energy =   0.0830
Level     1,  Iter    51:    Energy =   0.0828
Level     1,  Iter    52:    Energy =   0.0831
Level     1,  Iter    53:    Energy =   0.0830
Level     1,  Iter    54:    Energy =   0.0831
Level     1,  Iter    55:    Energy =   0.0829
Level     1,  Iter    56:    Energy =   0.0832
Level     1,  Iter    57:    Energy =   0.0831
Level     1,  Iter    58:    Energy =   0.0832
Level     1,  Iter    59:    Energy =   0.0830
END OF LEVEL     1    DetJac Range:   0.1015  to   2.9303 
  Avg. Gradient Time  : 0.0438s  40.37% 
  Avg. Gaussian Time  : 0.0516s  47.63% 
  Avg. Iteration Time : 0.1084s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0447
Level     2,  Iter     1:    Energy =   0.0468
Level     2,  Iter     2:    Energy =   0.0489
Level     2,  Iter     3:    Energy =   0.0508
Level     2,  Iter     4:    Energy =   0.0524
Level     2,  Iter     5:    Energy =   0.0539
Level     2,  Iter     6:    Energy =   0.0550
Level     2,  Iter     7:    Energy =   0.0559
Level     2,  Iter     8:    Energy =   0.0567
Level     2,  Iter     9:    Energy =   0.0574
Level     2,  Iter    10:    Energy =   0.0580
Level     2,  Iter    11:    Energy =   0.0586
Level     2,  Iter    12:    Energy =   0.0592
Level     2,  Iter    13:    Energy =   0.0597
Level     2,  Iter    14:    Energy =   0.0602
Level     2,  Iter    15:    Energy =   0.0607
Level     2,  Iter    16:    Energy =   0.0611
Level     2,  Iter    17:    Energy =   0.0616
Level     2,  Iter    18:    Energy =   0.0620
Level     2,  Iter    19:    Energy =   0.0624
END OF LEVEL     2    DetJac Range:   0.0456  to   4.2356 
  Avg. Gradient Time  : 0.3054s  37.68% 
  Avg. Gaussian Time  : 0.4190s  51.69% 
  Avg. Iteration Time : 0.8106s 

real	0m27.146s
user	0m47.996s
sys	0m2.684s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.721154 0.726923
+ echo 'CHUNK 0.721154 0.726923 1'
CHUNK 0.721154 0.726923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.721154 0.726923 1
====================================
         PROGRESS: 0.721154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=022
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 022
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 022 left 0
+ local tid=022
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1666.18 	 OutFr   0.0000 	 RMSD     1.9944
Iter 002 	 Temp     3.72 	 Delta  1652.51 	 OutFr   0.0000 	 RMSD     1.8643
Iter 003 	 Temp     3.46 	 Delta  1578.82 	 OutFr   0.0000 	 RMSD     1.8929
Iter 004 	 Temp     3.22 	 Delta  1495.80 	 OutFr   0.0000 	 RMSD     1.8648
Iter 005 	 Temp     2.99 	 Delta  1415.32 	 OutFr   0.0000 	 RMSD     1.8331
Iter 006 	 Temp     2.78 	 Delta  1339.83 	 OutFr   0.0000 	 RMSD     1.8055
Iter 007 	 Temp     2.59 	 Delta  1270.33 	 OutFr   0.0000 	 RMSD     1.7825
Iter 008 	 Temp     2.41 	 Delta  1207.31 	 OutFr   0.0000 	 RMSD     1.7630
Iter 009 	 Temp     2.24 	 Delta  1150.69 	 OutFr   0.0000 	 RMSD     1.7463
Iter 010 	 Temp     2.08 	 Delta  1099.93 	 OutFr   0.0000 	 RMSD     1.7318
Iter 011 	 Temp     1.94 	 Delta  1054.10 	 OutFr   0.0000 	 RMSD     1.7202
Iter 012 	 Temp     1.80 	 Delta  1011.77 	 OutFr   0.0025 	 RMSD     1.7106
Iter 013 	 Temp     1.67 	 Delta   971.17 	 OutFr   0.0049 	 RMSD     1.7013
Iter 014 	 Temp     1.56 	 Delta   930.62 	 OutFr   0.0049 	 RMSD     1.6937
Iter 015 	 Temp     1.45 	 Delta   888.49 	 OutFr   0.0049 	 RMSD     1.6869
Iter 016 	 Temp     1.35 	 Delta   843.54 	 OutFr   0.0074 	 RMSD     1.6805
Iter 017 	 Temp     1.25 	 Delta   795.73 	 OutFr   0.0074 	 RMSD     1.6753
Iter 018 	 Temp     1.16 	 Delta   746.00 	 OutFr   0.0099 	 RMSD     1.6722
Iter 019 	 Temp     1.08 	 Delta   694.72 	 OutFr   0.0123 	 RMSD     1.6706
Iter 020 	 Temp     1.01 	 Delta   643.74 	 OutFr   0.0222 	 RMSD     1.6695
Iter 021 	 Temp     0.94 	 Delta   594.60 	 OutFr   0.0296 	 RMSD     1.6688
Iter 022 	 Temp     0.87 	 Delta   546.93 	 OutFr   0.0419 	 RMSD     1.6694
Iter 023 	 Temp     0.81 	 Delta   499.71 	 OutFr   0.0567 	 RMSD     1.6713
Iter 024 	 Temp     0.75 	 Delta   451.84 	 OutFr   0.0714 	 RMSD     1.6739
Iter 025 	 Temp     0.70 	 Delta   407.27 	 OutFr   0.0936 	 RMSD     1.6771
Iter 026 	 Temp     0.65 	 Delta   372.20 	 OutFr   0.1158 	 RMSD     1.6810
Iter 027 	 Temp     0.61 	 Delta   344.55 	 OutFr   0.1256 	 RMSD     1.6847
Iter 028 	 Temp     0.56 	 Delta   319.72 	 OutFr   0.1502 	 RMSD     1.6878
Iter 029 	 Temp     0.52 	 Delta   296.62 	 OutFr   0.1675 	 RMSD     1.6901
Iter 030 	 Temp     0.49 	 Delta   274.60 	 OutFr   0.1823 	 RMSD     1.6920
Iter 031 	 Temp     0.45 	 Delta   252.09 	 OutFr   0.2118 	 RMSD     1.6934
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.MWRswyr7/mybin.nii.gz
+ vtklevelset /tmp/ashs.MWRswyr7/mybin.nii.gz /tmp/ashs.MWRswyr7/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.MWRswyr7/mymesh.vtk /tmp/ashs.MWRswyr7/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 2808.27174338   0.91968459
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.MWRswyr7/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.3898 to -11.3654
   Y : -15.6374 to 28.7538
   Z : -29.7728 to 0.51329
   Image resolution  : 93 by 157 by 116
   Image box origin  : {-38.3898, -20.6374, -34.7728}
   Image box size    : {32.2916, 54.5139, 40.5995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.3898, 20.6374, -34.7728]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat -o /tmp/ashs.MWRswyr7/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat -o /tmp/ashs.MWRswyr7/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.MWRswyr7/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.726923 0.732692
+ echo 'CHUNK 0.726923 0.732692 0.5'
CHUNK 0.726923 0.732692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.726923 0.732692 0.5
====================================
         PROGRESS: 0.726923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.MWRswyr7/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.MWRswyr7/fixed_hw.nii.gz /tmp/ashs.MWRswyr7/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.51445, moving = 0.563281
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.36052, 2.42484], [0.951402, 0.963678, 0.989938]
Level     0,  Iter     0:    Energy =   0.0560
Level     0,  Iter     1:    Energy =   0.0643
Level     0,  Iter     2:    Energy =   0.0706
Level     0,  Iter     3:    Energy =   0.0764
Level     0,  Iter     4:    Energy =   0.0806
Level     0,  Iter     5:    Energy =   0.0837
Level     0,  Iter     6:    Energy =   0.0863
Level     0,  Iter     7:    Energy =   0.0885
Level     0,  Iter     8:    Energy =   0.0901
Level     0,  Iter     9:    Energy =   0.0907
Level     0,  Iter    10:    Energy =   0.0908
Level     0,  Iter    11:    Energy =   0.0913
Level     0,  Iter    12:    Energy =   0.0914
Level     0,  Iter    13:    Energy =   0.0918
Level     0,  Iter    14:    Energy =   0.0919
Level     0,  Iter    15:    Energy =   0.0922
Level     0,  Iter    16:    Energy =   0.0924
Level     0,  Iter    17:    Energy =   0.0928
Level     0,  Iter    18:    Energy =   0.0930
Level     0,  Iter    19:    Energy =   0.0934
Level     0,  Iter    20:    Energy =   0.0936
Level     0,  Iter    21:    Energy =   0.0939
Level     0,  Iter    22:    Energy =   0.0939
Level     0,  Iter    23:    Energy =   0.0942
Level     0,  Iter    24:    Energy =   0.0942
Level     0,  Iter    25:    Energy =   0.0944
Level     0,  Iter    26:    Energy =   0.0944
Level     0,  Iter    27:    Energy =   0.0945
Level     0,  Iter    28:    Energy =   0.0944
Level     0,  Iter    29:    Energy =   0.0947
Level     0,  Iter    30:    Energy =   0.0946
Level     0,  Iter    31:    Energy =   0.0948
Level     0,  Iter    32:    Energy =   0.0947
Level     0,  Iter    33:    Energy =   0.0950
Level     0,  Iter    34:    Energy =   0.0949
Level     0,  Iter    35:    Energy =   0.0951
Level     0,  Iter    36:    Energy =   0.0950
Level     0,  Iter    37:    Energy =   0.0953
Level     0,  Iter    38:    Energy =   0.0951
Level     0,  Iter    39:    Energy =   0.0953
Level     0,  Iter    40:    Energy =   0.0951
Level     0,  Iter    41:    Energy =   0.0954
Level     0,  Iter    42:    Energy =   0.0952
Level     0,  Iter    43:    Energy =   0.0954
Level     0,  Iter    44:    Energy =   0.0952
Level     0,  Iter    45:    Energy =   0.0954
Level     0,  Iter    46:    Energy =   0.0953
Level     0,  Iter    47:    Energy =   0.0956
Level     0,  Iter    48:    Energy =   0.0954
Level     0,  Iter    49:    Energy =   0.0956
Level     0,  Iter    50:    Energy =   0.0954
Level     0,  Iter    51:    Energy =   0.0957
Level     0,  Iter    52:    Energy =   0.0955
Level     0,  Iter    53:    Energy =   0.0957
Level     0,  Iter    54:    Energy =   0.0956
Level     0,  Iter    55:    Energy =   0.0958
Level     0,  Iter    56:    Energy =   0.0956
Level     0,  Iter    57:    Energy =   0.0960
Level     0,  Iter    58:    Energy =   0.0957
Level     0,  Iter    59:    Energy =   0.0959
END OF LEVEL     0    DetJac Range:   0.2337  to   1.9868 
  Avg. Gradient Time  : 0.0075s  37.45% 
  Avg. Gaussian Time  : 0.0096s  47.58% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.1952, 1.21242], [0.485822, 0.487938, 0.494969]
Level     1,  Iter     0:    Energy =   0.0677
Level     1,  Iter     1:    Energy =   0.0729
Level     1,  Iter     2:    Energy =   0.0762
Level     1,  Iter     3:    Energy =   0.0791
Level     1,  Iter     4:    Energy =   0.0819
Level     1,  Iter     5:    Energy =   0.0842
Level     1,  Iter     6:    Energy =   0.0858
Level     1,  Iter     7:    Energy =   0.0872
Level     1,  Iter     8:    Energy =   0.0883
Level     1,  Iter     9:    Energy =   0.0891
Level     1,  Iter    10:    Energy =   0.0898
Level     1,  Iter    11:    Energy =   0.0899
Level     1,  Iter    12:    Energy =   0.0905
Level     1,  Iter    13:    Energy =   0.0902
Level     1,  Iter    14:    Energy =   0.0910
Level     1,  Iter    15:    Energy =   0.0916
Level     1,  Iter    16:    Energy =   0.0916
Level     1,  Iter    17:    Energy =   0.0913
Level     1,  Iter    18:    Energy =   0.0921
Level     1,  Iter    19:    Energy =   0.0922
Level     1,  Iter    20:    Energy =   0.0922
Level     1,  Iter    21:    Energy =   0.0918
Level     1,  Iter    22:    Energy =   0.0926
Level     1,  Iter    23:    Energy =   0.0925
Level     1,  Iter    24:    Energy =   0.0926
Level     1,  Iter    25:    Energy =   0.0922
Level     1,  Iter    26:    Energy =   0.0930
Level     1,  Iter    27:    Energy =   0.0928
Level     1,  Iter    28:    Energy =   0.0927
Level     1,  Iter    29:    Energy =   0.0925
Level     1,  Iter    30:    Energy =   0.0928
Level     1,  Iter    31:    Energy =   0.0925
Level     1,  Iter    32:    Energy =   0.0931
Level     1,  Iter    33:    Energy =   0.0928
Level     1,  Iter    34:    Energy =   0.0930
Level     1,  Iter    35:    Energy =   0.0928
Level     1,  Iter    36:    Energy =   0.0930
Level     1,  Iter    37:    Energy =   0.0928
Level     1,  Iter    38:    Energy =   0.0930
Level     1,  Iter    39:    Energy =   0.0928
Level     1,  Iter    40:    Energy =   0.0931
Level     1,  Iter    41:    Energy =   0.0928
Level     1,  Iter    42:    Energy =   0.0931
Level     1,  Iter    43:    Energy =   0.0928
Level     1,  Iter    44:    Energy =   0.0932
Level     1,  Iter    45:    Energy =   0.0929
Level     1,  Iter    46:    Energy =   0.0934
Level     1,  Iter    47:    Energy =   0.0931
Level     1,  Iter    48:    Energy =   0.0934
Level     1,  Iter    49:    Energy =   0.0931
Level     1,  Iter    50:    Energy =   0.0935
Level     1,  Iter    51:    Energy =   0.0932
Level     1,  Iter    52:    Energy =   0.0935
Level     1,  Iter    53:    Energy =   0.0932
Level     1,  Iter    54:    Energy =   0.0934
Level     1,  Iter    55:    Energy =   0.0932
Level     1,  Iter    56:    Energy =   0.0933
Level     1,  Iter    57:    Energy =   0.0931
Level     1,  Iter    58:    Energy =   0.0932
Level     1,  Iter    59:    Energy =   0.0930
END OF LEVEL     1    DetJac Range:   0.1099  to   3.4597 
  Avg. Gradient Time  : 0.0435s  40.22% 
  Avg. Gaussian Time  : 0.0519s  47.96% 
  Avg. Iteration Time : 0.1082s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0497
Level     2,  Iter     1:    Energy =   0.0520
Level     2,  Iter     2:    Energy =   0.0544
Level     2,  Iter     3:    Energy =   0.0560
Level     2,  Iter     4:    Energy =   0.0577
Level     2,  Iter     5:    Energy =   0.0591
Level     2,  Iter     6:    Energy =   0.0604
Level     2,  Iter     7:    Energy =   0.0617
Level     2,  Iter     8:    Energy =   0.0627
Level     2,  Iter     9:    Energy =   0.0636
Level     2,  Iter    10:    Energy =   0.0641
Level     2,  Iter    11:    Energy =   0.0646
Level     2,  Iter    12:    Energy =   0.0645
Level     2,  Iter    13:    Energy =   0.0656
Level     2,  Iter    14:    Energy =   0.0654
Level     2,  Iter    15:    Energy =   0.0663
Level     2,  Iter    16:    Energy =   0.0660
Level     2,  Iter    17:    Energy =   0.0669
Level     2,  Iter    18:    Energy =   0.0667
Level     2,  Iter    19:    Energy =   0.0671
END OF LEVEL     2    DetJac Range:   0.0991  to   4.9319 
  Avg. Gradient Time  : 0.2982s  37.26% 
  Avg. Gaussian Time  : 0.4156s  51.93% 
  Avg. Iteration Time : 0.8004s 

real	0m26.970s
user	0m47.396s
sys	0m2.696s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.726923 0.732692
+ echo 'CHUNK 0.726923 0.732692 1'
CHUNK 0.726923 0.732692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.726923 0.732692 1
====================================
         PROGRESS: 0.726923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=023
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 023
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 023 left 0
+ local tid=023
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1527.68 	 OutFr   0.0000 	 RMSD     2.4254
Iter 002 	 Temp     3.72 	 Delta  1497.08 	 OutFr   0.0000 	 RMSD     1.8351
Iter 003 	 Temp     3.46 	 Delta  1422.77 	 OutFr   0.0000 	 RMSD     1.8505
Iter 004 	 Temp     3.22 	 Delta  1352.22 	 OutFr   0.0000 	 RMSD     1.8235
Iter 005 	 Temp     2.99 	 Delta  1293.68 	 OutFr   0.0000 	 RMSD     1.7971
Iter 006 	 Temp     2.78 	 Delta  1244.61 	 OutFr   0.0000 	 RMSD     1.7765
Iter 007 	 Temp     2.59 	 Delta  1203.06 	 OutFr   0.0000 	 RMSD     1.7608
Iter 008 	 Temp     2.41 	 Delta  1168.04 	 OutFr   0.0000 	 RMSD     1.7484
Iter 009 	 Temp     2.24 	 Delta  1137.86 	 OutFr   0.0000 	 RMSD     1.7380
Iter 010 	 Temp     2.08 	 Delta  1110.18 	 OutFr   0.0025 	 RMSD     1.7294
Iter 011 	 Temp     1.94 	 Delta  1082.31 	 OutFr   0.0025 	 RMSD     1.7219
Iter 012 	 Temp     1.80 	 Delta  1052.02 	 OutFr   0.0025 	 RMSD     1.7144
Iter 013 	 Temp     1.67 	 Delta  1018.13 	 OutFr   0.0025 	 RMSD     1.7073
Iter 014 	 Temp     1.56 	 Delta   980.34 	 OutFr   0.0049 	 RMSD     1.7011
Iter 015 	 Temp     1.45 	 Delta   938.30 	 OutFr   0.0074 	 RMSD     1.6958
Iter 016 	 Temp     1.35 	 Delta   891.87 	 OutFr   0.0099 	 RMSD     1.6912
Iter 017 	 Temp     1.25 	 Delta   841.65 	 OutFr   0.0123 	 RMSD     1.6872
Iter 018 	 Temp     1.16 	 Delta   788.65 	 OutFr   0.0123 	 RMSD     1.6836
Iter 019 	 Temp     1.08 	 Delta   734.33 	 OutFr   0.0172 	 RMSD     1.6807
Iter 020 	 Temp     1.01 	 Delta   679.79 	 OutFr   0.0222 	 RMSD     1.6783
Iter 021 	 Temp     0.94 	 Delta   625.86 	 OutFr   0.0345 	 RMSD     1.6764
Iter 022 	 Temp     0.87 	 Delta   573.92 	 OutFr   0.0493 	 RMSD     1.6747
Iter 023 	 Temp     0.81 	 Delta   523.03 	 OutFr   0.0665 	 RMSD     1.6733
Iter 024 	 Temp     0.75 	 Delta   470.17 	 OutFr   0.0788 	 RMSD     1.6719
Iter 025 	 Temp     0.70 	 Delta   417.76 	 OutFr   0.0961 	 RMSD     1.6717
Iter 026 	 Temp     0.65 	 Delta   375.06 	 OutFr   0.1207 	 RMSD     1.6725
Iter 027 	 Temp     0.61 	 Delta   345.72 	 OutFr   0.1404 	 RMSD     1.6763
Iter 028 	 Temp     0.56 	 Delta   322.79 	 OutFr   0.1552 	 RMSD     1.6836
Iter 029 	 Temp     0.52 	 Delta   300.02 	 OutFr   0.1773 	 RMSD     1.6891
Iter 030 	 Temp     0.49 	 Delta   277.40 	 OutFr   0.2069 	 RMSD     1.6927
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.okI3ql8s/mybin.nii.gz
+ vtklevelset /tmp/ashs.okI3ql8s/mybin.nii.gz /tmp/ashs.okI3ql8s/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.okI3ql8s/mymesh.vtk /tmp/ashs.okI3ql8s/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 2792.24243313   0.91443513
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.okI3ql8s/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -30.2808 to -7.57903
   Y : -17.8289 to 25.271
   Z : -24.1699 to 6.51467
   Image resolution  : 95 by 153 by 117
   Image box origin  : {-35.2808, -22.8289, -29.1699}
   Image box size    : {32.9861, 53.125, 40.9495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [35.2808, 22.8289, -29.1699]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat -o /tmp/ashs.okI3ql8s/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat -o /tmp/ashs.okI3ql8s/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.okI3ql8s/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.732692 0.738462
+ echo 'CHUNK 0.732692 0.738462 0.5'
CHUNK 0.732692 0.738462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.732692 0.738462 0.5
====================================
         PROGRESS: 0.732692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.okI3ql8s/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.okI3ql8s/fixed_hw.nii.gz /tmp/ashs.okI3ql8s/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.512097, moving = 0.758925
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.35936, 2.36422], [0.971862, 0.963206, 0.96519]
Level     0,  Iter     0:    Energy =   0.0557
Level     0,  Iter     1:    Energy =   0.0623
Level     0,  Iter     2:    Energy =   0.0683
Level     0,  Iter     3:    Energy =   0.0742
Level     0,  Iter     4:    Energy =   0.0790
Level     0,  Iter     5:    Energy =   0.0826
Level     0,  Iter     6:    Energy =   0.0851
Level     0,  Iter     7:    Energy =   0.0870
Level     0,  Iter     8:    Energy =   0.0884
Level     0,  Iter     9:    Energy =   0.0896
Level     0,  Iter    10:    Energy =   0.0907
Level     0,  Iter    11:    Energy =   0.0917
Level     0,  Iter    12:    Energy =   0.0925
Level     0,  Iter    13:    Energy =   0.0931
Level     0,  Iter    14:    Energy =   0.0936
Level     0,  Iter    15:    Energy =   0.0935
Level     0,  Iter    16:    Energy =   0.0936
Level     0,  Iter    17:    Energy =   0.0940
Level     0,  Iter    18:    Energy =   0.0941
Level     0,  Iter    19:    Energy =   0.0943
Level     0,  Iter    20:    Energy =   0.0944
Level     0,  Iter    21:    Energy =   0.0947
Level     0,  Iter    22:    Energy =   0.0947
Level     0,  Iter    23:    Energy =   0.0947
Level     0,  Iter    24:    Energy =   0.0948
Level     0,  Iter    25:    Energy =   0.0952
Level     0,  Iter    26:    Energy =   0.0952
Level     0,  Iter    27:    Energy =   0.0950
Level     0,  Iter    28:    Energy =   0.0950
Level     0,  Iter    29:    Energy =   0.0951
Level     0,  Iter    30:    Energy =   0.0951
Level     0,  Iter    31:    Energy =   0.0951
Level     0,  Iter    32:    Energy =   0.0952
Level     0,  Iter    33:    Energy =   0.0955
Level     0,  Iter    34:    Energy =   0.0955
Level     0,  Iter    35:    Energy =   0.0953
Level     0,  Iter    36:    Energy =   0.0954
Level     0,  Iter    37:    Energy =   0.0956
Level     0,  Iter    38:    Energy =   0.0956
Level     0,  Iter    39:    Energy =   0.0953
Level     0,  Iter    40:    Energy =   0.0955
Level     0,  Iter    41:    Energy =   0.0956
Level     0,  Iter    42:    Energy =   0.0957
Level     0,  Iter    43:    Energy =   0.0954
Level     0,  Iter    44:    Energy =   0.0956
Level     0,  Iter    45:    Energy =   0.0958
Level     0,  Iter    46:    Energy =   0.0959
Level     0,  Iter    47:    Energy =   0.0955
Level     0,  Iter    48:    Energy =   0.0957
Level     0,  Iter    49:    Energy =   0.0958
Level     0,  Iter    50:    Energy =   0.0957
Level     0,  Iter    51:    Energy =   0.0956
Level     0,  Iter    52:    Energy =   0.0958
Level     0,  Iter    53:    Energy =   0.0959
Level     0,  Iter    54:    Energy =   0.0959
Level     0,  Iter    55:    Energy =   0.0957
Level     0,  Iter    56:    Energy =   0.0958
Level     0,  Iter    57:    Energy =   0.0959
Level     0,  Iter    58:    Energy =   0.0960
Level     0,  Iter    59:    Energy =   0.0957
END OF LEVEL     0    DetJac Range:   0.2969  to   1.8211 
  Avg. Gradient Time  : 0.0076s  37.58% 
  Avg. Gaussian Time  : 0.0095s  47.18% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.195, 1.20215], [0.485931, 0.487857, 0.490774]
Level     1,  Iter     0:    Energy =   0.0702
Level     1,  Iter     1:    Energy =   0.0749
Level     1,  Iter     2:    Energy =   0.0783
Level     1,  Iter     3:    Energy =   0.0818
Level     1,  Iter     4:    Energy =   0.0841
Level     1,  Iter     5:    Energy =   0.0857
Level     1,  Iter     6:    Energy =   0.0870
Level     1,  Iter     7:    Energy =   0.0882
Level     1,  Iter     8:    Energy =   0.0890
Level     1,  Iter     9:    Energy =   0.0897
Level     1,  Iter    10:    Energy =   0.0904
Level     1,  Iter    11:    Energy =   0.0911
Level     1,  Iter    12:    Energy =   0.0918
Level     1,  Iter    13:    Energy =   0.0924
Level     1,  Iter    14:    Energy =   0.0931
Level     1,  Iter    15:    Energy =   0.0934
Level     1,  Iter    16:    Energy =   0.0934
Level     1,  Iter    17:    Energy =   0.0938
Level     1,  Iter    18:    Energy =   0.0937
Level     1,  Iter    19:    Energy =   0.0940
Level     1,  Iter    20:    Energy =   0.0939
Level     1,  Iter    21:    Energy =   0.0940
Level     1,  Iter    22:    Energy =   0.0939
Level     1,  Iter    23:    Energy =   0.0941
Level     1,  Iter    24:    Energy =   0.0940
Level     1,  Iter    25:    Energy =   0.0942
Level     1,  Iter    26:    Energy =   0.0941
Level     1,  Iter    27:    Energy =   0.0942
Level     1,  Iter    28:    Energy =   0.0941
Level     1,  Iter    29:    Energy =   0.0943
Level     1,  Iter    30:    Energy =   0.0942
Level     1,  Iter    31:    Energy =   0.0944
Level     1,  Iter    32:    Energy =   0.0943
Level     1,  Iter    33:    Energy =   0.0945
Level     1,  Iter    34:    Energy =   0.0943
Level     1,  Iter    35:    Energy =   0.0945
Level     1,  Iter    36:    Energy =   0.0944
Level     1,  Iter    37:    Energy =   0.0946
Level     1,  Iter    38:    Energy =   0.0945
Level     1,  Iter    39:    Energy =   0.0947
Level     1,  Iter    40:    Energy =   0.0945
Level     1,  Iter    41:    Energy =   0.0947
Level     1,  Iter    42:    Energy =   0.0946
Level     1,  Iter    43:    Energy =   0.0948
Level     1,  Iter    44:    Energy =   0.0946
Level     1,  Iter    45:    Energy =   0.0948
Level     1,  Iter    46:    Energy =   0.0946
Level     1,  Iter    47:    Energy =   0.0948
Level     1,  Iter    48:    Energy =   0.0946
Level     1,  Iter    49:    Energy =   0.0948
Level     1,  Iter    50:    Energy =   0.0947
Level     1,  Iter    51:    Energy =   0.0948
Level     1,  Iter    52:    Energy =   0.0947
Level     1,  Iter    53:    Energy =   0.0949
Level     1,  Iter    54:    Energy =   0.0947
Level     1,  Iter    55:    Energy =   0.0949
Level     1,  Iter    56:    Energy =   0.0947
Level     1,  Iter    57:    Energy =   0.0949
Level     1,  Iter    58:    Energy =   0.0947
Level     1,  Iter    59:    Energy =   0.0949
END OF LEVEL     1    DetJac Range:   0.2089  to   2.4466 
  Avg. Gradient Time  : 0.0434s  40.14% 
  Avg. Gaussian Time  : 0.0517s  47.84% 
  Avg. Iteration Time : 0.1080s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0542
Level     2,  Iter     1:    Energy =   0.0569
Level     2,  Iter     2:    Energy =   0.0592
Level     2,  Iter     3:    Energy =   0.0613
Level     2,  Iter     4:    Energy =   0.0629
Level     2,  Iter     5:    Energy =   0.0646
Level     2,  Iter     6:    Energy =   0.0658
Level     2,  Iter     7:    Energy =   0.0667
Level     2,  Iter     8:    Energy =   0.0676
Level     2,  Iter     9:    Energy =   0.0684
Level     2,  Iter    10:    Energy =   0.0692
Level     2,  Iter    11:    Energy =   0.0700
Level     2,  Iter    12:    Energy =   0.0707
Level     2,  Iter    13:    Energy =   0.0710
Level     2,  Iter    14:    Energy =   0.0713
Level     2,  Iter    15:    Energy =   0.0713
Level     2,  Iter    16:    Energy =   0.0718
Level     2,  Iter    17:    Energy =   0.0717
Level     2,  Iter    18:    Energy =   0.0721
Level     2,  Iter    19:    Energy =   0.0720
END OF LEVEL     2    DetJac Range:   0.1070  to   3.5873 
  Avg. Gradient Time  : 0.3024s  37.19% 
  Avg. Gaussian Time  : 0.4247s  52.24% 
  Avg. Iteration Time : 0.8131s 

real	0m27.156s
user	0m47.860s
sys	0m2.856s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.732692 0.738462
+ echo 'CHUNK 0.732692 0.738462 1'
CHUNK 0.732692 0.738462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.732692 0.738462 1
====================================
         PROGRESS: 0.732692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=024
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 024
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 024 left 0
+ local tid=024
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1855.32 	 OutFr   0.0000 	 RMSD     2.6266
Iter 002 	 Temp     3.72 	 Delta  1747.69 	 OutFr   0.0000 	 RMSD     2.0010
Iter 003 	 Temp     3.46 	 Delta  1653.89 	 OutFr   0.0000 	 RMSD     2.0272
Iter 004 	 Temp     3.22 	 Delta  1552.67 	 OutFr   0.0000 	 RMSD     2.0129
Iter 005 	 Temp     2.99 	 Delta  1453.94 	 OutFr   0.0000 	 RMSD     1.9913
Iter 006 	 Temp     2.78 	 Delta  1360.83 	 OutFr   0.0000 	 RMSD     1.9697
Iter 007 	 Temp     2.59 	 Delta  1274.48 	 OutFr   0.0000 	 RMSD     1.9498
Iter 008 	 Temp     2.41 	 Delta  1195.11 	 OutFr   0.0000 	 RMSD     1.9314
Iter 009 	 Temp     2.24 	 Delta  1121.31 	 OutFr   0.0025 	 RMSD     1.9134
Iter 010 	 Temp     2.08 	 Delta  1050.60 	 OutFr   0.0025 	 RMSD     1.8961
Iter 011 	 Temp     1.94 	 Delta   981.71 	 OutFr   0.0099 	 RMSD     1.8789
Iter 012 	 Temp     1.80 	 Delta   915.81 	 OutFr   0.0123 	 RMSD     1.8622
Iter 013 	 Temp     1.67 	 Delta   853.85 	 OutFr   0.0172 	 RMSD     1.8481
Iter 014 	 Temp     1.56 	 Delta   794.42 	 OutFr   0.0222 	 RMSD     1.8379
Iter 015 	 Temp     1.45 	 Delta   736.90 	 OutFr   0.0271 	 RMSD     1.8308
Iter 016 	 Temp     1.35 	 Delta   683.90 	 OutFr   0.0320 	 RMSD     1.8250
Iter 017 	 Temp     1.25 	 Delta   637.48 	 OutFr   0.0394 	 RMSD     1.8189
Iter 018 	 Temp     1.16 	 Delta   596.21 	 OutFr   0.0468 	 RMSD     1.8138
Iter 019 	 Temp     1.08 	 Delta   557.56 	 OutFr   0.0542 	 RMSD     1.8108
Iter 020 	 Temp     1.01 	 Delta   520.66 	 OutFr   0.0640 	 RMSD     1.8095
Iter 021 	 Temp     0.94 	 Delta   488.67 	 OutFr   0.0690 	 RMSD     1.8099
Iter 022 	 Temp     0.87 	 Delta   462.79 	 OutFr   0.0837 	 RMSD     1.8117
Iter 023 	 Temp     0.81 	 Delta   441.70 	 OutFr   0.0887 	 RMSD     1.8137
Iter 024 	 Temp     0.75 	 Delta   423.87 	 OutFr   0.1010 	 RMSD     1.8149
Iter 025 	 Temp     0.70 	 Delta   406.59 	 OutFr   0.1133 	 RMSD     1.8154
Iter 026 	 Temp     0.65 	 Delta   388.39 	 OutFr   0.1256 	 RMSD     1.8159
Iter 027 	 Temp     0.61 	 Delta   369.25 	 OutFr   0.1305 	 RMSD     1.8164
Iter 028 	 Temp     0.56 	 Delta   347.78 	 OutFr   0.1502 	 RMSD     1.8170
Iter 029 	 Temp     0.52 	 Delta   324.08 	 OutFr   0.1626 	 RMSD     1.8172
Iter 030 	 Temp     0.49 	 Delta   297.54 	 OutFr   0.1872 	 RMSD     1.8172
Iter 031 	 Temp     0.45 	 Delta   268.67 	 OutFr   0.2217 	 RMSD     1.8167
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.KcT2Tn7z/mybin.nii.gz
+ vtklevelset /tmp/ashs.KcT2Tn7z/mybin.nii.gz /tmp/ashs.KcT2Tn7z/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.KcT2Tn7z/mymesh.vtk /tmp/ashs.KcT2Tn7z/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 2902.49866902   0.95054309
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.KcT2Tn7z/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -31.5092 to -9.58149
   Y : -14.1106 to 31.8001
   Z : -27.9802 to 2.52292
   Image resolution  : 92 by 162 by 116
   Image box origin  : {-36.5092, -19.1106, -32.9802}
   Image box size    : {31.9444, 56.25, 40.5995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [36.5092, 19.1106, -32.9802]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat -o /tmp/ashs.KcT2Tn7z/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat -o /tmp/ashs.KcT2Tn7z/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.KcT2Tn7z/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.738462 0.744231
+ echo 'CHUNK 0.738462 0.744231 0.5'
CHUNK 0.738462 0.744231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.738462 0.744231 0.5
====================================
         PROGRESS: 0.738462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.KcT2Tn7z/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.KcT2Tn7z/fixed_hw.nii.gz /tmp/ashs.KcT2Tn7z/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.515815, moving = 0.650979
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.37629, 2.42484], [0.982092, 0.970115, 0.989938]
Level     0,  Iter     0:    Energy =   0.0326
Level     0,  Iter     1:    Energy =   0.0390
Level     0,  Iter     2:    Energy =   0.0438
Level     0,  Iter     3:    Energy =   0.0482
Level     0,  Iter     4:    Energy =   0.0511
Level     0,  Iter     5:    Energy =   0.0538
Level     0,  Iter     6:    Energy =   0.0561
Level     0,  Iter     7:    Energy =   0.0582
Level     0,  Iter     8:    Energy =   0.0598
Level     0,  Iter     9:    Energy =   0.0617
Level     0,  Iter    10:    Energy =   0.0634
Level     0,  Iter    11:    Energy =   0.0648
Level     0,  Iter    12:    Energy =   0.0659
Level     0,  Iter    13:    Energy =   0.0668
Level     0,  Iter    14:    Energy =   0.0675
Level     0,  Iter    15:    Energy =   0.0682
Level     0,  Iter    16:    Energy =   0.0686
Level     0,  Iter    17:    Energy =   0.0691
Level     0,  Iter    18:    Energy =   0.0694
Level     0,  Iter    19:    Energy =   0.0702
Level     0,  Iter    20:    Energy =   0.0705
Level     0,  Iter    21:    Energy =   0.0708
Level     0,  Iter    22:    Energy =   0.0709
Level     0,  Iter    23:    Energy =   0.0714
Level     0,  Iter    24:    Energy =   0.0714
Level     0,  Iter    25:    Energy =   0.0719
Level     0,  Iter    26:    Energy =   0.0719
Level     0,  Iter    27:    Energy =   0.0726
Level     0,  Iter    28:    Energy =   0.0725
Level     0,  Iter    29:    Energy =   0.0730
Level     0,  Iter    30:    Energy =   0.0725
Level     0,  Iter    31:    Energy =   0.0730
Level     0,  Iter    32:    Energy =   0.0730
Level     0,  Iter    33:    Energy =   0.0734
Level     0,  Iter    34:    Energy =   0.0732
Level     0,  Iter    35:    Energy =   0.0736
Level     0,  Iter    36:    Energy =   0.0735
Level     0,  Iter    37:    Energy =   0.0739
Level     0,  Iter    38:    Energy =   0.0737
Level     0,  Iter    39:    Energy =   0.0741
Level     0,  Iter    40:    Energy =   0.0739
Level     0,  Iter    41:    Energy =   0.0743
Level     0,  Iter    42:    Energy =   0.0740
Level     0,  Iter    43:    Energy =   0.0745
Level     0,  Iter    44:    Energy =   0.0740
Level     0,  Iter    45:    Energy =   0.0745
Level     0,  Iter    46:    Energy =   0.0739
Level     0,  Iter    47:    Energy =   0.0745
Level     0,  Iter    48:    Energy =   0.0741
Level     0,  Iter    49:    Energy =   0.0745
Level     0,  Iter    50:    Energy =   0.0742
Level     0,  Iter    51:    Energy =   0.0746
Level     0,  Iter    52:    Energy =   0.0742
Level     0,  Iter    53:    Energy =   0.0747
Level     0,  Iter    54:    Energy =   0.0742
Level     0,  Iter    55:    Energy =   0.0747
Level     0,  Iter    56:    Energy =   0.0743
Level     0,  Iter    57:    Energy =   0.0748
Level     0,  Iter    58:    Energy =   0.0744
Level     0,  Iter    59:    Energy =   0.0750
END OF LEVEL     0    DetJac Range:   0.3988  to   2.4586 
  Avg. Gradient Time  : 0.0076s  37.83% 
  Avg. Gaussian Time  : 0.0095s  47.07% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0551
Level     1,  Iter     1:    Energy =   0.0600
Level     1,  Iter     2:    Energy =   0.0633
Level     1,  Iter     3:    Energy =   0.0658
Level     1,  Iter     4:    Energy =   0.0675
Level     1,  Iter     5:    Energy =   0.0689
Level     1,  Iter     6:    Energy =   0.0704
Level     1,  Iter     7:    Energy =   0.0718
Level     1,  Iter     8:    Energy =   0.0732
Level     1,  Iter     9:    Energy =   0.0746
Level     1,  Iter    10:    Energy =   0.0754
Level     1,  Iter    11:    Energy =   0.0760
Level     1,  Iter    12:    Energy =   0.0764
Level     1,  Iter    13:    Energy =   0.0766
Level     1,  Iter    14:    Energy =   0.0768
Level     1,  Iter    15:    Energy =   0.0768
Level     1,  Iter    16:    Energy =   0.0772
Level     1,  Iter    17:    Energy =   0.0771
Level     1,  Iter    18:    Energy =   0.0775
Level     1,  Iter    19:    Energy =   0.0774
Level     1,  Iter    20:    Energy =   0.0778
Level     1,  Iter    21:    Energy =   0.0776
Level     1,  Iter    22:    Energy =   0.0781
Level     1,  Iter    23:    Energy =   0.0779
Level     1,  Iter    24:    Energy =   0.0784
Level     1,  Iter    25:    Energy =   0.0781
Level     1,  Iter    26:    Energy =   0.0785
Level     1,  Iter    27:    Energy =   0.0782
Level     1,  Iter    28:    Energy =   0.0787
Level     1,  Iter    29:    Energy =   0.0784
Level     1,  Iter    30:    Energy =   0.0788
Level     1,  Iter    31:    Energy =   0.0786
Level     1,  Iter    32:    Energy =   0.0789
Level     1,  Iter    33:    Energy =   0.0786
Level     1,  Iter    34:    Energy =   0.0790
Level     1,  Iter    35:    Energy =   0.0787
Level     1,  Iter    36:    Energy =   0.0791
Level     1,  Iter    37:    Energy =   0.0788
Level     1,  Iter    38:    Energy =   0.0791
Level     1,  Iter    39:    Energy =   0.0790
Level     1,  Iter    40:    Energy =   0.0791
Level     1,  Iter    41:    Energy =   0.0789
Level     1,  Iter    42:    Energy =   0.0792
Level     1,  Iter    43:    Energy =   0.0790
Level     1,  Iter    44:    Energy =   0.0793
Level     1,  Iter    45:    Energy =   0.0791
Level     1,  Iter    46:    Energy =   0.0793
Level     1,  Iter    47:    Energy =   0.0791
Level     1,  Iter    48:    Energy =   0.0794
Level     1,  Iter    49:    Energy =   0.0792
Level     1,  Iter    50:    Energy =   0.0794
Level     1,  Iter    51:    Energy =   0.0792
Level     1,  Iter    52:    Energy =   0.0795
Level     1,  Iter    53:    Energy =   0.0792
Level     1,  Iter    54:    Energy =   0.0795
Level     1,  Iter    55:    Energy =   0.0792
Level     1,  Iter    56:    Energy =   0.0795
Level     1,  Iter    57:    Energy =   0.0793
Level     1,  Iter    58:    Energy =   0.0794
Level     1,  Iter    59:    Energy =   0.0792
END OF LEVEL     1    DetJac Range:   0.1092  to   3.2159 
  Avg. Gradient Time  : 0.0436s  40.26% 
  Avg. Gaussian Time  : 0.0519s  47.89% 
  Avg. Iteration Time : 0.1083s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0418
Level     2,  Iter     1:    Energy =   0.0441
Level     2,  Iter     2:    Energy =   0.0463
Level     2,  Iter     3:    Energy =   0.0481
Level     2,  Iter     4:    Energy =   0.0497
Level     2,  Iter     5:    Energy =   0.0511
Level     2,  Iter     6:    Energy =   0.0525
Level     2,  Iter     7:    Energy =   0.0538
Level     2,  Iter     8:    Energy =   0.0550
Level     2,  Iter     9:    Energy =   0.0561
Level     2,  Iter    10:    Energy =   0.0569
Level     2,  Iter    11:    Energy =   0.0577
Level     2,  Iter    12:    Energy =   0.0583
Level     2,  Iter    13:    Energy =   0.0588
Level     2,  Iter    14:    Energy =   0.0594
Level     2,  Iter    15:    Energy =   0.0599
Level     2,  Iter    16:    Energy =   0.0601
Level     2,  Iter    17:    Energy =   0.0603
Level     2,  Iter    18:    Energy =   0.0602
Level     2,  Iter    19:    Energy =   0.0607
END OF LEVEL     2    DetJac Range:   0.0499  to   4.9735 
  Avg. Gradient Time  : 0.3025s  37.13% 
  Avg. Gaussian Time  : 0.4257s  52.24% 
  Avg. Iteration Time : 0.8147s 

real	0m27.248s
user	0m47.776s
sys	0m2.916s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.738462 0.744231
+ echo 'CHUNK 0.738462 0.744231 1'
CHUNK 0.738462 0.744231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.738462 0.744231 1
====================================
         PROGRESS: 0.738462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=025
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 025
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 025 left 0
+ local tid=025
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1638.53 	 OutFr   0.0025 	 RMSD     2.1435
Iter 002 	 Temp     3.72 	 Delta  1657.90 	 OutFr   0.0025 	 RMSD     1.8892
Iter 003 	 Temp     3.46 	 Delta  1570.94 	 OutFr   0.0025 	 RMSD     1.9088
Iter 004 	 Temp     3.22 	 Delta  1478.12 	 OutFr   0.0025 	 RMSD     1.8911
Iter 005 	 Temp     2.99 	 Delta  1392.55 	 OutFr   0.0025 	 RMSD     1.8712
Iter 006 	 Temp     2.78 	 Delta  1315.80 	 OutFr   0.0025 	 RMSD     1.8538
Iter 007 	 Temp     2.59 	 Delta  1247.81 	 OutFr   0.0025 	 RMSD     1.8393
Iter 008 	 Temp     2.41 	 Delta  1187.97 	 OutFr   0.0049 	 RMSD     1.8280
Iter 009 	 Temp     2.24 	 Delta  1135.25 	 OutFr   0.0049 	 RMSD     1.8192
Iter 010 	 Temp     2.08 	 Delta  1088.16 	 OutFr   0.0049 	 RMSD     1.8117
Iter 011 	 Temp     1.94 	 Delta  1044.93 	 OutFr   0.0074 	 RMSD     1.8051
Iter 012 	 Temp     1.80 	 Delta  1003.49 	 OutFr   0.0099 	 RMSD     1.7995
Iter 013 	 Temp     1.67 	 Delta   961.55 	 OutFr   0.0099 	 RMSD     1.7949
Iter 014 	 Temp     1.56 	 Delta   916.68 	 OutFr   0.0123 	 RMSD     1.7908
Iter 015 	 Temp     1.45 	 Delta   867.49 	 OutFr   0.0197 	 RMSD     1.7869
Iter 016 	 Temp     1.35 	 Delta   815.88 	 OutFr   0.0222 	 RMSD     1.7830
Iter 017 	 Temp     1.25 	 Delta   764.58 	 OutFr   0.0246 	 RMSD     1.7793
Iter 018 	 Temp     1.16 	 Delta   712.71 	 OutFr   0.0320 	 RMSD     1.7761
Iter 019 	 Temp     1.08 	 Delta   662.71 	 OutFr   0.0345 	 RMSD     1.7742
Iter 020 	 Temp     1.01 	 Delta   621.47 	 OutFr   0.0419 	 RMSD     1.7727
Iter 021 	 Temp     0.94 	 Delta   587.01 	 OutFr   0.0517 	 RMSD     1.7724
Iter 022 	 Temp     0.87 	 Delta   555.35 	 OutFr   0.0616 	 RMSD     1.7729
Iter 023 	 Temp     0.81 	 Delta   522.18 	 OutFr   0.0764 	 RMSD     1.7748
Iter 024 	 Temp     0.75 	 Delta   482.34 	 OutFr   0.0961 	 RMSD     1.7782
Iter 025 	 Temp     0.70 	 Delta   435.90 	 OutFr   0.1182 	 RMSD     1.7829
Iter 026 	 Temp     0.65 	 Delta   390.37 	 OutFr   0.1404 	 RMSD     1.7900
Iter 027 	 Temp     0.61 	 Delta   350.99 	 OutFr   0.1724 	 RMSD     1.7989
Iter 028 	 Temp     0.56 	 Delta   318.76 	 OutFr   0.1946 	 RMSD     1.8083
Iter 029 	 Temp     0.52 	 Delta   290.66 	 OutFr   0.2143 	 RMSD     1.8157
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.Pvp0Agd6/mybin.nii.gz
+ vtklevelset /tmp/ashs.Pvp0Agd6/mybin.nii.gz /tmp/ashs.Pvp0Agd6/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.Pvp0Agd6/mymesh.vtk /tmp/ashs.Pvp0Agd6/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3053.51615360 2834.44682547   0.92825670
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.Pvp0Agd6/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.8057 to -10.3718
   Y : -15.3575 to 27.7101
   Z : -17.2016 to 12.4681
   Image resolution  : 94 by 153 by 114
   Image box origin  : {-37.8057, -20.3575, -22.2016}
   Image box size    : {32.6389, 53.125, 39.8995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.8057, 20.3575, -22.2016]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat -o /tmp/ashs.Pvp0Agd6/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat -o /tmp/ashs.Pvp0Agd6/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.Pvp0Agd6/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.744231 0.75
+ echo 'CHUNK 0.744231 0.75 0.5'
CHUNK 0.744231 0.75 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.744231 0.75 0.5
====================================
         PROGRESS: 0.744231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.Pvp0Agd6/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.Pvp0Agd6/fixed_hw.nii.gz /tmp/ashs.Pvp0Agd6/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.515181, moving = 0.404096
LEVEL 1 of 3
  Smoothing sigmas: [2.35551, 2.35936, 2.38304], [0.961632, 0.963206, 0.97287]
Level     0,  Iter     0:    Energy =   0.0394
Level     0,  Iter     1:    Energy =   0.0442
Level     0,  Iter     2:    Energy =   0.0486
Level     0,  Iter     3:    Energy =   0.0534
Level     0,  Iter     4:    Energy =   0.0574
Level     0,  Iter     5:    Energy =   0.0609
Level     0,  Iter     6:    Energy =   0.0636
Level     0,  Iter     7:    Energy =   0.0663
Level     0,  Iter     8:    Energy =   0.0681
Level     0,  Iter     9:    Energy =   0.0695
Level     0,  Iter    10:    Energy =   0.0709
Level     0,  Iter    11:    Energy =   0.0724
Level     0,  Iter    12:    Energy =   0.0741
Level     0,  Iter    13:    Energy =   0.0759
Level     0,  Iter    14:    Energy =   0.0769
Level     0,  Iter    15:    Energy =   0.0773
Level     0,  Iter    16:    Energy =   0.0775
Level     0,  Iter    17:    Energy =   0.0777
Level     0,  Iter    18:    Energy =   0.0778
Level     0,  Iter    19:    Energy =   0.0779
Level     0,  Iter    20:    Energy =   0.0781
Level     0,  Iter    21:    Energy =   0.0781
Level     0,  Iter    22:    Energy =   0.0784
Level     0,  Iter    23:    Energy =   0.0784
Level     0,  Iter    24:    Energy =   0.0787
Level     0,  Iter    25:    Energy =   0.0787
Level     0,  Iter    26:    Energy =   0.0790
Level     0,  Iter    27:    Energy =   0.0789
Level     0,  Iter    28:    Energy =   0.0792
Level     0,  Iter    29:    Energy =   0.0791
Level     0,  Iter    30:    Energy =   0.0795
Level     0,  Iter    31:    Energy =   0.0793
Level     0,  Iter    32:    Energy =   0.0796
Level     0,  Iter    33:    Energy =   0.0794
Level     0,  Iter    34:    Energy =   0.0797
Level     0,  Iter    35:    Energy =   0.0796
Level     0,  Iter    36:    Energy =   0.0798
Level     0,  Iter    37:    Energy =   0.0797
Level     0,  Iter    38:    Energy =   0.0799
Level     0,  Iter    39:    Energy =   0.0798
Level     0,  Iter    40:    Energy =   0.0800
Level     0,  Iter    41:    Energy =   0.0799
Level     0,  Iter    42:    Energy =   0.0800
Level     0,  Iter    43:    Energy =   0.0800
Level     0,  Iter    44:    Energy =   0.0801
Level     0,  Iter    45:    Energy =   0.0800
Level     0,  Iter    46:    Energy =   0.0801
Level     0,  Iter    47:    Energy =   0.0800
Level     0,  Iter    48:    Energy =   0.0802
Level     0,  Iter    49:    Energy =   0.0801
Level     0,  Iter    50:    Energy =   0.0803
Level     0,  Iter    51:    Energy =   0.0801
Level     0,  Iter    52:    Energy =   0.0803
Level     0,  Iter    53:    Energy =   0.0801
Level     0,  Iter    54:    Energy =   0.0804
Level     0,  Iter    55:    Energy =   0.0802
Level     0,  Iter    56:    Energy =   0.0804
Level     0,  Iter    57:    Energy =   0.0802
Level     0,  Iter    58:    Energy =   0.0804
Level     0,  Iter    59:    Energy =   0.0802
END OF LEVEL     0    DetJac Range:   0.3321  to   2.5481 
  Avg. Gradient Time  : 0.0074s  37.52% 
  Avg. Gaussian Time  : 0.0093s  47.34% 
  Avg. Iteration Time : 0.0197s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.195, 1.21242], [0.491046, 0.487857, 0.494969]
Level     1,  Iter     0:    Energy =   0.0593
Level     1,  Iter     1:    Energy =   0.0645
Level     1,  Iter     2:    Energy =   0.0682
Level     1,  Iter     3:    Energy =   0.0712
Level     1,  Iter     4:    Energy =   0.0737
Level     1,  Iter     5:    Energy =   0.0758
Level     1,  Iter     6:    Energy =   0.0775
Level     1,  Iter     7:    Energy =   0.0788
Level     1,  Iter     8:    Energy =   0.0800
Level     1,  Iter     9:    Energy =   0.0811
Level     1,  Iter    10:    Energy =   0.0822
Level     1,  Iter    11:    Energy =   0.0827
Level     1,  Iter    12:    Energy =   0.0831
Level     1,  Iter    13:    Energy =   0.0834
Level     1,  Iter    14:    Energy =   0.0838
Level     1,  Iter    15:    Energy =   0.0840
Level     1,  Iter    16:    Energy =   0.0844
Level     1,  Iter    17:    Energy =   0.0845
Level     1,  Iter    18:    Energy =   0.0847
Level     1,  Iter    19:    Energy =   0.0848
Level     1,  Iter    20:    Energy =   0.0850
Level     1,  Iter    21:    Energy =   0.0851
Level     1,  Iter    22:    Energy =   0.0852
Level     1,  Iter    23:    Energy =   0.0854
Level     1,  Iter    24:    Energy =   0.0854
Level     1,  Iter    25:    Energy =   0.0856
Level     1,  Iter    26:    Energy =   0.0856
Level     1,  Iter    27:    Energy =   0.0858
Level     1,  Iter    28:    Energy =   0.0858
Level     1,  Iter    29:    Energy =   0.0858
Level     1,  Iter    30:    Energy =   0.0858
Level     1,  Iter    31:    Energy =   0.0859
Level     1,  Iter    32:    Energy =   0.0859
Level     1,  Iter    33:    Energy =   0.0860
Level     1,  Iter    34:    Energy =   0.0860
Level     1,  Iter    35:    Energy =   0.0861
Level     1,  Iter    36:    Energy =   0.0861
Level     1,  Iter    37:    Energy =   0.0863
Level     1,  Iter    38:    Energy =   0.0862
Level     1,  Iter    39:    Energy =   0.0863
Level     1,  Iter    40:    Energy =   0.0863
Level     1,  Iter    41:    Energy =   0.0864
Level     1,  Iter    42:    Energy =   0.0864
Level     1,  Iter    43:    Energy =   0.0864
Level     1,  Iter    44:    Energy =   0.0865
Level     1,  Iter    45:    Energy =   0.0866
Level     1,  Iter    46:    Energy =   0.0866
Level     1,  Iter    47:    Energy =   0.0867
Level     1,  Iter    48:    Energy =   0.0867
Level     1,  Iter    49:    Energy =   0.0868
Level     1,  Iter    50:    Energy =   0.0867
Level     1,  Iter    51:    Energy =   0.0868
Level     1,  Iter    52:    Energy =   0.0868
Level     1,  Iter    53:    Energy =   0.0869
Level     1,  Iter    54:    Energy =   0.0869
Level     1,  Iter    55:    Energy =   0.0869
Level     1,  Iter    56:    Energy =   0.0870
Level     1,  Iter    57:    Energy =   0.0871
Level     1,  Iter    58:    Energy =   0.0871
Level     1,  Iter    59:    Energy =   0.0871
END OF LEVEL     1    DetJac Range:   0.1396  to   4.2323 
  Avg. Gradient Time  : 0.0415s  40.12% 
  Avg. Gaussian Time  : 0.0497s  48.02% 
  Avg. Iteration Time : 0.1034s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0462
Level     2,  Iter     1:    Energy =   0.0485
Level     2,  Iter     2:    Energy =   0.0508
Level     2,  Iter     3:    Energy =   0.0524
Level     2,  Iter     4:    Energy =   0.0536
Level     2,  Iter     5:    Energy =   0.0550
Level     2,  Iter     6:    Energy =   0.0563
Level     2,  Iter     7:    Energy =   0.0575
Level     2,  Iter     8:    Energy =   0.0586
Level     2,  Iter     9:    Energy =   0.0595
Level     2,  Iter    10:    Energy =   0.0602
Level     2,  Iter    11:    Energy =   0.0609
Level     2,  Iter    12:    Energy =   0.0616
Level     2,  Iter    13:    Energy =   0.0622
Level     2,  Iter    14:    Energy =   0.0627
Level     2,  Iter    15:    Energy =   0.0633
Level     2,  Iter    16:    Energy =   0.0638
Level     2,  Iter    17:    Energy =   0.0643
Level     2,  Iter    18:    Energy =   0.0648
Level     2,  Iter    19:    Energy =   0.0652
END OF LEVEL     2    DetJac Range:   0.0750  to   4.2139 
  Avg. Gradient Time  : 0.2919s  37.52% 
  Avg. Gaussian Time  : 0.4026s  51.76% 
  Avg. Iteration Time : 0.7779s 

real	0m26.019s
user	0m45.604s
sys	0m2.676s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.744231 0.75
+ echo 'CHUNK 0.744231 0.75 1'
CHUNK 0.744231 0.75 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.744231 0.75 1
====================================
         PROGRESS: 0.744231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=000
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 000
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 000 right 0
+ local tid=000
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1842.52 	 OutFr   0.0000 	 RMSD     2.9838
Iter 002 	 Temp     3.72 	 Delta  1713.00 	 OutFr   0.0000 	 RMSD     2.1384
Iter 003 	 Temp     3.46 	 Delta  1582.25 	 OutFr   0.0000 	 RMSD     2.1287
Iter 004 	 Temp     3.22 	 Delta  1474.31 	 OutFr   0.0000 	 RMSD     2.1105
Iter 005 	 Temp     2.99 	 Delta  1381.70 	 OutFr   0.0027 	 RMSD     2.0945
Iter 006 	 Temp     2.78 	 Delta  1297.45 	 OutFr   0.0027 	 RMSD     2.0806
Iter 007 	 Temp     2.59 	 Delta  1220.08 	 OutFr   0.0027 	 RMSD     2.0677
Iter 008 	 Temp     2.41 	 Delta  1149.07 	 OutFr   0.0027 	 RMSD     2.0570
Iter 009 	 Temp     2.24 	 Delta  1084.71 	 OutFr   0.0027 	 RMSD     2.0482
Iter 010 	 Temp     2.08 	 Delta  1027.57 	 OutFr   0.0027 	 RMSD     2.0399
Iter 011 	 Temp     1.94 	 Delta   977.77 	 OutFr   0.0027 	 RMSD     2.0332
Iter 012 	 Temp     1.80 	 Delta   934.78 	 OutFr   0.0027 	 RMSD     2.0276
Iter 013 	 Temp     1.67 	 Delta   896.83 	 OutFr   0.0027 	 RMSD     2.0229
Iter 014 	 Temp     1.56 	 Delta   860.20 	 OutFr   0.0027 	 RMSD     2.0188
Iter 015 	 Temp     1.45 	 Delta   821.10 	 OutFr   0.0027 	 RMSD     2.0150
Iter 016 	 Temp     1.35 	 Delta   778.03 	 OutFr   0.0054 	 RMSD     2.0120
Iter 017 	 Temp     1.25 	 Delta   733.03 	 OutFr   0.0081 	 RMSD     2.0096
Iter 018 	 Temp     1.16 	 Delta   686.90 	 OutFr   0.0081 	 RMSD     2.0077
Iter 019 	 Temp     1.08 	 Delta   637.35 	 OutFr   0.0163 	 RMSD     2.0060
Iter 020 	 Temp     1.01 	 Delta   585.84 	 OutFr   0.0244 	 RMSD     2.0053
Iter 021 	 Temp     0.94 	 Delta   538.80 	 OutFr   0.0407 	 RMSD     2.0058
Iter 022 	 Temp     0.87 	 Delta   498.68 	 OutFr   0.0434 	 RMSD     2.0080
Iter 023 	 Temp     0.81 	 Delta   463.73 	 OutFr   0.0596 	 RMSD     2.0113
Iter 024 	 Temp     0.75 	 Delta   431.01 	 OutFr   0.0759 	 RMSD     2.0158
Iter 025 	 Temp     0.70 	 Delta   398.91 	 OutFr   0.0894 	 RMSD     2.0198
Iter 026 	 Temp     0.65 	 Delta   367.05 	 OutFr   0.1030 	 RMSD     2.0224
Iter 027 	 Temp     0.61 	 Delta   339.14 	 OutFr   0.1247 	 RMSD     2.0239
Iter 028 	 Temp     0.56 	 Delta   315.66 	 OutFr   0.1491 	 RMSD     2.0251
Iter 029 	 Temp     0.52 	 Delta   292.68 	 OutFr   0.1707 	 RMSD     2.0269
Iter 030 	 Temp     0.49 	 Delta   265.71 	 OutFr   0.1870 	 RMSD     2.0280
Iter 031 	 Temp     0.45 	 Delta   238.69 	 OutFr   0.2249 	 RMSD     2.0296
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.s3bFrkcM/mybin.nii.gz
+ vtklevelset /tmp/ashs.s3bFrkcM/mybin.nii.gz /tmp/ashs.s3bFrkcM/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.s3bFrkcM/mymesh.vtk /tmp/ashs.s3bFrkcM/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 3136.88681114   0.98527601
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.s3bFrkcM/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 7.66522 to 35.7031
   Y : -15.3001 to 30.5005
   Z : -24.6605 to 5.48433
   Image resolution  : 110 by 161 by 115
   Image box origin  : {2.66522, -20.3001, -29.6605}
   Image box size    : {38.1944, 55.9027, 40.2495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-2.66522, 20.3001, -29.6605]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat -o /tmp/ashs.s3bFrkcM/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat -o /tmp/ashs.s3bFrkcM/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.s3bFrkcM/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.75 0.755769
+ echo 'CHUNK 0.75 0.755769 0.5'
CHUNK 0.75 0.755769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.75 0.755769 0.5
====================================
         PROGRESS: 0.75               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.s3bFrkcM/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.s3bFrkcM/fixed_hw.nii.gz /tmp/ashs.s3bFrkcM/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.56794, moving = 0.824287
LEVEL 1 of 3
  Smoothing sigmas: [2.36267, 2.36162, 2.40394], [0.964555, 0.964127, 0.981404]
Level     0,  Iter     0:    Energy =   0.0627
Level     0,  Iter     1:    Energy =   0.0686
Level     0,  Iter     2:    Energy =   0.0746
Level     0,  Iter     3:    Energy =   0.0804
Level     0,  Iter     4:    Energy =   0.0842
Level     0,  Iter     5:    Energy =   0.0873
Level     0,  Iter     6:    Energy =   0.0901
Level     0,  Iter     7:    Energy =   0.0923
Level     0,  Iter     8:    Energy =   0.0935
Level     0,  Iter     9:    Energy =   0.0948
Level     0,  Iter    10:    Energy =   0.0953
Level     0,  Iter    11:    Energy =   0.0955
Level     0,  Iter    12:    Energy =   0.0958
Level     0,  Iter    13:    Energy =   0.0959
Level     0,  Iter    14:    Energy =   0.0962
Level     0,  Iter    15:    Energy =   0.0964
Level     0,  Iter    16:    Energy =   0.0967
Level     0,  Iter    17:    Energy =   0.0967
Level     0,  Iter    18:    Energy =   0.0970
Level     0,  Iter    19:    Energy =   0.0971
Level     0,  Iter    20:    Energy =   0.0974
Level     0,  Iter    21:    Energy =   0.0973
Level     0,  Iter    22:    Energy =   0.0977
Level     0,  Iter    23:    Energy =   0.0977
Level     0,  Iter    24:    Energy =   0.0981
Level     0,  Iter    25:    Energy =   0.0980
Level     0,  Iter    26:    Energy =   0.0985
Level     0,  Iter    27:    Energy =   0.0984
Level     0,  Iter    28:    Energy =   0.0988
Level     0,  Iter    29:    Energy =   0.0987
Level     0,  Iter    30:    Energy =   0.0991
Level     0,  Iter    31:    Energy =   0.0989
Level     0,  Iter    32:    Energy =   0.0992
Level     0,  Iter    33:    Energy =   0.0989
Level     0,  Iter    34:    Energy =   0.0993
Level     0,  Iter    35:    Energy =   0.0989
Level     0,  Iter    36:    Energy =   0.0992
Level     0,  Iter    37:    Energy =   0.0990
Level     0,  Iter    38:    Energy =   0.0993
Level     0,  Iter    39:    Energy =   0.0991
Level     0,  Iter    40:    Energy =   0.0994
Level     0,  Iter    41:    Energy =   0.0992
Level     0,  Iter    42:    Energy =   0.0996
Level     0,  Iter    43:    Energy =   0.0993
Level     0,  Iter    44:    Energy =   0.0996
Level     0,  Iter    45:    Energy =   0.0994
Level     0,  Iter    46:    Energy =   0.0997
Level     0,  Iter    47:    Energy =   0.0995
Level     0,  Iter    48:    Energy =   0.0998
Level     0,  Iter    49:    Energy =   0.0995
Level     0,  Iter    50:    Energy =   0.0999
Level     0,  Iter    51:    Energy =   0.0996
Level     0,  Iter    52:    Energy =   0.0999
Level     0,  Iter    53:    Energy =   0.0997
Level     0,  Iter    54:    Energy =   0.0999
Level     0,  Iter    55:    Energy =   0.0997
Level     0,  Iter    56:    Energy =   0.1000
Level     0,  Iter    57:    Energy =   0.0996
Level     0,  Iter    58:    Energy =   0.1000
Level     0,  Iter    59:    Energy =   0.0996
END OF LEVEL     0    DetJac Range:   0.3002  to   2.1026 
  Avg. Gradient Time  : 0.0085s  37.53% 
  Avg. Gaussian Time  : 0.0108s  47.92% 
  Avg. Iteration Time : 0.0225s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19539, 1.20197], [0.491046, 0.488015, 0.490702]
Level     1,  Iter     0:    Energy =   0.0674
Level     1,  Iter     1:    Energy =   0.0718
Level     1,  Iter     2:    Energy =   0.0763
Level     1,  Iter     3:    Energy =   0.0798
Level     1,  Iter     4:    Energy =   0.0820
Level     1,  Iter     5:    Energy =   0.0838
Level     1,  Iter     6:    Energy =   0.0851
Level     1,  Iter     7:    Energy =   0.0854
Level     1,  Iter     8:    Energy =   0.0860
Level     1,  Iter     9:    Energy =   0.0861
Level     1,  Iter    10:    Energy =   0.0866
Level     1,  Iter    11:    Energy =   0.0866
Level     1,  Iter    12:    Energy =   0.0871
Level     1,  Iter    13:    Energy =   0.0870
Level     1,  Iter    14:    Energy =   0.0874
Level     1,  Iter    15:    Energy =   0.0873
Level     1,  Iter    16:    Energy =   0.0876
Level     1,  Iter    17:    Energy =   0.0875
Level     1,  Iter    18:    Energy =   0.0876
Level     1,  Iter    19:    Energy =   0.0875
Level     1,  Iter    20:    Energy =   0.0877
Level     1,  Iter    21:    Energy =   0.0877
Level     1,  Iter    22:    Energy =   0.0877
Level     1,  Iter    23:    Energy =   0.0878
Level     1,  Iter    24:    Energy =   0.0877
Level     1,  Iter    25:    Energy =   0.0879
Level     1,  Iter    26:    Energy =   0.0878
Level     1,  Iter    27:    Energy =   0.0879
Level     1,  Iter    28:    Energy =   0.0879
Level     1,  Iter    29:    Energy =   0.0880
Level     1,  Iter    30:    Energy =   0.0880
Level     1,  Iter    31:    Energy =   0.0880
Level     1,  Iter    32:    Energy =   0.0880
Level     1,  Iter    33:    Energy =   0.0881
Level     1,  Iter    34:    Energy =   0.0881
Level     1,  Iter    35:    Energy =   0.0881
Level     1,  Iter    36:    Energy =   0.0881
Level     1,  Iter    37:    Energy =   0.0882
Level     1,  Iter    38:    Energy =   0.0881
Level     1,  Iter    39:    Energy =   0.0882
Level     1,  Iter    40:    Energy =   0.0882
Level     1,  Iter    41:    Energy =   0.0882
Level     1,  Iter    42:    Energy =   0.0882
Level     1,  Iter    43:    Energy =   0.0882
Level     1,  Iter    44:    Energy =   0.0882
Level     1,  Iter    45:    Energy =   0.0883
Level     1,  Iter    46:    Energy =   0.0882
Level     1,  Iter    47:    Energy =   0.0883
Level     1,  Iter    48:    Energy =   0.0882
Level     1,  Iter    49:    Energy =   0.0883
Level     1,  Iter    50:    Energy =   0.0882
Level     1,  Iter    51:    Energy =   0.0883
Level     1,  Iter    52:    Energy =   0.0883
Level     1,  Iter    53:    Energy =   0.0883
Level     1,  Iter    54:    Energy =   0.0883
Level     1,  Iter    55:    Energy =   0.0883
Level     1,  Iter    56:    Energy =   0.0883
Level     1,  Iter    57:    Energy =   0.0883
Level     1,  Iter    58:    Energy =   0.0883
Level     1,  Iter    59:    Energy =   0.0883
END OF LEVEL     1    DetJac Range:   0.1832  to   2.6836 
  Avg. Gradient Time  : 0.0496s  39.35% 
  Avg. Gaussian Time  : 0.0613s  48.61% 
  Avg. Iteration Time : 0.1261s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0454
Level     2,  Iter     1:    Energy =   0.0478
Level     2,  Iter     2:    Energy =   0.0500
Level     2,  Iter     3:    Energy =   0.0518
Level     2,  Iter     4:    Energy =   0.0535
Level     2,  Iter     5:    Energy =   0.0549
Level     2,  Iter     6:    Energy =   0.0561
Level     2,  Iter     7:    Energy =   0.0573
Level     2,  Iter     8:    Energy =   0.0583
Level     2,  Iter     9:    Energy =   0.0591
Level     2,  Iter    10:    Energy =   0.0598
Level     2,  Iter    11:    Energy =   0.0604
Level     2,  Iter    12:    Energy =   0.0609
Level     2,  Iter    13:    Energy =   0.0613
Level     2,  Iter    14:    Energy =   0.0617
Level     2,  Iter    15:    Energy =   0.0620
Level     2,  Iter    16:    Energy =   0.0624
Level     2,  Iter    17:    Energy =   0.0628
Level     2,  Iter    18:    Energy =   0.0631
Level     2,  Iter    19:    Energy =   0.0630
END OF LEVEL     2    DetJac Range:   0.0857  to   4.5151 
  Avg. Gradient Time  : 0.3546s  37.06% 
  Avg. Gaussian Time  : 0.4990s  52.15% 
  Avg. Iteration Time : 0.9568s 

real	0m31.856s
user	0m56.356s
sys	0m3.096s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.75 0.755769
+ echo 'CHUNK 0.75 0.755769 1'
CHUNK 0.75 0.755769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.75 0.755769 1
====================================
         PROGRESS: 0.75               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=001
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 001
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 001 right 0
+ local tid=001
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1964.44 	 OutFr   0.0000 	 RMSD     3.7278
Iter 002 	 Temp     3.72 	 Delta  1782.61 	 OutFr   0.0000 	 RMSD     2.2870
Iter 003 	 Temp     3.46 	 Delta  1679.78 	 OutFr   0.0000 	 RMSD     2.2854
Iter 004 	 Temp     3.22 	 Delta  1584.08 	 OutFr   0.0000 	 RMSD     2.2772
Iter 005 	 Temp     2.99 	 Delta  1489.01 	 OutFr   0.0000 	 RMSD     2.2612
Iter 006 	 Temp     2.78 	 Delta  1398.63 	 OutFr   0.0000 	 RMSD     2.2448
Iter 007 	 Temp     2.59 	 Delta  1315.14 	 OutFr   0.0027 	 RMSD     2.2311
Iter 008 	 Temp     2.41 	 Delta  1239.36 	 OutFr   0.0054 	 RMSD     2.2196
Iter 009 	 Temp     2.24 	 Delta  1175.72 	 OutFr   0.0081 	 RMSD     2.2101
Iter 010 	 Temp     2.08 	 Delta  1122.55 	 OutFr   0.0163 	 RMSD     2.2019
Iter 011 	 Temp     1.94 	 Delta  1071.22 	 OutFr   0.0190 	 RMSD     2.1962
Iter 012 	 Temp     1.80 	 Delta  1018.21 	 OutFr   0.0217 	 RMSD     2.1910
Iter 013 	 Temp     1.67 	 Delta   963.72 	 OutFr   0.0271 	 RMSD     2.1858
Iter 014 	 Temp     1.56 	 Delta   910.77 	 OutFr   0.0298 	 RMSD     2.1818
Iter 015 	 Temp     1.45 	 Delta   863.56 	 OutFr   0.0379 	 RMSD     2.1785
Iter 016 	 Temp     1.35 	 Delta   820.44 	 OutFr   0.0407 	 RMSD     2.1767
Iter 017 	 Temp     1.25 	 Delta   777.49 	 OutFr   0.0461 	 RMSD     2.1759
Iter 018 	 Temp     1.16 	 Delta   733.78 	 OutFr   0.0542 	 RMSD     2.1749
Iter 019 	 Temp     1.08 	 Delta   689.30 	 OutFr   0.0650 	 RMSD     2.1739
Iter 020 	 Temp     1.01 	 Delta   643.73 	 OutFr   0.0678 	 RMSD     2.1734
Iter 021 	 Temp     0.94 	 Delta   596.31 	 OutFr   0.0732 	 RMSD     2.1740
Iter 022 	 Temp     0.87 	 Delta   546.79 	 OutFr   0.0813 	 RMSD     2.1747
Iter 023 	 Temp     0.81 	 Delta   496.32 	 OutFr   0.1030 	 RMSD     2.1749
Iter 024 	 Temp     0.75 	 Delta   445.12 	 OutFr   0.1328 	 RMSD     2.1749
Iter 025 	 Temp     0.70 	 Delta   393.35 	 OutFr   0.1870 	 RMSD     2.1755
Iter 026 	 Temp     0.65 	 Delta   343.96 	 OutFr   0.2358 	 RMSD     2.1767
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.1TtRV93C/mybin.nii.gz
+ vtklevelset /tmp/ashs.1TtRV93C/mybin.nii.gz /tmp/ashs.1TtRV93C/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.1TtRV93C/mymesh.vtk /tmp/ashs.1TtRV93C/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 2753.18466349   0.86475763
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.1TtRV93C/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 13.0752 to 37.8344
   Y : -9.98121 to 31.6107
   Z : -23.1353 to 7.06763
   Image resolution  : 101 by 149 by 115
   Image box origin  : {8.0752, -14.9812, -28.1353}
   Image box size    : {35.0694, 51.7361, 40.2495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-8.0752, 14.9812, -28.1353]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat -o /tmp/ashs.1TtRV93C/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat -o /tmp/ashs.1TtRV93C/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.1TtRV93C/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.755769 0.761538
+ echo 'CHUNK 0.755769 0.761538 0.5'
CHUNK 0.755769 0.761538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.755769 0.761538 0.5
====================================
         PROGRESS: 0.755769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.1TtRV93C/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.1TtRV93C/fixed_hw.nii.gz /tmp/ashs.1TtRV93C/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.545844, moving = 0.751
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.35815, 2.40394], [0.953763, 0.962709, 0.981404]
Level     0,  Iter     0:    Energy =   0.0239
Level     0,  Iter     1:    Energy =   0.0277
Level     0,  Iter     2:    Energy =   0.0312
Level     0,  Iter     3:    Energy =   0.0350
Level     0,  Iter     4:    Energy =   0.0386
Level     0,  Iter     5:    Energy =   0.0417
Level     0,  Iter     6:    Energy =   0.0450
Level     0,  Iter     7:    Energy =   0.0476
Level     0,  Iter     8:    Energy =   0.0500
Level     0,  Iter     9:    Energy =   0.0516
Level     0,  Iter    10:    Energy =   0.0528
Level     0,  Iter    11:    Energy =   0.0543
Level     0,  Iter    12:    Energy =   0.0555
Level     0,  Iter    13:    Energy =   0.0562
Level     0,  Iter    14:    Energy =   0.0570
Level     0,  Iter    15:    Energy =   0.0579
Level     0,  Iter    16:    Energy =   0.0589
Level     0,  Iter    17:    Energy =   0.0601
Level     0,  Iter    18:    Energy =   0.0613
Level     0,  Iter    19:    Energy =   0.0626
Level     0,  Iter    20:    Energy =   0.0637
Level     0,  Iter    21:    Energy =   0.0646
Level     0,  Iter    22:    Energy =   0.0654
Level     0,  Iter    23:    Energy =   0.0661
Level     0,  Iter    24:    Energy =   0.0664
Level     0,  Iter    25:    Energy =   0.0667
Level     0,  Iter    26:    Energy =   0.0666
Level     0,  Iter    27:    Energy =   0.0670
Level     0,  Iter    28:    Energy =   0.0672
Level     0,  Iter    29:    Energy =   0.0674
Level     0,  Iter    30:    Energy =   0.0674
Level     0,  Iter    31:    Energy =   0.0676
Level     0,  Iter    32:    Energy =   0.0676
Level     0,  Iter    33:    Energy =   0.0678
Level     0,  Iter    34:    Energy =   0.0677
Level     0,  Iter    35:    Energy =   0.0679
Level     0,  Iter    36:    Energy =   0.0681
Level     0,  Iter    37:    Energy =   0.0684
Level     0,  Iter    38:    Energy =   0.0683
Level     0,  Iter    39:    Energy =   0.0684
Level     0,  Iter    40:    Energy =   0.0684
Level     0,  Iter    41:    Energy =   0.0687
Level     0,  Iter    42:    Energy =   0.0687
Level     0,  Iter    43:    Energy =   0.0688
Level     0,  Iter    44:    Energy =   0.0686
Level     0,  Iter    45:    Energy =   0.0688
Level     0,  Iter    46:    Energy =   0.0687
Level     0,  Iter    47:    Energy =   0.0686
Level     0,  Iter    48:    Energy =   0.0686
Level     0,  Iter    49:    Energy =   0.0686
Level     0,  Iter    50:    Energy =   0.0688
Level     0,  Iter    51:    Energy =   0.0687
Level     0,  Iter    52:    Energy =   0.0687
Level     0,  Iter    53:    Energy =   0.0687
Level     0,  Iter    54:    Energy =   0.0687
Level     0,  Iter    55:    Energy =   0.0688
Level     0,  Iter    56:    Energy =   0.0689
Level     0,  Iter    57:    Energy =   0.0688
Level     0,  Iter    58:    Energy =   0.0688
Level     0,  Iter    59:    Energy =   0.0688
END OF LEVEL     0    DetJac Range:   0.1436  to   3.3457 
  Avg. Gradient Time  : 0.0075s  37.22% 
  Avg. Gaussian Time  : 0.0096s  47.72% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.19479, 1.20197], [0.486232, 0.487772, 0.490702]
Level     1,  Iter     0:    Energy =   0.0415
Level     1,  Iter     1:    Energy =   0.0442
Level     1,  Iter     2:    Energy =   0.0467
Level     1,  Iter     3:    Energy =   0.0490
Level     1,  Iter     4:    Energy =   0.0508
Level     1,  Iter     5:    Energy =   0.0522
Level     1,  Iter     6:    Energy =   0.0534
Level     1,  Iter     7:    Energy =   0.0544
Level     1,  Iter     8:    Energy =   0.0554
Level     1,  Iter     9:    Energy =   0.0564
Level     1,  Iter    10:    Energy =   0.0574
Level     1,  Iter    11:    Energy =   0.0582
Level     1,  Iter    12:    Energy =   0.0590
Level     1,  Iter    13:    Energy =   0.0597
Level     1,  Iter    14:    Energy =   0.0604
Level     1,  Iter    15:    Energy =   0.0609
Level     1,  Iter    16:    Energy =   0.0615
Level     1,  Iter    17:    Energy =   0.0621
Level     1,  Iter    18:    Energy =   0.0627
Level     1,  Iter    19:    Energy =   0.0631
Level     1,  Iter    20:    Energy =   0.0635
Level     1,  Iter    21:    Energy =   0.0638
Level     1,  Iter    22:    Energy =   0.0640
Level     1,  Iter    23:    Energy =   0.0641
Level     1,  Iter    24:    Energy =   0.0643
Level     1,  Iter    25:    Energy =   0.0643
Level     1,  Iter    26:    Energy =   0.0644
Level     1,  Iter    27:    Energy =   0.0644
Level     1,  Iter    28:    Energy =   0.0645
Level     1,  Iter    29:    Energy =   0.0645
Level     1,  Iter    30:    Energy =   0.0646
Level     1,  Iter    31:    Energy =   0.0646
Level     1,  Iter    32:    Energy =   0.0648
Level     1,  Iter    33:    Energy =   0.0648
Level     1,  Iter    34:    Energy =   0.0649
Level     1,  Iter    35:    Energy =   0.0650
Level     1,  Iter    36:    Energy =   0.0650
Level     1,  Iter    37:    Energy =   0.0650
Level     1,  Iter    38:    Energy =   0.0651
Level     1,  Iter    39:    Energy =   0.0650
Level     1,  Iter    40:    Energy =   0.0651
Level     1,  Iter    41:    Energy =   0.0651
Level     1,  Iter    42:    Energy =   0.0652
Level     1,  Iter    43:    Energy =   0.0651
Level     1,  Iter    44:    Energy =   0.0653
Level     1,  Iter    45:    Energy =   0.0652
Level     1,  Iter    46:    Energy =   0.0653
Level     1,  Iter    47:    Energy =   0.0653
Level     1,  Iter    48:    Energy =   0.0655
Level     1,  Iter    49:    Energy =   0.0654
Level     1,  Iter    50:    Energy =   0.0655
Level     1,  Iter    51:    Energy =   0.0655
Level     1,  Iter    52:    Energy =   0.0656
Level     1,  Iter    53:    Energy =   0.0655
Level     1,  Iter    54:    Energy =   0.0657
Level     1,  Iter    55:    Energy =   0.0656
Level     1,  Iter    56:    Energy =   0.0657
Level     1,  Iter    57:    Energy =   0.0657
Level     1,  Iter    58:    Energy =   0.0659
Level     1,  Iter    59:    Energy =   0.0659
END OF LEVEL     1    DetJac Range:   0.0847  to   3.8818 
  Avg. Gradient Time  : 0.0438s  39.90% 
  Avg. Gaussian Time  : 0.0529s  48.15% 
  Avg. Iteration Time : 0.1098s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0336
Level     2,  Iter     1:    Energy =   0.0350
Level     2,  Iter     2:    Energy =   0.0364
Level     2,  Iter     3:    Energy =   0.0376
Level     2,  Iter     4:    Energy =   0.0386
Level     2,  Iter     5:    Energy =   0.0395
Level     2,  Iter     6:    Energy =   0.0403
Level     2,  Iter     7:    Energy =   0.0409
Level     2,  Iter     8:    Energy =   0.0415
Level     2,  Iter     9:    Energy =   0.0421
Level     2,  Iter    10:    Energy =   0.0425
Level     2,  Iter    11:    Energy =   0.0429
Level     2,  Iter    12:    Energy =   0.0434
Level     2,  Iter    13:    Energy =   0.0439
Level     2,  Iter    14:    Energy =   0.0445
Level     2,  Iter    15:    Energy =   0.0450
Level     2,  Iter    16:    Energy =   0.0456
Level     2,  Iter    17:    Energy =   0.0460
Level     2,  Iter    18:    Energy =   0.0464
Level     2,  Iter    19:    Energy =   0.0469
END OF LEVEL     2    DetJac Range:   0.0602  to   5.2222 
  Avg. Gradient Time  : 0.3330s  39.45% 
  Avg. Gaussian Time  : 0.4233s  50.15% 
  Avg. Iteration Time : 0.8440s 

real	0m27.972s
user	0m49.280s
sys	0m2.764s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.755769 0.761538
+ echo 'CHUNK 0.755769 0.761538 1'
CHUNK 0.755769 0.761538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.755769 0.761538 1
====================================
         PROGRESS: 0.755769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=002
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 002
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 002 right 0
+ local tid=002
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1756.72 	 OutFr   0.0000 	 RMSD     2.3043
Iter 002 	 Temp     3.72 	 Delta  1676.83 	 OutFr   0.0000 	 RMSD     2.1391
Iter 003 	 Temp     3.46 	 Delta  1576.63 	 OutFr   0.0000 	 RMSD     2.1736
Iter 004 	 Temp     3.22 	 Delta  1486.84 	 OutFr   0.0000 	 RMSD     2.1654
Iter 005 	 Temp     2.99 	 Delta  1409.45 	 OutFr   0.0000 	 RMSD     2.1507
Iter 006 	 Temp     2.78 	 Delta  1344.02 	 OutFr   0.0000 	 RMSD     2.1358
Iter 007 	 Temp     2.59 	 Delta  1289.21 	 OutFr   0.0000 	 RMSD     2.1216
Iter 008 	 Temp     2.41 	 Delta  1242.39 	 OutFr   0.0000 	 RMSD     2.1078
Iter 009 	 Temp     2.24 	 Delta  1200.41 	 OutFr   0.0000 	 RMSD     2.0945
Iter 010 	 Temp     2.08 	 Delta  1160.72 	 OutFr   0.0000 	 RMSD     2.0823
Iter 011 	 Temp     1.94 	 Delta  1121.72 	 OutFr   0.0000 	 RMSD     2.0711
Iter 012 	 Temp     1.80 	 Delta  1081.99 	 OutFr   0.0000 	 RMSD     2.0607
Iter 013 	 Temp     1.67 	 Delta  1040.15 	 OutFr   0.0000 	 RMSD     2.0504
Iter 014 	 Temp     1.56 	 Delta   994.97 	 OutFr   0.0027 	 RMSD     2.0403
Iter 015 	 Temp     1.45 	 Delta   945.54 	 OutFr   0.0027 	 RMSD     2.0303
Iter 016 	 Temp     1.35 	 Delta   892.35 	 OutFr   0.0108 	 RMSD     2.0199
Iter 017 	 Temp     1.25 	 Delta   836.77 	 OutFr   0.0136 	 RMSD     2.0089
Iter 018 	 Temp     1.16 	 Delta   777.77 	 OutFr   0.0163 	 RMSD     1.9985
Iter 019 	 Temp     1.08 	 Delta   716.93 	 OutFr   0.0190 	 RMSD     1.9894
Iter 020 	 Temp     1.01 	 Delta   661.25 	 OutFr   0.0325 	 RMSD     1.9815
Iter 021 	 Temp     0.94 	 Delta   613.40 	 OutFr   0.0434 	 RMSD     1.9775
Iter 022 	 Temp     0.87 	 Delta   570.19 	 OutFr   0.0596 	 RMSD     1.9768
Iter 023 	 Temp     0.81 	 Delta   528.47 	 OutFr   0.0786 	 RMSD     1.9781
Iter 024 	 Temp     0.75 	 Delta   485.85 	 OutFr   0.0921 	 RMSD     1.9792
Iter 025 	 Temp     0.70 	 Delta   442.57 	 OutFr   0.0976 	 RMSD     1.9807
Iter 026 	 Temp     0.65 	 Delta   400.87 	 OutFr   0.1192 	 RMSD     1.9823
Iter 027 	 Temp     0.61 	 Delta   363.52 	 OutFr   0.1599 	 RMSD     1.9832
Iter 028 	 Temp     0.56 	 Delta   330.99 	 OutFr   0.1897 	 RMSD     1.9836
Iter 029 	 Temp     0.52 	 Delta   301.66 	 OutFr   0.2141 	 RMSD     1.9852
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.npYeiiaY/mybin.nii.gz
+ vtklevelset /tmp/ashs.npYeiiaY/mybin.nii.gz /tmp/ashs.npYeiiaY/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.npYeiiaY/mymesh.vtk /tmp/ashs.npYeiiaY/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 3001.52721904   0.94276043
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.npYeiiaY/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 5.64338 to 32.449
   Y : -19.7395 to 23.1726
   Z : -18.7129 to 15.5762
   Image resolution  : 107 by 153 by 127
   Image box origin  : {0.64338, -24.7395, -23.7129}
   Image box size    : {37.1528, 53.125, 44.4495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-0.64338, 24.7395, -23.7129]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat -o /tmp/ashs.npYeiiaY/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat -o /tmp/ashs.npYeiiaY/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.npYeiiaY/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.761538 0.767308
+ echo 'CHUNK 0.761538 0.767308 0.5'
CHUNK 0.761538 0.767308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.761538 0.767308 0.5
====================================
         PROGRESS: 0.761538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.npYeiiaY/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.npYeiiaY/fixed_hw.nii.gz /tmp/ashs.npYeiiaY/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.557718, moving = 0.527983
LEVEL 1 of 3
  Smoothing sigmas: [2.38335, 2.35936, 2.4059], [0.972999, 0.963206, 0.982204]
Level     0,  Iter     0:    Energy =   0.0505
Level     0,  Iter     1:    Energy =   0.0551
Level     0,  Iter     2:    Energy =   0.0605
Level     0,  Iter     3:    Energy =   0.0646
Level     0,  Iter     4:    Energy =   0.0685
Level     0,  Iter     5:    Energy =   0.0723
Level     0,  Iter     6:    Energy =   0.0752
Level     0,  Iter     7:    Energy =   0.0775
Level     0,  Iter     8:    Energy =   0.0795
Level     0,  Iter     9:    Energy =   0.0806
Level     0,  Iter    10:    Energy =   0.0812
Level     0,  Iter    11:    Energy =   0.0812
Level     0,  Iter    12:    Energy =   0.0816
Level     0,  Iter    13:    Energy =   0.0816
Level     0,  Iter    14:    Energy =   0.0820
Level     0,  Iter    15:    Energy =   0.0820
Level     0,  Iter    16:    Energy =   0.0824
Level     0,  Iter    17:    Energy =   0.0824
Level     0,  Iter    18:    Energy =   0.0829
Level     0,  Iter    19:    Energy =   0.0828
Level     0,  Iter    20:    Energy =   0.0831
Level     0,  Iter    21:    Energy =   0.0830
Level     0,  Iter    22:    Energy =   0.0834
Level     0,  Iter    23:    Energy =   0.0833
Level     0,  Iter    24:    Energy =   0.0836
Level     0,  Iter    25:    Energy =   0.0835
Level     0,  Iter    26:    Energy =   0.0838
Level     0,  Iter    27:    Energy =   0.0837
Level     0,  Iter    28:    Energy =   0.0838
Level     0,  Iter    29:    Energy =   0.0837
Level     0,  Iter    30:    Energy =   0.0841
Level     0,  Iter    31:    Energy =   0.0839
Level     0,  Iter    32:    Energy =   0.0842
Level     0,  Iter    33:    Energy =   0.0841
Level     0,  Iter    34:    Energy =   0.0846
Level     0,  Iter    35:    Energy =   0.0844
Level     0,  Iter    36:    Energy =   0.0845
Level     0,  Iter    37:    Energy =   0.0844
Level     0,  Iter    38:    Energy =   0.0848
Level     0,  Iter    39:    Energy =   0.0846
Level     0,  Iter    40:    Energy =   0.0848
Level     0,  Iter    41:    Energy =   0.0846
Level     0,  Iter    42:    Energy =   0.0847
Level     0,  Iter    43:    Energy =   0.0845
Level     0,  Iter    44:    Energy =   0.0847
Level     0,  Iter    45:    Energy =   0.0845
Level     0,  Iter    46:    Energy =   0.0848
Level     0,  Iter    47:    Energy =   0.0845
Level     0,  Iter    48:    Energy =   0.0848
Level     0,  Iter    49:    Energy =   0.0845
Level     0,  Iter    50:    Energy =   0.0848
Level     0,  Iter    51:    Energy =   0.0846
Level     0,  Iter    52:    Energy =   0.0849
Level     0,  Iter    53:    Energy =   0.0847
Level     0,  Iter    54:    Energy =   0.0850
Level     0,  Iter    55:    Energy =   0.0848
Level     0,  Iter    56:    Energy =   0.0851
Level     0,  Iter    57:    Energy =   0.0849
Level     0,  Iter    58:    Energy =   0.0852
Level     0,  Iter    59:    Energy =   0.0850
END OF LEVEL     0    DetJac Range:   0.2660  to   3.0452 
  Avg. Gradient Time  : 0.0084s  37.41% 
  Avg. Gaussian Time  : 0.0106s  47.47% 
  Avg. Iteration Time : 0.0224s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19168, 1.195, 1.20295], [0.486499, 0.487857, 0.491102]
Level     1,  Iter     0:    Energy =   0.0572
Level     1,  Iter     1:    Energy =   0.0607
Level     1,  Iter     2:    Energy =   0.0633
Level     1,  Iter     3:    Energy =   0.0658
Level     1,  Iter     4:    Energy =   0.0680
Level     1,  Iter     5:    Energy =   0.0699
Level     1,  Iter     6:    Energy =   0.0719
Level     1,  Iter     7:    Energy =   0.0731
Level     1,  Iter     8:    Energy =   0.0741
Level     1,  Iter     9:    Energy =   0.0749
Level     1,  Iter    10:    Energy =   0.0760
Level     1,  Iter    11:    Energy =   0.0768
Level     1,  Iter    12:    Energy =   0.0775
Level     1,  Iter    13:    Energy =   0.0784
Level     1,  Iter    14:    Energy =   0.0791
Level     1,  Iter    15:    Energy =   0.0795
Level     1,  Iter    16:    Energy =   0.0795
Level     1,  Iter    17:    Energy =   0.0800
Level     1,  Iter    18:    Energy =   0.0800
Level     1,  Iter    19:    Energy =   0.0804
Level     1,  Iter    20:    Energy =   0.0804
Level     1,  Iter    21:    Energy =   0.0808
Level     1,  Iter    22:    Energy =   0.0807
Level     1,  Iter    23:    Energy =   0.0810
Level     1,  Iter    24:    Energy =   0.0810
Level     1,  Iter    25:    Energy =   0.0812
Level     1,  Iter    26:    Energy =   0.0812
Level     1,  Iter    27:    Energy =   0.0814
Level     1,  Iter    28:    Energy =   0.0813
Level     1,  Iter    29:    Energy =   0.0815
Level     1,  Iter    30:    Energy =   0.0815
Level     1,  Iter    31:    Energy =   0.0817
Level     1,  Iter    32:    Energy =   0.0816
Level     1,  Iter    33:    Energy =   0.0818
Level     1,  Iter    34:    Energy =   0.0817
Level     1,  Iter    35:    Energy =   0.0820
Level     1,  Iter    36:    Energy =   0.0819
Level     1,  Iter    37:    Energy =   0.0820
Level     1,  Iter    38:    Energy =   0.0819
Level     1,  Iter    39:    Energy =   0.0821
Level     1,  Iter    40:    Energy =   0.0820
Level     1,  Iter    41:    Energy =   0.0822
Level     1,  Iter    42:    Energy =   0.0820
Level     1,  Iter    43:    Energy =   0.0822
Level     1,  Iter    44:    Energy =   0.0821
Level     1,  Iter    45:    Energy =   0.0822
Level     1,  Iter    46:    Energy =   0.0821
Level     1,  Iter    47:    Energy =   0.0822
Level     1,  Iter    48:    Energy =   0.0821
Level     1,  Iter    49:    Energy =   0.0823
Level     1,  Iter    50:    Energy =   0.0821
Level     1,  Iter    51:    Energy =   0.0823
Level     1,  Iter    52:    Energy =   0.0822
Level     1,  Iter    53:    Energy =   0.0823
Level     1,  Iter    54:    Energy =   0.0822
Level     1,  Iter    55:    Energy =   0.0824
Level     1,  Iter    56:    Energy =   0.0822
Level     1,  Iter    57:    Energy =   0.0824
Level     1,  Iter    58:    Energy =   0.0823
Level     1,  Iter    59:    Energy =   0.0824
END OF LEVEL     1    DetJac Range:   0.1165  to   4.9655 
  Avg. Gradient Time  : 0.0512s  39.39% 
  Avg. Gaussian Time  : 0.0632s  48.61% 
  Avg. Iteration Time : 0.1299s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0452
Level     2,  Iter     1:    Energy =   0.0473
Level     2,  Iter     2:    Energy =   0.0489
Level     2,  Iter     3:    Energy =   0.0502
Level     2,  Iter     4:    Energy =   0.0513
Level     2,  Iter     5:    Energy =   0.0525
Level     2,  Iter     6:    Energy =   0.0537
Level     2,  Iter     7:    Energy =   0.0548
Level     2,  Iter     8:    Energy =   0.0558
Level     2,  Iter     9:    Energy =   0.0567
Level     2,  Iter    10:    Energy =   0.0575
Level     2,  Iter    11:    Energy =   0.0581
Level     2,  Iter    12:    Energy =   0.0587
Level     2,  Iter    13:    Energy =   0.0593
Level     2,  Iter    14:    Energy =   0.0597
Level     2,  Iter    15:    Energy =   0.0601
Level     2,  Iter    16:    Energy =   0.0604
Level     2,  Iter    17:    Energy =   0.0607
Level     2,  Iter    18:    Energy =   0.0610
Level     2,  Iter    19:    Energy =   0.0612
END OF LEVEL     2    DetJac Range:   0.0642  to   7.4503 
  Avg. Gradient Time  : 0.3609s  36.89% 
  Avg. Gaussian Time  : 0.5142s  52.55% 
  Avg. Iteration Time : 0.9785s 

real	0m32.785s
user	0m58.040s
sys	0m3.208s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.761538 0.767308
+ echo 'CHUNK 0.761538 0.767308 1'
CHUNK 0.761538 0.767308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.761538 0.767308 1
====================================
         PROGRESS: 0.761538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=003
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 003
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 003 right 0
+ local tid=003
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1983.16 	 OutFr   0.0000 	 RMSD     3.8615
Iter 002 	 Temp     3.72 	 Delta  1888.13 	 OutFr   0.0000 	 RMSD     2.0979
Iter 003 	 Temp     3.46 	 Delta  1750.50 	 OutFr   0.0000 	 RMSD     2.1087
Iter 004 	 Temp     3.22 	 Delta  1638.88 	 OutFr   0.0000 	 RMSD     2.0899
Iter 005 	 Temp     2.99 	 Delta  1537.08 	 OutFr   0.0000 	 RMSD     2.0669
Iter 006 	 Temp     2.78 	 Delta  1442.26 	 OutFr   0.0027 	 RMSD     2.0474
Iter 007 	 Temp     2.59 	 Delta  1360.96 	 OutFr   0.0027 	 RMSD     2.0313
Iter 008 	 Temp     2.41 	 Delta  1292.84 	 OutFr   0.0054 	 RMSD     2.0178
Iter 009 	 Temp     2.24 	 Delta  1228.28 	 OutFr   0.0054 	 RMSD     2.0065
Iter 010 	 Temp     2.08 	 Delta  1161.81 	 OutFr   0.0054 	 RMSD     1.9974
Iter 011 	 Temp     1.94 	 Delta  1093.50 	 OutFr   0.0081 	 RMSD     1.9896
Iter 012 	 Temp     1.80 	 Delta  1024.79 	 OutFr   0.0108 	 RMSD     1.9824
Iter 013 	 Temp     1.67 	 Delta   956.86 	 OutFr   0.0136 	 RMSD     1.9762
Iter 014 	 Temp     1.56 	 Delta   890.80 	 OutFr   0.0136 	 RMSD     1.9707
Iter 015 	 Temp     1.45 	 Delta   827.88 	 OutFr   0.0136 	 RMSD     1.9666
Iter 016 	 Temp     1.35 	 Delta   769.06 	 OutFr   0.0136 	 RMSD     1.9644
Iter 017 	 Temp     1.25 	 Delta   714.82 	 OutFr   0.0163 	 RMSD     1.9625
Iter 018 	 Temp     1.16 	 Delta   665.20 	 OutFr   0.0217 	 RMSD     1.9610
Iter 019 	 Temp     1.08 	 Delta   619.87 	 OutFr   0.0217 	 RMSD     1.9573
Iter 020 	 Temp     1.01 	 Delta   577.39 	 OutFr   0.0244 	 RMSD     1.9525
Iter 021 	 Temp     0.94 	 Delta   536.05 	 OutFr   0.0271 	 RMSD     1.9481
Iter 022 	 Temp     0.87 	 Delta   497.45 	 OutFr   0.0434 	 RMSD     1.9449
Iter 023 	 Temp     0.81 	 Delta   463.20 	 OutFr   0.0515 	 RMSD     1.9423
Iter 024 	 Temp     0.75 	 Delta   431.86 	 OutFr   0.0623 	 RMSD     1.9410
Iter 025 	 Temp     0.70 	 Delta   402.79 	 OutFr   0.0786 	 RMSD     1.9418
Iter 026 	 Temp     0.65 	 Delta   375.80 	 OutFr   0.0949 	 RMSD     1.9432
Iter 027 	 Temp     0.61 	 Delta   352.45 	 OutFr   0.1220 	 RMSD     1.9462
Iter 028 	 Temp     0.56 	 Delta   328.73 	 OutFr   0.1355 	 RMSD     1.9503
Iter 029 	 Temp     0.52 	 Delta   300.15 	 OutFr   0.1463 	 RMSD     1.9550
Iter 030 	 Temp     0.49 	 Delta   267.85 	 OutFr   0.1789 	 RMSD     1.9599
Iter 031 	 Temp     0.45 	 Delta   239.57 	 OutFr   0.2195 	 RMSD     1.9653
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.k7gI0WLt/mybin.nii.gz
+ vtklevelset /tmp/ashs.k7gI0WLt/mybin.nii.gz /tmp/ashs.k7gI0WLt/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.k7gI0WLt/mymesh.vtk /tmp/ashs.k7gI0WLt/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 2761.47557411   0.86736175
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.k7gI0WLt/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.7575 to 35.7336
   Y : -14.5335 to 28.0645
   Z : -32.4118 to -3.41497
   Image resolution  : 98 by 152 by 112
   Image box origin  : {6.7575, -19.5335, -37.4118}
   Image box size    : {34.0278, 52.7777, 39.1996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.7575, 19.5335, -37.4118]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat -o /tmp/ashs.k7gI0WLt/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat -o /tmp/ashs.k7gI0WLt/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.k7gI0WLt/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.767308 0.773077
+ echo 'CHUNK 0.767308 0.773077 0.5'
CHUNK 0.767308 0.773077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.767308 0.773077 0.5
====================================
         PROGRESS: 0.767308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.k7gI0WLt/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.k7gI0WLt/fixed_hw.nii.gz /tmp/ashs.k7gI0WLt/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.548149, moving = 0.240681
LEVEL 1 of 3
  Smoothing sigmas: [2.35751, 2.40562, 2.42484], [0.96245, 0.982092, 0.989938]
Level     0,  Iter     0:    Energy =   0.0354
Level     0,  Iter     1:    Energy =   0.0425
Level     0,  Iter     2:    Energy =   0.0484
Level     0,  Iter     3:    Energy =   0.0539
Level     0,  Iter     4:    Energy =   0.0589
Level     0,  Iter     5:    Energy =   0.0629
Level     0,  Iter     6:    Energy =   0.0656
Level     0,  Iter     7:    Energy =   0.0679
Level     0,  Iter     8:    Energy =   0.0702
Level     0,  Iter     9:    Energy =   0.0729
Level     0,  Iter    10:    Energy =   0.0748
Level     0,  Iter    11:    Energy =   0.0759
Level     0,  Iter    12:    Energy =   0.0763
Level     0,  Iter    13:    Energy =   0.0767
Level     0,  Iter    14:    Energy =   0.0771
Level     0,  Iter    15:    Energy =   0.0774
Level     0,  Iter    16:    Energy =   0.0779
Level     0,  Iter    17:    Energy =   0.0781
Level     0,  Iter    18:    Energy =   0.0788
Level     0,  Iter    19:    Energy =   0.0790
Level     0,  Iter    20:    Energy =   0.0795
Level     0,  Iter    21:    Energy =   0.0798
Level     0,  Iter    22:    Energy =   0.0807
Level     0,  Iter    23:    Energy =   0.0809
Level     0,  Iter    24:    Energy =   0.0810
Level     0,  Iter    25:    Energy =   0.0812
Level     0,  Iter    26:    Energy =   0.0817
Level     0,  Iter    27:    Energy =   0.0818
Level     0,  Iter    28:    Energy =   0.0824
Level     0,  Iter    29:    Energy =   0.0825
Level     0,  Iter    30:    Energy =   0.0827
Level     0,  Iter    31:    Energy =   0.0827
Level     0,  Iter    32:    Energy =   0.0831
Level     0,  Iter    33:    Energy =   0.0832
Level     0,  Iter    34:    Energy =   0.0833
Level     0,  Iter    35:    Energy =   0.0833
Level     0,  Iter    36:    Energy =   0.0838
Level     0,  Iter    37:    Energy =   0.0838
Level     0,  Iter    38:    Energy =   0.0839
Level     0,  Iter    39:    Energy =   0.0839
Level     0,  Iter    40:    Energy =   0.0843
Level     0,  Iter    41:    Energy =   0.0843
Level     0,  Iter    42:    Energy =   0.0844
Level     0,  Iter    43:    Energy =   0.0844
Level     0,  Iter    44:    Energy =   0.0849
Level     0,  Iter    45:    Energy =   0.0848
Level     0,  Iter    46:    Energy =   0.0846
Level     0,  Iter    47:    Energy =   0.0846
Level     0,  Iter    48:    Energy =   0.0852
Level     0,  Iter    49:    Energy =   0.0851
Level     0,  Iter    50:    Energy =   0.0849
Level     0,  Iter    51:    Energy =   0.0848
Level     0,  Iter    52:    Energy =   0.0853
Level     0,  Iter    53:    Energy =   0.0853
Level     0,  Iter    54:    Energy =   0.0855
Level     0,  Iter    55:    Energy =   0.0854
Level     0,  Iter    56:    Energy =   0.0859
Level     0,  Iter    57:    Energy =   0.0857
Level     0,  Iter    58:    Energy =   0.0855
Level     0,  Iter    59:    Energy =   0.0853
END OF LEVEL     0    DetJac Range:   0.3011  to   2.7164 
  Avg. Gradient Time  : 0.0069s  37.19% 
  Avg. Gaussian Time  : 0.0089s  47.79% 
  Avg. Iteration Time : 0.0186s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0562
Level     1,  Iter     1:    Energy =   0.0596
Level     1,  Iter     2:    Energy =   0.0630
Level     1,  Iter     3:    Energy =   0.0657
Level     1,  Iter     4:    Energy =   0.0682
Level     1,  Iter     5:    Energy =   0.0701
Level     1,  Iter     6:    Energy =   0.0716
Level     1,  Iter     7:    Energy =   0.0731
Level     1,  Iter     8:    Energy =   0.0744
Level     1,  Iter     9:    Energy =   0.0755
Level     1,  Iter    10:    Energy =   0.0765
Level     1,  Iter    11:    Energy =   0.0775
Level     1,  Iter    12:    Energy =   0.0783
Level     1,  Iter    13:    Energy =   0.0788
Level     1,  Iter    14:    Energy =   0.0788
Level     1,  Iter    15:    Energy =   0.0791
Level     1,  Iter    16:    Energy =   0.0790
Level     1,  Iter    17:    Energy =   0.0794
Level     1,  Iter    18:    Energy =   0.0793
Level     1,  Iter    19:    Energy =   0.0797
Level     1,  Iter    20:    Energy =   0.0796
Level     1,  Iter    21:    Energy =   0.0799
Level     1,  Iter    22:    Energy =   0.0798
Level     1,  Iter    23:    Energy =   0.0802
Level     1,  Iter    24:    Energy =   0.0800
Level     1,  Iter    25:    Energy =   0.0804
Level     1,  Iter    26:    Energy =   0.0802
Level     1,  Iter    27:    Energy =   0.0805
Level     1,  Iter    28:    Energy =   0.0804
Level     1,  Iter    29:    Energy =   0.0808
Level     1,  Iter    30:    Energy =   0.0806
Level     1,  Iter    31:    Energy =   0.0809
Level     1,  Iter    32:    Energy =   0.0808
Level     1,  Iter    33:    Energy =   0.0811
Level     1,  Iter    34:    Energy =   0.0809
Level     1,  Iter    35:    Energy =   0.0812
Level     1,  Iter    36:    Energy =   0.0810
Level     1,  Iter    37:    Energy =   0.0813
Level     1,  Iter    38:    Energy =   0.0811
Level     1,  Iter    39:    Energy =   0.0814
Level     1,  Iter    40:    Energy =   0.0812
Level     1,  Iter    41:    Energy =   0.0814
Level     1,  Iter    42:    Energy =   0.0812
Level     1,  Iter    43:    Energy =   0.0815
Level     1,  Iter    44:    Energy =   0.0813
Level     1,  Iter    45:    Energy =   0.0816
Level     1,  Iter    46:    Energy =   0.0813
Level     1,  Iter    47:    Energy =   0.0816
Level     1,  Iter    48:    Energy =   0.0814
Level     1,  Iter    49:    Energy =   0.0817
Level     1,  Iter    50:    Energy =   0.0814
Level     1,  Iter    51:    Energy =   0.0817
Level     1,  Iter    52:    Energy =   0.0814
Level     1,  Iter    53:    Energy =   0.0817
Level     1,  Iter    54:    Energy =   0.0815
Level     1,  Iter    55:    Energy =   0.0817
Level     1,  Iter    56:    Energy =   0.0815
Level     1,  Iter    57:    Energy =   0.0818
Level     1,  Iter    58:    Energy =   0.0816
Level     1,  Iter    59:    Energy =   0.0818
END OF LEVEL     1    DetJac Range:   0.1560  to   3.7268 
  Avg. Gradient Time  : 0.0415s  40.11% 
  Avg. Gaussian Time  : 0.0497s  48.04% 
  Avg. Iteration Time : 0.1034s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0404
Level     2,  Iter     1:    Energy =   0.0422
Level     2,  Iter     2:    Energy =   0.0443
Level     2,  Iter     3:    Energy =   0.0460
Level     2,  Iter     4:    Energy =   0.0475
Level     2,  Iter     5:    Energy =   0.0490
Level     2,  Iter     6:    Energy =   0.0501
Level     2,  Iter     7:    Energy =   0.0511
Level     2,  Iter     8:    Energy =   0.0522
Level     2,  Iter     9:    Energy =   0.0531
Level     2,  Iter    10:    Energy =   0.0539
Level     2,  Iter    11:    Energy =   0.0547
Level     2,  Iter    12:    Energy =   0.0554
Level     2,  Iter    13:    Energy =   0.0559
Level     2,  Iter    14:    Energy =   0.0564
Level     2,  Iter    15:    Energy =   0.0569
Level     2,  Iter    16:    Energy =   0.0572
Level     2,  Iter    17:    Energy =   0.0573
Level     2,  Iter    18:    Energy =   0.0574
Level     2,  Iter    19:    Energy =   0.0576
END OF LEVEL     2    DetJac Range:   0.0551  to   5.7476 
  Avg. Gradient Time  : 0.3004s  37.50% 
  Avg. Gaussian Time  : 0.4169s  52.04% 
  Avg. Iteration Time : 0.8011s 

real	0m26.500s
user	0m46.776s
sys	0m2.672s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.767308 0.773077
+ echo 'CHUNK 0.767308 0.773077 1'
CHUNK 0.767308 0.773077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.767308 0.773077 1
====================================
         PROGRESS: 0.767308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=004
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 004
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 004 right 0
+ local tid=004
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2151.23 	 OutFr   0.0000 	 RMSD     2.9576
Iter 002 	 Temp     3.72 	 Delta  2027.93 	 OutFr   0.0000 	 RMSD     2.2494
Iter 003 	 Temp     3.46 	 Delta  1869.71 	 OutFr   0.0000 	 RMSD     2.2525
Iter 004 	 Temp     3.22 	 Delta  1712.92 	 OutFr   0.0000 	 RMSD     2.2314
Iter 005 	 Temp     2.99 	 Delta  1566.60 	 OutFr   0.0000 	 RMSD     2.2105
Iter 006 	 Temp     2.78 	 Delta  1433.84 	 OutFr   0.0000 	 RMSD     2.1937
Iter 007 	 Temp     2.59 	 Delta  1316.07 	 OutFr   0.0000 	 RMSD     2.1803
Iter 008 	 Temp     2.41 	 Delta  1213.38 	 OutFr   0.0000 	 RMSD     2.1694
Iter 009 	 Temp     2.24 	 Delta  1125.00 	 OutFr   0.0000 	 RMSD     2.1607
Iter 010 	 Temp     2.08 	 Delta  1049.59 	 OutFr   0.0000 	 RMSD     2.1541
Iter 011 	 Temp     1.94 	 Delta   985.17 	 OutFr   0.0027 	 RMSD     2.1493
Iter 012 	 Temp     1.80 	 Delta   929.19 	 OutFr   0.0054 	 RMSD     2.1456
Iter 013 	 Temp     1.67 	 Delta   878.80 	 OutFr   0.0054 	 RMSD     2.1423
Iter 014 	 Temp     1.56 	 Delta   831.26 	 OutFr   0.0054 	 RMSD     2.1398
Iter 015 	 Temp     1.45 	 Delta   784.15 	 OutFr   0.0081 	 RMSD     2.1379
Iter 016 	 Temp     1.35 	 Delta   736.00 	 OutFr   0.0108 	 RMSD     2.1370
Iter 017 	 Temp     1.25 	 Delta   687.30 	 OutFr   0.0163 	 RMSD     2.1372
Iter 018 	 Temp     1.16 	 Delta   640.16 	 OutFr   0.0298 	 RMSD     2.1379
Iter 019 	 Temp     1.08 	 Delta   596.46 	 OutFr   0.0407 	 RMSD     2.1387
Iter 020 	 Temp     1.01 	 Delta   556.25 	 OutFr   0.0596 	 RMSD     2.1393
Iter 021 	 Temp     0.94 	 Delta   518.83 	 OutFr   0.0678 	 RMSD     2.1398
Iter 022 	 Temp     0.87 	 Delta   484.17 	 OutFr   0.0786 	 RMSD     2.1404
Iter 023 	 Temp     0.81 	 Delta   454.19 	 OutFr   0.0894 	 RMSD     2.1411
Iter 024 	 Temp     0.75 	 Delta   428.60 	 OutFr   0.1003 	 RMSD     2.1414
Iter 025 	 Temp     0.70 	 Delta   403.89 	 OutFr   0.1084 	 RMSD     2.1412
Iter 026 	 Temp     0.65 	 Delta   378.15 	 OutFr   0.1220 	 RMSD     2.1407
Iter 027 	 Temp     0.61 	 Delta   349.96 	 OutFr   0.1463 	 RMSD     2.1400
Iter 028 	 Temp     0.56 	 Delta   320.90 	 OutFr   0.1626 	 RMSD     2.1390
Iter 029 	 Temp     0.52 	 Delta   293.32 	 OutFr   0.1816 	 RMSD     2.1378
Iter 030 	 Temp     0.49 	 Delta   265.28 	 OutFr   0.2005 	 RMSD     2.1371
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.ofjETTTe/mybin.nii.gz
+ vtklevelset /tmp/ashs.ofjETTTe/mybin.nii.gz /tmp/ashs.ofjETTTe/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.ofjETTTe/mymesh.vtk /tmp/ashs.ofjETTTe/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 2749.83534867   0.86370563
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.ofjETTTe/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.4587 to 36.5048
   Y : -11.3716 to 33.2283
   Z : -25.1413 to 3.75733
   Image resolution  : 104 by 158 by 112
   Image box origin  : {5.4587, -16.3716, -30.1413}
   Image box size    : {36.1111, 54.8611, 39.1996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.4587, 16.3716, -30.1413]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat -o /tmp/ashs.ofjETTTe/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat -o /tmp/ashs.ofjETTTe/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.ofjETTTe/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.773077 0.778846
+ echo 'CHUNK 0.773077 0.778846 0.5'
CHUNK 0.773077 0.778846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.773077 0.778846 0.5
====================================
         PROGRESS: 0.773077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.ofjETTTe/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.ofjETTTe/fixed_hw.nii.gz /tmp/ashs.ofjETTTe/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.558352, moving = 0.601871
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.37555, 2.42484], [0.982092, 0.969816, 0.989938]
Level     0,  Iter     0:    Energy =   0.0517
Level     0,  Iter     1:    Energy =   0.0573
Level     0,  Iter     2:    Energy =   0.0632
Level     0,  Iter     3:    Energy =   0.0673
Level     0,  Iter     4:    Energy =   0.0706
Level     0,  Iter     5:    Energy =   0.0727
Level     0,  Iter     6:    Energy =   0.0744
Level     0,  Iter     7:    Energy =   0.0747
Level     0,  Iter     8:    Energy =   0.0754
Level     0,  Iter     9:    Energy =   0.0755
Level     0,  Iter    10:    Energy =   0.0760
Level     0,  Iter    11:    Energy =   0.0760
Level     0,  Iter    12:    Energy =   0.0765
Level     0,  Iter    13:    Energy =   0.0765
Level     0,  Iter    14:    Energy =   0.0771
Level     0,  Iter    15:    Energy =   0.0771
Level     0,  Iter    16:    Energy =   0.0777
Level     0,  Iter    17:    Energy =   0.0776
Level     0,  Iter    18:    Energy =   0.0782
Level     0,  Iter    19:    Energy =   0.0782
Level     0,  Iter    20:    Energy =   0.0787
Level     0,  Iter    21:    Energy =   0.0786
Level     0,  Iter    22:    Energy =   0.0790
Level     0,  Iter    23:    Energy =   0.0788
Level     0,  Iter    24:    Energy =   0.0791
Level     0,  Iter    25:    Energy =   0.0789
Level     0,  Iter    26:    Energy =   0.0792
Level     0,  Iter    27:    Energy =   0.0790
Level     0,  Iter    28:    Energy =   0.0792
Level     0,  Iter    29:    Energy =   0.0792
Level     0,  Iter    30:    Energy =   0.0793
Level     0,  Iter    31:    Energy =   0.0793
Level     0,  Iter    32:    Energy =   0.0795
Level     0,  Iter    33:    Energy =   0.0795
Level     0,  Iter    34:    Energy =   0.0797
Level     0,  Iter    35:    Energy =   0.0796
Level     0,  Iter    36:    Energy =   0.0799
Level     0,  Iter    37:    Energy =   0.0798
Level     0,  Iter    38:    Energy =   0.0801
Level     0,  Iter    39:    Energy =   0.0800
Level     0,  Iter    40:    Energy =   0.0803
Level     0,  Iter    41:    Energy =   0.0801
Level     0,  Iter    42:    Energy =   0.0804
Level     0,  Iter    43:    Energy =   0.0802
Level     0,  Iter    44:    Energy =   0.0805
Level     0,  Iter    45:    Energy =   0.0803
Level     0,  Iter    46:    Energy =   0.0806
Level     0,  Iter    47:    Energy =   0.0804
Level     0,  Iter    48:    Energy =   0.0807
Level     0,  Iter    49:    Energy =   0.0805
Level     0,  Iter    50:    Energy =   0.0808
Level     0,  Iter    51:    Energy =   0.0806
Level     0,  Iter    52:    Energy =   0.0809
Level     0,  Iter    53:    Energy =   0.0807
Level     0,  Iter    54:    Energy =   0.0810
Level     0,  Iter    55:    Energy =   0.0807
Level     0,  Iter    56:    Energy =   0.0811
Level     0,  Iter    57:    Energy =   0.0808
Level     0,  Iter    58:    Energy =   0.0811
Level     0,  Iter    59:    Energy =   0.0809
END OF LEVEL     0    DetJac Range:   0.5793  to   2.3431 
  Avg. Gradient Time  : 0.0065s  37.06% 
  Avg. Gaussian Time  : 0.0084s  48.13% 
  Avg. Iteration Time : 0.0175s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0609
Level     1,  Iter     1:    Energy =   0.0645
Level     1,  Iter     2:    Energy =   0.0675
Level     1,  Iter     3:    Energy =   0.0697
Level     1,  Iter     4:    Energy =   0.0715
Level     1,  Iter     5:    Energy =   0.0731
Level     1,  Iter     6:    Energy =   0.0746
Level     1,  Iter     7:    Energy =   0.0756
Level     1,  Iter     8:    Energy =   0.0765
Level     1,  Iter     9:    Energy =   0.0774
Level     1,  Iter    10:    Energy =   0.0780
Level     1,  Iter    11:    Energy =   0.0784
Level     1,  Iter    12:    Energy =   0.0787
Level     1,  Iter    13:    Energy =   0.0791
Level     1,  Iter    14:    Energy =   0.0796
Level     1,  Iter    15:    Energy =   0.0799
Level     1,  Iter    16:    Energy =   0.0802
Level     1,  Iter    17:    Energy =   0.0805
Level     1,  Iter    18:    Energy =   0.0808
Level     1,  Iter    19:    Energy =   0.0811
Level     1,  Iter    20:    Energy =   0.0812
Level     1,  Iter    21:    Energy =   0.0812
Level     1,  Iter    22:    Energy =   0.0812
Level     1,  Iter    23:    Energy =   0.0813
Level     1,  Iter    24:    Energy =   0.0812
Level     1,  Iter    25:    Energy =   0.0814
Level     1,  Iter    26:    Energy =   0.0813
Level     1,  Iter    27:    Energy =   0.0815
Level     1,  Iter    28:    Energy =   0.0814
Level     1,  Iter    29:    Energy =   0.0816
Level     1,  Iter    30:    Energy =   0.0815
Level     1,  Iter    31:    Energy =   0.0817
Level     1,  Iter    32:    Energy =   0.0816
Level     1,  Iter    33:    Energy =   0.0817
Level     1,  Iter    34:    Energy =   0.0816
Level     1,  Iter    35:    Energy =   0.0818
Level     1,  Iter    36:    Energy =   0.0817
Level     1,  Iter    37:    Energy =   0.0818
Level     1,  Iter    38:    Energy =   0.0818
Level     1,  Iter    39:    Energy =   0.0819
Level     1,  Iter    40:    Energy =   0.0818
Level     1,  Iter    41:    Energy =   0.0820
Level     1,  Iter    42:    Energy =   0.0819
Level     1,  Iter    43:    Energy =   0.0820
Level     1,  Iter    44:    Energy =   0.0819
Level     1,  Iter    45:    Energy =   0.0821
Level     1,  Iter    46:    Energy =   0.0820
Level     1,  Iter    47:    Energy =   0.0821
Level     1,  Iter    48:    Energy =   0.0820
Level     1,  Iter    49:    Energy =   0.0822
Level     1,  Iter    50:    Energy =   0.0821
Level     1,  Iter    51:    Energy =   0.0821
Level     1,  Iter    52:    Energy =   0.0821
Level     1,  Iter    53:    Energy =   0.0822
Level     1,  Iter    54:    Energy =   0.0821
Level     1,  Iter    55:    Energy =   0.0822
Level     1,  Iter    56:    Energy =   0.0821
Level     1,  Iter    57:    Energy =   0.0822
Level     1,  Iter    58:    Energy =   0.0821
Level     1,  Iter    59:    Energy =   0.0823
END OF LEVEL     1    DetJac Range:   0.1505  to   6.1695 
  Avg. Gradient Time  : 0.0404s  40.33% 
  Avg. Gaussian Time  : 0.0482s  48.03% 
  Avg. Iteration Time : 0.1003s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0443
Level     2,  Iter     1:    Energy =   0.0461
Level     2,  Iter     2:    Energy =   0.0479
Level     2,  Iter     3:    Energy =   0.0495
Level     2,  Iter     4:    Energy =   0.0508
Level     2,  Iter     5:    Energy =   0.0516
Level     2,  Iter     6:    Energy =   0.0524
Level     2,  Iter     7:    Energy =   0.0532
Level     2,  Iter     8:    Energy =   0.0539
Level     2,  Iter     9:    Energy =   0.0546
Level     2,  Iter    10:    Energy =   0.0552
Level     2,  Iter    11:    Energy =   0.0558
Level     2,  Iter    12:    Energy =   0.0565
Level     2,  Iter    13:    Energy =   0.0569
Level     2,  Iter    14:    Energy =   0.0574
Level     2,  Iter    15:    Energy =   0.0578
Level     2,  Iter    16:    Energy =   0.0582
Level     2,  Iter    17:    Energy =   0.0586
Level     2,  Iter    18:    Energy =   0.0589
Level     2,  Iter    19:    Energy =   0.0592
END OF LEVEL     2    DetJac Range:   0.0870  to   5.5390 
  Avg. Gradient Time  : 0.2918s  37.84% 
  Avg. Gaussian Time  : 0.3965s  51.43% 
  Avg. Iteration Time : 0.7710s 

real	0m25.438s
user	0m45.048s
sys	0m2.512s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.773077 0.778846
+ echo 'CHUNK 0.773077 0.778846 1'
CHUNK 0.773077 0.778846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.773077 0.778846 1
====================================
         PROGRESS: 0.773077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=005
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 005
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 005 right 0
+ local tid=005
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1766.15 	 OutFr   0.0000 	 RMSD     2.7227
Iter 002 	 Temp     3.72 	 Delta  1545.81 	 OutFr   0.0000 	 RMSD     2.3781
Iter 003 	 Temp     3.46 	 Delta  1434.04 	 OutFr   0.0027 	 RMSD     2.3860
Iter 004 	 Temp     3.22 	 Delta  1353.81 	 OutFr   0.0027 	 RMSD     2.3679
Iter 005 	 Temp     2.99 	 Delta  1289.23 	 OutFr   0.0054 	 RMSD     2.3493
Iter 006 	 Temp     2.78 	 Delta  1233.34 	 OutFr   0.0054 	 RMSD     2.3336
Iter 007 	 Temp     2.59 	 Delta  1182.27 	 OutFr   0.0054 	 RMSD     2.3210
Iter 008 	 Temp     2.41 	 Delta  1133.46 	 OutFr   0.0054 	 RMSD     2.3105
Iter 009 	 Temp     2.24 	 Delta  1086.20 	 OutFr   0.0054 	 RMSD     2.3015
Iter 010 	 Temp     2.08 	 Delta  1040.66 	 OutFr   0.0054 	 RMSD     2.2944
Iter 011 	 Temp     1.94 	 Delta   996.25 	 OutFr   0.0054 	 RMSD     2.2883
Iter 012 	 Temp     1.80 	 Delta   952.57 	 OutFr   0.0054 	 RMSD     2.2832
Iter 013 	 Temp     1.67 	 Delta   910.82 	 OutFr   0.0054 	 RMSD     2.2788
Iter 014 	 Temp     1.56 	 Delta   872.49 	 OutFr   0.0054 	 RMSD     2.2752
Iter 015 	 Temp     1.45 	 Delta   837.83 	 OutFr   0.0108 	 RMSD     2.2719
Iter 016 	 Temp     1.35 	 Delta   805.95 	 OutFr   0.0136 	 RMSD     2.2687
Iter 017 	 Temp     1.25 	 Delta   775.77 	 OutFr   0.0244 	 RMSD     2.2661
Iter 018 	 Temp     1.16 	 Delta   746.71 	 OutFr   0.0379 	 RMSD     2.2634
Iter 019 	 Temp     1.08 	 Delta   715.03 	 OutFr   0.0434 	 RMSD     2.2611
Iter 020 	 Temp     1.01 	 Delta   676.85 	 OutFr   0.0461 	 RMSD     2.2592
Iter 021 	 Temp     0.94 	 Delta   633.03 	 OutFr   0.0569 	 RMSD     2.2577
Iter 022 	 Temp     0.87 	 Delta   583.93 	 OutFr   0.0623 	 RMSD     2.2569
Iter 023 	 Temp     0.81 	 Delta   531.33 	 OutFr   0.0759 	 RMSD     2.2568
Iter 024 	 Temp     0.75 	 Delta   481.36 	 OutFr   0.0976 	 RMSD     2.2587
Iter 025 	 Temp     0.70 	 Delta   441.11 	 OutFr   0.1328 	 RMSD     2.2623
Iter 026 	 Temp     0.65 	 Delta   406.65 	 OutFr   0.1545 	 RMSD     2.2669
Iter 027 	 Temp     0.61 	 Delta   374.00 	 OutFr   0.1843 	 RMSD     2.2712
Iter 028 	 Temp     0.56 	 Delta   342.51 	 OutFr   0.2005 	 RMSD     2.2760
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.pmr91ObH/mybin.nii.gz
+ vtklevelset /tmp/ashs.pmr91ObH/mybin.nii.gz /tmp/ashs.pmr91ObH/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.pmr91ObH/mymesh.vtk /tmp/ashs.pmr91ObH/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 3167.27664936   0.99482126
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.pmr91ObH/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 12.1604 to 39.5227
   Y : -11.0687 to 34.4839
   Z : -10.6665 to 23.1448
   Image resolution  : 108 by 160 by 126
   Image box origin  : {7.1604, -16.0687, -15.6665}
   Image box size    : {37.5, 55.5555, 44.0995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-7.1604, 16.0687, -15.6665]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat -o /tmp/ashs.pmr91ObH/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat -o /tmp/ashs.pmr91ObH/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.pmr91ObH/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.778846 0.784615
+ echo 'CHUNK 0.778846 0.784615 0.5'
CHUNK 0.778846 0.784615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.778846 0.784615 0.5
====================================
         PROGRESS: 0.778846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.pmr91ObH/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.pmr91ObH/fixed_hw.nii.gz /tmp/ashs.pmr91ObH/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.560299, moving = 0.634932
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.38696], [0.982092, 0.982092, 0.97447]
Level     0,  Iter     0:    Energy =   0.0552
Level     0,  Iter     1:    Energy =   0.0600
Level     0,  Iter     2:    Energy =   0.0647
Level     0,  Iter     3:    Energy =   0.0689
Level     0,  Iter     4:    Energy =   0.0725
Level     0,  Iter     5:    Energy =   0.0750
Level     0,  Iter     6:    Energy =   0.0766
Level     0,  Iter     7:    Energy =   0.0775
Level     0,  Iter     8:    Energy =   0.0784
Level     0,  Iter     9:    Energy =   0.0786
Level     0,  Iter    10:    Energy =   0.0791
Level     0,  Iter    11:    Energy =   0.0795
Level     0,  Iter    12:    Energy =   0.0799
Level     0,  Iter    13:    Energy =   0.0804
Level     0,  Iter    14:    Energy =   0.0808
Level     0,  Iter    15:    Energy =   0.0811
Level     0,  Iter    16:    Energy =   0.0813
Level     0,  Iter    17:    Energy =   0.0817
Level     0,  Iter    18:    Energy =   0.0819
Level     0,  Iter    19:    Energy =   0.0823
Level     0,  Iter    20:    Energy =   0.0825
Level     0,  Iter    21:    Energy =   0.0826
Level     0,  Iter    22:    Energy =   0.0827
Level     0,  Iter    23:    Energy =   0.0830
Level     0,  Iter    24:    Energy =   0.0831
Level     0,  Iter    25:    Energy =   0.0832
Level     0,  Iter    26:    Energy =   0.0833
Level     0,  Iter    27:    Energy =   0.0835
Level     0,  Iter    28:    Energy =   0.0836
Level     0,  Iter    29:    Energy =   0.0838
Level     0,  Iter    30:    Energy =   0.0839
Level     0,  Iter    31:    Energy =   0.0841
Level     0,  Iter    32:    Energy =   0.0843
Level     0,  Iter    33:    Energy =   0.0844
Level     0,  Iter    34:    Energy =   0.0846
Level     0,  Iter    35:    Energy =   0.0848
Level     0,  Iter    36:    Energy =   0.0849
Level     0,  Iter    37:    Energy =   0.0849
Level     0,  Iter    38:    Energy =   0.0850
Level     0,  Iter    39:    Energy =   0.0851
Level     0,  Iter    40:    Energy =   0.0852
Level     0,  Iter    41:    Energy =   0.0854
Level     0,  Iter    42:    Energy =   0.0854
Level     0,  Iter    43:    Energy =   0.0856
Level     0,  Iter    44:    Energy =   0.0856
Level     0,  Iter    45:    Energy =   0.0857
Level     0,  Iter    46:    Energy =   0.0857
Level     0,  Iter    47:    Energy =   0.0858
Level     0,  Iter    48:    Energy =   0.0859
Level     0,  Iter    49:    Energy =   0.0860
Level     0,  Iter    50:    Energy =   0.0861
Level     0,  Iter    51:    Energy =   0.0860
Level     0,  Iter    52:    Energy =   0.0861
Level     0,  Iter    53:    Energy =   0.0861
Level     0,  Iter    54:    Energy =   0.0862
Level     0,  Iter    55:    Energy =   0.0863
Level     0,  Iter    56:    Energy =   0.0863
Level     0,  Iter    57:    Energy =   0.0864
Level     0,  Iter    58:    Energy =   0.0865
Level     0,  Iter    59:    Energy =   0.0865
END OF LEVEL     0    DetJac Range:   0.2980  to   1.7623 
  Avg. Gradient Time  : 0.0086s  37.67% 
  Avg. Gaussian Time  : 0.0108s  47.28% 
  Avg. Iteration Time : 0.0229s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0563
Level     1,  Iter     1:    Energy =   0.0602
Level     1,  Iter     2:    Energy =   0.0632
Level     1,  Iter     3:    Energy =   0.0656
Level     1,  Iter     4:    Energy =   0.0675
Level     1,  Iter     5:    Energy =   0.0693
Level     1,  Iter     6:    Energy =   0.0709
Level     1,  Iter     7:    Energy =   0.0725
Level     1,  Iter     8:    Energy =   0.0738
Level     1,  Iter     9:    Energy =   0.0752
Level     1,  Iter    10:    Energy =   0.0763
Level     1,  Iter    11:    Energy =   0.0773
Level     1,  Iter    12:    Energy =   0.0782
Level     1,  Iter    13:    Energy =   0.0788
Level     1,  Iter    14:    Energy =   0.0791
Level     1,  Iter    15:    Energy =   0.0790
Level     1,  Iter    16:    Energy =   0.0790
Level     1,  Iter    17:    Energy =   0.0790
Level     1,  Iter    18:    Energy =   0.0791
Level     1,  Iter    19:    Energy =   0.0790
Level     1,  Iter    20:    Energy =   0.0793
Level     1,  Iter    21:    Energy =   0.0792
Level     1,  Iter    22:    Energy =   0.0796
Level     1,  Iter    23:    Energy =   0.0794
Level     1,  Iter    24:    Energy =   0.0797
Level     1,  Iter    25:    Energy =   0.0796
Level     1,  Iter    26:    Energy =   0.0798
Level     1,  Iter    27:    Energy =   0.0797
Level     1,  Iter    28:    Energy =   0.0800
Level     1,  Iter    29:    Energy =   0.0798
Level     1,  Iter    30:    Energy =   0.0801
Level     1,  Iter    31:    Energy =   0.0800
Level     1,  Iter    32:    Energy =   0.0803
Level     1,  Iter    33:    Energy =   0.0801
Level     1,  Iter    34:    Energy =   0.0804
Level     1,  Iter    35:    Energy =   0.0802
Level     1,  Iter    36:    Energy =   0.0805
Level     1,  Iter    37:    Energy =   0.0803
Level     1,  Iter    38:    Energy =   0.0806
Level     1,  Iter    39:    Energy =   0.0804
Level     1,  Iter    40:    Energy =   0.0807
Level     1,  Iter    41:    Energy =   0.0805
Level     1,  Iter    42:    Energy =   0.0808
Level     1,  Iter    43:    Energy =   0.0805
Level     1,  Iter    44:    Energy =   0.0808
Level     1,  Iter    45:    Energy =   0.0806
Level     1,  Iter    46:    Energy =   0.0808
Level     1,  Iter    47:    Energy =   0.0806
Level     1,  Iter    48:    Energy =   0.0809
Level     1,  Iter    49:    Energy =   0.0807
Level     1,  Iter    50:    Energy =   0.0809
Level     1,  Iter    51:    Energy =   0.0807
Level     1,  Iter    52:    Energy =   0.0809
Level     1,  Iter    53:    Energy =   0.0807
Level     1,  Iter    54:    Energy =   0.0809
Level     1,  Iter    55:    Energy =   0.0807
Level     1,  Iter    56:    Energy =   0.0809
Level     1,  Iter    57:    Energy =   0.0808
Level     1,  Iter    58:    Energy =   0.0809
Level     1,  Iter    59:    Energy =   0.0807
END OF LEVEL     1    DetJac Range:   0.0914  to   3.0569 
  Avg. Gradient Time  : 0.0524s  39.67% 
  Avg. Gaussian Time  : 0.0638s  48.27% 
  Avg. Iteration Time : 0.1322s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0403
Level     2,  Iter     1:    Energy =   0.0425
Level     2,  Iter     2:    Energy =   0.0445
Level     2,  Iter     3:    Energy =   0.0461
Level     2,  Iter     4:    Energy =   0.0475
Level     2,  Iter     5:    Energy =   0.0489
Level     2,  Iter     6:    Energy =   0.0499
Level     2,  Iter     7:    Energy =   0.0509
Level     2,  Iter     8:    Energy =   0.0518
Level     2,  Iter     9:    Energy =   0.0524
Level     2,  Iter    10:    Energy =   0.0528
Level     2,  Iter    11:    Energy =   0.0533
Level     2,  Iter    12:    Energy =   0.0537
Level     2,  Iter    13:    Energy =   0.0541
Level     2,  Iter    14:    Energy =   0.0545
Level     2,  Iter    15:    Energy =   0.0550
Level     2,  Iter    16:    Energy =   0.0555
Level     2,  Iter    17:    Energy =   0.0559
Level     2,  Iter    18:    Energy =   0.0563
Level     2,  Iter    19:    Energy =   0.0567
END OF LEVEL     2    DetJac Range:   0.0379  to   4.1660 
  Avg. Gradient Time  : 0.3794s  37.17% 
  Avg. Gaussian Time  : 0.5327s  52.19% 
  Avg. Iteration Time : 1.0208s 

real	0m33.721s
user	0m59.888s
sys	0m3.100s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.778846 0.784615
+ echo 'CHUNK 0.778846 0.784615 1'
CHUNK 0.778846 0.784615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.778846 0.784615 1
====================================
         PROGRESS: 0.778846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=006
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 006
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 006 right 0
+ local tid=006
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1417.37 	 OutFr   0.0027 	 RMSD     2.0597
Iter 002 	 Temp     3.72 	 Delta  1421.64 	 OutFr   0.0027 	 RMSD     1.7793
Iter 003 	 Temp     3.46 	 Delta  1298.15 	 OutFr   0.0027 	 RMSD     1.8146
Iter 004 	 Temp     3.22 	 Delta  1176.05 	 OutFr   0.0054 	 RMSD     1.7918
Iter 005 	 Temp     2.99 	 Delta  1078.08 	 OutFr   0.0108 	 RMSD     1.7646
Iter 006 	 Temp     2.78 	 Delta  1000.60 	 OutFr   0.0108 	 RMSD     1.7421
Iter 007 	 Temp     2.59 	 Delta   935.83 	 OutFr   0.0108 	 RMSD     1.7240
Iter 008 	 Temp     2.41 	 Delta   880.87 	 OutFr   0.0108 	 RMSD     1.7096
Iter 009 	 Temp     2.24 	 Delta   834.22 	 OutFr   0.0108 	 RMSD     1.6981
Iter 010 	 Temp     2.08 	 Delta   794.22 	 OutFr   0.0108 	 RMSD     1.6889
Iter 011 	 Temp     1.94 	 Delta   758.91 	 OutFr   0.0108 	 RMSD     1.6816
Iter 012 	 Temp     1.80 	 Delta   726.31 	 OutFr   0.0108 	 RMSD     1.6762
Iter 013 	 Temp     1.67 	 Delta   694.81 	 OutFr   0.0108 	 RMSD     1.6719
Iter 014 	 Temp     1.56 	 Delta   663.65 	 OutFr   0.0108 	 RMSD     1.6683
Iter 015 	 Temp     1.45 	 Delta   632.52 	 OutFr   0.0108 	 RMSD     1.6651
Iter 016 	 Temp     1.35 	 Delta   601.13 	 OutFr   0.0136 	 RMSD     1.6626
Iter 017 	 Temp     1.25 	 Delta   570.12 	 OutFr   0.0136 	 RMSD     1.6605
Iter 018 	 Temp     1.16 	 Delta   541.59 	 OutFr   0.0163 	 RMSD     1.6586
Iter 019 	 Temp     1.08 	 Delta   514.85 	 OutFr   0.0163 	 RMSD     1.6570
Iter 020 	 Temp     1.01 	 Delta   486.19 	 OutFr   0.0190 	 RMSD     1.6556
Iter 021 	 Temp     0.94 	 Delta   454.55 	 OutFr   0.0217 	 RMSD     1.6545
Iter 022 	 Temp     0.87 	 Delta   420.41 	 OutFr   0.0217 	 RMSD     1.6539
Iter 023 	 Temp     0.81 	 Delta   385.40 	 OutFr   0.0271 	 RMSD     1.6535
Iter 024 	 Temp     0.75 	 Delta   353.25 	 OutFr   0.0434 	 RMSD     1.6534
Iter 025 	 Temp     0.70 	 Delta   328.18 	 OutFr   0.0596 	 RMSD     1.6538
Iter 026 	 Temp     0.65 	 Delta   309.98 	 OutFr   0.0623 	 RMSD     1.6546
Iter 027 	 Temp     0.61 	 Delta   297.07 	 OutFr   0.0813 	 RMSD     1.6552
Iter 028 	 Temp     0.56 	 Delta   287.34 	 OutFr   0.1003 	 RMSD     1.6555
Iter 029 	 Temp     0.52 	 Delta   276.90 	 OutFr   0.1192 	 RMSD     1.6559
Iter 030 	 Temp     0.49 	 Delta   263.62 	 OutFr   0.1355 	 RMSD     1.6568
Iter 031 	 Temp     0.45 	 Delta   242.56 	 OutFr   0.1572 	 RMSD     1.6591
Iter 032 	 Temp     0.42 	 Delta   219.27 	 OutFr   0.2033 	 RMSD     1.6630
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.UBFCB8Zk/mybin.nii.gz
+ vtklevelset /tmp/ashs.UBFCB8Zk/mybin.nii.gz /tmp/ashs.UBFCB8Zk/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.UBFCB8Zk/mymesh.vtk /tmp/ashs.UBFCB8Zk/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 2898.37217573   0.91036009
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.UBFCB8Zk/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.0648 to 36.0743
   Y : -9.18068 to 34.5214
   Z : -23.1137 to 7.74332
   Image resolution  : 104 by 155 by 117
   Image box origin  : {5.0648, -14.1807, -28.1137}
   Image box size    : {36.1111, 53.8194, 40.9495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.0648, 14.1807, -28.1137]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat -o /tmp/ashs.UBFCB8Zk/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat -o /tmp/ashs.UBFCB8Zk/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.UBFCB8Zk/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.784615 0.790385
+ echo 'CHUNK 0.784615 0.790385 0.5'
CHUNK 0.784615 0.790385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.784615 0.790385 0.5
====================================
         PROGRESS: 0.784615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.UBFCB8Zk/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.UBFCB8Zk/fixed_hw.nii.gz /tmp/ashs.UBFCB8Zk/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.56163, moving = 0.513127
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.3902, 2.36422], [0.982092, 0.975797, 0.96519]
Level     0,  Iter     0:    Energy =   0.0606
Level     0,  Iter     1:    Energy =   0.0688
Level     0,  Iter     2:    Energy =   0.0745
Level     0,  Iter     3:    Energy =   0.0782
Level     0,  Iter     4:    Energy =   0.0815
Level     0,  Iter     5:    Energy =   0.0842
Level     0,  Iter     6:    Energy =   0.0860
Level     0,  Iter     7:    Energy =   0.0873
Level     0,  Iter     8:    Energy =   0.0883
Level     0,  Iter     9:    Energy =   0.0893
Level     0,  Iter    10:    Energy =   0.0895
Level     0,  Iter    11:    Energy =   0.0897
Level     0,  Iter    12:    Energy =   0.0899
Level     0,  Iter    13:    Energy =   0.0904
Level     0,  Iter    14:    Energy =   0.0905
Level     0,  Iter    15:    Energy =   0.0905
Level     0,  Iter    16:    Energy =   0.0907
Level     0,  Iter    17:    Energy =   0.0913
Level     0,  Iter    18:    Energy =   0.0912
Level     0,  Iter    19:    Energy =   0.0912
Level     0,  Iter    20:    Energy =   0.0914
Level     0,  Iter    21:    Energy =   0.0915
Level     0,  Iter    22:    Energy =   0.0914
Level     0,  Iter    23:    Energy =   0.0912
Level     0,  Iter    24:    Energy =   0.0915
Level     0,  Iter    25:    Energy =   0.0920
Level     0,  Iter    26:    Energy =   0.0920
Level     0,  Iter    27:    Energy =   0.0918
Level     0,  Iter    28:    Energy =   0.0919
Level     0,  Iter    29:    Energy =   0.0922
Level     0,  Iter    30:    Energy =   0.0921
Level     0,  Iter    31:    Energy =   0.0918
Level     0,  Iter    32:    Energy =   0.0920
Level     0,  Iter    33:    Energy =   0.0922
Level     0,  Iter    34:    Energy =   0.0921
Level     0,  Iter    35:    Energy =   0.0918
Level     0,  Iter    36:    Energy =   0.0920
Level     0,  Iter    37:    Energy =   0.0922
Level     0,  Iter    38:    Energy =   0.0922
Level     0,  Iter    39:    Energy =   0.0918
Level     0,  Iter    40:    Energy =   0.0921
Level     0,  Iter    41:    Energy =   0.0922
Level     0,  Iter    42:    Energy =   0.0922
Level     0,  Iter    43:    Energy =   0.0918
Level     0,  Iter    44:    Energy =   0.0921
Level     0,  Iter    45:    Energy =   0.0924
Level     0,  Iter    46:    Energy =   0.0923
Level     0,  Iter    47:    Energy =   0.0919
Level     0,  Iter    48:    Energy =   0.0922
Level     0,  Iter    49:    Energy =   0.0924
Level     0,  Iter    50:    Energy =   0.0923
Level     0,  Iter    51:    Energy =   0.0918
Level     0,  Iter    52:    Energy =   0.0922
Level     0,  Iter    53:    Energy =   0.0925
Level     0,  Iter    54:    Energy =   0.0924
Level     0,  Iter    55:    Energy =   0.0919
Level     0,  Iter    56:    Energy =   0.0923
Level     0,  Iter    57:    Energy =   0.0925
Level     0,  Iter    58:    Energy =   0.0924
Level     0,  Iter    59:    Energy =   0.0919
END OF LEVEL     0    DetJac Range:   0.3223  to   1.8932 
  Avg. Gradient Time  : 0.0081s  38.04% 
  Avg. Gaussian Time  : 0.0100s  47.02% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.1951, 1.20215], [0.491046, 0.487898, 0.490774]
Level     1,  Iter     0:    Energy =   0.0675
Level     1,  Iter     1:    Energy =   0.0714
Level     1,  Iter     2:    Energy =   0.0745
Level     1,  Iter     3:    Energy =   0.0774
Level     1,  Iter     4:    Energy =   0.0792
Level     1,  Iter     5:    Energy =   0.0805
Level     1,  Iter     6:    Energy =   0.0817
Level     1,  Iter     7:    Energy =   0.0826
Level     1,  Iter     8:    Energy =   0.0835
Level     1,  Iter     9:    Energy =   0.0843
Level     1,  Iter    10:    Energy =   0.0851
Level     1,  Iter    11:    Energy =   0.0855
Level     1,  Iter    12:    Energy =   0.0856
Level     1,  Iter    13:    Energy =   0.0859
Level     1,  Iter    14:    Energy =   0.0861
Level     1,  Iter    15:    Energy =   0.0860
Level     1,  Iter    16:    Energy =   0.0862
Level     1,  Iter    17:    Energy =   0.0862
Level     1,  Iter    18:    Energy =   0.0863
Level     1,  Iter    19:    Energy =   0.0863
Level     1,  Iter    20:    Energy =   0.0864
Level     1,  Iter    21:    Energy =   0.0864
Level     1,  Iter    22:    Energy =   0.0865
Level     1,  Iter    23:    Energy =   0.0865
Level     1,  Iter    24:    Energy =   0.0866
Level     1,  Iter    25:    Energy =   0.0866
Level     1,  Iter    26:    Energy =   0.0868
Level     1,  Iter    27:    Energy =   0.0867
Level     1,  Iter    28:    Energy =   0.0868
Level     1,  Iter    29:    Energy =   0.0868
Level     1,  Iter    30:    Energy =   0.0869
Level     1,  Iter    31:    Energy =   0.0868
Level     1,  Iter    32:    Energy =   0.0870
Level     1,  Iter    33:    Energy =   0.0869
Level     1,  Iter    34:    Energy =   0.0870
Level     1,  Iter    35:    Energy =   0.0870
Level     1,  Iter    36:    Energy =   0.0871
Level     1,  Iter    37:    Energy =   0.0870
Level     1,  Iter    38:    Energy =   0.0871
Level     1,  Iter    39:    Energy =   0.0871
Level     1,  Iter    40:    Energy =   0.0871
Level     1,  Iter    41:    Energy =   0.0871
Level     1,  Iter    42:    Energy =   0.0872
Level     1,  Iter    43:    Energy =   0.0871
Level     1,  Iter    44:    Energy =   0.0873
Level     1,  Iter    45:    Energy =   0.0872
Level     1,  Iter    46:    Energy =   0.0873
Level     1,  Iter    47:    Energy =   0.0873
Level     1,  Iter    48:    Energy =   0.0873
Level     1,  Iter    49:    Energy =   0.0873
Level     1,  Iter    50:    Energy =   0.0874
Level     1,  Iter    51:    Energy =   0.0873
Level     1,  Iter    52:    Energy =   0.0874
Level     1,  Iter    53:    Energy =   0.0874
Level     1,  Iter    54:    Energy =   0.0874
Level     1,  Iter    55:    Energy =   0.0874
Level     1,  Iter    56:    Energy =   0.0875
Level     1,  Iter    57:    Energy =   0.0874
Level     1,  Iter    58:    Energy =   0.0875
Level     1,  Iter    59:    Energy =   0.0874
END OF LEVEL     1    DetJac Range:   0.1653  to   2.3310 
  Avg. Gradient Time  : 0.0476s  40.32% 
  Avg. Gaussian Time  : 0.0565s  47.83% 
  Avg. Iteration Time : 0.1180s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0472
Level     2,  Iter     1:    Energy =   0.0496
Level     2,  Iter     2:    Energy =   0.0515
Level     2,  Iter     3:    Energy =   0.0536
Level     2,  Iter     4:    Energy =   0.0552
Level     2,  Iter     5:    Energy =   0.0566
Level     2,  Iter     6:    Energy =   0.0580
Level     2,  Iter     7:    Energy =   0.0593
Level     2,  Iter     8:    Energy =   0.0603
Level     2,  Iter     9:    Energy =   0.0611
Level     2,  Iter    10:    Energy =   0.0617
Level     2,  Iter    11:    Energy =   0.0621
Level     2,  Iter    12:    Energy =   0.0626
Level     2,  Iter    13:    Energy =   0.0631
Level     2,  Iter    14:    Energy =   0.0637
Level     2,  Iter    15:    Energy =   0.0643
Level     2,  Iter    16:    Energy =   0.0649
Level     2,  Iter    17:    Energy =   0.0654
Level     2,  Iter    18:    Energy =   0.0658
Level     2,  Iter    19:    Energy =   0.0661
END OF LEVEL     2    DetJac Range:   0.0566  to   3.8108 
  Avg. Gradient Time  : 0.3335s  37.65% 
  Avg. Gaussian Time  : 0.4581s  51.71% 
  Avg. Iteration Time : 0.8859s 

real	0m29.565s
user	0m52.512s
sys	0m2.752s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.784615 0.790385
+ echo 'CHUNK 0.784615 0.790385 1'
CHUNK 0.784615 0.790385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.784615 0.790385 1
====================================
         PROGRESS: 0.784615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=007
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 007
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 007 right 0
+ local tid=007
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1645.26 	 OutFr   0.0000 	 RMSD     2.8975
Iter 002 	 Temp     3.72 	 Delta  1508.88 	 OutFr   0.0000 	 RMSD     2.2848
Iter 003 	 Temp     3.46 	 Delta  1425.24 	 OutFr   0.0000 	 RMSD     2.2973
Iter 004 	 Temp     3.22 	 Delta  1349.81 	 OutFr   0.0000 	 RMSD     2.2850
Iter 005 	 Temp     2.99 	 Delta  1280.23 	 OutFr   0.0000 	 RMSD     2.2711
Iter 006 	 Temp     2.78 	 Delta  1215.01 	 OutFr   0.0000 	 RMSD     2.2599
Iter 007 	 Temp     2.59 	 Delta  1155.69 	 OutFr   0.0000 	 RMSD     2.2511
Iter 008 	 Temp     2.41 	 Delta  1103.32 	 OutFr   0.0000 	 RMSD     2.2442
Iter 009 	 Temp     2.24 	 Delta  1057.97 	 OutFr   0.0000 	 RMSD     2.2391
Iter 010 	 Temp     2.08 	 Delta  1018.81 	 OutFr   0.0000 	 RMSD     2.2353
Iter 011 	 Temp     1.94 	 Delta   984.13 	 OutFr   0.0027 	 RMSD     2.2323
Iter 012 	 Temp     1.80 	 Delta   951.69 	 OutFr   0.0027 	 RMSD     2.2302
Iter 013 	 Temp     1.67 	 Delta   919.45 	 OutFr   0.0108 	 RMSD     2.2283
Iter 014 	 Temp     1.56 	 Delta   885.98 	 OutFr   0.0163 	 RMSD     2.2268
Iter 015 	 Temp     1.45 	 Delta   850.18 	 OutFr   0.0163 	 RMSD     2.2253
Iter 016 	 Temp     1.35 	 Delta   810.60 	 OutFr   0.0217 	 RMSD     2.2235
Iter 017 	 Temp     1.25 	 Delta   765.48 	 OutFr   0.0244 	 RMSD     2.2219
Iter 018 	 Temp     1.16 	 Delta   715.05 	 OutFr   0.0298 	 RMSD     2.2209
Iter 019 	 Temp     1.08 	 Delta   662.66 	 OutFr   0.0379 	 RMSD     2.2204
Iter 020 	 Temp     1.01 	 Delta   611.91 	 OutFr   0.0461 	 RMSD     2.2197
Iter 021 	 Temp     0.94 	 Delta   566.35 	 OutFr   0.0650 	 RMSD     2.2187
Iter 022 	 Temp     0.87 	 Delta   528.14 	 OutFr   0.0813 	 RMSD     2.2166
Iter 023 	 Temp     0.81 	 Delta   491.58 	 OutFr   0.0949 	 RMSD     2.2148
Iter 024 	 Temp     0.75 	 Delta   448.72 	 OutFr   0.1165 	 RMSD     2.2126
Iter 025 	 Temp     0.70 	 Delta   397.42 	 OutFr   0.1247 	 RMSD     2.2119
Iter 026 	 Temp     0.65 	 Delta   347.62 	 OutFr   0.1572 	 RMSD     2.2142
Iter 027 	 Temp     0.61 	 Delta   316.01 	 OutFr   0.1870 	 RMSD     2.2213
Iter 028 	 Temp     0.56 	 Delta   292.42 	 OutFr   0.2033 	 RMSD     2.2277
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.S5W5Puop/mybin.nii.gz
+ vtklevelset /tmp/ashs.S5W5Puop/mybin.nii.gz /tmp/ashs.S5W5Puop/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.S5W5Puop/mymesh.vtk /tmp/ashs.S5W5Puop/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 2985.76322681   0.93780906
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.S5W5Puop/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 8.11816 to 34.6104
   Y : -15.7117 to 26.9606
   Z : -19.7424 to 15.3506
   Image resolution  : 106 by 152 by 129
   Image box origin  : {3.11816, -20.7117, -24.7424}
   Image box size    : {36.8055, 52.7777, 45.1495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-3.11816, 20.7117, -24.7424]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat -o /tmp/ashs.S5W5Puop/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat -o /tmp/ashs.S5W5Puop/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.S5W5Puop/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.790385 0.796154
+ echo 'CHUNK 0.790385 0.796154 0.5'
CHUNK 0.790385 0.796154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.790385 0.796154 0.5
====================================
         PROGRESS: 0.790385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.S5W5Puop/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.S5W5Puop/fixed_hw.nii.gz /tmp/ashs.S5W5Puop/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.558268, moving = 0.408951
LEVEL 1 of 3
  Smoothing sigmas: [2.36108, 2.40562, 2.36973], [0.963905, 0.982092, 0.96744]
Level     0,  Iter     0:    Energy =   0.0430
Level     0,  Iter     1:    Energy =   0.0482
Level     0,  Iter     2:    Energy =   0.0538
Level     0,  Iter     3:    Energy =   0.0585
Level     0,  Iter     4:    Energy =   0.0624
Level     0,  Iter     5:    Energy =   0.0655
Level     0,  Iter     6:    Energy =   0.0679
Level     0,  Iter     7:    Energy =   0.0691
Level     0,  Iter     8:    Energy =   0.0702
Level     0,  Iter     9:    Energy =   0.0709
Level     0,  Iter    10:    Energy =   0.0716
Level     0,  Iter    11:    Energy =   0.0721
Level     0,  Iter    12:    Energy =   0.0725
Level     0,  Iter    13:    Energy =   0.0728
Level     0,  Iter    14:    Energy =   0.0729
Level     0,  Iter    15:    Energy =   0.0730
Level     0,  Iter    16:    Energy =   0.0731
Level     0,  Iter    17:    Energy =   0.0733
Level     0,  Iter    18:    Energy =   0.0733
Level     0,  Iter    19:    Energy =   0.0735
Level     0,  Iter    20:    Energy =   0.0735
Level     0,  Iter    21:    Energy =   0.0737
Level     0,  Iter    22:    Energy =   0.0737
Level     0,  Iter    23:    Energy =   0.0737
Level     0,  Iter    24:    Energy =   0.0738
Level     0,  Iter    25:    Energy =   0.0737
Level     0,  Iter    26:    Energy =   0.0738
Level     0,  Iter    27:    Energy =   0.0738
Level     0,  Iter    28:    Energy =   0.0738
Level     0,  Iter    29:    Energy =   0.0738
Level     0,  Iter    30:    Energy =   0.0739
Level     0,  Iter    31:    Energy =   0.0739
Level     0,  Iter    32:    Energy =   0.0739
Level     0,  Iter    33:    Energy =   0.0739
Level     0,  Iter    34:    Energy =   0.0739
Level     0,  Iter    35:    Energy =   0.0739
Level     0,  Iter    36:    Energy =   0.0740
Level     0,  Iter    37:    Energy =   0.0739
Level     0,  Iter    38:    Energy =   0.0740
Level     0,  Iter    39:    Energy =   0.0739
Level     0,  Iter    40:    Energy =   0.0740
Level     0,  Iter    41:    Energy =   0.0739
Level     0,  Iter    42:    Energy =   0.0740
Level     0,  Iter    43:    Energy =   0.0739
Level     0,  Iter    44:    Energy =   0.0741
Level     0,  Iter    45:    Energy =   0.0740
Level     0,  Iter    46:    Energy =   0.0741
Level     0,  Iter    47:    Energy =   0.0740
Level     0,  Iter    48:    Energy =   0.0742
Level     0,  Iter    49:    Energy =   0.0740
Level     0,  Iter    50:    Energy =   0.0742
Level     0,  Iter    51:    Energy =   0.0741
Level     0,  Iter    52:    Energy =   0.0742
Level     0,  Iter    53:    Energy =   0.0741
Level     0,  Iter    54:    Energy =   0.0742
Level     0,  Iter    55:    Energy =   0.0741
Level     0,  Iter    56:    Energy =   0.0743
Level     0,  Iter    57:    Energy =   0.0742
Level     0,  Iter    58:    Energy =   0.0743
Level     0,  Iter    59:    Energy =   0.0742
END OF LEVEL     0    DetJac Range:   0.2252  to   1.9277 
  Avg. Gradient Time  : 0.0087s  37.73% 
  Avg. Gaussian Time  : 0.0110s  47.37% 
  Avg. Iteration Time : 0.0232s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.2031], [0.491046, 0.491046, 0.491162]
Level     1,  Iter     0:    Energy =   0.0584
Level     1,  Iter     1:    Energy =   0.0625
Level     1,  Iter     2:    Energy =   0.0655
Level     1,  Iter     3:    Energy =   0.0681
Level     1,  Iter     4:    Energy =   0.0705
Level     1,  Iter     5:    Energy =   0.0725
Level     1,  Iter     6:    Energy =   0.0739
Level     1,  Iter     7:    Energy =   0.0750
Level     1,  Iter     8:    Energy =   0.0757
Level     1,  Iter     9:    Energy =   0.0764
Level     1,  Iter    10:    Energy =   0.0765
Level     1,  Iter    11:    Energy =   0.0768
Level     1,  Iter    12:    Energy =   0.0768
Level     1,  Iter    13:    Energy =   0.0770
Level     1,  Iter    14:    Energy =   0.0771
Level     1,  Iter    15:    Energy =   0.0773
Level     1,  Iter    16:    Energy =   0.0774
Level     1,  Iter    17:    Energy =   0.0775
Level     1,  Iter    18:    Energy =   0.0776
Level     1,  Iter    19:    Energy =   0.0777
Level     1,  Iter    20:    Energy =   0.0778
Level     1,  Iter    21:    Energy =   0.0778
Level     1,  Iter    22:    Energy =   0.0779
Level     1,  Iter    23:    Energy =   0.0780
Level     1,  Iter    24:    Energy =   0.0781
Level     1,  Iter    25:    Energy =   0.0781
Level     1,  Iter    26:    Energy =   0.0783
Level     1,  Iter    27:    Energy =   0.0782
Level     1,  Iter    28:    Energy =   0.0784
Level     1,  Iter    29:    Energy =   0.0784
Level     1,  Iter    30:    Energy =   0.0786
Level     1,  Iter    31:    Energy =   0.0785
Level     1,  Iter    32:    Energy =   0.0787
Level     1,  Iter    33:    Energy =   0.0786
Level     1,  Iter    34:    Energy =   0.0788
Level     1,  Iter    35:    Energy =   0.0786
Level     1,  Iter    36:    Energy =   0.0788
Level     1,  Iter    37:    Energy =   0.0787
Level     1,  Iter    38:    Energy =   0.0789
Level     1,  Iter    39:    Energy =   0.0788
Level     1,  Iter    40:    Energy =   0.0789
Level     1,  Iter    41:    Energy =   0.0788
Level     1,  Iter    42:    Energy =   0.0790
Level     1,  Iter    43:    Energy =   0.0789
Level     1,  Iter    44:    Energy =   0.0790
Level     1,  Iter    45:    Energy =   0.0789
Level     1,  Iter    46:    Energy =   0.0791
Level     1,  Iter    47:    Energy =   0.0789
Level     1,  Iter    48:    Energy =   0.0791
Level     1,  Iter    49:    Energy =   0.0790
Level     1,  Iter    50:    Energy =   0.0791
Level     1,  Iter    51:    Energy =   0.0790
Level     1,  Iter    52:    Energy =   0.0792
Level     1,  Iter    53:    Energy =   0.0791
Level     1,  Iter    54:    Energy =   0.0792
Level     1,  Iter    55:    Energy =   0.0791
Level     1,  Iter    56:    Energy =   0.0792
Level     1,  Iter    57:    Energy =   0.0791
Level     1,  Iter    58:    Energy =   0.0792
Level     1,  Iter    59:    Energy =   0.0791
END OF LEVEL     1    DetJac Range:   0.0879  to   3.6490 
  Avg. Gradient Time  : 0.0517s  39.66% 
  Avg. Gaussian Time  : 0.0629s  48.30% 
  Avg. Iteration Time : 0.1302s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0432
Level     2,  Iter     1:    Energy =   0.0454
Level     2,  Iter     2:    Energy =   0.0475
Level     2,  Iter     3:    Energy =   0.0494
Level     2,  Iter     4:    Energy =   0.0509
Level     2,  Iter     5:    Energy =   0.0522
Level     2,  Iter     6:    Energy =   0.0532
Level     2,  Iter     7:    Energy =   0.0540
Level     2,  Iter     8:    Energy =   0.0548
Level     2,  Iter     9:    Energy =   0.0555
Level     2,  Iter    10:    Energy =   0.0562
Level     2,  Iter    11:    Energy =   0.0568
Level     2,  Iter    12:    Energy =   0.0574
Level     2,  Iter    13:    Energy =   0.0579
Level     2,  Iter    14:    Energy =   0.0583
Level     2,  Iter    15:    Energy =   0.0586
Level     2,  Iter    16:    Energy =   0.0590
Level     2,  Iter    17:    Energy =   0.0593
Level     2,  Iter    18:    Energy =   0.0595
Level     2,  Iter    19:    Energy =   0.0598
END OF LEVEL     2    DetJac Range:   0.0761  to   4.7618 
  Avg. Gradient Time  : 0.3612s  37.23% 
  Avg. Gaussian Time  : 0.5062s  52.17% 
  Avg. Iteration Time : 0.9703s 

real	0m32.446s
user	0m57.516s
sys	0m3.136s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.790385 0.796154
+ echo 'CHUNK 0.790385 0.796154 1'
CHUNK 0.790385 0.796154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.790385 0.796154 1
====================================
         PROGRESS: 0.790385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=008
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 008
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 008 right 0
+ local tid=008
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1633.58 	 OutFr   0.0000 	 RMSD     2.3406
Iter 002 	 Temp     3.72 	 Delta  1663.44 	 OutFr   0.0000 	 RMSD     2.0892
Iter 003 	 Temp     3.46 	 Delta  1608.23 	 OutFr   0.0000 	 RMSD     2.1126
Iter 004 	 Temp     3.22 	 Delta  1526.44 	 OutFr   0.0000 	 RMSD     2.1014
Iter 005 	 Temp     2.99 	 Delta  1435.95 	 OutFr   0.0000 	 RMSD     2.0830
Iter 006 	 Temp     2.78 	 Delta  1346.13 	 OutFr   0.0000 	 RMSD     2.0631
Iter 007 	 Temp     2.59 	 Delta  1261.34 	 OutFr   0.0000 	 RMSD     2.0436
Iter 008 	 Temp     2.41 	 Delta  1181.58 	 OutFr   0.0000 	 RMSD     2.0252
Iter 009 	 Temp     2.24 	 Delta  1105.05 	 OutFr   0.0000 	 RMSD     2.0056
Iter 010 	 Temp     2.08 	 Delta  1031.27 	 OutFr   0.0000 	 RMSD     1.9880
Iter 011 	 Temp     1.94 	 Delta   960.95 	 OutFr   0.0027 	 RMSD     1.9740
Iter 012 	 Temp     1.80 	 Delta   894.53 	 OutFr   0.0027 	 RMSD     1.9625
Iter 013 	 Temp     1.67 	 Delta   832.68 	 OutFr   0.0027 	 RMSD     1.9523
Iter 014 	 Temp     1.56 	 Delta   777.15 	 OutFr   0.0027 	 RMSD     1.9441
Iter 015 	 Temp     1.45 	 Delta   727.53 	 OutFr   0.0027 	 RMSD     1.9361
Iter 016 	 Temp     1.35 	 Delta   682.17 	 OutFr   0.0054 	 RMSD     1.9300
Iter 017 	 Temp     1.25 	 Delta   641.42 	 OutFr   0.0108 	 RMSD     1.9253
Iter 018 	 Temp     1.16 	 Delta   601.90 	 OutFr   0.0136 	 RMSD     1.9219
Iter 019 	 Temp     1.08 	 Delta   559.06 	 OutFr   0.0163 	 RMSD     1.9195
Iter 020 	 Temp     1.01 	 Delta   515.96 	 OutFr   0.0244 	 RMSD     1.9175
Iter 021 	 Temp     0.94 	 Delta   477.23 	 OutFr   0.0407 	 RMSD     1.9162
Iter 022 	 Temp     0.87 	 Delta   444.35 	 OutFr   0.0596 	 RMSD     1.9162
Iter 023 	 Temp     0.81 	 Delta   416.83 	 OutFr   0.0705 	 RMSD     1.9184
Iter 024 	 Temp     0.75 	 Delta   395.12 	 OutFr   0.0786 	 RMSD     1.9219
Iter 025 	 Temp     0.70 	 Delta   377.83 	 OutFr   0.0949 	 RMSD     1.9267
Iter 026 	 Temp     0.65 	 Delta   359.92 	 OutFr   0.1084 	 RMSD     1.9322
Iter 027 	 Temp     0.61 	 Delta   336.87 	 OutFr   0.1192 	 RMSD     1.9370
Iter 028 	 Temp     0.56 	 Delta   309.15 	 OutFr   0.1409 	 RMSD     1.9406
Iter 029 	 Temp     0.52 	 Delta   282.39 	 OutFr   0.1599 	 RMSD     1.9432
Iter 030 	 Temp     0.49 	 Delta   258.98 	 OutFr   0.1816 	 RMSD     1.9443
Iter 031 	 Temp     0.45 	 Delta   236.89 	 OutFr   0.2114 	 RMSD     1.9443
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.y2kryjOk/mybin.nii.gz
+ vtklevelset /tmp/ashs.y2kryjOk/mybin.nii.gz /tmp/ashs.y2kryjOk/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.y2kryjOk/mymesh.vtk /tmp/ashs.y2kryjOk/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 2917.97759102   0.91651803
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.y2kryjOk/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 8.92367 to 36.6825
   Y : -15.6515 to 25.6568
   Z : -23.0276 to 9.41116
   Image resolution  : 109 by 148 by 122
   Image box origin  : {3.92367, -20.6515, -28.0276}
   Image box size    : {37.8472, 51.3889, 42.6995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-3.92367, 20.6515, -28.0276]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat -o /tmp/ashs.y2kryjOk/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat -o /tmp/ashs.y2kryjOk/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.y2kryjOk/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.796154 0.801923
+ echo 'CHUNK 0.796154 0.801923 0.5'
CHUNK 0.796154 0.801923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.796154 0.801923 0.5
====================================
         PROGRESS: 0.796154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.y2kryjOk/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.y2kryjOk/fixed_hw.nii.gz /tmp/ashs.y2kryjOk/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.565477, moving = 0.399893
LEVEL 1 of 3
  Smoothing sigmas: [2.34119, 2.40562, 2.38573], [0.955786, 0.982092, 0.973971]
Level     0,  Iter     0:    Energy =   0.0433
Level     0,  Iter     1:    Energy =   0.0478
Level     0,  Iter     2:    Energy =   0.0522
Level     0,  Iter     3:    Energy =   0.0562
Level     0,  Iter     4:    Energy =   0.0588
Level     0,  Iter     5:    Energy =   0.0613
Level     0,  Iter     6:    Energy =   0.0632
Level     0,  Iter     7:    Energy =   0.0648
Level     0,  Iter     8:    Energy =   0.0660
Level     0,  Iter     9:    Energy =   0.0668
Level     0,  Iter    10:    Energy =   0.0670
Level     0,  Iter    11:    Energy =   0.0674
Level     0,  Iter    12:    Energy =   0.0675
Level     0,  Iter    13:    Energy =   0.0678
Level     0,  Iter    14:    Energy =   0.0679
Level     0,  Iter    15:    Energy =   0.0682
Level     0,  Iter    16:    Energy =   0.0684
Level     0,  Iter    17:    Energy =   0.0686
Level     0,  Iter    18:    Energy =   0.0687
Level     0,  Iter    19:    Energy =   0.0688
Level     0,  Iter    20:    Energy =   0.0688
Level     0,  Iter    21:    Energy =   0.0690
Level     0,  Iter    22:    Energy =   0.0690
Level     0,  Iter    23:    Energy =   0.0692
Level     0,  Iter    24:    Energy =   0.0692
Level     0,  Iter    25:    Energy =   0.0694
Level     0,  Iter    26:    Energy =   0.0693
Level     0,  Iter    27:    Energy =   0.0695
Level     0,  Iter    28:    Energy =   0.0695
Level     0,  Iter    29:    Energy =   0.0697
Level     0,  Iter    30:    Energy =   0.0695
Level     0,  Iter    31:    Energy =   0.0698
Level     0,  Iter    32:    Energy =   0.0696
Level     0,  Iter    33:    Energy =   0.0699
Level     0,  Iter    34:    Energy =   0.0697
Level     0,  Iter    35:    Energy =   0.0701
Level     0,  Iter    36:    Energy =   0.0698
Level     0,  Iter    37:    Energy =   0.0702
Level     0,  Iter    38:    Energy =   0.0699
Level     0,  Iter    39:    Energy =   0.0703
Level     0,  Iter    40:    Energy =   0.0699
Level     0,  Iter    41:    Energy =   0.0704
Level     0,  Iter    42:    Energy =   0.0701
Level     0,  Iter    43:    Energy =   0.0704
Level     0,  Iter    44:    Energy =   0.0701
Level     0,  Iter    45:    Energy =   0.0705
Level     0,  Iter    46:    Energy =   0.0702
Level     0,  Iter    47:    Energy =   0.0705
Level     0,  Iter    48:    Energy =   0.0701
Level     0,  Iter    49:    Energy =   0.0705
Level     0,  Iter    50:    Energy =   0.0702
Level     0,  Iter    51:    Energy =   0.0705
Level     0,  Iter    52:    Energy =   0.0702
Level     0,  Iter    53:    Energy =   0.0705
Level     0,  Iter    54:    Energy =   0.0702
Level     0,  Iter    55:    Energy =   0.0705
Level     0,  Iter    56:    Energy =   0.0703
Level     0,  Iter    57:    Energy =   0.0706
Level     0,  Iter    58:    Energy =   0.0703
Level     0,  Iter    59:    Energy =   0.0705
END OF LEVEL     0    DetJac Range:   0.2399  to   2.0403 
  Avg. Gradient Time  : 0.0080s  37.52% 
  Avg. Gaussian Time  : 0.0101s  47.25% 
  Avg. Iteration Time : 0.0214s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19188, 1.20281, 1.21242], [0.486582, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0493
Level     1,  Iter     1:    Energy =   0.0531
Level     1,  Iter     2:    Energy =   0.0565
Level     1,  Iter     3:    Energy =   0.0595
Level     1,  Iter     4:    Energy =   0.0620
Level     1,  Iter     5:    Energy =   0.0637
Level     1,  Iter     6:    Energy =   0.0654
Level     1,  Iter     7:    Energy =   0.0667
Level     1,  Iter     8:    Energy =   0.0678
Level     1,  Iter     9:    Energy =   0.0688
Level     1,  Iter    10:    Energy =   0.0698
Level     1,  Iter    11:    Energy =   0.0705
Level     1,  Iter    12:    Energy =   0.0713
Level     1,  Iter    13:    Energy =   0.0719
Level     1,  Iter    14:    Energy =   0.0723
Level     1,  Iter    15:    Energy =   0.0725
Level     1,  Iter    16:    Energy =   0.0726
Level     1,  Iter    17:    Energy =   0.0727
Level     1,  Iter    18:    Energy =   0.0726
Level     1,  Iter    19:    Energy =   0.0728
Level     1,  Iter    20:    Energy =   0.0728
Level     1,  Iter    21:    Energy =   0.0729
Level     1,  Iter    22:    Energy =   0.0730
Level     1,  Iter    23:    Energy =   0.0731
Level     1,  Iter    24:    Energy =   0.0732
Level     1,  Iter    25:    Energy =   0.0733
Level     1,  Iter    26:    Energy =   0.0733
Level     1,  Iter    27:    Energy =   0.0734
Level     1,  Iter    28:    Energy =   0.0735
Level     1,  Iter    29:    Energy =   0.0735
Level     1,  Iter    30:    Energy =   0.0736
Level     1,  Iter    31:    Energy =   0.0736
Level     1,  Iter    32:    Energy =   0.0738
Level     1,  Iter    33:    Energy =   0.0736
Level     1,  Iter    34:    Energy =   0.0739
Level     1,  Iter    35:    Energy =   0.0737
Level     1,  Iter    36:    Energy =   0.0740
Level     1,  Iter    37:    Energy =   0.0738
Level     1,  Iter    38:    Energy =   0.0741
Level     1,  Iter    39:    Energy =   0.0738
Level     1,  Iter    40:    Energy =   0.0741
Level     1,  Iter    41:    Energy =   0.0739
Level     1,  Iter    42:    Energy =   0.0742
Level     1,  Iter    43:    Energy =   0.0740
Level     1,  Iter    44:    Energy =   0.0742
Level     1,  Iter    45:    Energy =   0.0740
Level     1,  Iter    46:    Energy =   0.0743
Level     1,  Iter    47:    Energy =   0.0740
Level     1,  Iter    48:    Energy =   0.0743
Level     1,  Iter    49:    Energy =   0.0740
Level     1,  Iter    50:    Energy =   0.0743
Level     1,  Iter    51:    Energy =   0.0741
Level     1,  Iter    52:    Energy =   0.0744
Level     1,  Iter    53:    Energy =   0.0741
Level     1,  Iter    54:    Energy =   0.0744
Level     1,  Iter    55:    Energy =   0.0741
Level     1,  Iter    56:    Energy =   0.0744
Level     1,  Iter    57:    Energy =   0.0742
Level     1,  Iter    58:    Energy =   0.0744
Level     1,  Iter    59:    Energy =   0.0742
END OF LEVEL     1    DetJac Range:   0.0977  to   3.5222 
  Avg. Gradient Time  : 0.0477s  39.13% 
  Avg. Gaussian Time  : 0.0595s  48.88% 
  Avg. Iteration Time : 0.1218s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0391
Level     2,  Iter     1:    Energy =   0.0412
Level     2,  Iter     2:    Energy =   0.0430
Level     2,  Iter     3:    Energy =   0.0448
Level     2,  Iter     4:    Energy =   0.0464
Level     2,  Iter     5:    Energy =   0.0477
Level     2,  Iter     6:    Energy =   0.0488
Level     2,  Iter     7:    Energy =   0.0496
Level     2,  Iter     8:    Energy =   0.0501
Level     2,  Iter     9:    Energy =   0.0506
Level     2,  Iter    10:    Energy =   0.0510
Level     2,  Iter    11:    Energy =   0.0514
Level     2,  Iter    12:    Energy =   0.0519
Level     2,  Iter    13:    Energy =   0.0523
Level     2,  Iter    14:    Energy =   0.0526
Level     2,  Iter    15:    Energy =   0.0530
Level     2,  Iter    16:    Energy =   0.0534
Level     2,  Iter    17:    Energy =   0.0537
Level     2,  Iter    18:    Energy =   0.0541
Level     2,  Iter    19:    Energy =   0.0545
END OF LEVEL     2    DetJac Range:   0.0659  to   5.5312 
  Avg. Gradient Time  : 0.3659s  38.86% 
  Avg. Gaussian Time  : 0.4788s  50.85% 
  Avg. Iteration Time : 0.9416s 

real	0m31.038s
user	0m54.968s
sys	0m3.044s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.796154 0.801923
+ echo 'CHUNK 0.796154 0.801923 1'
CHUNK 0.796154 0.801923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.796154 0.801923 1
====================================
         PROGRESS: 0.796154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=009
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 009
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 009 right 0
+ local tid=009
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2071.65 	 OutFr   0.0000 	 RMSD     2.3634
Iter 002 	 Temp     3.72 	 Delta  2060.92 	 OutFr   0.0000 	 RMSD     2.1185
Iter 003 	 Temp     3.46 	 Delta  1976.76 	 OutFr   0.0000 	 RMSD     2.1689
Iter 004 	 Temp     3.22 	 Delta  1864.21 	 OutFr   0.0000 	 RMSD     2.1676
Iter 005 	 Temp     2.99 	 Delta  1744.42 	 OutFr   0.0000 	 RMSD     2.1508
Iter 006 	 Temp     2.78 	 Delta  1625.23 	 OutFr   0.0000 	 RMSD     2.1287
Iter 007 	 Temp     2.59 	 Delta  1510.23 	 OutFr   0.0000 	 RMSD     2.1057
Iter 008 	 Temp     2.41 	 Delta  1401.14 	 OutFr   0.0000 	 RMSD     2.0842
Iter 009 	 Temp     2.24 	 Delta  1297.74 	 OutFr   0.0000 	 RMSD     2.0648
Iter 010 	 Temp     2.08 	 Delta  1198.73 	 OutFr   0.0000 	 RMSD     2.0463
Iter 011 	 Temp     1.94 	 Delta  1103.68 	 OutFr   0.0027 	 RMSD     2.0290
Iter 012 	 Temp     1.80 	 Delta  1013.57 	 OutFr   0.0027 	 RMSD     2.0132
Iter 013 	 Temp     1.67 	 Delta   929.63 	 OutFr   0.0108 	 RMSD     1.9987
Iter 014 	 Temp     1.56 	 Delta   853.17 	 OutFr   0.0108 	 RMSD     1.9861
Iter 015 	 Temp     1.45 	 Delta   786.13 	 OutFr   0.0190 	 RMSD     1.9751
Iter 016 	 Temp     1.35 	 Delta   730.85 	 OutFr   0.0217 	 RMSD     1.9655
Iter 017 	 Temp     1.25 	 Delta   685.92 	 OutFr   0.0217 	 RMSD     1.9584
Iter 018 	 Temp     1.16 	 Delta   646.29 	 OutFr   0.0244 	 RMSD     1.9531
Iter 019 	 Temp     1.08 	 Delta   607.47 	 OutFr   0.0271 	 RMSD     1.9482
Iter 020 	 Temp     1.01 	 Delta   565.91 	 OutFr   0.0461 	 RMSD     1.9441
Iter 021 	 Temp     0.94 	 Delta   521.55 	 OutFr   0.0542 	 RMSD     1.9414
Iter 022 	 Temp     0.87 	 Delta   479.98 	 OutFr   0.0650 	 RMSD     1.9408
Iter 023 	 Temp     0.81 	 Delta   445.77 	 OutFr   0.0759 	 RMSD     1.9410
Iter 024 	 Temp     0.75 	 Delta   416.10 	 OutFr   0.0949 	 RMSD     1.9426
Iter 025 	 Temp     0.70 	 Delta   387.16 	 OutFr   0.1111 	 RMSD     1.9455
Iter 026 	 Temp     0.65 	 Delta   356.54 	 OutFr   0.1301 	 RMSD     1.9495
Iter 027 	 Temp     0.61 	 Delta   326.13 	 OutFr   0.1436 	 RMSD     1.9525
Iter 028 	 Temp     0.56 	 Delta   297.43 	 OutFr   0.1599 	 RMSD     1.9525
Iter 029 	 Temp     0.52 	 Delta   270.49 	 OutFr   0.1870 	 RMSD     1.9508
Iter 030 	 Temp     0.49 	 Delta   245.62 	 OutFr   0.2304 	 RMSD     1.9491
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.jJmuHMV2/mybin.nii.gz
+ vtklevelset /tmp/ashs.jJmuHMV2/mybin.nii.gz /tmp/ashs.jJmuHMV2/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.jJmuHMV2/mymesh.vtk /tmp/ashs.jJmuHMV2/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 3090.50613013   0.97070814
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.jJmuHMV2/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.5399 to 37.5081
   Y : -10.109 to 34.3879
   Z : -22.165 to 10.8524
   Image resolution  : 107 by 157 by 123
   Image box origin  : {5.5399, -15.109, -27.165}
   Image box size    : {37.1528, 54.5139, 43.0495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.5399, 15.109, -27.165]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat -o /tmp/ashs.jJmuHMV2/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat -o /tmp/ashs.jJmuHMV2/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.jJmuHMV2/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.801923 0.807692
+ echo 'CHUNK 0.801923 0.807692 0.5'
CHUNK 0.801923 0.807692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.801923 0.807692 0.5
====================================
         PROGRESS: 0.801923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.jJmuHMV2/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.jJmuHMV2/fixed_hw.nii.gz /tmp/ashs.jJmuHMV2/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.564598, moving = 0.748551
LEVEL 1 of 3
  Smoothing sigmas: [2.38335, 2.36052, 2.40529], [0.972999, 0.963678, 0.981955]
Level     0,  Iter     0:    Energy =   0.0497
Level     0,  Iter     1:    Energy =   0.0554
Level     0,  Iter     2:    Energy =   0.0621
Level     0,  Iter     3:    Energy =   0.0668
Level     0,  Iter     4:    Energy =   0.0701
Level     0,  Iter     5:    Energy =   0.0728
Level     0,  Iter     6:    Energy =   0.0756
Level     0,  Iter     7:    Energy =   0.0780
Level     0,  Iter     8:    Energy =   0.0797
Level     0,  Iter     9:    Energy =   0.0819
Level     0,  Iter    10:    Energy =   0.0824
Level     0,  Iter    11:    Energy =   0.0831
Level     0,  Iter    12:    Energy =   0.0829
Level     0,  Iter    13:    Energy =   0.0835
Level     0,  Iter    14:    Energy =   0.0832
Level     0,  Iter    15:    Energy =   0.0840
Level     0,  Iter    16:    Energy =   0.0839
Level     0,  Iter    17:    Energy =   0.0847
Level     0,  Iter    18:    Energy =   0.0846
Level     0,  Iter    19:    Energy =   0.0853
Level     0,  Iter    20:    Energy =   0.0850
Level     0,  Iter    21:    Energy =   0.0857
Level     0,  Iter    22:    Energy =   0.0854
Level     0,  Iter    23:    Energy =   0.0860
Level     0,  Iter    24:    Energy =   0.0858
Level     0,  Iter    25:    Energy =   0.0863
Level     0,  Iter    26:    Energy =   0.0861
Level     0,  Iter    27:    Energy =   0.0866
Level     0,  Iter    28:    Energy =   0.0863
Level     0,  Iter    29:    Energy =   0.0868
Level     0,  Iter    30:    Energy =   0.0865
Level     0,  Iter    31:    Energy =   0.0869
Level     0,  Iter    32:    Energy =   0.0866
Level     0,  Iter    33:    Energy =   0.0870
Level     0,  Iter    34:    Energy =   0.0867
Level     0,  Iter    35:    Energy =   0.0871
Level     0,  Iter    36:    Energy =   0.0869
Level     0,  Iter    37:    Energy =   0.0873
Level     0,  Iter    38:    Energy =   0.0871
Level     0,  Iter    39:    Energy =   0.0875
Level     0,  Iter    40:    Energy =   0.0873
Level     0,  Iter    41:    Energy =   0.0878
Level     0,  Iter    42:    Energy =   0.0877
Level     0,  Iter    43:    Energy =   0.0883
Level     0,  Iter    44:    Energy =   0.0880
Level     0,  Iter    45:    Energy =   0.0886
Level     0,  Iter    46:    Energy =   0.0886
Level     0,  Iter    47:    Energy =   0.0890
Level     0,  Iter    48:    Energy =   0.0887
Level     0,  Iter    49:    Energy =   0.0891
Level     0,  Iter    50:    Energy =   0.0889
Level     0,  Iter    51:    Energy =   0.0893
Level     0,  Iter    52:    Energy =   0.0890
Level     0,  Iter    53:    Energy =   0.0893
Level     0,  Iter    54:    Energy =   0.0888
Level     0,  Iter    55:    Energy =   0.0891
Level     0,  Iter    56:    Energy =   0.0886
Level     0,  Iter    57:    Energy =   0.0890
Level     0,  Iter    58:    Energy =   0.0886
Level     0,  Iter    59:    Energy =   0.0891
END OF LEVEL     0    DetJac Range:   0.3085  to   2.3380 
  Avg. Gradient Time  : 0.0085s  37.54% 
  Avg. Gaussian Time  : 0.0107s  47.46% 
  Avg. Iteration Time : 0.0226s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19168, 1.1952, 1.20264], [0.486499, 0.487938, 0.490977]
Level     1,  Iter     0:    Energy =   0.0588
Level     1,  Iter     1:    Energy =   0.0624
Level     1,  Iter     2:    Energy =   0.0651
Level     1,  Iter     3:    Energy =   0.0675
Level     1,  Iter     4:    Energy =   0.0698
Level     1,  Iter     5:    Energy =   0.0719
Level     1,  Iter     6:    Energy =   0.0737
Level     1,  Iter     7:    Energy =   0.0752
Level     1,  Iter     8:    Energy =   0.0765
Level     1,  Iter     9:    Energy =   0.0775
Level     1,  Iter    10:    Energy =   0.0776
Level     1,  Iter    11:    Energy =   0.0782
Level     1,  Iter    12:    Energy =   0.0783
Level     1,  Iter    13:    Energy =   0.0788
Level     1,  Iter    14:    Energy =   0.0789
Level     1,  Iter    15:    Energy =   0.0794
Level     1,  Iter    16:    Energy =   0.0793
Level     1,  Iter    17:    Energy =   0.0797
Level     1,  Iter    18:    Energy =   0.0795
Level     1,  Iter    19:    Energy =   0.0798
Level     1,  Iter    20:    Energy =   0.0796
Level     1,  Iter    21:    Energy =   0.0800
Level     1,  Iter    22:    Energy =   0.0798
Level     1,  Iter    23:    Energy =   0.0801
Level     1,  Iter    24:    Energy =   0.0799
Level     1,  Iter    25:    Energy =   0.0803
Level     1,  Iter    26:    Energy =   0.0800
Level     1,  Iter    27:    Energy =   0.0804
Level     1,  Iter    28:    Energy =   0.0802
Level     1,  Iter    29:    Energy =   0.0805
Level     1,  Iter    30:    Energy =   0.0803
Level     1,  Iter    31:    Energy =   0.0806
Level     1,  Iter    32:    Energy =   0.0804
Level     1,  Iter    33:    Energy =   0.0807
Level     1,  Iter    34:    Energy =   0.0804
Level     1,  Iter    35:    Energy =   0.0809
Level     1,  Iter    36:    Energy =   0.0806
Level     1,  Iter    37:    Energy =   0.0809
Level     1,  Iter    38:    Energy =   0.0806
Level     1,  Iter    39:    Energy =   0.0810
Level     1,  Iter    40:    Energy =   0.0807
Level     1,  Iter    41:    Energy =   0.0811
Level     1,  Iter    42:    Energy =   0.0808
Level     1,  Iter    43:    Energy =   0.0811
Level     1,  Iter    44:    Energy =   0.0808
Level     1,  Iter    45:    Energy =   0.0812
Level     1,  Iter    46:    Energy =   0.0809
Level     1,  Iter    47:    Energy =   0.0813
Level     1,  Iter    48:    Energy =   0.0809
Level     1,  Iter    49:    Energy =   0.0813
Level     1,  Iter    50:    Energy =   0.0810
Level     1,  Iter    51:    Energy =   0.0814
Level     1,  Iter    52:    Energy =   0.0810
Level     1,  Iter    53:    Energy =   0.0814
Level     1,  Iter    54:    Energy =   0.0811
Level     1,  Iter    55:    Energy =   0.0815
Level     1,  Iter    56:    Energy =   0.0811
Level     1,  Iter    57:    Energy =   0.0815
Level     1,  Iter    58:    Energy =   0.0812
Level     1,  Iter    59:    Energy =   0.0816
END OF LEVEL     1    DetJac Range:   0.1146  to   3.4420 
  Avg. Gradient Time  : 0.0510s  39.41% 
  Avg. Gaussian Time  : 0.0630s  48.64% 
  Avg. Iteration Time : 0.1296s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0439
Level     2,  Iter     1:    Energy =   0.0458
Level     2,  Iter     2:    Energy =   0.0475
Level     2,  Iter     3:    Energy =   0.0494
Level     2,  Iter     4:    Energy =   0.0510
Level     2,  Iter     5:    Energy =   0.0522
Level     2,  Iter     6:    Energy =   0.0533
Level     2,  Iter     7:    Energy =   0.0542
Level     2,  Iter     8:    Energy =   0.0551
Level     2,  Iter     9:    Energy =   0.0557
Level     2,  Iter    10:    Energy =   0.0563
Level     2,  Iter    11:    Energy =   0.0568
Level     2,  Iter    12:    Energy =   0.0572
Level     2,  Iter    13:    Energy =   0.0577
Level     2,  Iter    14:    Energy =   0.0581
Level     2,  Iter    15:    Energy =   0.0586
Level     2,  Iter    16:    Energy =   0.0590
Level     2,  Iter    17:    Energy =   0.0593
Level     2,  Iter    18:    Energy =   0.0595
Level     2,  Iter    19:    Energy =   0.0597
END OF LEVEL     2    DetJac Range:   0.0782  to   4.6073 
  Avg. Gradient Time  : 0.3570s  36.70% 
  Avg. Gaussian Time  : 0.5139s  52.83% 
  Avg. Iteration Time : 0.9727s 

real	0m32.437s
user	0m57.556s
sys	0m3.088s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.801923 0.807692
+ echo 'CHUNK 0.801923 0.807692 1'
CHUNK 0.801923 0.807692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.801923 0.807692 1
====================================
         PROGRESS: 0.801923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=010
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 010
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 010 right 0
+ local tid=010
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1841.94 	 OutFr   0.0000 	 RMSD     2.8920
Iter 002 	 Temp     3.72 	 Delta  1727.32 	 OutFr   0.0000 	 RMSD     2.3433
Iter 003 	 Temp     3.46 	 Delta  1621.18 	 OutFr   0.0000 	 RMSD     2.3463
Iter 004 	 Temp     3.22 	 Delta  1527.92 	 OutFr   0.0000 	 RMSD     2.3291
Iter 005 	 Temp     2.99 	 Delta  1443.23 	 OutFr   0.0000 	 RMSD     2.3078
Iter 006 	 Temp     2.78 	 Delta  1362.42 	 OutFr   0.0000 	 RMSD     2.2865
Iter 007 	 Temp     2.59 	 Delta  1282.57 	 OutFr   0.0000 	 RMSD     2.2682
Iter 008 	 Temp     2.41 	 Delta  1203.65 	 OutFr   0.0000 	 RMSD     2.2514
Iter 009 	 Temp     2.24 	 Delta  1127.67 	 OutFr   0.0000 	 RMSD     2.2364
Iter 010 	 Temp     2.08 	 Delta  1056.93 	 OutFr   0.0000 	 RMSD     2.2241
Iter 011 	 Temp     1.94 	 Delta   993.54 	 OutFr   0.0000 	 RMSD     2.2138
Iter 012 	 Temp     1.80 	 Delta   939.52 	 OutFr   0.0000 	 RMSD     2.2049
Iter 013 	 Temp     1.67 	 Delta   895.11 	 OutFr   0.0054 	 RMSD     2.1964
Iter 014 	 Temp     1.56 	 Delta   858.18 	 OutFr   0.0054 	 RMSD     2.1887
Iter 015 	 Temp     1.45 	 Delta   826.29 	 OutFr   0.0081 	 RMSD     2.1821
Iter 016 	 Temp     1.35 	 Delta   795.91 	 OutFr   0.0108 	 RMSD     2.1766
Iter 017 	 Temp     1.25 	 Delta   762.32 	 OutFr   0.0108 	 RMSD     2.1722
Iter 018 	 Temp     1.16 	 Delta   723.41 	 OutFr   0.0108 	 RMSD     2.1687
Iter 019 	 Temp     1.08 	 Delta   682.05 	 OutFr   0.0217 	 RMSD     2.1664
Iter 020 	 Temp     1.01 	 Delta   640.90 	 OutFr   0.0271 	 RMSD     2.1649
Iter 021 	 Temp     0.94 	 Delta   598.25 	 OutFr   0.0379 	 RMSD     2.1643
Iter 022 	 Temp     0.87 	 Delta   555.01 	 OutFr   0.0434 	 RMSD     2.1645
Iter 023 	 Temp     0.81 	 Delta   509.55 	 OutFr   0.0596 	 RMSD     2.1667
Iter 024 	 Temp     0.75 	 Delta   461.12 	 OutFr   0.0786 	 RMSD     2.1703
Iter 025 	 Temp     0.70 	 Delta   416.38 	 OutFr   0.1084 	 RMSD     2.1760
Iter 026 	 Temp     0.65 	 Delta   376.97 	 OutFr   0.1463 	 RMSD     2.1829
Iter 027 	 Temp     0.61 	 Delta   342.80 	 OutFr   0.1653 	 RMSD     2.1897
Iter 028 	 Temp     0.56 	 Delta   312.01 	 OutFr   0.1734 	 RMSD     2.1956
Iter 029 	 Temp     0.52 	 Delta   284.06 	 OutFr   0.2005 	 RMSD     2.1998
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.BYbFqtcS/mybin.nii.gz
+ vtklevelset /tmp/ashs.BYbFqtcS/mybin.nii.gz /tmp/ashs.BYbFqtcS/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.BYbFqtcS/mymesh.vtk /tmp/ashs.BYbFqtcS/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 3162.47366456   0.99331268
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.BYbFqtcS/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.08805 to 36.9008
   Y : -10.7493 to 31.4051
   Z : -14.66 to 21.1189
   Image resolution  : 109 by 151 by 131
   Image box origin  : {4.08805, -15.7493, -19.66}
   Image box size    : {37.8472, 52.4305, 45.8495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.08805, 15.7493, -19.66]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat -o /tmp/ashs.BYbFqtcS/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat -o /tmp/ashs.BYbFqtcS/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.BYbFqtcS/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.807692 0.813462
+ echo 'CHUNK 0.807692 0.813462 0.5'
CHUNK 0.807692 0.813462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.807692 0.813462 0.5
====================================
         PROGRESS: 0.807692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.BYbFqtcS/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.BYbFqtcS/fixed_hw.nii.gz /tmp/ashs.BYbFqtcS/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.557161, moving = 0.47343
LEVEL 1 of 3
  Smoothing sigmas: [2.34119, 2.3898, 2.40647], [0.955786, 0.975631, 0.982439]
Level     0,  Iter     0:    Energy =   0.0523
Level     0,  Iter     1:    Energy =   0.0579
Level     0,  Iter     2:    Energy =   0.0634
Level     0,  Iter     3:    Energy =   0.0676
Level     0,  Iter     4:    Energy =   0.0711
Level     0,  Iter     5:    Energy =   0.0746
Level     0,  Iter     6:    Energy =   0.0765
Level     0,  Iter     7:    Energy =   0.0785
Level     0,  Iter     8:    Energy =   0.0804
Level     0,  Iter     9:    Energy =   0.0818
Level     0,  Iter    10:    Energy =   0.0828
Level     0,  Iter    11:    Energy =   0.0836
Level     0,  Iter    12:    Energy =   0.0839
Level     0,  Iter    13:    Energy =   0.0843
Level     0,  Iter    14:    Energy =   0.0842
Level     0,  Iter    15:    Energy =   0.0845
Level     0,  Iter    16:    Energy =   0.0844
Level     0,  Iter    17:    Energy =   0.0847
Level     0,  Iter    18:    Energy =   0.0847
Level     0,  Iter    19:    Energy =   0.0850
Level     0,  Iter    20:    Energy =   0.0850
Level     0,  Iter    21:    Energy =   0.0852
Level     0,  Iter    22:    Energy =   0.0852
Level     0,  Iter    23:    Energy =   0.0854
Level     0,  Iter    24:    Energy =   0.0854
Level     0,  Iter    25:    Energy =   0.0856
Level     0,  Iter    26:    Energy =   0.0856
Level     0,  Iter    27:    Energy =   0.0857
Level     0,  Iter    28:    Energy =   0.0857
Level     0,  Iter    29:    Energy =   0.0859
Level     0,  Iter    30:    Energy =   0.0858
Level     0,  Iter    31:    Energy =   0.0860
Level     0,  Iter    32:    Energy =   0.0859
Level     0,  Iter    33:    Energy =   0.0861
Level     0,  Iter    34:    Energy =   0.0860
Level     0,  Iter    35:    Energy =   0.0862
Level     0,  Iter    36:    Energy =   0.0861
Level     0,  Iter    37:    Energy =   0.0862
Level     0,  Iter    38:    Energy =   0.0861
Level     0,  Iter    39:    Energy =   0.0863
Level     0,  Iter    40:    Energy =   0.0862
Level     0,  Iter    41:    Energy =   0.0864
Level     0,  Iter    42:    Energy =   0.0863
Level     0,  Iter    43:    Energy =   0.0865
Level     0,  Iter    44:    Energy =   0.0863
Level     0,  Iter    45:    Energy =   0.0865
Level     0,  Iter    46:    Energy =   0.0864
Level     0,  Iter    47:    Energy =   0.0865
Level     0,  Iter    48:    Energy =   0.0864
Level     0,  Iter    49:    Energy =   0.0866
Level     0,  Iter    50:    Energy =   0.0864
Level     0,  Iter    51:    Energy =   0.0866
Level     0,  Iter    52:    Energy =   0.0865
Level     0,  Iter    53:    Energy =   0.0866
Level     0,  Iter    54:    Energy =   0.0865
Level     0,  Iter    55:    Energy =   0.0866
Level     0,  Iter    56:    Energy =   0.0865
Level     0,  Iter    57:    Energy =   0.0866
Level     0,  Iter    58:    Energy =   0.0865
Level     0,  Iter    59:    Energy =   0.0866
END OF LEVEL     0    DetJac Range:   0.2570  to   2.1456 
  Avg. Gradient Time  : 0.0088s  37.67% 
  Avg. Gaussian Time  : 0.0111s  47.38% 
  Avg. Iteration Time : 0.0235s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19188, 1.1949, 1.20324], [0.486582, 0.487815, 0.491219]
Level     1,  Iter     0:    Energy =   0.0622
Level     1,  Iter     1:    Energy =   0.0666
Level     1,  Iter     2:    Energy =   0.0701
Level     1,  Iter     3:    Energy =   0.0733
Level     1,  Iter     4:    Energy =   0.0761
Level     1,  Iter     5:    Energy =   0.0779
Level     1,  Iter     6:    Energy =   0.0794
Level     1,  Iter     7:    Energy =   0.0804
Level     1,  Iter     8:    Energy =   0.0815
Level     1,  Iter     9:    Energy =   0.0823
Level     1,  Iter    10:    Energy =   0.0826
Level     1,  Iter    11:    Energy =   0.0826
Level     1,  Iter    12:    Energy =   0.0831
Level     1,  Iter    13:    Energy =   0.0830
Level     1,  Iter    14:    Energy =   0.0835
Level     1,  Iter    15:    Energy =   0.0834
Level     1,  Iter    16:    Energy =   0.0840
Level     1,  Iter    17:    Energy =   0.0838
Level     1,  Iter    18:    Energy =   0.0843
Level     1,  Iter    19:    Energy =   0.0841
Level     1,  Iter    20:    Energy =   0.0847
Level     1,  Iter    21:    Energy =   0.0845
Level     1,  Iter    22:    Energy =   0.0851
Level     1,  Iter    23:    Energy =   0.0848
Level     1,  Iter    24:    Energy =   0.0853
Level     1,  Iter    25:    Energy =   0.0850
Level     1,  Iter    26:    Energy =   0.0855
Level     1,  Iter    27:    Energy =   0.0852
Level     1,  Iter    28:    Energy =   0.0857
Level     1,  Iter    29:    Energy =   0.0854
Level     1,  Iter    30:    Energy =   0.0858
Level     1,  Iter    31:    Energy =   0.0855
Level     1,  Iter    32:    Energy =   0.0860
Level     1,  Iter    33:    Energy =   0.0857
Level     1,  Iter    34:    Energy =   0.0860
Level     1,  Iter    35:    Energy =   0.0857
Level     1,  Iter    36:    Energy =   0.0861
Level     1,  Iter    37:    Energy =   0.0859
Level     1,  Iter    38:    Energy =   0.0862
Level     1,  Iter    39:    Energy =   0.0859
Level     1,  Iter    40:    Energy =   0.0862
Level     1,  Iter    41:    Energy =   0.0861
Level     1,  Iter    42:    Energy =   0.0863
Level     1,  Iter    43:    Energy =   0.0860
Level     1,  Iter    44:    Energy =   0.0864
Level     1,  Iter    45:    Energy =   0.0862
Level     1,  Iter    46:    Energy =   0.0865
Level     1,  Iter    47:    Energy =   0.0861
Level     1,  Iter    48:    Energy =   0.0865
Level     1,  Iter    49:    Energy =   0.0863
Level     1,  Iter    50:    Energy =   0.0866
Level     1,  Iter    51:    Energy =   0.0862
Level     1,  Iter    52:    Energy =   0.0866
Level     1,  Iter    53:    Energy =   0.0864
Level     1,  Iter    54:    Energy =   0.0866
Level     1,  Iter    55:    Energy =   0.0863
Level     1,  Iter    56:    Energy =   0.0867
Level     1,  Iter    57:    Energy =   0.0865
Level     1,  Iter    58:    Energy =   0.0867
Level     1,  Iter    59:    Energy =   0.0863
END OF LEVEL     1    DetJac Range:   0.1402  to   3.1557 
  Avg. Gradient Time  : 0.0532s  39.37% 
  Avg. Gaussian Time  : 0.0656s  48.60% 
  Avg. Iteration Time : 0.1350s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0482
Level     2,  Iter     1:    Energy =   0.0510
Level     2,  Iter     2:    Energy =   0.0533
Level     2,  Iter     3:    Energy =   0.0550
Level     2,  Iter     4:    Energy =   0.0568
Level     2,  Iter     5:    Energy =   0.0580
Level     2,  Iter     6:    Energy =   0.0588
Level     2,  Iter     7:    Energy =   0.0595
Level     2,  Iter     8:    Energy =   0.0601
Level     2,  Iter     9:    Energy =   0.0607
Level     2,  Iter    10:    Energy =   0.0614
Level     2,  Iter    11:    Energy =   0.0620
Level     2,  Iter    12:    Energy =   0.0626
Level     2,  Iter    13:    Energy =   0.0631
Level     2,  Iter    14:    Energy =   0.0635
Level     2,  Iter    15:    Energy =   0.0639
Level     2,  Iter    16:    Energy =   0.0643
Level     2,  Iter    17:    Energy =   0.0646
Level     2,  Iter    18:    Energy =   0.0649
Level     2,  Iter    19:    Energy =   0.0651
END OF LEVEL     2    DetJac Range:   0.0903  to   4.6337 
  Avg. Gradient Time  : 0.3603s  36.95% 
  Avg. Gaussian Time  : 0.5110s  52.40% 
  Avg. Iteration Time : 0.9752s 

real	0m32.798s
user	0m58.096s
sys	0m3.376s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.807692 0.813462
+ echo 'CHUNK 0.807692 0.813462 1'
CHUNK 0.807692 0.813462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.807692 0.813462 1
====================================
         PROGRESS: 0.807692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=011
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 011
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 011 right 0
+ local tid=011
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2425.86 	 OutFr   0.0000 	 RMSD     2.5461
Iter 002 	 Temp     3.72 	 Delta  2338.90 	 OutFr   0.0000 	 RMSD     2.3433
Iter 003 	 Temp     3.46 	 Delta  2195.17 	 OutFr   0.0000 	 RMSD     2.3481
Iter 004 	 Temp     3.22 	 Delta  2054.24 	 OutFr   0.0000 	 RMSD     2.3374
Iter 005 	 Temp     2.99 	 Delta  1919.38 	 OutFr   0.0000 	 RMSD     2.3254
Iter 006 	 Temp     2.78 	 Delta  1789.90 	 OutFr   0.0000 	 RMSD     2.3148
Iter 007 	 Temp     2.59 	 Delta  1667.15 	 OutFr   0.0000 	 RMSD     2.3059
Iter 008 	 Temp     2.41 	 Delta  1555.40 	 OutFr   0.0000 	 RMSD     2.2983
Iter 009 	 Temp     2.24 	 Delta  1459.43 	 OutFr   0.0000 	 RMSD     2.2921
Iter 010 	 Temp     2.08 	 Delta  1379.70 	 OutFr   0.0027 	 RMSD     2.2869
Iter 011 	 Temp     1.94 	 Delta  1313.13 	 OutFr   0.0108 	 RMSD     2.2828
Iter 012 	 Temp     1.80 	 Delta  1255.84 	 OutFr   0.0163 	 RMSD     2.2792
Iter 013 	 Temp     1.67 	 Delta  1201.83 	 OutFr   0.0163 	 RMSD     2.2762
Iter 014 	 Temp     1.56 	 Delta  1145.83 	 OutFr   0.0217 	 RMSD     2.2739
Iter 015 	 Temp     1.45 	 Delta  1085.36 	 OutFr   0.0217 	 RMSD     2.2720
Iter 016 	 Temp     1.35 	 Delta  1020.67 	 OutFr   0.0244 	 RMSD     2.2699
Iter 017 	 Temp     1.25 	 Delta   952.80 	 OutFr   0.0379 	 RMSD     2.2676
Iter 018 	 Temp     1.16 	 Delta   885.61 	 OutFr   0.0407 	 RMSD     2.2657
Iter 019 	 Temp     1.08 	 Delta   823.40 	 OutFr   0.0569 	 RMSD     2.2641
Iter 020 	 Temp     1.01 	 Delta   765.70 	 OutFr   0.0678 	 RMSD     2.2626
Iter 021 	 Temp     0.94 	 Delta   709.27 	 OutFr   0.0840 	 RMSD     2.2610
Iter 022 	 Temp     0.87 	 Delta   651.73 	 OutFr   0.0976 	 RMSD     2.2600
Iter 023 	 Temp     0.81 	 Delta   590.43 	 OutFr   0.1030 	 RMSD     2.2598
Iter 024 	 Temp     0.75 	 Delta   527.66 	 OutFr   0.1274 	 RMSD     2.2611
Iter 025 	 Temp     0.70 	 Delta   466.92 	 OutFr   0.1626 	 RMSD     2.2642
Iter 026 	 Temp     0.65 	 Delta   403.71 	 OutFr   0.2033 	 RMSD     2.2694
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.b8f3atfI/mybin.nii.gz
+ vtklevelset /tmp/ashs.b8f3atfI/mybin.nii.gz /tmp/ashs.b8f3atfI/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.b8f3atfI/mymesh.vtk /tmp/ashs.b8f3atfI/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 3149.96020542   0.98938228
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.b8f3atfI/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 8.78282 to 37.1007
   Y : -16.5283 to 28.6978
   Z : -24.4486 to 8.9608
   Image resolution  : 111 by 160 by 125
   Image box origin  : {3.78282, -21.5283, -29.4486}
   Image box size    : {38.5416, 55.5555, 43.7495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-3.78282, 21.5283, -29.4486]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat -o /tmp/ashs.b8f3atfI/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat -o /tmp/ashs.b8f3atfI/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.b8f3atfI/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.813462 0.819231
+ echo 'CHUNK 0.813462 0.819231 0.5'
CHUNK 0.813462 0.819231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.813462 0.819231 0.5
====================================
         PROGRESS: 0.813462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.b8f3atfI/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.b8f3atfI/fixed_hw.nii.gz /tmp/ashs.b8f3atfI/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.556867, moving = 0.443177
LEVEL 1 of 3
  Smoothing sigmas: [2.38415, 2.40562, 2.36801], [0.973323, 0.982092, 0.966737]
Level     0,  Iter     0:    Energy =   0.0411
Level     0,  Iter     1:    Energy =   0.0469
Level     0,  Iter     2:    Energy =   0.0513
Level     0,  Iter     3:    Energy =   0.0549
Level     0,  Iter     4:    Energy =   0.0583
Level     0,  Iter     5:    Energy =   0.0610
Level     0,  Iter     6:    Energy =   0.0635
Level     0,  Iter     7:    Energy =   0.0658
Level     0,  Iter     8:    Energy =   0.0673
Level     0,  Iter     9:    Energy =   0.0687
Level     0,  Iter    10:    Energy =   0.0693
Level     0,  Iter    11:    Energy =   0.0695
Level     0,  Iter    12:    Energy =   0.0697
Level     0,  Iter    13:    Energy =   0.0700
Level     0,  Iter    14:    Energy =   0.0701
Level     0,  Iter    15:    Energy =   0.0705
Level     0,  Iter    16:    Energy =   0.0705
Level     0,  Iter    17:    Energy =   0.0707
Level     0,  Iter    18:    Energy =   0.0708
Level     0,  Iter    19:    Energy =   0.0709
Level     0,  Iter    20:    Energy =   0.0710
Level     0,  Iter    21:    Energy =   0.0711
Level     0,  Iter    22:    Energy =   0.0711
Level     0,  Iter    23:    Energy =   0.0712
Level     0,  Iter    24:    Energy =   0.0712
Level     0,  Iter    25:    Energy =   0.0712
Level     0,  Iter    26:    Energy =   0.0713
Level     0,  Iter    27:    Energy =   0.0713
Level     0,  Iter    28:    Energy =   0.0713
Level     0,  Iter    29:    Energy =   0.0714
Level     0,  Iter    30:    Energy =   0.0714
Level     0,  Iter    31:    Energy =   0.0714
Level     0,  Iter    32:    Energy =   0.0714
Level     0,  Iter    33:    Energy =   0.0715
Level     0,  Iter    34:    Energy =   0.0715
Level     0,  Iter    35:    Energy =   0.0715
Level     0,  Iter    36:    Energy =   0.0715
Level     0,  Iter    37:    Energy =   0.0715
Level     0,  Iter    38:    Energy =   0.0716
Level     0,  Iter    39:    Energy =   0.0716
Level     0,  Iter    40:    Energy =   0.0716
Level     0,  Iter    41:    Energy =   0.0716
Level     0,  Iter    42:    Energy =   0.0716
Level     0,  Iter    43:    Energy =   0.0716
Level     0,  Iter    44:    Energy =   0.0717
Level     0,  Iter    45:    Energy =   0.0717
Level     0,  Iter    46:    Energy =   0.0717
Level     0,  Iter    47:    Energy =   0.0717
Level     0,  Iter    48:    Energy =   0.0717
Level     0,  Iter    49:    Energy =   0.0717
Level     0,  Iter    50:    Energy =   0.0717
Level     0,  Iter    51:    Energy =   0.0717
Level     0,  Iter    52:    Energy =   0.0717
Level     0,  Iter    53:    Energy =   0.0717
Level     0,  Iter    54:    Energy =   0.0718
Level     0,  Iter    55:    Energy =   0.0717
Level     0,  Iter    56:    Energy =   0.0718
Level     0,  Iter    57:    Energy =   0.0718
Level     0,  Iter    58:    Energy =   0.0718
Level     0,  Iter    59:    Energy =   0.0718
END OF LEVEL     0    DetJac Range:   0.2645  to   2.6831 
  Avg. Gradient Time  : 0.0089s  37.88% 
  Avg. Gaussian Time  : 0.0112s  47.40% 
  Avg. Iteration Time : 0.0236s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19207, 1.20281, 1.2028], [0.486662, 0.491046, 0.491041]
Level     1,  Iter     0:    Energy =   0.0567
Level     1,  Iter     1:    Energy =   0.0601
Level     1,  Iter     2:    Energy =   0.0631
Level     1,  Iter     3:    Energy =   0.0651
Level     1,  Iter     4:    Energy =   0.0665
Level     1,  Iter     5:    Energy =   0.0677
Level     1,  Iter     6:    Energy =   0.0688
Level     1,  Iter     7:    Energy =   0.0698
Level     1,  Iter     8:    Energy =   0.0707
Level     1,  Iter     9:    Energy =   0.0715
Level     1,  Iter    10:    Energy =   0.0723
Level     1,  Iter    11:    Energy =   0.0730
Level     1,  Iter    12:    Energy =   0.0735
Level     1,  Iter    13:    Energy =   0.0740
Level     1,  Iter    14:    Energy =   0.0745
Level     1,  Iter    15:    Energy =   0.0748
Level     1,  Iter    16:    Energy =   0.0750
Level     1,  Iter    17:    Energy =   0.0749
Level     1,  Iter    18:    Energy =   0.0750
Level     1,  Iter    19:    Energy =   0.0751
Level     1,  Iter    20:    Energy =   0.0751
Level     1,  Iter    21:    Energy =   0.0752
Level     1,  Iter    22:    Energy =   0.0752
Level     1,  Iter    23:    Energy =   0.0753
Level     1,  Iter    24:    Energy =   0.0753
Level     1,  Iter    25:    Energy =   0.0754
Level     1,  Iter    26:    Energy =   0.0753
Level     1,  Iter    27:    Energy =   0.0755
Level     1,  Iter    28:    Energy =   0.0754
Level     1,  Iter    29:    Energy =   0.0756
Level     1,  Iter    30:    Energy =   0.0755
Level     1,  Iter    31:    Energy =   0.0756
Level     1,  Iter    32:    Energy =   0.0755
Level     1,  Iter    33:    Energy =   0.0757
Level     1,  Iter    34:    Energy =   0.0756
Level     1,  Iter    35:    Energy =   0.0757
Level     1,  Iter    36:    Energy =   0.0756
Level     1,  Iter    37:    Energy =   0.0758
Level     1,  Iter    38:    Energy =   0.0756
Level     1,  Iter    39:    Energy =   0.0758
Level     1,  Iter    40:    Energy =   0.0757
Level     1,  Iter    41:    Energy =   0.0759
Level     1,  Iter    42:    Energy =   0.0757
Level     1,  Iter    43:    Energy =   0.0759
Level     1,  Iter    44:    Energy =   0.0758
Level     1,  Iter    45:    Energy =   0.0760
Level     1,  Iter    46:    Energy =   0.0759
Level     1,  Iter    47:    Energy =   0.0760
Level     1,  Iter    48:    Energy =   0.0759
Level     1,  Iter    49:    Energy =   0.0761
Level     1,  Iter    50:    Energy =   0.0759
Level     1,  Iter    51:    Energy =   0.0761
Level     1,  Iter    52:    Energy =   0.0760
Level     1,  Iter    53:    Energy =   0.0761
Level     1,  Iter    54:    Energy =   0.0760
Level     1,  Iter    55:    Energy =   0.0762
Level     1,  Iter    56:    Energy =   0.0760
Level     1,  Iter    57:    Energy =   0.0762
Level     1,  Iter    58:    Energy =   0.0760
Level     1,  Iter    59:    Energy =   0.0762
END OF LEVEL     1    DetJac Range:   0.1235  to   3.3895 
  Avg. Gradient Time  : 0.0538s  39.63% 
  Avg. Gaussian Time  : 0.0657s  48.40% 
  Avg. Iteration Time : 0.1358s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0431
Level     2,  Iter     1:    Energy =   0.0453
Level     2,  Iter     2:    Energy =   0.0472
Level     2,  Iter     3:    Energy =   0.0490
Level     2,  Iter     4:    Energy =   0.0507
Level     2,  Iter     5:    Energy =   0.0521
Level     2,  Iter     6:    Energy =   0.0532
Level     2,  Iter     7:    Energy =   0.0541
Level     2,  Iter     8:    Energy =   0.0547
Level     2,  Iter     9:    Energy =   0.0553
Level     2,  Iter    10:    Energy =   0.0557
Level     2,  Iter    11:    Energy =   0.0560
Level     2,  Iter    12:    Energy =   0.0564
Level     2,  Iter    13:    Energy =   0.0568
Level     2,  Iter    14:    Energy =   0.0572
Level     2,  Iter    15:    Energy =   0.0576
Level     2,  Iter    16:    Energy =   0.0580
Level     2,  Iter    17:    Energy =   0.0584
Level     2,  Iter    18:    Energy =   0.0587
Level     2,  Iter    19:    Energy =   0.0590
END OF LEVEL     2    DetJac Range:   0.0732  to   4.6457 
  Avg. Gradient Time  : 0.3815s  36.81% 
  Avg. Gaussian Time  : 0.5438s  52.47% 
  Avg. Iteration Time : 1.0364s 

real	0m34.369s
user	1m0.712s
sys	0m3.440s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.813462 0.819231
+ echo 'CHUNK 0.813462 0.819231 1'
CHUNK 0.813462 0.819231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.813462 0.819231 1
====================================
         PROGRESS: 0.813462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=012
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 012
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 012 right 0
+ local tid=012
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1551.51 	 OutFr   0.0000 	 RMSD     3.2219
Iter 002 	 Temp     3.72 	 Delta  1635.80 	 OutFr   0.0000 	 RMSD     2.2279
Iter 003 	 Temp     3.46 	 Delta  1580.57 	 OutFr   0.0000 	 RMSD     2.2619
Iter 004 	 Temp     3.22 	 Delta  1494.22 	 OutFr   0.0000 	 RMSD     2.2710
Iter 005 	 Temp     2.99 	 Delta  1400.29 	 OutFr   0.0000 	 RMSD     2.2611
Iter 006 	 Temp     2.78 	 Delta  1306.72 	 OutFr   0.0000 	 RMSD     2.2457
Iter 007 	 Temp     2.59 	 Delta  1217.84 	 OutFr   0.0027 	 RMSD     2.2288
Iter 008 	 Temp     2.41 	 Delta  1136.82 	 OutFr   0.0027 	 RMSD     2.2114
Iter 009 	 Temp     2.24 	 Delta  1065.34 	 OutFr   0.0027 	 RMSD     2.1960
Iter 010 	 Temp     2.08 	 Delta  1003.76 	 OutFr   0.0027 	 RMSD     2.1833
Iter 011 	 Temp     1.94 	 Delta   951.96 	 OutFr   0.0054 	 RMSD     2.1731
Iter 012 	 Temp     1.80 	 Delta   909.36 	 OutFr   0.0081 	 RMSD     2.1640
Iter 013 	 Temp     1.67 	 Delta   873.97 	 OutFr   0.0190 	 RMSD     2.1563
Iter 014 	 Temp     1.56 	 Delta   842.56 	 OutFr   0.0271 	 RMSD     2.1492
Iter 015 	 Temp     1.45 	 Delta   812.45 	 OutFr   0.0271 	 RMSD     2.1439
Iter 016 	 Temp     1.35 	 Delta   782.31 	 OutFr   0.0298 	 RMSD     2.1397
Iter 017 	 Temp     1.25 	 Delta   751.39 	 OutFr   0.0325 	 RMSD     2.1382
Iter 018 	 Temp     1.16 	 Delta   719.04 	 OutFr   0.0461 	 RMSD     2.1383
Iter 019 	 Temp     1.08 	 Delta   684.36 	 OutFr   0.0515 	 RMSD     2.1397
Iter 020 	 Temp     1.01 	 Delta   645.30 	 OutFr   0.0623 	 RMSD     2.1418
Iter 021 	 Temp     0.94 	 Delta   600.14 	 OutFr   0.0650 	 RMSD     2.1454
Iter 022 	 Temp     0.87 	 Delta   548.01 	 OutFr   0.0786 	 RMSD     2.1514
Iter 023 	 Temp     0.81 	 Delta   492.80 	 OutFr   0.1057 	 RMSD     2.1606
Iter 024 	 Temp     0.75 	 Delta   442.42 	 OutFr   0.1301 	 RMSD     2.1731
Iter 025 	 Temp     0.70 	 Delta   396.59 	 OutFr   0.1491 	 RMSD     2.1859
Iter 026 	 Temp     0.65 	 Delta   356.22 	 OutFr   0.1626 	 RMSD     2.1984
Iter 027 	 Temp     0.61 	 Delta   319.50 	 OutFr   0.1924 	 RMSD     2.2088
Iter 028 	 Temp     0.56 	 Delta   283.47 	 OutFr   0.2304 	 RMSD     2.2154
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.R4L1mIJk/mybin.nii.gz
+ vtklevelset /tmp/ashs.R4L1mIJk/mybin.nii.gz /tmp/ashs.R4L1mIJk/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.R4L1mIJk/mymesh.vtk /tmp/ashs.R4L1mIJk/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 2761.93642648   0.86750650
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.R4L1mIJk/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 12.6342 to 37.2688
   Y : -13.2341 to 28.7208
   Z : -29.8474 to 4.37979
   Image resolution  : 100 by 150 by 127
   Image box origin  : {7.6342, -18.2341, -34.8474}
   Image box size    : {34.7222, 52.0833, 44.4495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-7.6342, 18.2341, -34.8474]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat -o /tmp/ashs.R4L1mIJk/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat -o /tmp/ashs.R4L1mIJk/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.R4L1mIJk/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.819231 0.825
+ echo 'CHUNK 0.819231 0.825 0.5'
CHUNK 0.819231 0.825 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.819231 0.825 0.5
====================================
         PROGRESS: 0.819231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.R4L1mIJk/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.R4L1mIJk/fixed_hw.nii.gz /tmp/ashs.R4L1mIJk/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.563099, moving = 0.785132
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.37397, 2.4059], [0.982092, 0.96917, 0.982204]
Level     0,  Iter     0:    Energy =   0.0354
Level     0,  Iter     1:    Energy =   0.0409
Level     0,  Iter     2:    Energy =   0.0474
Level     0,  Iter     3:    Energy =   0.0519
Level     0,  Iter     4:    Energy =   0.0559
Level     0,  Iter     5:    Energy =   0.0597
Level     0,  Iter     6:    Energy =   0.0624
Level     0,  Iter     7:    Energy =   0.0644
Level     0,  Iter     8:    Energy =   0.0663
Level     0,  Iter     9:    Energy =   0.0679
Level     0,  Iter    10:    Energy =   0.0687
Level     0,  Iter    11:    Energy =   0.0691
Level     0,  Iter    12:    Energy =   0.0695
Level     0,  Iter    13:    Energy =   0.0699
Level     0,  Iter    14:    Energy =   0.0704
Level     0,  Iter    15:    Energy =   0.0710
Level     0,  Iter    16:    Energy =   0.0717
Level     0,  Iter    17:    Energy =   0.0723
Level     0,  Iter    18:    Energy =   0.0728
Level     0,  Iter    19:    Energy =   0.0732
Level     0,  Iter    20:    Energy =   0.0736
Level     0,  Iter    21:    Energy =   0.0740
Level     0,  Iter    22:    Energy =   0.0743
Level     0,  Iter    23:    Energy =   0.0746
Level     0,  Iter    24:    Energy =   0.0750
Level     0,  Iter    25:    Energy =   0.0753
Level     0,  Iter    26:    Energy =   0.0756
Level     0,  Iter    27:    Energy =   0.0758
Level     0,  Iter    28:    Energy =   0.0761
Level     0,  Iter    29:    Energy =   0.0764
Level     0,  Iter    30:    Energy =   0.0767
Level     0,  Iter    31:    Energy =   0.0769
Level     0,  Iter    32:    Energy =   0.0772
Level     0,  Iter    33:    Energy =   0.0775
Level     0,  Iter    34:    Energy =   0.0779
Level     0,  Iter    35:    Energy =   0.0777
Level     0,  Iter    36:    Energy =   0.0781
Level     0,  Iter    37:    Energy =   0.0779
Level     0,  Iter    38:    Energy =   0.0783
Level     0,  Iter    39:    Energy =   0.0781
Level     0,  Iter    40:    Energy =   0.0783
Level     0,  Iter    41:    Energy =   0.0782
Level     0,  Iter    42:    Energy =   0.0786
Level     0,  Iter    43:    Energy =   0.0785
Level     0,  Iter    44:    Energy =   0.0787
Level     0,  Iter    45:    Energy =   0.0785
Level     0,  Iter    46:    Energy =   0.0788
Level     0,  Iter    47:    Energy =   0.0787
Level     0,  Iter    48:    Energy =   0.0789
Level     0,  Iter    49:    Energy =   0.0787
Level     0,  Iter    50:    Energy =   0.0792
Level     0,  Iter    51:    Energy =   0.0790
Level     0,  Iter    52:    Energy =   0.0793
Level     0,  Iter    53:    Energy =   0.0791
Level     0,  Iter    54:    Energy =   0.0794
Level     0,  Iter    55:    Energy =   0.0793
Level     0,  Iter    56:    Energy =   0.0795
Level     0,  Iter    57:    Energy =   0.0793
Level     0,  Iter    58:    Energy =   0.0795
Level     0,  Iter    59:    Energy =   0.0794
END OF LEVEL     0    DetJac Range:   0.1202  to   3.3934 
  Avg. Gradient Time  : 0.0079s  37.84% 
  Avg. Gaussian Time  : 0.0098s  46.86% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20295], [0.491046, 0.491046, 0.491102]
Level     1,  Iter     0:    Energy =   0.0552
Level     1,  Iter     1:    Energy =   0.0591
Level     1,  Iter     2:    Energy =   0.0623
Level     1,  Iter     3:    Energy =   0.0654
Level     1,  Iter     4:    Energy =   0.0676
Level     1,  Iter     5:    Energy =   0.0694
Level     1,  Iter     6:    Energy =   0.0711
Level     1,  Iter     7:    Energy =   0.0725
Level     1,  Iter     8:    Energy =   0.0737
Level     1,  Iter     9:    Energy =   0.0745
Level     1,  Iter    10:    Energy =   0.0751
Level     1,  Iter    11:    Energy =   0.0757
Level     1,  Iter    12:    Energy =   0.0761
Level     1,  Iter    13:    Energy =   0.0765
Level     1,  Iter    14:    Energy =   0.0769
Level     1,  Iter    15:    Energy =   0.0773
Level     1,  Iter    16:    Energy =   0.0774
Level     1,  Iter    17:    Energy =   0.0776
Level     1,  Iter    18:    Energy =   0.0775
Level     1,  Iter    19:    Energy =   0.0778
Level     1,  Iter    20:    Energy =   0.0777
Level     1,  Iter    21:    Energy =   0.0780
Level     1,  Iter    22:    Energy =   0.0778
Level     1,  Iter    23:    Energy =   0.0781
Level     1,  Iter    24:    Energy =   0.0781
Level     1,  Iter    25:    Energy =   0.0784
Level     1,  Iter    26:    Energy =   0.0782
Level     1,  Iter    27:    Energy =   0.0785
Level     1,  Iter    28:    Energy =   0.0784
Level     1,  Iter    29:    Energy =   0.0787
Level     1,  Iter    30:    Energy =   0.0784
Level     1,  Iter    31:    Energy =   0.0787
Level     1,  Iter    32:    Energy =   0.0787
Level     1,  Iter    33:    Energy =   0.0789
Level     1,  Iter    34:    Energy =   0.0786
Level     1,  Iter    35:    Energy =   0.0788
Level     1,  Iter    36:    Energy =   0.0790
Level     1,  Iter    37:    Energy =   0.0790
Level     1,  Iter    38:    Energy =   0.0788
Level     1,  Iter    39:    Energy =   0.0790
Level     1,  Iter    40:    Energy =   0.0791
Level     1,  Iter    41:    Energy =   0.0792
Level     1,  Iter    42:    Energy =   0.0789
Level     1,  Iter    43:    Energy =   0.0792
Level     1,  Iter    44:    Energy =   0.0794
Level     1,  Iter    45:    Energy =   0.0795
Level     1,  Iter    46:    Energy =   0.0792
Level     1,  Iter    47:    Energy =   0.0794
Level     1,  Iter    48:    Energy =   0.0795
Level     1,  Iter    49:    Energy =   0.0796
Level     1,  Iter    50:    Energy =   0.0793
Level     1,  Iter    51:    Energy =   0.0795
Level     1,  Iter    52:    Energy =   0.0796
Level     1,  Iter    53:    Energy =   0.0797
Level     1,  Iter    54:    Energy =   0.0794
Level     1,  Iter    55:    Energy =   0.0796
Level     1,  Iter    56:    Energy =   0.0797
Level     1,  Iter    57:    Energy =   0.0798
Level     1,  Iter    58:    Energy =   0.0795
Level     1,  Iter    59:    Energy =   0.0797
END OF LEVEL     1    DetJac Range:   0.0773  to   5.4871 
  Avg. Gradient Time  : 0.0471s  39.57% 
  Avg. Gaussian Time  : 0.0575s  48.30% 
  Avg. Iteration Time : 0.1191s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0420
Level     2,  Iter     1:    Energy =   0.0438
Level     2,  Iter     2:    Energy =   0.0457
Level     2,  Iter     3:    Energy =   0.0474
Level     2,  Iter     4:    Energy =   0.0486
Level     2,  Iter     5:    Energy =   0.0495
Level     2,  Iter     6:    Energy =   0.0505
Level     2,  Iter     7:    Energy =   0.0515
Level     2,  Iter     8:    Energy =   0.0525
Level     2,  Iter     9:    Energy =   0.0535
Level     2,  Iter    10:    Energy =   0.0543
Level     2,  Iter    11:    Energy =   0.0549
Level     2,  Iter    12:    Energy =   0.0553
Level     2,  Iter    13:    Energy =   0.0556
Level     2,  Iter    14:    Energy =   0.0559
Level     2,  Iter    15:    Energy =   0.0562
Level     2,  Iter    16:    Energy =   0.0565
Level     2,  Iter    17:    Energy =   0.0567
Level     2,  Iter    18:    Energy =   0.0570
Level     2,  Iter    19:    Energy =   0.0572
END OF LEVEL     2    DetJac Range:   0.0438  to   8.1489 
  Avg. Gradient Time  : 0.3307s  36.99% 
  Avg. Gaussian Time  : 0.4674s  52.27% 
  Avg. Iteration Time : 0.8943s 

real	0m29.819s
user	0m52.516s
sys	0m2.948s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.819231 0.825
+ echo 'CHUNK 0.819231 0.825 1'
CHUNK 0.819231 0.825 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.819231 0.825 1
====================================
         PROGRESS: 0.819231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=013
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 013
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 013 right 0
+ local tid=013
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2083.02 	 OutFr   0.0000 	 RMSD     2.2049
Iter 002 	 Temp     3.72 	 Delta  1937.33 	 OutFr   0.0000 	 RMSD     1.9043
Iter 003 	 Temp     3.46 	 Delta  1742.78 	 OutFr   0.0000 	 RMSD     1.9256
Iter 004 	 Temp     3.22 	 Delta  1557.99 	 OutFr   0.0000 	 RMSD     1.9069
Iter 005 	 Temp     2.99 	 Delta  1389.82 	 OutFr   0.0000 	 RMSD     1.8846
Iter 006 	 Temp     2.78 	 Delta  1246.47 	 OutFr   0.0000 	 RMSD     1.8656
Iter 007 	 Temp     2.59 	 Delta  1129.23 	 OutFr   0.0027 	 RMSD     1.8507
Iter 008 	 Temp     2.41 	 Delta  1031.57 	 OutFr   0.0027 	 RMSD     1.8390
Iter 009 	 Temp     2.24 	 Delta   949.05 	 OutFr   0.0027 	 RMSD     1.8292
Iter 010 	 Temp     2.08 	 Delta   878.86 	 OutFr   0.0027 	 RMSD     1.8210
Iter 011 	 Temp     1.94 	 Delta   818.42 	 OutFr   0.0027 	 RMSD     1.8147
Iter 012 	 Temp     1.80 	 Delta   766.14 	 OutFr   0.0027 	 RMSD     1.8100
Iter 013 	 Temp     1.67 	 Delta   720.19 	 OutFr   0.0027 	 RMSD     1.8061
Iter 014 	 Temp     1.56 	 Delta   679.07 	 OutFr   0.0081 	 RMSD     1.8026
Iter 015 	 Temp     1.45 	 Delta   643.75 	 OutFr   0.0081 	 RMSD     1.7991
Iter 016 	 Temp     1.35 	 Delta   613.95 	 OutFr   0.0163 	 RMSD     1.7965
Iter 017 	 Temp     1.25 	 Delta   587.42 	 OutFr   0.0217 	 RMSD     1.7946
Iter 018 	 Temp     1.16 	 Delta   562.67 	 OutFr   0.0217 	 RMSD     1.7933
Iter 019 	 Temp     1.08 	 Delta   538.96 	 OutFr   0.0244 	 RMSD     1.7925
Iter 020 	 Temp     1.01 	 Delta   515.58 	 OutFr   0.0298 	 RMSD     1.7914
Iter 021 	 Temp     0.94 	 Delta   491.71 	 OutFr   0.0488 	 RMSD     1.7893
Iter 022 	 Temp     0.87 	 Delta   466.75 	 OutFr   0.0542 	 RMSD     1.7863
Iter 023 	 Temp     0.81 	 Delta   440.92 	 OutFr   0.0623 	 RMSD     1.7828
Iter 024 	 Temp     0.75 	 Delta   415.77 	 OutFr   0.0705 	 RMSD     1.7790
Iter 025 	 Temp     0.70 	 Delta   394.40 	 OutFr   0.0840 	 RMSD     1.7756
Iter 026 	 Temp     0.65 	 Delta   376.51 	 OutFr   0.0949 	 RMSD     1.7734
Iter 027 	 Temp     0.61 	 Delta   357.00 	 OutFr   0.1192 	 RMSD     1.7723
Iter 028 	 Temp     0.56 	 Delta   334.41 	 OutFr   0.1382 	 RMSD     1.7721
Iter 029 	 Temp     0.52 	 Delta   308.79 	 OutFr   0.1734 	 RMSD     1.7724
Iter 030 	 Temp     0.49 	 Delta   281.13 	 OutFr   0.1870 	 RMSD     1.7724
Iter 031 	 Temp     0.45 	 Delta   253.10 	 OutFr   0.2168 	 RMSD     1.7718
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.xyTDWNrm/mybin.nii.gz
+ vtklevelset /tmp/ashs.xyTDWNrm/mybin.nii.gz /tmp/ashs.xyTDWNrm/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.xyTDWNrm/mymesh.vtk /tmp/ashs.xyTDWNrm/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 2894.38354033   0.90910729
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.xyTDWNrm/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 14.3401 to 40.0624
   Y : -12.5292 to 30.7678
   Z : -29.3113 to 3.26366
   Image resolution  : 103 by 154 by 122
   Image box origin  : {9.3401, -17.5292, -34.3113}
   Image box size    : {35.7639, 53.4722, 42.6995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-9.3401, 17.5292, -34.3113]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat -o /tmp/ashs.xyTDWNrm/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat -o /tmp/ashs.xyTDWNrm/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.xyTDWNrm/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.825 0.830769
+ echo 'CHUNK 0.825 0.830769 0.5'
CHUNK 0.825 0.830769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.825 0.830769 0.5
====================================
         PROGRESS: 0.825               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.xyTDWNrm/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.xyTDWNrm/fixed_hw.nii.gz /tmp/ashs.xyTDWNrm/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.556444, moving = 0.619317
LEVEL 1 of 3
  Smoothing sigmas: [2.38249, 2.37478, 2.38573], [0.972649, 0.969501, 0.973971]
Level     0,  Iter     0:    Energy =   0.0540
Level     0,  Iter     1:    Energy =   0.0591
Level     0,  Iter     2:    Energy =   0.0638
Level     0,  Iter     3:    Energy =   0.0673
Level     0,  Iter     4:    Energy =   0.0696
Level     0,  Iter     5:    Energy =   0.0719
Level     0,  Iter     6:    Energy =   0.0743
Level     0,  Iter     7:    Energy =   0.0764
Level     0,  Iter     8:    Energy =   0.0784
Level     0,  Iter     9:    Energy =   0.0797
Level     0,  Iter    10:    Energy =   0.0801
Level     0,  Iter    11:    Energy =   0.0805
Level     0,  Iter    12:    Energy =   0.0807
Level     0,  Iter    13:    Energy =   0.0810
Level     0,  Iter    14:    Energy =   0.0815
Level     0,  Iter    15:    Energy =   0.0818
Level     0,  Iter    16:    Energy =   0.0820
Level     0,  Iter    17:    Energy =   0.0822
Level     0,  Iter    18:    Energy =   0.0826
Level     0,  Iter    19:    Energy =   0.0827
Level     0,  Iter    20:    Energy =   0.0829
Level     0,  Iter    21:    Energy =   0.0831
Level     0,  Iter    22:    Energy =   0.0834
Level     0,  Iter    23:    Energy =   0.0835
Level     0,  Iter    24:    Energy =   0.0836
Level     0,  Iter    25:    Energy =   0.0837
Level     0,  Iter    26:    Energy =   0.0839
Level     0,  Iter    27:    Energy =   0.0840
Level     0,  Iter    28:    Energy =   0.0839
Level     0,  Iter    29:    Energy =   0.0840
Level     0,  Iter    30:    Energy =   0.0839
Level     0,  Iter    31:    Energy =   0.0839
Level     0,  Iter    32:    Energy =   0.0838
Level     0,  Iter    33:    Energy =   0.0838
Level     0,  Iter    34:    Energy =   0.0838
Level     0,  Iter    35:    Energy =   0.0837
Level     0,  Iter    36:    Energy =   0.0838
Level     0,  Iter    37:    Energy =   0.0838
Level     0,  Iter    38:    Energy =   0.0838
Level     0,  Iter    39:    Energy =   0.0838
Level     0,  Iter    40:    Energy =   0.0838
Level     0,  Iter    41:    Energy =   0.0838
Level     0,  Iter    42:    Energy =   0.0839
Level     0,  Iter    43:    Energy =   0.0838
Level     0,  Iter    44:    Energy =   0.0839
Level     0,  Iter    45:    Energy =   0.0838
Level     0,  Iter    46:    Energy =   0.0839
Level     0,  Iter    47:    Energy =   0.0838
Level     0,  Iter    48:    Energy =   0.0839
Level     0,  Iter    49:    Energy =   0.0839
Level     0,  Iter    50:    Energy =   0.0839
Level     0,  Iter    51:    Energy =   0.0839
Level     0,  Iter    52:    Energy =   0.0840
Level     0,  Iter    53:    Energy =   0.0839
Level     0,  Iter    54:    Energy =   0.0840
Level     0,  Iter    55:    Energy =   0.0839
Level     0,  Iter    56:    Energy =   0.0840
Level     0,  Iter    57:    Energy =   0.0840
Level     0,  Iter    58:    Energy =   0.0840
Level     0,  Iter    59:    Energy =   0.0840
END OF LEVEL     0    DetJac Range:   0.1682  to   2.1086 
  Avg. Gradient Time  : 0.0080s  37.76% 
  Avg. Gaussian Time  : 0.0099s  47.03% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19125, 1.20281, 1.21242], [0.486324, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0581
Level     1,  Iter     1:    Energy =   0.0619
Level     1,  Iter     2:    Energy =   0.0654
Level     1,  Iter     3:    Energy =   0.0680
Level     1,  Iter     4:    Energy =   0.0696
Level     1,  Iter     5:    Energy =   0.0711
Level     1,  Iter     6:    Energy =   0.0722
Level     1,  Iter     7:    Energy =   0.0730
Level     1,  Iter     8:    Energy =   0.0738
Level     1,  Iter     9:    Energy =   0.0747
Level     1,  Iter    10:    Energy =   0.0757
Level     1,  Iter    11:    Energy =   0.0765
Level     1,  Iter    12:    Energy =   0.0771
Level     1,  Iter    13:    Energy =   0.0772
Level     1,  Iter    14:    Energy =   0.0772
Level     1,  Iter    15:    Energy =   0.0775
Level     1,  Iter    16:    Energy =   0.0774
Level     1,  Iter    17:    Energy =   0.0778
Level     1,  Iter    18:    Energy =   0.0777
Level     1,  Iter    19:    Energy =   0.0781
Level     1,  Iter    20:    Energy =   0.0780
Level     1,  Iter    21:    Energy =   0.0784
Level     1,  Iter    22:    Energy =   0.0782
Level     1,  Iter    23:    Energy =   0.0786
Level     1,  Iter    24:    Energy =   0.0784
Level     1,  Iter    25:    Energy =   0.0788
Level     1,  Iter    26:    Energy =   0.0786
Level     1,  Iter    27:    Energy =   0.0790
Level     1,  Iter    28:    Energy =   0.0788
Level     1,  Iter    29:    Energy =   0.0791
Level     1,  Iter    30:    Energy =   0.0788
Level     1,  Iter    31:    Energy =   0.0792
Level     1,  Iter    32:    Energy =   0.0790
Level     1,  Iter    33:    Energy =   0.0793
Level     1,  Iter    34:    Energy =   0.0791
Level     1,  Iter    35:    Energy =   0.0794
Level     1,  Iter    36:    Energy =   0.0792
Level     1,  Iter    37:    Energy =   0.0795
Level     1,  Iter    38:    Energy =   0.0793
Level     1,  Iter    39:    Energy =   0.0796
Level     1,  Iter    40:    Energy =   0.0794
Level     1,  Iter    41:    Energy =   0.0796
Level     1,  Iter    42:    Energy =   0.0794
Level     1,  Iter    43:    Energy =   0.0797
Level     1,  Iter    44:    Energy =   0.0795
Level     1,  Iter    45:    Energy =   0.0797
Level     1,  Iter    46:    Energy =   0.0795
Level     1,  Iter    47:    Energy =   0.0798
Level     1,  Iter    48:    Energy =   0.0796
Level     1,  Iter    49:    Energy =   0.0798
Level     1,  Iter    50:    Energy =   0.0795
Level     1,  Iter    51:    Energy =   0.0798
Level     1,  Iter    52:    Energy =   0.0797
Level     1,  Iter    53:    Energy =   0.0799
Level     1,  Iter    54:    Energy =   0.0796
Level     1,  Iter    55:    Energy =   0.0799
Level     1,  Iter    56:    Energy =   0.0797
Level     1,  Iter    57:    Energy =   0.0799
Level     1,  Iter    58:    Energy =   0.0797
Level     1,  Iter    59:    Energy =   0.0800
END OF LEVEL     1    DetJac Range:   0.0793  to   3.5759 
  Avg. Gradient Time  : 0.0468s  39.41% 
  Avg. Gaussian Time  : 0.0577s  48.57% 
  Avg. Iteration Time : 0.1188s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0409
Level     2,  Iter     1:    Energy =   0.0432
Level     2,  Iter     2:    Energy =   0.0448
Level     2,  Iter     3:    Energy =   0.0464
Level     2,  Iter     4:    Energy =   0.0478
Level     2,  Iter     5:    Energy =   0.0490
Level     2,  Iter     6:    Energy =   0.0500
Level     2,  Iter     7:    Energy =   0.0511
Level     2,  Iter     8:    Energy =   0.0522
Level     2,  Iter     9:    Energy =   0.0531
Level     2,  Iter    10:    Energy =   0.0538
Level     2,  Iter    11:    Energy =   0.0545
Level     2,  Iter    12:    Energy =   0.0550
Level     2,  Iter    13:    Energy =   0.0554
Level     2,  Iter    14:    Energy =   0.0558
Level     2,  Iter    15:    Energy =   0.0563
Level     2,  Iter    16:    Energy =   0.0567
Level     2,  Iter    17:    Energy =   0.0571
Level     2,  Iter    18:    Energy =   0.0574
Level     2,  Iter    19:    Energy =   0.0577
END OF LEVEL     2    DetJac Range:   0.0546  to   5.5999 
  Avg. Gradient Time  : 0.3390s  37.41% 
  Avg. Gaussian Time  : 0.4710s  51.98% 
  Avg. Iteration Time : 0.9062s 

real	0m30.022s
user	0m53.260s
sys	0m2.892s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.825 0.830769
+ echo 'CHUNK 0.825 0.830769 1'
CHUNK 0.825 0.830769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.825 0.830769 1
====================================
         PROGRESS: 0.825               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=014
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 014
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 014 right 0
+ local tid=014
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1443.26 	 OutFr   0.0000 	 RMSD     2.1568
Iter 002 	 Temp     3.72 	 Delta  1472.23 	 OutFr   0.0000 	 RMSD     1.9480
Iter 003 	 Temp     3.46 	 Delta  1410.32 	 OutFr   0.0000 	 RMSD     2.0002
Iter 004 	 Temp     3.22 	 Delta  1334.78 	 OutFr   0.0000 	 RMSD     1.9822
Iter 005 	 Temp     2.99 	 Delta  1257.72 	 OutFr   0.0000 	 RMSD     1.9534
Iter 006 	 Temp     2.78 	 Delta  1182.46 	 OutFr   0.0000 	 RMSD     1.9252
Iter 007 	 Temp     2.59 	 Delta  1110.89 	 OutFr   0.0000 	 RMSD     1.9002
Iter 008 	 Temp     2.41 	 Delta  1044.32 	 OutFr   0.0000 	 RMSD     1.8784
Iter 009 	 Temp     2.24 	 Delta   983.56 	 OutFr   0.0000 	 RMSD     1.8595
Iter 010 	 Temp     2.08 	 Delta   929.00 	 OutFr   0.0000 	 RMSD     1.8435
Iter 011 	 Temp     1.94 	 Delta   880.46 	 OutFr   0.0000 	 RMSD     1.8294
Iter 012 	 Temp     1.80 	 Delta   836.84 	 OutFr   0.0000 	 RMSD     1.8171
Iter 013 	 Temp     1.67 	 Delta   796.46 	 OutFr   0.0000 	 RMSD     1.8069
Iter 014 	 Temp     1.56 	 Delta   757.64 	 OutFr   0.0000 	 RMSD     1.7978
Iter 015 	 Temp     1.45 	 Delta   719.14 	 OutFr   0.0000 	 RMSD     1.7904
Iter 016 	 Temp     1.35 	 Delta   680.91 	 OutFr   0.0000 	 RMSD     1.7846
Iter 017 	 Temp     1.25 	 Delta   644.49 	 OutFr   0.0000 	 RMSD     1.7797
Iter 018 	 Temp     1.16 	 Delta   610.83 	 OutFr   0.0027 	 RMSD     1.7756
Iter 019 	 Temp     1.08 	 Delta   579.81 	 OutFr   0.0027 	 RMSD     1.7727
Iter 020 	 Temp     1.01 	 Delta   550.19 	 OutFr   0.0027 	 RMSD     1.7706
Iter 021 	 Temp     0.94 	 Delta   520.38 	 OutFr   0.0136 	 RMSD     1.7688
Iter 022 	 Temp     0.87 	 Delta   490.94 	 OutFr   0.0298 	 RMSD     1.7680
Iter 023 	 Temp     0.81 	 Delta   462.49 	 OutFr   0.0407 	 RMSD     1.7681
Iter 024 	 Temp     0.75 	 Delta   435.91 	 OutFr   0.0461 	 RMSD     1.7690
Iter 025 	 Temp     0.70 	 Delta   411.94 	 OutFr   0.0596 	 RMSD     1.7712
Iter 026 	 Temp     0.65 	 Delta   387.44 	 OutFr   0.0867 	 RMSD     1.7740
Iter 027 	 Temp     0.61 	 Delta   364.03 	 OutFr   0.1111 	 RMSD     1.7766
Iter 028 	 Temp     0.56 	 Delta   342.55 	 OutFr   0.1247 	 RMSD     1.7794
Iter 029 	 Temp     0.52 	 Delta   319.44 	 OutFr   0.1409 	 RMSD     1.7822
Iter 030 	 Temp     0.49 	 Delta   292.18 	 OutFr   0.1626 	 RMSD     1.7851
Iter 031 	 Temp     0.45 	 Delta   260.65 	 OutFr   0.1843 	 RMSD     1.7884
Iter 032 	 Temp     0.42 	 Delta   227.82 	 OutFr   0.2304 	 RMSD     1.7917
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.2JGS2D9b/mybin.nii.gz
+ vtklevelset /tmp/ashs.2JGS2D9b/mybin.nii.gz /tmp/ashs.2JGS2D9b/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.2JGS2D9b/mymesh.vtk /tmp/ashs.2JGS2D9b/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 2998.26358599   0.94173534
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.2JGS2D9b/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.0902 to 37.065
   Y : -16.203 to 26.7823
   Z : -27.5595 to 5.74246
   Image resolution  : 104 by 153 by 124
   Image box origin  : {6.0902, -21.203, -32.5595}
   Image box size    : {36.1111, 53.125, 43.3995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.0902, 21.203, -32.5595]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat -o /tmp/ashs.2JGS2D9b/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat -o /tmp/ashs.2JGS2D9b/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.2JGS2D9b/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.830769 0.836538
+ echo 'CHUNK 0.830769 0.836538 0.5'
CHUNK 0.830769 0.836538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.830769 0.836538 0.5
====================================
         PROGRESS: 0.830769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.2JGS2D9b/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.2JGS2D9b/fixed_hw.nii.gz /tmp/ashs.2JGS2D9b/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.551022, moving = 0.465417
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.35936, 2.42484], [0.982092, 0.963206, 0.989938]
Level     0,  Iter     0:    Energy =   0.0485
Level     0,  Iter     1:    Energy =   0.0536
Level     0,  Iter     2:    Energy =   0.0574
Level     0,  Iter     3:    Energy =   0.0612
Level     0,  Iter     4:    Energy =   0.0646
Level     0,  Iter     5:    Energy =   0.0674
Level     0,  Iter     6:    Energy =   0.0700
Level     0,  Iter     7:    Energy =   0.0720
Level     0,  Iter     8:    Energy =   0.0729
Level     0,  Iter     9:    Energy =   0.0738
Level     0,  Iter    10:    Energy =   0.0745
Level     0,  Iter    11:    Energy =   0.0751
Level     0,  Iter    12:    Energy =   0.0756
Level     0,  Iter    13:    Energy =   0.0761
Level     0,  Iter    14:    Energy =   0.0763
Level     0,  Iter    15:    Energy =   0.0768
Level     0,  Iter    16:    Energy =   0.0768
Level     0,  Iter    17:    Energy =   0.0772
Level     0,  Iter    18:    Energy =   0.0773
Level     0,  Iter    19:    Energy =   0.0776
Level     0,  Iter    20:    Energy =   0.0775
Level     0,  Iter    21:    Energy =   0.0779
Level     0,  Iter    22:    Energy =   0.0778
Level     0,  Iter    23:    Energy =   0.0781
Level     0,  Iter    24:    Energy =   0.0779
Level     0,  Iter    25:    Energy =   0.0783
Level     0,  Iter    26:    Energy =   0.0781
Level     0,  Iter    27:    Energy =   0.0785
Level     0,  Iter    28:    Energy =   0.0783
Level     0,  Iter    29:    Energy =   0.0786
Level     0,  Iter    30:    Energy =   0.0784
Level     0,  Iter    31:    Energy =   0.0787
Level     0,  Iter    32:    Energy =   0.0785
Level     0,  Iter    33:    Energy =   0.0790
Level     0,  Iter    34:    Energy =   0.0786
Level     0,  Iter    35:    Energy =   0.0790
Level     0,  Iter    36:    Energy =   0.0787
Level     0,  Iter    37:    Energy =   0.0791
Level     0,  Iter    38:    Energy =   0.0787
Level     0,  Iter    39:    Energy =   0.0791
Level     0,  Iter    40:    Energy =   0.0788
Level     0,  Iter    41:    Energy =   0.0792
Level     0,  Iter    42:    Energy =   0.0787
Level     0,  Iter    43:    Energy =   0.0791
Level     0,  Iter    44:    Energy =   0.0789
Level     0,  Iter    45:    Energy =   0.0793
Level     0,  Iter    46:    Energy =   0.0788
Level     0,  Iter    47:    Energy =   0.0791
Level     0,  Iter    48:    Energy =   0.0790
Level     0,  Iter    49:    Energy =   0.0793
Level     0,  Iter    50:    Energy =   0.0789
Level     0,  Iter    51:    Energy =   0.0793
Level     0,  Iter    52:    Energy =   0.0791
Level     0,  Iter    53:    Energy =   0.0795
Level     0,  Iter    54:    Energy =   0.0791
Level     0,  Iter    55:    Energy =   0.0795
Level     0,  Iter    56:    Energy =   0.0794
Level     0,  Iter    57:    Energy =   0.0797
Level     0,  Iter    58:    Energy =   0.0793
Level     0,  Iter    59:    Energy =   0.0796
END OF LEVEL     0    DetJac Range:   0.2343  to   2.1376 
  Avg. Gradient Time  : 0.0080s  37.61% 
  Avg. Gaussian Time  : 0.0101s  47.23% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.195, 1.21242], [0.491046, 0.487857, 0.494969]
Level     1,  Iter     0:    Energy =   0.0567
Level     1,  Iter     1:    Energy =   0.0608
Level     1,  Iter     2:    Energy =   0.0641
Level     1,  Iter     3:    Energy =   0.0668
Level     1,  Iter     4:    Energy =   0.0685
Level     1,  Iter     5:    Energy =   0.0697
Level     1,  Iter     6:    Energy =   0.0706
Level     1,  Iter     7:    Energy =   0.0714
Level     1,  Iter     8:    Energy =   0.0723
Level     1,  Iter     9:    Energy =   0.0732
Level     1,  Iter    10:    Energy =   0.0741
Level     1,  Iter    11:    Energy =   0.0750
Level     1,  Iter    12:    Energy =   0.0758
Level     1,  Iter    13:    Energy =   0.0767
Level     1,  Iter    14:    Energy =   0.0769
Level     1,  Iter    15:    Energy =   0.0768
Level     1,  Iter    16:    Energy =   0.0769
Level     1,  Iter    17:    Energy =   0.0771
Level     1,  Iter    18:    Energy =   0.0769
Level     1,  Iter    19:    Energy =   0.0773
Level     1,  Iter    20:    Energy =   0.0771
Level     1,  Iter    21:    Energy =   0.0775
Level     1,  Iter    22:    Energy =   0.0773
Level     1,  Iter    23:    Energy =   0.0778
Level     1,  Iter    24:    Energy =   0.0776
Level     1,  Iter    25:    Energy =   0.0780
Level     1,  Iter    26:    Energy =   0.0778
Level     1,  Iter    27:    Energy =   0.0782
Level     1,  Iter    28:    Energy =   0.0779
Level     1,  Iter    29:    Energy =   0.0783
Level     1,  Iter    30:    Energy =   0.0780
Level     1,  Iter    31:    Energy =   0.0784
Level     1,  Iter    32:    Energy =   0.0781
Level     1,  Iter    33:    Energy =   0.0785
Level     1,  Iter    34:    Energy =   0.0782
Level     1,  Iter    35:    Energy =   0.0786
Level     1,  Iter    36:    Energy =   0.0784
Level     1,  Iter    37:    Energy =   0.0787
Level     1,  Iter    38:    Energy =   0.0784
Level     1,  Iter    39:    Energy =   0.0787
Level     1,  Iter    40:    Energy =   0.0785
Level     1,  Iter    41:    Energy =   0.0788
Level     1,  Iter    42:    Energy =   0.0785
Level     1,  Iter    43:    Energy =   0.0788
Level     1,  Iter    44:    Energy =   0.0786
Level     1,  Iter    45:    Energy =   0.0789
Level     1,  Iter    46:    Energy =   0.0786
Level     1,  Iter    47:    Energy =   0.0789
Level     1,  Iter    48:    Energy =   0.0786
Level     1,  Iter    49:    Energy =   0.0789
Level     1,  Iter    50:    Energy =   0.0787
Level     1,  Iter    51:    Energy =   0.0790
Level     1,  Iter    52:    Energy =   0.0787
Level     1,  Iter    53:    Energy =   0.0790
Level     1,  Iter    54:    Energy =   0.0787
Level     1,  Iter    55:    Energy =   0.0790
Level     1,  Iter    56:    Energy =   0.0788
Level     1,  Iter    57:    Energy =   0.0791
Level     1,  Iter    58:    Energy =   0.0788
Level     1,  Iter    59:    Energy =   0.0791
END OF LEVEL     1    DetJac Range:   0.0640  to   3.9244 
  Avg. Gradient Time  : 0.0478s  39.58% 
  Avg. Gaussian Time  : 0.0585s  48.40% 
  Avg. Iteration Time : 0.1208s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0394
Level     2,  Iter     1:    Energy =   0.0416
Level     2,  Iter     2:    Energy =   0.0434
Level     2,  Iter     3:    Energy =   0.0450
Level     2,  Iter     4:    Energy =   0.0467
Level     2,  Iter     5:    Energy =   0.0481
Level     2,  Iter     6:    Energy =   0.0493
Level     2,  Iter     7:    Energy =   0.0504
Level     2,  Iter     8:    Energy =   0.0511
Level     2,  Iter     9:    Energy =   0.0518
Level     2,  Iter    10:    Energy =   0.0524
Level     2,  Iter    11:    Energy =   0.0528
Level     2,  Iter    12:    Energy =   0.0532
Level     2,  Iter    13:    Energy =   0.0536
Level     2,  Iter    14:    Energy =   0.0539
Level     2,  Iter    15:    Energy =   0.0543
Level     2,  Iter    16:    Energy =   0.0546
Level     2,  Iter    17:    Energy =   0.0550
Level     2,  Iter    18:    Energy =   0.0553
Level     2,  Iter    19:    Energy =   0.0556
END OF LEVEL     2    DetJac Range:   0.0433  to   4.9924 
  Avg. Gradient Time  : 0.3419s  37.19% 
  Avg. Gaussian Time  : 0.4793s  52.14% 
  Avg. Iteration Time : 0.9193s 

real	0m30.504s
user	0m53.896s
sys	0m3.012s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.830769 0.836538
+ echo 'CHUNK 0.830769 0.836538 1'
CHUNK 0.830769 0.836538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.830769 0.836538 1
====================================
         PROGRESS: 0.830769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=015
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 015
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 015 right 0
+ local tid=015
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2454.65 	 OutFr   0.0000 	 RMSD     2.7426
Iter 002 	 Temp     3.72 	 Delta  2312.39 	 OutFr   0.0000 	 RMSD     2.4861
Iter 003 	 Temp     3.46 	 Delta  2201.29 	 OutFr   0.0000 	 RMSD     2.4737
Iter 004 	 Temp     3.22 	 Delta  2083.54 	 OutFr   0.0000 	 RMSD     2.4540
Iter 005 	 Temp     2.99 	 Delta  1947.73 	 OutFr   0.0000 	 RMSD     2.4309
Iter 006 	 Temp     2.78 	 Delta  1795.57 	 OutFr   0.0000 	 RMSD     2.4085
Iter 007 	 Temp     2.59 	 Delta  1638.09 	 OutFr   0.0000 	 RMSD     2.3876
Iter 008 	 Temp     2.41 	 Delta  1490.35 	 OutFr   0.0000 	 RMSD     2.3678
Iter 009 	 Temp     2.24 	 Delta  1363.14 	 OutFr   0.0027 	 RMSD     2.3508
Iter 010 	 Temp     2.08 	 Delta  1257.49 	 OutFr   0.0027 	 RMSD     2.3370
Iter 011 	 Temp     1.94 	 Delta  1168.50 	 OutFr   0.0027 	 RMSD     2.3250
Iter 012 	 Temp     1.80 	 Delta  1090.57 	 OutFr   0.0054 	 RMSD     2.3147
Iter 013 	 Temp     1.67 	 Delta  1018.74 	 OutFr   0.0054 	 RMSD     2.3056
Iter 014 	 Temp     1.56 	 Delta   951.62 	 OutFr   0.0081 	 RMSD     2.2972
Iter 015 	 Temp     1.45 	 Delta   885.64 	 OutFr   0.0163 	 RMSD     2.2902
Iter 016 	 Temp     1.35 	 Delta   813.42 	 OutFr   0.0271 	 RMSD     2.2835
Iter 017 	 Temp     1.25 	 Delta   735.70 	 OutFr   0.0379 	 RMSD     2.2779
Iter 018 	 Temp     1.16 	 Delta   662.17 	 OutFr   0.0434 	 RMSD     2.2752
Iter 019 	 Temp     1.08 	 Delta   601.35 	 OutFr   0.0542 	 RMSD     2.2756
Iter 020 	 Temp     1.01 	 Delta   553.26 	 OutFr   0.0759 	 RMSD     2.2778
Iter 021 	 Temp     0.94 	 Delta   511.92 	 OutFr   0.0894 	 RMSD     2.2807
Iter 022 	 Temp     0.87 	 Delta   474.98 	 OutFr   0.1003 	 RMSD     2.2837
Iter 023 	 Temp     0.81 	 Delta   444.04 	 OutFr   0.1084 	 RMSD     2.2873
Iter 024 	 Temp     0.75 	 Delta   416.22 	 OutFr   0.1192 	 RMSD     2.2911
Iter 025 	 Temp     0.70 	 Delta   390.12 	 OutFr   0.1301 	 RMSD     2.2945
Iter 026 	 Temp     0.65 	 Delta   368.19 	 OutFr   0.1518 	 RMSD     2.2977
Iter 027 	 Temp     0.61 	 Delta   348.26 	 OutFr   0.1626 	 RMSD     2.3009
Iter 028 	 Temp     0.56 	 Delta   324.28 	 OutFr   0.1897 	 RMSD     2.3038
Iter 029 	 Temp     0.52 	 Delta   294.96 	 OutFr   0.2087 	 RMSD     2.3072
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.WVUUQfU6/mybin.nii.gz
+ vtklevelset /tmp/ashs.WVUUQfU6/mybin.nii.gz /tmp/ashs.WVUUQfU6/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.WVUUQfU6/mymesh.vtk /tmp/ashs.WVUUQfU6/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 3346.07259980   1.05097992
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.WVUUQfU6/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.8777 to 40.0644
   Y : -17.3211 to 27.1491
   Z : -21.3462 to 12.2868
   Image resolution  : 113 by 157 by 125
   Image box origin  : {5.8777, -22.3211, -26.3462}
   Image box size    : {39.2361, 54.5139, 43.7495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.8777, 22.3211, -26.3462]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat -o /tmp/ashs.WVUUQfU6/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat -o /tmp/ashs.WVUUQfU6/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.WVUUQfU6/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.836538 0.842308
+ echo 'CHUNK 0.836538 0.842308 0.5'
CHUNK 0.836538 0.842308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.836538 0.842308 0.5
====================================
         PROGRESS: 0.836538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.WVUUQfU6/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.WVUUQfU6/fixed_hw.nii.gz /tmp/ashs.WVUUQfU6/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.549657, moving = 0.731468
LEVEL 1 of 3
  Smoothing sigmas: [2.34341, 2.36052, 2.36801], [0.956693, 0.963678, 0.966737]
Level     0,  Iter     0:    Energy =   0.0471
Level     0,  Iter     1:    Energy =   0.0524
Level     0,  Iter     2:    Energy =   0.0580
Level     0,  Iter     3:    Energy =   0.0630
Level     0,  Iter     4:    Energy =   0.0669
Level     0,  Iter     5:    Energy =   0.0704
Level     0,  Iter     6:    Energy =   0.0731
Level     0,  Iter     7:    Energy =   0.0755
Level     0,  Iter     8:    Energy =   0.0775
Level     0,  Iter     9:    Energy =   0.0787
Level     0,  Iter    10:    Energy =   0.0800
Level     0,  Iter    11:    Energy =   0.0807
Level     0,  Iter    12:    Energy =   0.0811
Level     0,  Iter    13:    Energy =   0.0814
Level     0,  Iter    14:    Energy =   0.0822
Level     0,  Iter    15:    Energy =   0.0825
Level     0,  Iter    16:    Energy =   0.0830
Level     0,  Iter    17:    Energy =   0.0832
Level     0,  Iter    18:    Energy =   0.0837
Level     0,  Iter    19:    Energy =   0.0839
Level     0,  Iter    20:    Energy =   0.0845
Level     0,  Iter    21:    Energy =   0.0846
Level     0,  Iter    22:    Energy =   0.0847
Level     0,  Iter    23:    Energy =   0.0849
Level     0,  Iter    24:    Energy =   0.0857
Level     0,  Iter    25:    Energy =   0.0860
Level     0,  Iter    26:    Energy =   0.0862
Level     0,  Iter    27:    Energy =   0.0861
Level     0,  Iter    28:    Energy =   0.0863
Level     0,  Iter    29:    Energy =   0.0863
Level     0,  Iter    30:    Energy =   0.0865
Level     0,  Iter    31:    Energy =   0.0867
Level     0,  Iter    32:    Energy =   0.0872
Level     0,  Iter    33:    Energy =   0.0873
Level     0,  Iter    34:    Energy =   0.0871
Level     0,  Iter    35:    Energy =   0.0875
Level     0,  Iter    36:    Energy =   0.0883
Level     0,  Iter    37:    Energy =   0.0887
Level     0,  Iter    38:    Energy =   0.0887
Level     0,  Iter    39:    Energy =   0.0884
Level     0,  Iter    40:    Energy =   0.0887
Level     0,  Iter    41:    Energy =   0.0887
Level     0,  Iter    42:    Energy =   0.0887
Level     0,  Iter    43:    Energy =   0.0886
Level     0,  Iter    44:    Energy =   0.0886
Level     0,  Iter    45:    Energy =   0.0885
Level     0,  Iter    46:    Energy =   0.0885
Level     0,  Iter    47:    Energy =   0.0884
Level     0,  Iter    48:    Energy =   0.0885
Level     0,  Iter    49:    Energy =   0.0883
Level     0,  Iter    50:    Energy =   0.0884
Level     0,  Iter    51:    Energy =   0.0882
Level     0,  Iter    52:    Energy =   0.0883
Level     0,  Iter    53:    Energy =   0.0881
Level     0,  Iter    54:    Energy =   0.0883
Level     0,  Iter    55:    Energy =   0.0881
Level     0,  Iter    56:    Energy =   0.0884
Level     0,  Iter    57:    Energy =   0.0883
Level     0,  Iter    58:    Energy =   0.0885
Level     0,  Iter    59:    Energy =   0.0883
END OF LEVEL     0    DetJac Range:   0.2256  to   1.9326 
  Avg. Gradient Time  : 0.0089s  37.73% 
  Avg. Gaussian Time  : 0.0112s  47.34% 
  Avg. Iteration Time : 0.0236s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19226, 1.1952, 1.2028], [0.486739, 0.487938, 0.491041]
Level     1,  Iter     0:    Energy =   0.0622
Level     1,  Iter     1:    Energy =   0.0658
Level     1,  Iter     2:    Energy =   0.0687
Level     1,  Iter     3:    Energy =   0.0714
Level     1,  Iter     4:    Energy =   0.0739
Level     1,  Iter     5:    Energy =   0.0757
Level     1,  Iter     6:    Energy =   0.0771
Level     1,  Iter     7:    Energy =   0.0778
Level     1,  Iter     8:    Energy =   0.0788
Level     1,  Iter     9:    Energy =   0.0800
Level     1,  Iter    10:    Energy =   0.0802
Level     1,  Iter    11:    Energy =   0.0805
Level     1,  Iter    12:    Energy =   0.0806
Level     1,  Iter    13:    Energy =   0.0808
Level     1,  Iter    14:    Energy =   0.0811
Level     1,  Iter    15:    Energy =   0.0811
Level     1,  Iter    16:    Energy =   0.0815
Level     1,  Iter    17:    Energy =   0.0815
Level     1,  Iter    18:    Energy =   0.0819
Level     1,  Iter    19:    Energy =   0.0818
Level     1,  Iter    20:    Energy =   0.0822
Level     1,  Iter    21:    Energy =   0.0820
Level     1,  Iter    22:    Energy =   0.0824
Level     1,  Iter    23:    Energy =   0.0822
Level     1,  Iter    24:    Energy =   0.0826
Level     1,  Iter    25:    Energy =   0.0824
Level     1,  Iter    26:    Energy =   0.0827
Level     1,  Iter    27:    Energy =   0.0825
Level     1,  Iter    28:    Energy =   0.0828
Level     1,  Iter    29:    Energy =   0.0826
Level     1,  Iter    30:    Energy =   0.0828
Level     1,  Iter    31:    Energy =   0.0827
Level     1,  Iter    32:    Energy =   0.0829
Level     1,  Iter    33:    Energy =   0.0828
Level     1,  Iter    34:    Energy =   0.0829
Level     1,  Iter    35:    Energy =   0.0828
Level     1,  Iter    36:    Energy =   0.0829
Level     1,  Iter    37:    Energy =   0.0828
Level     1,  Iter    38:    Energy =   0.0829
Level     1,  Iter    39:    Energy =   0.0828
Level     1,  Iter    40:    Energy =   0.0829
Level     1,  Iter    41:    Energy =   0.0828
Level     1,  Iter    42:    Energy =   0.0829
Level     1,  Iter    43:    Energy =   0.0829
Level     1,  Iter    44:    Energy =   0.0829
Level     1,  Iter    45:    Energy =   0.0829
Level     1,  Iter    46:    Energy =   0.0829
Level     1,  Iter    47:    Energy =   0.0830
Level     1,  Iter    48:    Energy =   0.0829
Level     1,  Iter    49:    Energy =   0.0830
Level     1,  Iter    50:    Energy =   0.0829
Level     1,  Iter    51:    Energy =   0.0830
Level     1,  Iter    52:    Energy =   0.0829
Level     1,  Iter    53:    Energy =   0.0830
Level     1,  Iter    54:    Energy =   0.0830
Level     1,  Iter    55:    Energy =   0.0831
Level     1,  Iter    56:    Energy =   0.0830
Level     1,  Iter    57:    Energy =   0.0831
Level     1,  Iter    58:    Energy =   0.0830
Level     1,  Iter    59:    Energy =   0.0831
END OF LEVEL     1    DetJac Range:   0.1314  to   2.5718 
  Avg. Gradient Time  : 0.0548s  39.94% 
  Avg. Gaussian Time  : 0.0661s  48.18% 
  Avg. Iteration Time : 0.1372s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0467
Level     2,  Iter     1:    Energy =   0.0489
Level     2,  Iter     2:    Energy =   0.0509
Level     2,  Iter     3:    Energy =   0.0527
Level     2,  Iter     4:    Energy =   0.0540
Level     2,  Iter     5:    Energy =   0.0555
Level     2,  Iter     6:    Energy =   0.0570
Level     2,  Iter     7:    Energy =   0.0583
Level     2,  Iter     8:    Energy =   0.0592
Level     2,  Iter     9:    Energy =   0.0600
Level     2,  Iter    10:    Energy =   0.0604
Level     2,  Iter    11:    Energy =   0.0609
Level     2,  Iter    12:    Energy =   0.0613
Level     2,  Iter    13:    Energy =   0.0618
Level     2,  Iter    14:    Energy =   0.0622
Level     2,  Iter    15:    Energy =   0.0626
Level     2,  Iter    16:    Energy =   0.0629
Level     2,  Iter    17:    Energy =   0.0632
Level     2,  Iter    18:    Energy =   0.0635
Level     2,  Iter    19:    Energy =   0.0637
END OF LEVEL     2    DetJac Range:   0.0297  to   3.7307 
  Avg. Gradient Time  : 0.3803s  37.43% 
  Avg. Gaussian Time  : 0.5295s  52.12% 
  Avg. Iteration Time : 1.0160s 

real	0m33.867s
user	1m0.000s
sys	0m3.376s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.836538 0.842308
+ echo 'CHUNK 0.836538 0.842308 1'
CHUNK 0.836538 0.842308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.836538 0.842308 1
====================================
         PROGRESS: 0.836538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=016
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 016
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 016 right 0
+ local tid=016
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1553.91 	 OutFr   0.0000 	 RMSD     2.6571
Iter 002 	 Temp     3.72 	 Delta  1431.97 	 OutFr   0.0000 	 RMSD     2.1149
Iter 003 	 Temp     3.46 	 Delta  1331.32 	 OutFr   0.0000 	 RMSD     2.1119
Iter 004 	 Temp     3.22 	 Delta  1247.68 	 OutFr   0.0000 	 RMSD     2.1000
Iter 005 	 Temp     2.99 	 Delta  1174.27 	 OutFr   0.0000 	 RMSD     2.0892
Iter 006 	 Temp     2.78 	 Delta  1102.05 	 OutFr   0.0000 	 RMSD     2.0783
Iter 007 	 Temp     2.59 	 Delta  1027.03 	 OutFr   0.0000 	 RMSD     2.0676
Iter 008 	 Temp     2.41 	 Delta   952.81 	 OutFr   0.0000 	 RMSD     2.0582
Iter 009 	 Temp     2.24 	 Delta   891.95 	 OutFr   0.0000 	 RMSD     2.0504
Iter 010 	 Temp     2.08 	 Delta   847.25 	 OutFr   0.0027 	 RMSD     2.0448
Iter 011 	 Temp     1.94 	 Delta   807.98 	 OutFr   0.0054 	 RMSD     2.0415
Iter 012 	 Temp     1.80 	 Delta   772.20 	 OutFr   0.0054 	 RMSD     2.0399
Iter 013 	 Temp     1.67 	 Delta   740.88 	 OutFr   0.0054 	 RMSD     2.0392
Iter 014 	 Temp     1.56 	 Delta   714.14 	 OutFr   0.0108 	 RMSD     2.0389
Iter 015 	 Temp     1.45 	 Delta   690.99 	 OutFr   0.0136 	 RMSD     2.0392
Iter 016 	 Temp     1.35 	 Delta   669.77 	 OutFr   0.0163 	 RMSD     2.0408
Iter 017 	 Temp     1.25 	 Delta   648.94 	 OutFr   0.0190 	 RMSD     2.0422
Iter 018 	 Temp     1.16 	 Delta   627.62 	 OutFr   0.0190 	 RMSD     2.0432
Iter 019 	 Temp     1.08 	 Delta   604.84 	 OutFr   0.0244 	 RMSD     2.0441
Iter 020 	 Temp     1.01 	 Delta   579.71 	 OutFr   0.0325 	 RMSD     2.0451
Iter 021 	 Temp     0.94 	 Delta   550.48 	 OutFr   0.0352 	 RMSD     2.0467
Iter 022 	 Temp     0.87 	 Delta   514.68 	 OutFr   0.0434 	 RMSD     2.0495
Iter 023 	 Temp     0.81 	 Delta   471.90 	 OutFr   0.0434 	 RMSD     2.0529
Iter 024 	 Temp     0.75 	 Delta   431.61 	 OutFr   0.0623 	 RMSD     2.0581
Iter 025 	 Temp     0.70 	 Delta   396.55 	 OutFr   0.0813 	 RMSD     2.0638
Iter 026 	 Temp     0.65 	 Delta   358.63 	 OutFr   0.1030 	 RMSD     2.0682
Iter 027 	 Temp     0.61 	 Delta   323.12 	 OutFr   0.1274 	 RMSD     2.0728
Iter 028 	 Temp     0.56 	 Delta   295.35 	 OutFr   0.1545 	 RMSD     2.0763
Iter 029 	 Temp     0.52 	 Delta   270.93 	 OutFr   0.1680 	 RMSD     2.0785
Iter 030 	 Temp     0.49 	 Delta   243.72 	 OutFr   0.2168 	 RMSD     2.0787
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.oe2gg9Of/mybin.nii.gz
+ vtklevelset /tmp/ashs.oe2gg9Of/mybin.nii.gz /tmp/ashs.oe2gg9Of/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.oe2gg9Of/mymesh.vtk /tmp/ashs.oe2gg9Of/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 2909.61457275   0.91389126
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.oe2gg9Of/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.44265 to 35.3147
   Y : -9.29105 to 31.7973
   Z : -34.1528 to -0.0429121
   Image resolution  : 104 by 148 by 127
   Image box origin  : {4.44265, -14.291, -39.1528}
   Image box size    : {36.1111, 51.3889, 44.4495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.44265, 14.291, -39.1528]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat -o /tmp/ashs.oe2gg9Of/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat -o /tmp/ashs.oe2gg9Of/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.oe2gg9Of/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.842308 0.848077
+ echo 'CHUNK 0.842308 0.848077 0.5'
CHUNK 0.842308 0.848077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.842308 0.848077 0.5
====================================
         PROGRESS: 0.842308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.oe2gg9Of/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.oe2gg9Of/fixed_hw.nii.gz /tmp/ashs.oe2gg9Of/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.557888, moving = 0.645198
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.4059], [0.982092, 0.982092, 0.982204]
Level     0,  Iter     0:    Energy =   0.0576
Level     0,  Iter     1:    Energy =   0.0638
Level     0,  Iter     2:    Energy =   0.0696
Level     0,  Iter     3:    Energy =   0.0755
Level     0,  Iter     4:    Energy =   0.0799
Level     0,  Iter     5:    Energy =   0.0829
Level     0,  Iter     6:    Energy =   0.0855
Level     0,  Iter     7:    Energy =   0.0873
Level     0,  Iter     8:    Energy =   0.0889
Level     0,  Iter     9:    Energy =   0.0902
Level     0,  Iter    10:    Energy =   0.0912
Level     0,  Iter    11:    Energy =   0.0920
Level     0,  Iter    12:    Energy =   0.0920
Level     0,  Iter    13:    Energy =   0.0924
Level     0,  Iter    14:    Energy =   0.0925
Level     0,  Iter    15:    Energy =   0.0928
Level     0,  Iter    16:    Energy =   0.0932
Level     0,  Iter    17:    Energy =   0.0934
Level     0,  Iter    18:    Energy =   0.0933
Level     0,  Iter    19:    Energy =   0.0936
Level     0,  Iter    20:    Energy =   0.0936
Level     0,  Iter    21:    Energy =   0.0939
Level     0,  Iter    22:    Energy =   0.0933
Level     0,  Iter    23:    Energy =   0.0940
Level     0,  Iter    24:    Energy =   0.0936
Level     0,  Iter    25:    Energy =   0.0942
Level     0,  Iter    26:    Energy =   0.0937
Level     0,  Iter    27:    Energy =   0.0944
Level     0,  Iter    28:    Energy =   0.0942
Level     0,  Iter    29:    Energy =   0.0946
Level     0,  Iter    30:    Energy =   0.0941
Level     0,  Iter    31:    Energy =   0.0947
Level     0,  Iter    32:    Energy =   0.0943
Level     0,  Iter    33:    Energy =   0.0949
Level     0,  Iter    34:    Energy =   0.0946
Level     0,  Iter    35:    Energy =   0.0951
Level     0,  Iter    36:    Energy =   0.0946
Level     0,  Iter    37:    Energy =   0.0952
Level     0,  Iter    38:    Energy =   0.0951
Level     0,  Iter    39:    Energy =   0.0954
Level     0,  Iter    40:    Energy =   0.0948
Level     0,  Iter    41:    Energy =   0.0953
Level     0,  Iter    42:    Energy =   0.0948
Level     0,  Iter    43:    Energy =   0.0955
Level     0,  Iter    44:    Energy =   0.0953
Level     0,  Iter    45:    Energy =   0.0956
Level     0,  Iter    46:    Energy =   0.0951
Level     0,  Iter    47:    Energy =   0.0956
Level     0,  Iter    48:    Energy =   0.0952
Level     0,  Iter    49:    Energy =   0.0957
Level     0,  Iter    50:    Energy =   0.0956
Level     0,  Iter    51:    Energy =   0.0959
Level     0,  Iter    52:    Energy =   0.0954
Level     0,  Iter    53:    Energy =   0.0957
Level     0,  Iter    54:    Energy =   0.0954
Level     0,  Iter    55:    Energy =   0.0959
Level     0,  Iter    56:    Energy =   0.0957
Level     0,  Iter    57:    Energy =   0.0960
Level     0,  Iter    58:    Energy =   0.0955
Level     0,  Iter    59:    Energy =   0.0959
END OF LEVEL     0    DetJac Range:   0.3684  to   2.3765 
  Avg. Gradient Time  : 0.0069s  37.69% 
  Avg. Gaussian Time  : 0.0086s  47.07% 
  Avg. Iteration Time : 0.0183s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20295], [0.491046, 0.491046, 0.491102]
Level     1,  Iter     0:    Energy =   0.0672
Level     1,  Iter     1:    Energy =   0.0719
Level     1,  Iter     2:    Energy =   0.0759
Level     1,  Iter     3:    Energy =   0.0790
Level     1,  Iter     4:    Energy =   0.0815
Level     1,  Iter     5:    Energy =   0.0837
Level     1,  Iter     6:    Energy =   0.0853
Level     1,  Iter     7:    Energy =   0.0865
Level     1,  Iter     8:    Energy =   0.0872
Level     1,  Iter     9:    Energy =   0.0875
Level     1,  Iter    10:    Energy =   0.0877
Level     1,  Iter    11:    Energy =   0.0879
Level     1,  Iter    12:    Energy =   0.0880
Level     1,  Iter    13:    Energy =   0.0883
Level     1,  Iter    14:    Energy =   0.0883
Level     1,  Iter    15:    Energy =   0.0885
Level     1,  Iter    16:    Energy =   0.0885
Level     1,  Iter    17:    Energy =   0.0887
Level     1,  Iter    18:    Energy =   0.0887
Level     1,  Iter    19:    Energy =   0.0889
Level     1,  Iter    20:    Energy =   0.0888
Level     1,  Iter    21:    Energy =   0.0890
Level     1,  Iter    22:    Energy =   0.0889
Level     1,  Iter    23:    Energy =   0.0891
Level     1,  Iter    24:    Energy =   0.0890
Level     1,  Iter    25:    Energy =   0.0892
Level     1,  Iter    26:    Energy =   0.0891
Level     1,  Iter    27:    Energy =   0.0893
Level     1,  Iter    28:    Energy =   0.0891
Level     1,  Iter    29:    Energy =   0.0893
Level     1,  Iter    30:    Energy =   0.0892
Level     1,  Iter    31:    Energy =   0.0893
Level     1,  Iter    32:    Energy =   0.0893
Level     1,  Iter    33:    Energy =   0.0894
Level     1,  Iter    34:    Energy =   0.0893
Level     1,  Iter    35:    Energy =   0.0894
Level     1,  Iter    36:    Energy =   0.0893
Level     1,  Iter    37:    Energy =   0.0894
Level     1,  Iter    38:    Energy =   0.0894
Level     1,  Iter    39:    Energy =   0.0895
Level     1,  Iter    40:    Energy =   0.0894
Level     1,  Iter    41:    Energy =   0.0895
Level     1,  Iter    42:    Energy =   0.0894
Level     1,  Iter    43:    Energy =   0.0895
Level     1,  Iter    44:    Energy =   0.0894
Level     1,  Iter    45:    Energy =   0.0896
Level     1,  Iter    46:    Energy =   0.0895
Level     1,  Iter    47:    Energy =   0.0896
Level     1,  Iter    48:    Energy =   0.0895
Level     1,  Iter    49:    Energy =   0.0896
Level     1,  Iter    50:    Energy =   0.0895
Level     1,  Iter    51:    Energy =   0.0896
Level     1,  Iter    52:    Energy =   0.0895
Level     1,  Iter    53:    Energy =   0.0897
Level     1,  Iter    54:    Energy =   0.0895
Level     1,  Iter    55:    Energy =   0.0897
Level     1,  Iter    56:    Energy =   0.0896
Level     1,  Iter    57:    Energy =   0.0897
Level     1,  Iter    58:    Energy =   0.0896
Level     1,  Iter    59:    Energy =   0.0897
END OF LEVEL     1    DetJac Range:   0.2210  to   3.3273 
  Avg. Gradient Time  : 0.0427s  39.85% 
  Avg. Gaussian Time  : 0.0511s  47.70% 
  Avg. Iteration Time : 0.1072s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0479
Level     2,  Iter     1:    Energy =   0.0500
Level     2,  Iter     2:    Energy =   0.0522
Level     2,  Iter     3:    Energy =   0.0537
Level     2,  Iter     4:    Energy =   0.0550
Level     2,  Iter     5:    Energy =   0.0563
Level     2,  Iter     6:    Energy =   0.0574
Level     2,  Iter     7:    Energy =   0.0583
Level     2,  Iter     8:    Energy =   0.0593
Level     2,  Iter     9:    Energy =   0.0602
Level     2,  Iter    10:    Energy =   0.0611
Level     2,  Iter    11:    Energy =   0.0617
Level     2,  Iter    12:    Energy =   0.0622
Level     2,  Iter    13:    Energy =   0.0627
Level     2,  Iter    14:    Energy =   0.0631
Level     2,  Iter    15:    Energy =   0.0636
Level     2,  Iter    16:    Energy =   0.0640
Level     2,  Iter    17:    Energy =   0.0644
Level     2,  Iter    18:    Energy =   0.0648
Level     2,  Iter    19:    Energy =   0.0650
END OF LEVEL     2    DetJac Range:   0.0941  to   5.0375 
  Avg. Gradient Time  : 0.3085s  37.85% 
  Avg. Gaussian Time  : 0.4207s  51.62% 
  Avg. Iteration Time : 0.8149s 

real	0m26.935s
user	0m47.268s
sys	0m2.864s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.842308 0.848077
+ echo 'CHUNK 0.842308 0.848077 1'
CHUNK 0.842308 0.848077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.842308 0.848077 1
====================================
         PROGRESS: 0.842308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=017
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 017
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 017 right 0
+ local tid=017
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2132.63 	 OutFr   0.0190 	 RMSD     3.1740
Iter 002 	 Temp     3.72 	 Delta  1953.13 	 OutFr   0.0190 	 RMSD     2.2072
Iter 003 	 Temp     3.46 	 Delta  1773.24 	 OutFr   0.0190 	 RMSD     2.1983
Iter 004 	 Temp     3.22 	 Delta  1607.75 	 OutFr   0.0190 	 RMSD     2.1777
Iter 005 	 Temp     2.99 	 Delta  1457.62 	 OutFr   0.0217 	 RMSD     2.1599
Iter 006 	 Temp     2.78 	 Delta  1333.83 	 OutFr   0.0244 	 RMSD     2.1446
Iter 007 	 Temp     2.59 	 Delta  1235.15 	 OutFr   0.0271 	 RMSD     2.1328
Iter 008 	 Temp     2.41 	 Delta  1151.80 	 OutFr   0.0271 	 RMSD     2.1241
Iter 009 	 Temp     2.24 	 Delta  1078.89 	 OutFr   0.0271 	 RMSD     2.1175
Iter 010 	 Temp     2.08 	 Delta  1015.34 	 OutFr   0.0298 	 RMSD     2.1123
Iter 011 	 Temp     1.94 	 Delta   960.57 	 OutFr   0.0325 	 RMSD     2.1081
Iter 012 	 Temp     1.80 	 Delta   913.37 	 OutFr   0.0325 	 RMSD     2.1049
Iter 013 	 Temp     1.67 	 Delta   871.73 	 OutFr   0.0379 	 RMSD     2.1025
Iter 014 	 Temp     1.56 	 Delta   833.44 	 OutFr   0.0379 	 RMSD     2.1008
Iter 015 	 Temp     1.45 	 Delta   797.10 	 OutFr   0.0379 	 RMSD     2.1002
Iter 016 	 Temp     1.35 	 Delta   762.22 	 OutFr   0.0434 	 RMSD     2.1005
Iter 017 	 Temp     1.25 	 Delta   728.61 	 OutFr   0.0434 	 RMSD     2.1017
Iter 018 	 Temp     1.16 	 Delta   695.74 	 OutFr   0.0461 	 RMSD     2.1033
Iter 019 	 Temp     1.08 	 Delta   663.51 	 OutFr   0.0542 	 RMSD     2.1055
Iter 020 	 Temp     1.01 	 Delta   632.76 	 OutFr   0.0542 	 RMSD     2.1075
Iter 021 	 Temp     0.94 	 Delta   603.95 	 OutFr   0.0623 	 RMSD     2.1086
Iter 022 	 Temp     0.87 	 Delta   575.75 	 OutFr   0.0650 	 RMSD     2.1087
Iter 023 	 Temp     0.81 	 Delta   546.09 	 OutFr   0.0705 	 RMSD     2.1080
Iter 024 	 Temp     0.75 	 Delta   512.81 	 OutFr   0.0705 	 RMSD     2.1070
Iter 025 	 Temp     0.70 	 Delta   475.95 	 OutFr   0.0786 	 RMSD     2.1058
Iter 026 	 Temp     0.65 	 Delta   436.64 	 OutFr   0.0949 	 RMSD     2.1049
Iter 027 	 Temp     0.61 	 Delta   394.69 	 OutFr   0.1138 	 RMSD     2.1051
Iter 028 	 Temp     0.56 	 Delta   348.98 	 OutFr   0.1436 	 RMSD     2.1067
Iter 029 	 Temp     0.52 	 Delta   304.80 	 OutFr   0.1762 	 RMSD     2.1113
Iter 030 	 Temp     0.49 	 Delta   268.03 	 OutFr   0.2195 	 RMSD     2.1182
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.SijA5QTb/mybin.nii.gz
+ vtklevelset /tmp/ashs.SijA5QTb/mybin.nii.gz /tmp/ashs.SijA5QTb/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.SijA5QTb/mymesh.vtk /tmp/ashs.SijA5QTb/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 3095.98734141   0.97242975
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.SijA5QTb/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.15536 to 35.7482
   Y : -15.7382 to 29.9947
   Z : -19.4333 to 10.6221
   Image resolution  : 106 by 161 by 115
   Image box origin  : {4.15536, -20.7382, -24.4333}
   Image box size    : {36.8055, 55.9027, 40.2495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.15536, 20.7382, -24.4333]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat -o /tmp/ashs.SijA5QTb/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat -o /tmp/ashs.SijA5QTb/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.SijA5QTb/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.848077 0.853846
+ echo 'CHUNK 0.848077 0.853846 0.5'
CHUNK 0.848077 0.853846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.848077 0.853846 0.5
====================================
         PROGRESS: 0.848077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.SijA5QTb/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.SijA5QTb/fixed_hw.nii.gz /tmp/ashs.SijA5QTb/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.561361, moving = 0.398637
LEVEL 1 of 3
  Smoothing sigmas: [2.36108, 2.36162, 2.40394], [0.963905, 0.964127, 0.981404]
Level     0,  Iter     0:    Energy =   0.0481
Level     0,  Iter     1:    Energy =   0.0535
Level     0,  Iter     2:    Energy =   0.0601
Level     0,  Iter     3:    Energy =   0.0653
Level     0,  Iter     4:    Energy =   0.0694
Level     0,  Iter     5:    Energy =   0.0726
Level     0,  Iter     6:    Energy =   0.0750
Level     0,  Iter     7:    Energy =   0.0769
Level     0,  Iter     8:    Energy =   0.0785
Level     0,  Iter     9:    Energy =   0.0795
Level     0,  Iter    10:    Energy =   0.0800
Level     0,  Iter    11:    Energy =   0.0806
Level     0,  Iter    12:    Energy =   0.0809
Level     0,  Iter    13:    Energy =   0.0812
Level     0,  Iter    14:    Energy =   0.0814
Level     0,  Iter    15:    Energy =   0.0818
Level     0,  Iter    16:    Energy =   0.0820
Level     0,  Iter    17:    Energy =   0.0822
Level     0,  Iter    18:    Energy =   0.0824
Level     0,  Iter    19:    Energy =   0.0826
Level     0,  Iter    20:    Energy =   0.0828
Level     0,  Iter    21:    Energy =   0.0829
Level     0,  Iter    22:    Energy =   0.0831
Level     0,  Iter    23:    Energy =   0.0832
Level     0,  Iter    24:    Energy =   0.0833
Level     0,  Iter    25:    Energy =   0.0833
Level     0,  Iter    26:    Energy =   0.0834
Level     0,  Iter    27:    Energy =   0.0835
Level     0,  Iter    28:    Energy =   0.0836
Level     0,  Iter    29:    Energy =   0.0837
Level     0,  Iter    30:    Energy =   0.0838
Level     0,  Iter    31:    Energy =   0.0838
Level     0,  Iter    32:    Energy =   0.0839
Level     0,  Iter    33:    Energy =   0.0839
Level     0,  Iter    34:    Energy =   0.0840
Level     0,  Iter    35:    Energy =   0.0840
Level     0,  Iter    36:    Energy =   0.0841
Level     0,  Iter    37:    Energy =   0.0841
Level     0,  Iter    38:    Energy =   0.0841
Level     0,  Iter    39:    Energy =   0.0842
Level     0,  Iter    40:    Energy =   0.0842
Level     0,  Iter    41:    Energy =   0.0842
Level     0,  Iter    42:    Energy =   0.0843
Level     0,  Iter    43:    Energy =   0.0842
Level     0,  Iter    44:    Energy =   0.0843
Level     0,  Iter    45:    Energy =   0.0843
Level     0,  Iter    46:    Energy =   0.0843
Level     0,  Iter    47:    Energy =   0.0843
Level     0,  Iter    48:    Energy =   0.0844
Level     0,  Iter    49:    Energy =   0.0844
Level     0,  Iter    50:    Energy =   0.0844
Level     0,  Iter    51:    Energy =   0.0844
Level     0,  Iter    52:    Energy =   0.0844
Level     0,  Iter    53:    Energy =   0.0844
Level     0,  Iter    54:    Energy =   0.0845
Level     0,  Iter    55:    Energy =   0.0845
Level     0,  Iter    56:    Energy =   0.0845
Level     0,  Iter    57:    Energy =   0.0845
Level     0,  Iter    58:    Energy =   0.0845
Level     0,  Iter    59:    Energy =   0.0845
END OF LEVEL     0    DetJac Range:   0.2586  to   2.1365 
  Avg. Gradient Time  : 0.0079s  37.78% 
  Avg. Gaussian Time  : 0.0100s  47.38% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19539, 1.20197], [0.491046, 0.488015, 0.490702]
Level     1,  Iter     0:    Energy =   0.0577
Level     1,  Iter     1:    Energy =   0.0609
Level     1,  Iter     2:    Energy =   0.0640
Level     1,  Iter     3:    Energy =   0.0670
Level     1,  Iter     4:    Energy =   0.0691
Level     1,  Iter     5:    Energy =   0.0707
Level     1,  Iter     6:    Energy =   0.0718
Level     1,  Iter     7:    Energy =   0.0726
Level     1,  Iter     8:    Energy =   0.0734
Level     1,  Iter     9:    Energy =   0.0741
Level     1,  Iter    10:    Energy =   0.0749
Level     1,  Iter    11:    Energy =   0.0756
Level     1,  Iter    12:    Energy =   0.0763
Level     1,  Iter    13:    Energy =   0.0770
Level     1,  Iter    14:    Energy =   0.0775
Level     1,  Iter    15:    Energy =   0.0779
Level     1,  Iter    16:    Energy =   0.0781
Level     1,  Iter    17:    Energy =   0.0785
Level     1,  Iter    18:    Energy =   0.0786
Level     1,  Iter    19:    Energy =   0.0791
Level     1,  Iter    20:    Energy =   0.0791
Level     1,  Iter    21:    Energy =   0.0796
Level     1,  Iter    22:    Energy =   0.0795
Level     1,  Iter    23:    Energy =   0.0799
Level     1,  Iter    24:    Energy =   0.0799
Level     1,  Iter    25:    Energy =   0.0802
Level     1,  Iter    26:    Energy =   0.0801
Level     1,  Iter    27:    Energy =   0.0804
Level     1,  Iter    28:    Energy =   0.0803
Level     1,  Iter    29:    Energy =   0.0806
Level     1,  Iter    30:    Energy =   0.0806
Level     1,  Iter    31:    Energy =   0.0809
Level     1,  Iter    32:    Energy =   0.0808
Level     1,  Iter    33:    Energy =   0.0811
Level     1,  Iter    34:    Energy =   0.0810
Level     1,  Iter    35:    Energy =   0.0813
Level     1,  Iter    36:    Energy =   0.0812
Level     1,  Iter    37:    Energy =   0.0815
Level     1,  Iter    38:    Energy =   0.0814
Level     1,  Iter    39:    Energy =   0.0816
Level     1,  Iter    40:    Energy =   0.0814
Level     1,  Iter    41:    Energy =   0.0818
Level     1,  Iter    42:    Energy =   0.0817
Level     1,  Iter    43:    Energy =   0.0818
Level     1,  Iter    44:    Energy =   0.0817
Level     1,  Iter    45:    Energy =   0.0818
Level     1,  Iter    46:    Energy =   0.0817
Level     1,  Iter    47:    Energy =   0.0820
Level     1,  Iter    48:    Energy =   0.0819
Level     1,  Iter    49:    Energy =   0.0821
Level     1,  Iter    50:    Energy =   0.0820
Level     1,  Iter    51:    Energy =   0.0822
Level     1,  Iter    52:    Energy =   0.0821
Level     1,  Iter    53:    Energy =   0.0822
Level     1,  Iter    54:    Energy =   0.0821
Level     1,  Iter    55:    Energy =   0.0823
Level     1,  Iter    56:    Energy =   0.0822
Level     1,  Iter    57:    Energy =   0.0824
Level     1,  Iter    58:    Energy =   0.0822
Level     1,  Iter    59:    Energy =   0.0824
END OF LEVEL     1    DetJac Range:   0.1089  to   3.3296 
  Avg. Gradient Time  : 0.0488s  40.18% 
  Avg. Gaussian Time  : 0.0583s  47.98% 
  Avg. Iteration Time : 0.1214s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0433
Level     2,  Iter     1:    Energy =   0.0451
Level     2,  Iter     2:    Energy =   0.0466
Level     2,  Iter     3:    Energy =   0.0477
Level     2,  Iter     4:    Energy =   0.0488
Level     2,  Iter     5:    Energy =   0.0500
Level     2,  Iter     6:    Energy =   0.0514
Level     2,  Iter     7:    Energy =   0.0530
Level     2,  Iter     8:    Energy =   0.0543
Level     2,  Iter     9:    Energy =   0.0554
Level     2,  Iter    10:    Energy =   0.0563
Level     2,  Iter    11:    Energy =   0.0570
Level     2,  Iter    12:    Energy =   0.0577
Level     2,  Iter    13:    Energy =   0.0582
Level     2,  Iter    14:    Energy =   0.0587
Level     2,  Iter    15:    Energy =   0.0592
Level     2,  Iter    16:    Energy =   0.0597
Level     2,  Iter    17:    Energy =   0.0600
Level     2,  Iter    18:    Energy =   0.0604
Level     2,  Iter    19:    Energy =   0.0606
END OF LEVEL     2    DetJac Range:   0.0346  to   5.3257 
  Avg. Gradient Time  : 0.3468s  36.85% 
  Avg. Gaussian Time  : 0.4956s  52.67% 
  Avg. Iteration Time : 0.9410s 

real	0m31.073s
user	0m55.136s
sys	0m2.892s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.848077 0.853846
+ echo 'CHUNK 0.848077 0.853846 1'
CHUNK 0.848077 0.853846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.848077 0.853846 1
====================================
         PROGRESS: 0.848077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=018
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 018
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 018 right 0
+ local tid=018
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1584.25 	 OutFr   0.0000 	 RMSD     2.4620
Iter 002 	 Temp     3.72 	 Delta  1529.95 	 OutFr   0.0000 	 RMSD     2.1989
Iter 003 	 Temp     3.46 	 Delta  1441.46 	 OutFr   0.0000 	 RMSD     2.2126
Iter 004 	 Temp     3.22 	 Delta  1359.50 	 OutFr   0.0000 	 RMSD     2.1900
Iter 005 	 Temp     2.99 	 Delta  1283.65 	 OutFr   0.0000 	 RMSD     2.1671
Iter 006 	 Temp     2.78 	 Delta  1213.57 	 OutFr   0.0000 	 RMSD     2.1481
Iter 007 	 Temp     2.59 	 Delta  1148.66 	 OutFr   0.0000 	 RMSD     2.1323
Iter 008 	 Temp     2.41 	 Delta  1087.82 	 OutFr   0.0000 	 RMSD     2.1190
Iter 009 	 Temp     2.24 	 Delta  1029.63 	 OutFr   0.0000 	 RMSD     2.1074
Iter 010 	 Temp     2.08 	 Delta   972.99 	 OutFr   0.0000 	 RMSD     2.0977
Iter 011 	 Temp     1.94 	 Delta   917.62 	 OutFr   0.0000 	 RMSD     2.0888
Iter 012 	 Temp     1.80 	 Delta   864.06 	 OutFr   0.0000 	 RMSD     2.0815
Iter 013 	 Temp     1.67 	 Delta   813.03 	 OutFr   0.0000 	 RMSD     2.0758
Iter 014 	 Temp     1.56 	 Delta   764.79 	 OutFr   0.0000 	 RMSD     2.0716
Iter 015 	 Temp     1.45 	 Delta   719.03 	 OutFr   0.0000 	 RMSD     2.0684
Iter 016 	 Temp     1.35 	 Delta   675.24 	 OutFr   0.0000 	 RMSD     2.0660
Iter 017 	 Temp     1.25 	 Delta   633.19 	 OutFr   0.0027 	 RMSD     2.0646
Iter 018 	 Temp     1.16 	 Delta   592.97 	 OutFr   0.0054 	 RMSD     2.0639
Iter 019 	 Temp     1.08 	 Delta   555.04 	 OutFr   0.0054 	 RMSD     2.0641
Iter 020 	 Temp     1.01 	 Delta   520.23 	 OutFr   0.0081 	 RMSD     2.0652
Iter 021 	 Temp     0.94 	 Delta   489.32 	 OutFr   0.0163 	 RMSD     2.0672
Iter 022 	 Temp     0.87 	 Delta   460.95 	 OutFr   0.0163 	 RMSD     2.0695
Iter 023 	 Temp     0.81 	 Delta   432.59 	 OutFr   0.0298 	 RMSD     2.0720
Iter 024 	 Temp     0.75 	 Delta   404.81 	 OutFr   0.0379 	 RMSD     2.0746
Iter 025 	 Temp     0.70 	 Delta   379.79 	 OutFr   0.0542 	 RMSD     2.0777
Iter 026 	 Temp     0.65 	 Delta   357.10 	 OutFr   0.0623 	 RMSD     2.0816
Iter 027 	 Temp     0.61 	 Delta   335.10 	 OutFr   0.0705 	 RMSD     2.0859
Iter 028 	 Temp     0.56 	 Delta   313.50 	 OutFr   0.0867 	 RMSD     2.0909
Iter 029 	 Temp     0.52 	 Delta   292.04 	 OutFr   0.1030 	 RMSD     2.0954
Iter 030 	 Temp     0.49 	 Delta   270.74 	 OutFr   0.1301 	 RMSD     2.0988
Iter 031 	 Temp     0.45 	 Delta   250.77 	 OutFr   0.1463 	 RMSD     2.1019
Iter 032 	 Temp     0.42 	 Delta   230.02 	 OutFr   0.1762 	 RMSD     2.1045
Iter 033 	 Temp     0.39 	 Delta   205.65 	 OutFr   0.2005 	 RMSD     2.1059
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.B6QpRtYZ/mybin.nii.gz
+ vtklevelset /tmp/ashs.B6QpRtYZ/mybin.nii.gz /tmp/ashs.B6QpRtYZ/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.B6QpRtYZ/mymesh.vtk /tmp/ashs.B6QpRtYZ/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 2942.82998538   0.92432401
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.B6QpRtYZ/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.9707 to 39.9558
   Y : -20.8906 to 21.8859
   Z : -6.3548 to 23.2214
   Image resolution  : 110 by 152 by 114
   Image box origin  : {6.9707, -25.8906, -11.3548}
   Image box size    : {38.1944, 52.7777, 39.8995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.9707, 25.8906, -11.3548]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat -o /tmp/ashs.B6QpRtYZ/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat -o /tmp/ashs.B6QpRtYZ/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.B6QpRtYZ/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.853846 0.859615
+ echo 'CHUNK 0.853846 0.859615 0.5'
CHUNK 0.853846 0.859615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.853846 0.859615 0.5
====================================
         PROGRESS: 0.853846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.B6QpRtYZ/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.B6QpRtYZ/fixed_hw.nii.gz /tmp/ashs.B6QpRtYZ/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.558923, moving = 0.597321
LEVEL 1 of 3
  Smoothing sigmas: [2.36267, 2.40562, 2.38304], [0.964555, 0.982092, 0.97287]
Level     0,  Iter     0:    Energy =   0.0581
Level     0,  Iter     1:    Energy =   0.0647
Level     0,  Iter     2:    Energy =   0.0715
Level     0,  Iter     3:    Energy =   0.0763
Level     0,  Iter     4:    Energy =   0.0797
Level     0,  Iter     5:    Energy =   0.0830
Level     0,  Iter     6:    Energy =   0.0852
Level     0,  Iter     7:    Energy =   0.0866
Level     0,  Iter     8:    Energy =   0.0877
Level     0,  Iter     9:    Energy =   0.0879
Level     0,  Iter    10:    Energy =   0.0884
Level     0,  Iter    11:    Energy =   0.0884
Level     0,  Iter    12:    Energy =   0.0888
Level     0,  Iter    13:    Energy =   0.0886
Level     0,  Iter    14:    Energy =   0.0890
Level     0,  Iter    15:    Energy =   0.0889
Level     0,  Iter    16:    Energy =   0.0893
Level     0,  Iter    17:    Energy =   0.0891
Level     0,  Iter    18:    Energy =   0.0896
Level     0,  Iter    19:    Energy =   0.0894
Level     0,  Iter    20:    Energy =   0.0898
Level     0,  Iter    21:    Energy =   0.0897
Level     0,  Iter    22:    Energy =   0.0900
Level     0,  Iter    23:    Energy =   0.0899
Level     0,  Iter    24:    Energy =   0.0902
Level     0,  Iter    25:    Energy =   0.0900
Level     0,  Iter    26:    Energy =   0.0903
Level     0,  Iter    27:    Energy =   0.0901
Level     0,  Iter    28:    Energy =   0.0904
Level     0,  Iter    29:    Energy =   0.0902
Level     0,  Iter    30:    Energy =   0.0905
Level     0,  Iter    31:    Energy =   0.0903
Level     0,  Iter    32:    Energy =   0.0906
Level     0,  Iter    33:    Energy =   0.0904
Level     0,  Iter    34:    Energy =   0.0907
Level     0,  Iter    35:    Energy =   0.0905
Level     0,  Iter    36:    Energy =   0.0908
Level     0,  Iter    37:    Energy =   0.0906
Level     0,  Iter    38:    Energy =   0.0908
Level     0,  Iter    39:    Energy =   0.0906
Level     0,  Iter    40:    Energy =   0.0908
Level     0,  Iter    41:    Energy =   0.0905
Level     0,  Iter    42:    Energy =   0.0908
Level     0,  Iter    43:    Energy =   0.0906
Level     0,  Iter    44:    Energy =   0.0908
Level     0,  Iter    45:    Energy =   0.0906
Level     0,  Iter    46:    Energy =   0.0908
Level     0,  Iter    47:    Energy =   0.0906
Level     0,  Iter    48:    Energy =   0.0909
Level     0,  Iter    49:    Energy =   0.0906
Level     0,  Iter    50:    Energy =   0.0909
Level     0,  Iter    51:    Energy =   0.0906
Level     0,  Iter    52:    Energy =   0.0909
Level     0,  Iter    53:    Energy =   0.0907
Level     0,  Iter    54:    Energy =   0.0909
Level     0,  Iter    55:    Energy =   0.0907
Level     0,  Iter    56:    Energy =   0.0909
Level     0,  Iter    57:    Energy =   0.0906
Level     0,  Iter    58:    Energy =   0.0909
Level     0,  Iter    59:    Energy =   0.0907
END OF LEVEL     0    DetJac Range:   0.5245  to   1.8406 
  Avg. Gradient Time  : 0.0066s  37.45% 
  Avg. Gaussian Time  : 0.0083s  47.46% 
  Avg. Iteration Time : 0.0175s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0638
Level     1,  Iter     1:    Energy =   0.0681
Level     1,  Iter     2:    Energy =   0.0707
Level     1,  Iter     3:    Energy =   0.0733
Level     1,  Iter     4:    Energy =   0.0758
Level     1,  Iter     5:    Energy =   0.0776
Level     1,  Iter     6:    Energy =   0.0790
Level     1,  Iter     7:    Energy =   0.0802
Level     1,  Iter     8:    Energy =   0.0809
Level     1,  Iter     9:    Energy =   0.0812
Level     1,  Iter    10:    Energy =   0.0813
Level     1,  Iter    11:    Energy =   0.0815
Level     1,  Iter    12:    Energy =   0.0817
Level     1,  Iter    13:    Energy =   0.0818
Level     1,  Iter    14:    Energy =   0.0820
Level     1,  Iter    15:    Energy =   0.0821
Level     1,  Iter    16:    Energy =   0.0822
Level     1,  Iter    17:    Energy =   0.0823
Level     1,  Iter    18:    Energy =   0.0824
Level     1,  Iter    19:    Energy =   0.0825
Level     1,  Iter    20:    Energy =   0.0825
Level     1,  Iter    21:    Energy =   0.0827
Level     1,  Iter    22:    Energy =   0.0826
Level     1,  Iter    23:    Energy =   0.0828
Level     1,  Iter    24:    Energy =   0.0828
Level     1,  Iter    25:    Energy =   0.0829
Level     1,  Iter    26:    Energy =   0.0828
Level     1,  Iter    27:    Energy =   0.0829
Level     1,  Iter    28:    Energy =   0.0828
Level     1,  Iter    29:    Energy =   0.0829
Level     1,  Iter    30:    Energy =   0.0829
Level     1,  Iter    31:    Energy =   0.0829
Level     1,  Iter    32:    Energy =   0.0829
Level     1,  Iter    33:    Energy =   0.0830
Level     1,  Iter    34:    Energy =   0.0830
Level     1,  Iter    35:    Energy =   0.0830
Level     1,  Iter    36:    Energy =   0.0830
Level     1,  Iter    37:    Energy =   0.0831
Level     1,  Iter    38:    Energy =   0.0830
Level     1,  Iter    39:    Energy =   0.0830
Level     1,  Iter    40:    Energy =   0.0830
Level     1,  Iter    41:    Energy =   0.0830
Level     1,  Iter    42:    Energy =   0.0830
Level     1,  Iter    43:    Energy =   0.0830
Level     1,  Iter    44:    Energy =   0.0830
Level     1,  Iter    45:    Energy =   0.0830
Level     1,  Iter    46:    Energy =   0.0830
Level     1,  Iter    47:    Energy =   0.0830
Level     1,  Iter    48:    Energy =   0.0830
Level     1,  Iter    49:    Energy =   0.0830
Level     1,  Iter    50:    Energy =   0.0830
Level     1,  Iter    51:    Energy =   0.0830
Level     1,  Iter    52:    Energy =   0.0830
Level     1,  Iter    53:    Energy =   0.0830
Level     1,  Iter    54:    Energy =   0.0830
Level     1,  Iter    55:    Energy =   0.0831
Level     1,  Iter    56:    Energy =   0.0831
Level     1,  Iter    57:    Energy =   0.0831
Level     1,  Iter    58:    Energy =   0.0831
Level     1,  Iter    59:    Energy =   0.0831
END OF LEVEL     1    DetJac Range:   0.1602  to   3.5472 
  Avg. Gradient Time  : 0.0407s  40.00% 
  Avg. Gaussian Time  : 0.0492s  48.31% 
  Avg. Iteration Time : 0.1019s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0432
Level     2,  Iter     1:    Energy =   0.0452
Level     2,  Iter     2:    Energy =   0.0472
Level     2,  Iter     3:    Energy =   0.0493
Level     2,  Iter     4:    Energy =   0.0509
Level     2,  Iter     5:    Energy =   0.0524
Level     2,  Iter     6:    Energy =   0.0535
Level     2,  Iter     7:    Energy =   0.0547
Level     2,  Iter     8:    Energy =   0.0554
Level     2,  Iter     9:    Energy =   0.0560
Level     2,  Iter    10:    Energy =   0.0565
Level     2,  Iter    11:    Energy =   0.0570
Level     2,  Iter    12:    Energy =   0.0574
Level     2,  Iter    13:    Energy =   0.0578
Level     2,  Iter    14:    Energy =   0.0583
Level     2,  Iter    15:    Energy =   0.0588
Level     2,  Iter    16:    Energy =   0.0592
Level     2,  Iter    17:    Energy =   0.0596
Level     2,  Iter    18:    Energy =   0.0599
Level     2,  Iter    19:    Energy =   0.0601
END OF LEVEL     2    DetJac Range:   0.0707  to   5.7761 
  Avg. Gradient Time  : 0.2938s  37.29% 
  Avg. Gaussian Time  : 0.4111s  52.17% 
  Avg. Iteration Time : 0.7879s 

real	0m25.960s
user	0m45.636s
sys	0m2.684s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.853846 0.859615
+ echo 'CHUNK 0.853846 0.859615 1'
CHUNK 0.853846 0.859615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.853846 0.859615 1
====================================
         PROGRESS: 0.853846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=019
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 019
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 019 right 0
+ local tid=019
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1456.92 	 OutFr   0.0000 	 RMSD     2.0327
Iter 002 	 Temp     3.72 	 Delta  1410.84 	 OutFr   0.0000 	 RMSD     1.9445
Iter 003 	 Temp     3.46 	 Delta  1309.23 	 OutFr   0.0000 	 RMSD     1.9484
Iter 004 	 Temp     3.22 	 Delta  1214.61 	 OutFr   0.0000 	 RMSD     1.9298
Iter 005 	 Temp     2.99 	 Delta  1132.01 	 OutFr   0.0027 	 RMSD     1.9099
Iter 006 	 Temp     2.78 	 Delta  1061.16 	 OutFr   0.0027 	 RMSD     1.8921
Iter 007 	 Temp     2.59 	 Delta  1001.23 	 OutFr   0.0027 	 RMSD     1.8767
Iter 008 	 Temp     2.41 	 Delta   951.05 	 OutFr   0.0054 	 RMSD     1.8642
Iter 009 	 Temp     2.24 	 Delta   909.19 	 OutFr   0.0054 	 RMSD     1.8539
Iter 010 	 Temp     2.08 	 Delta   873.89 	 OutFr   0.0054 	 RMSD     1.8450
Iter 011 	 Temp     1.94 	 Delta   843.12 	 OutFr   0.0081 	 RMSD     1.8376
Iter 012 	 Temp     1.80 	 Delta   814.41 	 OutFr   0.0108 	 RMSD     1.8311
Iter 013 	 Temp     1.67 	 Delta   785.13 	 OutFr   0.0136 	 RMSD     1.8252
Iter 014 	 Temp     1.56 	 Delta   753.17 	 OutFr   0.0136 	 RMSD     1.8192
Iter 015 	 Temp     1.45 	 Delta   718.04 	 OutFr   0.0136 	 RMSD     1.8131
Iter 016 	 Temp     1.35 	 Delta   681.39 	 OutFr   0.0136 	 RMSD     1.8073
Iter 017 	 Temp     1.25 	 Delta   646.27 	 OutFr   0.0136 	 RMSD     1.8019
Iter 018 	 Temp     1.16 	 Delta   614.42 	 OutFr   0.0136 	 RMSD     1.7975
Iter 019 	 Temp     1.08 	 Delta   584.05 	 OutFr   0.0190 	 RMSD     1.7936
Iter 020 	 Temp     1.01 	 Delta   552.15 	 OutFr   0.0244 	 RMSD     1.7903
Iter 021 	 Temp     0.94 	 Delta   518.35 	 OutFr   0.0244 	 RMSD     1.7873
Iter 022 	 Temp     0.87 	 Delta   485.10 	 OutFr   0.0352 	 RMSD     1.7844
Iter 023 	 Temp     0.81 	 Delta   455.27 	 OutFr   0.0461 	 RMSD     1.7817
Iter 024 	 Temp     0.75 	 Delta   428.84 	 OutFr   0.0569 	 RMSD     1.7794
Iter 025 	 Temp     0.70 	 Delta   401.92 	 OutFr   0.0705 	 RMSD     1.7780
Iter 026 	 Temp     0.65 	 Delta   374.51 	 OutFr   0.0921 	 RMSD     1.7774
Iter 027 	 Temp     0.61 	 Delta   348.78 	 OutFr   0.1165 	 RMSD     1.7779
Iter 028 	 Temp     0.56 	 Delta   324.26 	 OutFr   0.1328 	 RMSD     1.7801
Iter 029 	 Temp     0.52 	 Delta   299.40 	 OutFr   0.1653 	 RMSD     1.7826
Iter 030 	 Temp     0.49 	 Delta   275.33 	 OutFr   0.1843 	 RMSD     1.7850
Iter 031 	 Temp     0.45 	 Delta   251.93 	 OutFr   0.2195 	 RMSD     1.7872
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.y3WfBMLw/mybin.nii.gz
+ vtklevelset /tmp/ashs.y3WfBMLw/mybin.nii.gz /tmp/ashs.y3WfBMLw/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.y3WfBMLw/mymesh.vtk /tmp/ashs.y3WfBMLw/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 3111.70130115   0.97736540
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.y3WfBMLw/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.6963 to 37.8397
   Y : -14.1551 to 29.2431
   Z : -19.4514 to 13.9347
   Image resolution  : 107 by 154 by 124
   Image box origin  : {5.6963, -19.1551, -24.4514}
   Image box size    : {37.1528, 53.4722, 43.3995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.6963, 19.1551, -24.4514]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat -o /tmp/ashs.y3WfBMLw/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat -o /tmp/ashs.y3WfBMLw/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.y3WfBMLw/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.859615 0.865385
+ echo 'CHUNK 0.859615 0.865385 0.5'
CHUNK 0.859615 0.865385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.859615 0.865385 0.5
====================================
         PROGRESS: 0.859615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.y3WfBMLw/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.y3WfBMLw/fixed_hw.nii.gz /tmp/ashs.y3WfBMLw/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.547851, moving = 0.483196
LEVEL 1 of 3
  Smoothing sigmas: [2.38335, 2.37478, 2.42484], [0.972999, 0.969501, 0.989938]
Level     0,  Iter     0:    Energy =   0.0409
Level     0,  Iter     1:    Energy =   0.0457
Level     0,  Iter     2:    Energy =   0.0505
Level     0,  Iter     3:    Energy =   0.0543
Level     0,  Iter     4:    Energy =   0.0575
Level     0,  Iter     5:    Energy =   0.0606
Level     0,  Iter     6:    Energy =   0.0627
Level     0,  Iter     7:    Energy =   0.0645
Level     0,  Iter     8:    Energy =   0.0653
Level     0,  Iter     9:    Energy =   0.0663
Level     0,  Iter    10:    Energy =   0.0668
Level     0,  Iter    11:    Energy =   0.0671
Level     0,  Iter    12:    Energy =   0.0678
Level     0,  Iter    13:    Energy =   0.0679
Level     0,  Iter    14:    Energy =   0.0686
Level     0,  Iter    15:    Energy =   0.0685
Level     0,  Iter    16:    Energy =   0.0693
Level     0,  Iter    17:    Energy =   0.0691
Level     0,  Iter    18:    Energy =   0.0699
Level     0,  Iter    19:    Energy =   0.0697
Level     0,  Iter    20:    Energy =   0.0704
Level     0,  Iter    21:    Energy =   0.0703
Level     0,  Iter    22:    Energy =   0.0709
Level     0,  Iter    23:    Energy =   0.0706
Level     0,  Iter    24:    Energy =   0.0711
Level     0,  Iter    25:    Energy =   0.0709
Level     0,  Iter    26:    Energy =   0.0714
Level     0,  Iter    27:    Energy =   0.0711
Level     0,  Iter    28:    Energy =   0.0715
Level     0,  Iter    29:    Energy =   0.0712
Level     0,  Iter    30:    Energy =   0.0717
Level     0,  Iter    31:    Energy =   0.0714
Level     0,  Iter    32:    Energy =   0.0719
Level     0,  Iter    33:    Energy =   0.0715
Level     0,  Iter    34:    Energy =   0.0719
Level     0,  Iter    35:    Energy =   0.0716
Level     0,  Iter    36:    Energy =   0.0720
Level     0,  Iter    37:    Energy =   0.0717
Level     0,  Iter    38:    Energy =   0.0720
Level     0,  Iter    39:    Energy =   0.0717
Level     0,  Iter    40:    Energy =   0.0721
Level     0,  Iter    41:    Energy =   0.0717
Level     0,  Iter    42:    Energy =   0.0721
Level     0,  Iter    43:    Energy =   0.0718
Level     0,  Iter    44:    Energy =   0.0722
Level     0,  Iter    45:    Energy =   0.0719
Level     0,  Iter    46:    Energy =   0.0722
Level     0,  Iter    47:    Energy =   0.0720
Level     0,  Iter    48:    Energy =   0.0724
Level     0,  Iter    49:    Energy =   0.0720
Level     0,  Iter    50:    Energy =   0.0724
Level     0,  Iter    51:    Energy =   0.0721
Level     0,  Iter    52:    Energy =   0.0725
Level     0,  Iter    53:    Energy =   0.0721
Level     0,  Iter    54:    Energy =   0.0723
Level     0,  Iter    55:    Energy =   0.0721
Level     0,  Iter    56:    Energy =   0.0725
Level     0,  Iter    57:    Energy =   0.0721
Level     0,  Iter    58:    Energy =   0.0724
Level     0,  Iter    59:    Energy =   0.0721
END OF LEVEL     0    DetJac Range:   0.2551  to   2.0425 
  Avg. Gradient Time  : 0.0082s  37.74% 
  Avg. Gaussian Time  : 0.0102s  47.13% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19168, 1.20281, 1.21242], [0.486499, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0557
Level     1,  Iter     1:    Energy =   0.0593
Level     1,  Iter     2:    Energy =   0.0624
Level     1,  Iter     3:    Energy =   0.0651
Level     1,  Iter     4:    Energy =   0.0672
Level     1,  Iter     5:    Energy =   0.0688
Level     1,  Iter     6:    Energy =   0.0704
Level     1,  Iter     7:    Energy =   0.0717
Level     1,  Iter     8:    Energy =   0.0726
Level     1,  Iter     9:    Energy =   0.0733
Level     1,  Iter    10:    Energy =   0.0740
Level     1,  Iter    11:    Energy =   0.0745
Level     1,  Iter    12:    Energy =   0.0750
Level     1,  Iter    13:    Energy =   0.0755
Level     1,  Iter    14:    Energy =   0.0759
Level     1,  Iter    15:    Energy =   0.0760
Level     1,  Iter    16:    Energy =   0.0762
Level     1,  Iter    17:    Energy =   0.0761
Level     1,  Iter    18:    Energy =   0.0765
Level     1,  Iter    19:    Energy =   0.0765
Level     1,  Iter    20:    Energy =   0.0766
Level     1,  Iter    21:    Energy =   0.0767
Level     1,  Iter    22:    Energy =   0.0768
Level     1,  Iter    23:    Energy =   0.0768
Level     1,  Iter    24:    Energy =   0.0769
Level     1,  Iter    25:    Energy =   0.0770
Level     1,  Iter    26:    Energy =   0.0771
Level     1,  Iter    27:    Energy =   0.0771
Level     1,  Iter    28:    Energy =   0.0772
Level     1,  Iter    29:    Energy =   0.0772
Level     1,  Iter    30:    Energy =   0.0773
Level     1,  Iter    31:    Energy =   0.0773
Level     1,  Iter    32:    Energy =   0.0773
Level     1,  Iter    33:    Energy =   0.0774
Level     1,  Iter    34:    Energy =   0.0774
Level     1,  Iter    35:    Energy =   0.0775
Level     1,  Iter    36:    Energy =   0.0775
Level     1,  Iter    37:    Energy =   0.0775
Level     1,  Iter    38:    Energy =   0.0776
Level     1,  Iter    39:    Energy =   0.0776
Level     1,  Iter    40:    Energy =   0.0776
Level     1,  Iter    41:    Energy =   0.0777
Level     1,  Iter    42:    Energy =   0.0777
Level     1,  Iter    43:    Energy =   0.0777
Level     1,  Iter    44:    Energy =   0.0777
Level     1,  Iter    45:    Energy =   0.0779
Level     1,  Iter    46:    Energy =   0.0778
Level     1,  Iter    47:    Energy =   0.0780
Level     1,  Iter    48:    Energy =   0.0779
Level     1,  Iter    49:    Energy =   0.0780
Level     1,  Iter    50:    Energy =   0.0780
Level     1,  Iter    51:    Energy =   0.0781
Level     1,  Iter    52:    Energy =   0.0780
Level     1,  Iter    53:    Energy =   0.0782
Level     1,  Iter    54:    Energy =   0.0781
Level     1,  Iter    55:    Energy =   0.0783
Level     1,  Iter    56:    Energy =   0.0782
Level     1,  Iter    57:    Energy =   0.0783
Level     1,  Iter    58:    Energy =   0.0782
Level     1,  Iter    59:    Energy =   0.0784
END OF LEVEL     1    DetJac Range:   0.1035  to   3.7071 
  Avg. Gradient Time  : 0.0494s  39.43% 
  Avg. Gaussian Time  : 0.0608s  48.59% 
  Avg. Iteration Time : 0.1252s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0410
Level     2,  Iter     1:    Energy =   0.0432
Level     2,  Iter     2:    Energy =   0.0452
Level     2,  Iter     3:    Energy =   0.0469
Level     2,  Iter     4:    Energy =   0.0482
Level     2,  Iter     5:    Energy =   0.0495
Level     2,  Iter     6:    Energy =   0.0505
Level     2,  Iter     7:    Energy =   0.0515
Level     2,  Iter     8:    Energy =   0.0524
Level     2,  Iter     9:    Energy =   0.0532
Level     2,  Iter    10:    Energy =   0.0539
Level     2,  Iter    11:    Energy =   0.0545
Level     2,  Iter    12:    Energy =   0.0550
Level     2,  Iter    13:    Energy =   0.0555
Level     2,  Iter    14:    Energy =   0.0560
Level     2,  Iter    15:    Energy =   0.0564
Level     2,  Iter    16:    Energy =   0.0568
Level     2,  Iter    17:    Energy =   0.0571
Level     2,  Iter    18:    Energy =   0.0574
Level     2,  Iter    19:    Energy =   0.0577
END OF LEVEL     2    DetJac Range:   0.0654  to   4.9378 
  Avg. Gradient Time  : 0.3575s  37.59% 
  Avg. Gaussian Time  : 0.4922s  51.75% 
  Avg. Iteration Time : 0.9511s 

real	0m31.609s
user	0m55.924s
sys	0m3.132s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.859615 0.865385
+ echo 'CHUNK 0.859615 0.865385 1'
CHUNK 0.859615 0.865385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.859615 0.865385 1
====================================
         PROGRESS: 0.859615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=020
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 020
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 020 right 0
+ local tid=020
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2072.50 	 OutFr   0.0108 	 RMSD     2.9046
Iter 002 	 Temp     3.72 	 Delta  2048.99 	 OutFr   0.0054 	 RMSD     2.3014
Iter 003 	 Temp     3.46 	 Delta  1975.02 	 OutFr   0.0054 	 RMSD     2.2991
Iter 004 	 Temp     3.22 	 Delta  1891.90 	 OutFr   0.0054 	 RMSD     2.2777
Iter 005 	 Temp     2.99 	 Delta  1807.05 	 OutFr   0.0054 	 RMSD     2.2570
Iter 006 	 Temp     2.78 	 Delta  1722.52 	 OutFr   0.0054 	 RMSD     2.2379
Iter 007 	 Temp     2.59 	 Delta  1639.70 	 OutFr   0.0081 	 RMSD     2.2199
Iter 008 	 Temp     2.41 	 Delta  1560.10 	 OutFr   0.0081 	 RMSD     2.2031
Iter 009 	 Temp     2.24 	 Delta  1485.17 	 OutFr   0.0081 	 RMSD     2.1886
Iter 010 	 Temp     2.08 	 Delta  1415.33 	 OutFr   0.0081 	 RMSD     2.1751
Iter 011 	 Temp     1.94 	 Delta  1349.41 	 OutFr   0.0081 	 RMSD     2.1627
Iter 012 	 Temp     1.80 	 Delta  1285.35 	 OutFr   0.0081 	 RMSD     2.1515
Iter 013 	 Temp     1.67 	 Delta  1221.12 	 OutFr   0.0081 	 RMSD     2.1412
Iter 014 	 Temp     1.56 	 Delta  1154.82 	 OutFr   0.0108 	 RMSD     2.1322
Iter 015 	 Temp     1.45 	 Delta  1084.49 	 OutFr   0.0136 	 RMSD     2.1242
Iter 016 	 Temp     1.35 	 Delta  1007.99 	 OutFr   0.0163 	 RMSD     2.1175
Iter 017 	 Temp     1.25 	 Delta   927.24 	 OutFr   0.0244 	 RMSD     2.1130
Iter 018 	 Temp     1.16 	 Delta   845.53 	 OutFr   0.0325 	 RMSD     2.1096
Iter 019 	 Temp     1.08 	 Delta   764.17 	 OutFr   0.0352 	 RMSD     2.1065
Iter 020 	 Temp     1.01 	 Delta   689.51 	 OutFr   0.0542 	 RMSD     2.1040
Iter 021 	 Temp     0.94 	 Delta   627.72 	 OutFr   0.0732 	 RMSD     2.1025
Iter 022 	 Temp     0.87 	 Delta   570.15 	 OutFr   0.0867 	 RMSD     2.1034
Iter 023 	 Temp     0.81 	 Delta   514.25 	 OutFr   0.1220 	 RMSD     2.1059
Iter 024 	 Temp     0.75 	 Delta   467.86 	 OutFr   0.1463 	 RMSD     2.1092
Iter 025 	 Temp     0.70 	 Delta   426.94 	 OutFr   0.1653 	 RMSD     2.1134
Iter 026 	 Temp     0.65 	 Delta   386.52 	 OutFr   0.1897 	 RMSD     2.1191
Iter 027 	 Temp     0.61 	 Delta   345.87 	 OutFr   0.2060 	 RMSD     2.1270
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.TAfERMl8/mybin.nii.gz
+ vtklevelset /tmp/ashs.TAfERMl8/mybin.nii.gz /tmp/ashs.TAfERMl8/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.TAfERMl8/mymesh.vtk /tmp/ashs.TAfERMl8/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 3182.32243334   0.99954705
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.TAfERMl8/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 15.6985 to 40.5022
   Y : -17.2162 to 27.8369
   Z : -19.8232 to 16.3326
   Image resolution  : 101 by 159 by 132
   Image box origin  : {10.6985, -22.2162, -24.8232}
   Image box size    : {35.0694, 55.2083, 46.1995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-10.6985, 22.2162, -24.8232]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat -o /tmp/ashs.TAfERMl8/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat -o /tmp/ashs.TAfERMl8/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.TAfERMl8/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.865385 0.871154
+ echo 'CHUNK 0.865385 0.871154 0.5'
CHUNK 0.865385 0.871154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.865385 0.871154 0.5
====================================
         PROGRESS: 0.865385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.TAfERMl8/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.TAfERMl8/fixed_hw.nii.gz /tmp/ashs.TAfERMl8/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.544282, moving = 0.484369
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.39059, 2.42484], [0.953763, 0.975954, 0.989938]
Level     0,  Iter     0:    Energy =   0.0428
Level     0,  Iter     1:    Energy =   0.0490
Level     0,  Iter     2:    Energy =   0.0545
Level     0,  Iter     3:    Energy =   0.0589
Level     0,  Iter     4:    Energy =   0.0622
Level     0,  Iter     5:    Energy =   0.0652
Level     0,  Iter     6:    Energy =   0.0687
Level     0,  Iter     7:    Energy =   0.0711
Level     0,  Iter     8:    Energy =   0.0727
Level     0,  Iter     9:    Energy =   0.0738
Level     0,  Iter    10:    Energy =   0.0750
Level     0,  Iter    11:    Energy =   0.0758
Level     0,  Iter    12:    Energy =   0.0761
Level     0,  Iter    13:    Energy =   0.0763
Level     0,  Iter    14:    Energy =   0.0768
Level     0,  Iter    15:    Energy =   0.0770
Level     0,  Iter    16:    Energy =   0.0771
Level     0,  Iter    17:    Energy =   0.0773
Level     0,  Iter    18:    Energy =   0.0775
Level     0,  Iter    19:    Energy =   0.0777
Level     0,  Iter    20:    Energy =   0.0779
Level     0,  Iter    21:    Energy =   0.0782
Level     0,  Iter    22:    Energy =   0.0784
Level     0,  Iter    23:    Energy =   0.0786
Level     0,  Iter    24:    Energy =   0.0787
Level     0,  Iter    25:    Energy =   0.0789
Level     0,  Iter    26:    Energy =   0.0790
Level     0,  Iter    27:    Energy =   0.0792
Level     0,  Iter    28:    Energy =   0.0792
Level     0,  Iter    29:    Energy =   0.0793
Level     0,  Iter    30:    Energy =   0.0794
Level     0,  Iter    31:    Energy =   0.0795
Level     0,  Iter    32:    Energy =   0.0795
Level     0,  Iter    33:    Energy =   0.0796
Level     0,  Iter    34:    Energy =   0.0796
Level     0,  Iter    35:    Energy =   0.0797
Level     0,  Iter    36:    Energy =   0.0796
Level     0,  Iter    37:    Energy =   0.0797
Level     0,  Iter    38:    Energy =   0.0797
Level     0,  Iter    39:    Energy =   0.0798
Level     0,  Iter    40:    Energy =   0.0798
Level     0,  Iter    41:    Energy =   0.0799
Level     0,  Iter    42:    Energy =   0.0798
Level     0,  Iter    43:    Energy =   0.0799
Level     0,  Iter    44:    Energy =   0.0799
Level     0,  Iter    45:    Energy =   0.0800
Level     0,  Iter    46:    Energy =   0.0800
Level     0,  Iter    47:    Energy =   0.0800
Level     0,  Iter    48:    Energy =   0.0800
Level     0,  Iter    49:    Energy =   0.0801
Level     0,  Iter    50:    Energy =   0.0801
Level     0,  Iter    51:    Energy =   0.0801
Level     0,  Iter    52:    Energy =   0.0801
Level     0,  Iter    53:    Energy =   0.0801
Level     0,  Iter    54:    Energy =   0.0801
Level     0,  Iter    55:    Energy =   0.0802
Level     0,  Iter    56:    Energy =   0.0802
Level     0,  Iter    57:    Energy =   0.0802
Level     0,  Iter    58:    Energy =   0.0802
Level     0,  Iter    59:    Energy =   0.0803
END OF LEVEL     0    DetJac Range:   0.3144  to   1.8754 
  Avg. Gradient Time  : 0.0087s  37.72% 
  Avg. Gaussian Time  : 0.0109s  47.15% 
  Avg. Iteration Time : 0.0230s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.19529, 1.21242], [0.486232, 0.487977, 0.494969]
Level     1,  Iter     0:    Energy =   0.0560
Level     1,  Iter     1:    Energy =   0.0600
Level     1,  Iter     2:    Energy =   0.0627
Level     1,  Iter     3:    Energy =   0.0651
Level     1,  Iter     4:    Energy =   0.0674
Level     1,  Iter     5:    Energy =   0.0689
Level     1,  Iter     6:    Energy =   0.0702
Level     1,  Iter     7:    Energy =   0.0713
Level     1,  Iter     8:    Energy =   0.0722
Level     1,  Iter     9:    Energy =   0.0729
Level     1,  Iter    10:    Energy =   0.0736
Level     1,  Iter    11:    Energy =   0.0743
Level     1,  Iter    12:    Energy =   0.0749
Level     1,  Iter    13:    Energy =   0.0754
Level     1,  Iter    14:    Energy =   0.0758
Level     1,  Iter    15:    Energy =   0.0760
Level     1,  Iter    16:    Energy =   0.0762
Level     1,  Iter    17:    Energy =   0.0763
Level     1,  Iter    18:    Energy =   0.0765
Level     1,  Iter    19:    Energy =   0.0767
Level     1,  Iter    20:    Energy =   0.0769
Level     1,  Iter    21:    Energy =   0.0773
Level     1,  Iter    22:    Energy =   0.0777
Level     1,  Iter    23:    Energy =   0.0777
Level     1,  Iter    24:    Energy =   0.0780
Level     1,  Iter    25:    Energy =   0.0779
Level     1,  Iter    26:    Energy =   0.0782
Level     1,  Iter    27:    Energy =   0.0781
Level     1,  Iter    28:    Energy =   0.0783
Level     1,  Iter    29:    Energy =   0.0783
Level     1,  Iter    30:    Energy =   0.0785
Level     1,  Iter    31:    Energy =   0.0784
Level     1,  Iter    32:    Energy =   0.0786
Level     1,  Iter    33:    Energy =   0.0785
Level     1,  Iter    34:    Energy =   0.0787
Level     1,  Iter    35:    Energy =   0.0786
Level     1,  Iter    36:    Energy =   0.0787
Level     1,  Iter    37:    Energy =   0.0787
Level     1,  Iter    38:    Energy =   0.0788
Level     1,  Iter    39:    Energy =   0.0788
Level     1,  Iter    40:    Energy =   0.0789
Level     1,  Iter    41:    Energy =   0.0789
Level     1,  Iter    42:    Energy =   0.0790
Level     1,  Iter    43:    Energy =   0.0790
Level     1,  Iter    44:    Energy =   0.0791
Level     1,  Iter    45:    Energy =   0.0791
Level     1,  Iter    46:    Energy =   0.0791
Level     1,  Iter    47:    Energy =   0.0792
Level     1,  Iter    48:    Energy =   0.0792
Level     1,  Iter    49:    Energy =   0.0792
Level     1,  Iter    50:    Energy =   0.0793
Level     1,  Iter    51:    Energy =   0.0793
Level     1,  Iter    52:    Energy =   0.0794
Level     1,  Iter    53:    Energy =   0.0793
Level     1,  Iter    54:    Energy =   0.0794
Level     1,  Iter    55:    Energy =   0.0794
Level     1,  Iter    56:    Energy =   0.0795
Level     1,  Iter    57:    Energy =   0.0795
Level     1,  Iter    58:    Energy =   0.0795
Level     1,  Iter    59:    Energy =   0.0795
END OF LEVEL     1    DetJac Range:   0.0971  to   3.4326 
  Avg. Gradient Time  : 0.0525s  39.88% 
  Avg. Gaussian Time  : 0.0633s  48.05% 
  Avg. Iteration Time : 0.1317s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0424
Level     2,  Iter     1:    Energy =   0.0450
Level     2,  Iter     2:    Energy =   0.0473
Level     2,  Iter     3:    Energy =   0.0496
Level     2,  Iter     4:    Energy =   0.0514
Level     2,  Iter     5:    Energy =   0.0528
Level     2,  Iter     6:    Energy =   0.0539
Level     2,  Iter     7:    Energy =   0.0549
Level     2,  Iter     8:    Energy =   0.0557
Level     2,  Iter     9:    Energy =   0.0564
Level     2,  Iter    10:    Energy =   0.0571
Level     2,  Iter    11:    Energy =   0.0575
Level     2,  Iter    12:    Energy =   0.0580
Level     2,  Iter    13:    Energy =   0.0584
Level     2,  Iter    14:    Energy =   0.0589
Level     2,  Iter    15:    Energy =   0.0593
Level     2,  Iter    16:    Energy =   0.0596
Level     2,  Iter    17:    Energy =   0.0600
Level     2,  Iter    18:    Energy =   0.0603
Level     2,  Iter    19:    Energy =   0.0606
END OF LEVEL     2    DetJac Range:   0.0526  to   4.5802 
  Avg. Gradient Time  : 0.3689s  37.39% 
  Avg. Gaussian Time  : 0.5132s  52.01% 
  Avg. Iteration Time : 0.9868s 

real	0m32.872s
user	0m58.488s
sys	0m3.152s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.865385 0.871154
+ echo 'CHUNK 0.865385 0.871154 1'
CHUNK 0.865385 0.871154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.865385 0.871154 1
====================================
         PROGRESS: 0.865385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=021
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 021
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 021 right 0
+ local tid=021
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1927.43 	 OutFr   0.0000 	 RMSD     2.9137
Iter 002 	 Temp     3.72 	 Delta  1905.01 	 OutFr   0.0000 	 RMSD     2.0479
Iter 003 	 Temp     3.46 	 Delta  1828.49 	 OutFr   0.0000 	 RMSD     2.0406
Iter 004 	 Temp     3.22 	 Delta  1741.41 	 OutFr   0.0000 	 RMSD     2.0214
Iter 005 	 Temp     2.99 	 Delta  1656.77 	 OutFr   0.0000 	 RMSD     2.0044
Iter 006 	 Temp     2.78 	 Delta  1577.52 	 OutFr   0.0000 	 RMSD     1.9901
Iter 007 	 Temp     2.59 	 Delta  1503.96 	 OutFr   0.0000 	 RMSD     1.9786
Iter 008 	 Temp     2.41 	 Delta  1435.05 	 OutFr   0.0000 	 RMSD     1.9694
Iter 009 	 Temp     2.24 	 Delta  1368.62 	 OutFr   0.0000 	 RMSD     1.9616
Iter 010 	 Temp     2.08 	 Delta  1301.82 	 OutFr   0.0000 	 RMSD     1.9552
Iter 011 	 Temp     1.94 	 Delta  1232.69 	 OutFr   0.0000 	 RMSD     1.9502
Iter 012 	 Temp     1.80 	 Delta  1161.55 	 OutFr   0.0000 	 RMSD     1.9461
Iter 013 	 Temp     1.67 	 Delta  1088.87 	 OutFr   0.0000 	 RMSD     1.9427
Iter 014 	 Temp     1.56 	 Delta  1014.62 	 OutFr   0.0000 	 RMSD     1.9394
Iter 015 	 Temp     1.45 	 Delta   945.97 	 OutFr   0.0000 	 RMSD     1.9362
Iter 016 	 Temp     1.35 	 Delta   888.73 	 OutFr   0.0027 	 RMSD     1.9330
Iter 017 	 Temp     1.25 	 Delta   838.10 	 OutFr   0.0108 	 RMSD     1.9299
Iter 018 	 Temp     1.16 	 Delta   789.74 	 OutFr   0.0136 	 RMSD     1.9267
Iter 019 	 Temp     1.08 	 Delta   738.71 	 OutFr   0.0136 	 RMSD     1.9234
Iter 020 	 Temp     1.01 	 Delta   683.97 	 OutFr   0.0163 	 RMSD     1.9205
Iter 021 	 Temp     0.94 	 Delta   630.91 	 OutFr   0.0325 	 RMSD     1.9180
Iter 022 	 Temp     0.87 	 Delta   585.16 	 OutFr   0.0461 	 RMSD     1.9163
Iter 023 	 Temp     0.81 	 Delta   544.53 	 OutFr   0.0569 	 RMSD     1.9161
Iter 024 	 Temp     0.75 	 Delta   504.45 	 OutFr   0.0732 	 RMSD     1.9162
Iter 025 	 Temp     0.70 	 Delta   463.27 	 OutFr   0.0867 	 RMSD     1.9172
Iter 026 	 Temp     0.65 	 Delta   419.71 	 OutFr   0.1030 	 RMSD     1.9186
Iter 027 	 Temp     0.61 	 Delta   373.62 	 OutFr   0.1220 	 RMSD     1.9211
Iter 028 	 Temp     0.56 	 Delta   328.78 	 OutFr   0.1599 	 RMSD     1.9240
Iter 029 	 Temp     0.52 	 Delta   289.08 	 OutFr   0.1951 	 RMSD     1.9275
Iter 030 	 Temp     0.49 	 Delta   254.50 	 OutFr   0.2493 	 RMSD     1.9307
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.aQkZB9ot/mybin.nii.gz
+ vtklevelset /tmp/ashs.aQkZB9ot/mybin.nii.gz /tmp/ashs.aQkZB9ot/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.aQkZB9ot/mymesh.vtk /tmp/ashs.aQkZB9ot/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 2998.98458785   0.94196181
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.aQkZB9ot/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 13.0209 to 39.1893
   Y : -15.7546 to 29.8523
   Z : -39.9292 to -10.3724
   Image resolution  : 105 by 161 by 114
   Image box origin  : {8.0209, -20.7546, -44.9292}
   Image box size    : {36.4583, 55.9027, 39.8995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-8.0209, 20.7546, -44.9292]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat -o /tmp/ashs.aQkZB9ot/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat -o /tmp/ashs.aQkZB9ot/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.aQkZB9ot/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.871154 0.876923
+ echo 'CHUNK 0.871154 0.876923 0.5'
CHUNK 0.871154 0.876923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.871154 0.876923 0.5
====================================
         PROGRESS: 0.871154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.aQkZB9ot/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.aQkZB9ot/fixed_hw.nii.gz /tmp/ashs.aQkZB9ot/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.566148, moving = 0.673863
LEVEL 1 of 3
  Smoothing sigmas: [2.3388, 2.36162, 2.38304], [0.954812, 0.964127, 0.97287]
Level     0,  Iter     0:    Energy =   0.0377
Level     0,  Iter     1:    Energy =   0.0432
Level     0,  Iter     2:    Energy =   0.0479
Level     0,  Iter     3:    Energy =   0.0530
Level     0,  Iter     4:    Energy =   0.0574
Level     0,  Iter     5:    Energy =   0.0608
Level     0,  Iter     6:    Energy =   0.0636
Level     0,  Iter     7:    Energy =   0.0660
Level     0,  Iter     8:    Energy =   0.0678
Level     0,  Iter     9:    Energy =   0.0697
Level     0,  Iter    10:    Energy =   0.0716
Level     0,  Iter    11:    Energy =   0.0733
Level     0,  Iter    12:    Energy =   0.0745
Level     0,  Iter    13:    Energy =   0.0756
Level     0,  Iter    14:    Energy =   0.0765
Level     0,  Iter    15:    Energy =   0.0776
Level     0,  Iter    16:    Energy =   0.0787
Level     0,  Iter    17:    Energy =   0.0794
Level     0,  Iter    18:    Energy =   0.0796
Level     0,  Iter    19:    Energy =   0.0799
Level     0,  Iter    20:    Energy =   0.0802
Level     0,  Iter    21:    Energy =   0.0806
Level     0,  Iter    22:    Energy =   0.0808
Level     0,  Iter    23:    Energy =   0.0811
Level     0,  Iter    24:    Energy =   0.0813
Level     0,  Iter    25:    Energy =   0.0815
Level     0,  Iter    26:    Energy =   0.0817
Level     0,  Iter    27:    Energy =   0.0820
Level     0,  Iter    28:    Energy =   0.0822
Level     0,  Iter    29:    Energy =   0.0825
Level     0,  Iter    30:    Energy =   0.0827
Level     0,  Iter    31:    Energy =   0.0829
Level     0,  Iter    32:    Energy =   0.0831
Level     0,  Iter    33:    Energy =   0.0834
Level     0,  Iter    34:    Energy =   0.0838
Level     0,  Iter    35:    Energy =   0.0840
Level     0,  Iter    36:    Energy =   0.0843
Level     0,  Iter    37:    Energy =   0.0845
Level     0,  Iter    38:    Energy =   0.0848
Level     0,  Iter    39:    Energy =   0.0849
Level     0,  Iter    40:    Energy =   0.0852
Level     0,  Iter    41:    Energy =   0.0853
Level     0,  Iter    42:    Energy =   0.0851
Level     0,  Iter    43:    Energy =   0.0852
Level     0,  Iter    44:    Energy =   0.0851
Level     0,  Iter    45:    Energy =   0.0852
Level     0,  Iter    46:    Energy =   0.0852
Level     0,  Iter    47:    Energy =   0.0853
Level     0,  Iter    48:    Energy =   0.0852
Level     0,  Iter    49:    Energy =   0.0853
Level     0,  Iter    50:    Energy =   0.0853
Level     0,  Iter    51:    Energy =   0.0854
Level     0,  Iter    52:    Energy =   0.0853
Level     0,  Iter    53:    Energy =   0.0854
Level     0,  Iter    54:    Energy =   0.0854
Level     0,  Iter    55:    Energy =   0.0855
Level     0,  Iter    56:    Energy =   0.0854
Level     0,  Iter    57:    Energy =   0.0855
Level     0,  Iter    58:    Energy =   0.0854
Level     0,  Iter    59:    Energy =   0.0856
END OF LEVEL     0    DetJac Range:   0.3748  to   2.2690 
  Avg. Gradient Time  : 0.0082s  37.51% 
  Avg. Gaussian Time  : 0.0104s  47.83% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19147, 1.19539, 1.21242], [0.486414, 0.488015, 0.494969]
Level     1,  Iter     0:    Energy =   0.0573
Level     1,  Iter     1:    Energy =   0.0604
Level     1,  Iter     2:    Energy =   0.0638
Level     1,  Iter     3:    Energy =   0.0672
Level     1,  Iter     4:    Energy =   0.0691
Level     1,  Iter     5:    Energy =   0.0706
Level     1,  Iter     6:    Energy =   0.0719
Level     1,  Iter     7:    Energy =   0.0735
Level     1,  Iter     8:    Energy =   0.0743
Level     1,  Iter     9:    Energy =   0.0746
Level     1,  Iter    10:    Energy =   0.0753
Level     1,  Iter    11:    Energy =   0.0755
Level     1,  Iter    12:    Energy =   0.0760
Level     1,  Iter    13:    Energy =   0.0761
Level     1,  Iter    14:    Energy =   0.0766
Level     1,  Iter    15:    Energy =   0.0765
Level     1,  Iter    16:    Energy =   0.0770
Level     1,  Iter    17:    Energy =   0.0769
Level     1,  Iter    18:    Energy =   0.0773
Level     1,  Iter    19:    Energy =   0.0772
Level     1,  Iter    20:    Energy =   0.0775
Level     1,  Iter    21:    Energy =   0.0774
Level     1,  Iter    22:    Energy =   0.0778
Level     1,  Iter    23:    Energy =   0.0776
Level     1,  Iter    24:    Energy =   0.0780
Level     1,  Iter    25:    Energy =   0.0779
Level     1,  Iter    26:    Energy =   0.0782
Level     1,  Iter    27:    Energy =   0.0781
Level     1,  Iter    28:    Energy =   0.0784
Level     1,  Iter    29:    Energy =   0.0782
Level     1,  Iter    30:    Energy =   0.0786
Level     1,  Iter    31:    Energy =   0.0784
Level     1,  Iter    32:    Energy =   0.0787
Level     1,  Iter    33:    Energy =   0.0784
Level     1,  Iter    34:    Energy =   0.0787
Level     1,  Iter    35:    Energy =   0.0785
Level     1,  Iter    36:    Energy =   0.0788
Level     1,  Iter    37:    Energy =   0.0786
Level     1,  Iter    38:    Energy =   0.0790
Level     1,  Iter    39:    Energy =   0.0787
Level     1,  Iter    40:    Energy =   0.0791
Level     1,  Iter    41:    Energy =   0.0788
Level     1,  Iter    42:    Energy =   0.0792
Level     1,  Iter    43:    Energy =   0.0789
Level     1,  Iter    44:    Energy =   0.0792
Level     1,  Iter    45:    Energy =   0.0790
Level     1,  Iter    46:    Energy =   0.0793
Level     1,  Iter    47:    Energy =   0.0791
Level     1,  Iter    48:    Energy =   0.0794
Level     1,  Iter    49:    Energy =   0.0791
Level     1,  Iter    50:    Energy =   0.0795
Level     1,  Iter    51:    Energy =   0.0792
Level     1,  Iter    52:    Energy =   0.0796
Level     1,  Iter    53:    Energy =   0.0793
Level     1,  Iter    54:    Energy =   0.0797
Level     1,  Iter    55:    Energy =   0.0794
Level     1,  Iter    56:    Energy =   0.0797
Level     1,  Iter    57:    Energy =   0.0794
Level     1,  Iter    58:    Energy =   0.0798
Level     1,  Iter    59:    Energy =   0.0795
END OF LEVEL     1    DetJac Range:   0.1908  to   3.6082 
  Avg. Gradient Time  : 0.0476s  39.84% 
  Avg. Gaussian Time  : 0.0577s  48.26% 
  Avg. Iteration Time : 0.1195s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0418
Level     2,  Iter     1:    Energy =   0.0438
Level     2,  Iter     2:    Energy =   0.0453
Level     2,  Iter     3:    Energy =   0.0466
Level     2,  Iter     4:    Energy =   0.0479
Level     2,  Iter     5:    Energy =   0.0492
Level     2,  Iter     6:    Energy =   0.0505
Level     2,  Iter     7:    Energy =   0.0517
Level     2,  Iter     8:    Energy =   0.0528
Level     2,  Iter     9:    Energy =   0.0536
Level     2,  Iter    10:    Energy =   0.0542
Level     2,  Iter    11:    Energy =   0.0548
Level     2,  Iter    12:    Energy =   0.0554
Level     2,  Iter    13:    Energy =   0.0562
Level     2,  Iter    14:    Energy =   0.0569
Level     2,  Iter    15:    Energy =   0.0575
Level     2,  Iter    16:    Energy =   0.0581
Level     2,  Iter    17:    Energy =   0.0586
Level     2,  Iter    18:    Energy =   0.0590
Level     2,  Iter    19:    Energy =   0.0594
END OF LEVEL     2    DetJac Range:   0.1116  to   5.1481 
  Avg. Gradient Time  : 0.3340s  37.33% 
  Avg. Gaussian Time  : 0.4650s  51.97% 
  Avg. Iteration Time : 0.8946s 

real	0m30.024s
user	0m53.028s
sys	0m2.856s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.871154 0.876923
+ echo 'CHUNK 0.871154 0.876923 1'
CHUNK 0.871154 0.876923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.871154 0.876923 1
====================================
         PROGRESS: 0.871154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=022
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 022
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 022 right 0
+ local tid=022
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2168.93 	 OutFr   0.0000 	 RMSD     2.3065
Iter 002 	 Temp     3.72 	 Delta  2221.68 	 OutFr   0.0000 	 RMSD     2.1721
Iter 003 	 Temp     3.46 	 Delta  2124.25 	 OutFr   0.0000 	 RMSD     2.2191
Iter 004 	 Temp     3.22 	 Delta  1994.90 	 OutFr   0.0000 	 RMSD     2.2072
Iter 005 	 Temp     2.99 	 Delta  1851.51 	 OutFr   0.0000 	 RMSD     2.1864
Iter 006 	 Temp     2.78 	 Delta  1702.32 	 OutFr   0.0000 	 RMSD     2.1648
Iter 007 	 Temp     2.59 	 Delta  1557.55 	 OutFr   0.0000 	 RMSD     2.1446
Iter 008 	 Temp     2.41 	 Delta  1431.56 	 OutFr   0.0000 	 RMSD     2.1266
Iter 009 	 Temp     2.24 	 Delta  1329.70 	 OutFr   0.0000 	 RMSD     2.1106
Iter 010 	 Temp     2.08 	 Delta  1242.95 	 OutFr   0.0027 	 RMSD     2.0980
Iter 011 	 Temp     1.94 	 Delta  1167.54 	 OutFr   0.0027 	 RMSD     2.0872
Iter 012 	 Temp     1.80 	 Delta  1101.07 	 OutFr   0.0027 	 RMSD     2.0780
Iter 013 	 Temp     1.67 	 Delta  1039.13 	 OutFr   0.0027 	 RMSD     2.0704
Iter 014 	 Temp     1.56 	 Delta   978.66 	 OutFr   0.0027 	 RMSD     2.0627
Iter 015 	 Temp     1.45 	 Delta   917.22 	 OutFr   0.0054 	 RMSD     2.0546
Iter 016 	 Temp     1.35 	 Delta   852.87 	 OutFr   0.0054 	 RMSD     2.0468
Iter 017 	 Temp     1.25 	 Delta   786.96 	 OutFr   0.0081 	 RMSD     2.0390
Iter 018 	 Temp     1.16 	 Delta   724.55 	 OutFr   0.0136 	 RMSD     2.0314
Iter 019 	 Temp     1.08 	 Delta   668.31 	 OutFr   0.0217 	 RMSD     2.0251
Iter 020 	 Temp     1.01 	 Delta   613.21 	 OutFr   0.0244 	 RMSD     2.0204
Iter 021 	 Temp     0.94 	 Delta   559.27 	 OutFr   0.0407 	 RMSD     2.0177
Iter 022 	 Temp     0.87 	 Delta   513.47 	 OutFr   0.0488 	 RMSD     2.0162
Iter 023 	 Temp     0.81 	 Delta   473.90 	 OutFr   0.0786 	 RMSD     2.0163
Iter 024 	 Temp     0.75 	 Delta   439.18 	 OutFr   0.1057 	 RMSD     2.0171
Iter 025 	 Temp     0.70 	 Delta   406.80 	 OutFr   0.1165 	 RMSD     2.0192
Iter 026 	 Temp     0.65 	 Delta   373.35 	 OutFr   0.1301 	 RMSD     2.0219
Iter 027 	 Temp     0.61 	 Delta   339.04 	 OutFr   0.1409 	 RMSD     2.0250
Iter 028 	 Temp     0.56 	 Delta   304.95 	 OutFr   0.1789 	 RMSD     2.0284
Iter 029 	 Temp     0.52 	 Delta   271.32 	 OutFr   0.2087 	 RMSD     2.0326
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.j7pHs3aM/mybin.nii.gz
+ vtklevelset /tmp/ashs.j7pHs3aM/mybin.nii.gz /tmp/ashs.j7pHs3aM/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.j7pHs3aM/mymesh.vtk /tmp/ashs.j7pHs3aM/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 2881.18567324   0.90496192
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.j7pHs3aM/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.5889 to 35.6553
   Y : -12.4099 to 30.1559
   Z : -30.406 to 3.16489
   Image resolution  : 101 by 152 by 125
   Image box origin  : {5.5889, -17.4099, -35.406}
   Image box size    : {35.0694, 52.7777, 43.7495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.5889, 17.4099, -35.406]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat -o /tmp/ashs.j7pHs3aM/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat -o /tmp/ashs.j7pHs3aM/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.j7pHs3aM/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.876923 0.882692
+ echo 'CHUNK 0.876923 0.882692 0.5'
CHUNK 0.876923 0.882692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.876923 0.882692 0.5
====================================
         PROGRESS: 0.876923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.j7pHs3aM/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.j7pHs3aM/fixed_hw.nii.gz /tmp/ashs.j7pHs3aM/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.564741, moving = 0.562946
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.40562, 2.36801], [0.953763, 0.982092, 0.966737]
Level     0,  Iter     0:    Energy =   0.0461
Level     0,  Iter     1:    Energy =   0.0527
Level     0,  Iter     2:    Energy =   0.0583
Level     0,  Iter     3:    Energy =   0.0639
Level     0,  Iter     4:    Energy =   0.0682
Level     0,  Iter     5:    Energy =   0.0713
Level     0,  Iter     6:    Energy =   0.0741
Level     0,  Iter     7:    Energy =   0.0758
Level     0,  Iter     8:    Energy =   0.0775
Level     0,  Iter     9:    Energy =   0.0791
Level     0,  Iter    10:    Energy =   0.0809
Level     0,  Iter    11:    Energy =   0.0818
Level     0,  Iter    12:    Energy =   0.0819
Level     0,  Iter    13:    Energy =   0.0822
Level     0,  Iter    14:    Energy =   0.0823
Level     0,  Iter    15:    Energy =   0.0825
Level     0,  Iter    16:    Energy =   0.0826
Level     0,  Iter    17:    Energy =   0.0829
Level     0,  Iter    18:    Energy =   0.0829
Level     0,  Iter    19:    Energy =   0.0831
Level     0,  Iter    20:    Energy =   0.0830
Level     0,  Iter    21:    Energy =   0.0833
Level     0,  Iter    22:    Energy =   0.0834
Level     0,  Iter    23:    Energy =   0.0840
Level     0,  Iter    24:    Energy =   0.0840
Level     0,  Iter    25:    Energy =   0.0843
Level     0,  Iter    26:    Energy =   0.0843
Level     0,  Iter    27:    Energy =   0.0848
Level     0,  Iter    28:    Energy =   0.0847
Level     0,  Iter    29:    Energy =   0.0849
Level     0,  Iter    30:    Energy =   0.0848
Level     0,  Iter    31:    Energy =   0.0853
Level     0,  Iter    32:    Energy =   0.0852
Level     0,  Iter    33:    Energy =   0.0853
Level     0,  Iter    34:    Energy =   0.0853
Level     0,  Iter    35:    Energy =   0.0857
Level     0,  Iter    36:    Energy =   0.0855
Level     0,  Iter    37:    Energy =   0.0857
Level     0,  Iter    38:    Energy =   0.0856
Level     0,  Iter    39:    Energy =   0.0859
Level     0,  Iter    40:    Energy =   0.0858
Level     0,  Iter    41:    Energy =   0.0859
Level     0,  Iter    42:    Energy =   0.0858
Level     0,  Iter    43:    Energy =   0.0861
Level     0,  Iter    44:    Energy =   0.0860
Level     0,  Iter    45:    Energy =   0.0860
Level     0,  Iter    46:    Energy =   0.0860
Level     0,  Iter    47:    Energy =   0.0863
Level     0,  Iter    48:    Energy =   0.0861
Level     0,  Iter    49:    Energy =   0.0861
Level     0,  Iter    50:    Energy =   0.0860
Level     0,  Iter    51:    Energy =   0.0863
Level     0,  Iter    52:    Energy =   0.0862
Level     0,  Iter    53:    Energy =   0.0862
Level     0,  Iter    54:    Energy =   0.0862
Level     0,  Iter    55:    Energy =   0.0864
Level     0,  Iter    56:    Energy =   0.0863
Level     0,  Iter    57:    Energy =   0.0863
Level     0,  Iter    58:    Energy =   0.0863
Level     0,  Iter    59:    Energy =   0.0865
END OF LEVEL     0    DetJac Range:   0.3483  to   2.2773 
  Avg. Gradient Time  : 0.0080s  37.91% 
  Avg. Gaussian Time  : 0.0099s  46.94% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.20281, 1.2028], [0.486232, 0.491046, 0.491041]
Level     1,  Iter     0:    Energy =   0.0578
Level     1,  Iter     1:    Energy =   0.0613
Level     1,  Iter     2:    Energy =   0.0646
Level     1,  Iter     3:    Energy =   0.0672
Level     1,  Iter     4:    Energy =   0.0692
Level     1,  Iter     5:    Energy =   0.0710
Level     1,  Iter     6:    Energy =   0.0726
Level     1,  Iter     7:    Energy =   0.0739
Level     1,  Iter     8:    Energy =   0.0749
Level     1,  Iter     9:    Energy =   0.0757
Level     1,  Iter    10:    Energy =   0.0764
Level     1,  Iter    11:    Energy =   0.0767
Level     1,  Iter    12:    Energy =   0.0768
Level     1,  Iter    13:    Energy =   0.0771
Level     1,  Iter    14:    Energy =   0.0772
Level     1,  Iter    15:    Energy =   0.0776
Level     1,  Iter    16:    Energy =   0.0775
Level     1,  Iter    17:    Energy =   0.0779
Level     1,  Iter    18:    Energy =   0.0778
Level     1,  Iter    19:    Energy =   0.0782
Level     1,  Iter    20:    Energy =   0.0781
Level     1,  Iter    21:    Energy =   0.0785
Level     1,  Iter    22:    Energy =   0.0784
Level     1,  Iter    23:    Energy =   0.0787
Level     1,  Iter    24:    Energy =   0.0786
Level     1,  Iter    25:    Energy =   0.0789
Level     1,  Iter    26:    Energy =   0.0787
Level     1,  Iter    27:    Energy =   0.0790
Level     1,  Iter    28:    Energy =   0.0788
Level     1,  Iter    29:    Energy =   0.0792
Level     1,  Iter    30:    Energy =   0.0790
Level     1,  Iter    31:    Energy =   0.0793
Level     1,  Iter    32:    Energy =   0.0791
Level     1,  Iter    33:    Energy =   0.0794
Level     1,  Iter    34:    Energy =   0.0792
Level     1,  Iter    35:    Energy =   0.0795
Level     1,  Iter    36:    Energy =   0.0792
Level     1,  Iter    37:    Energy =   0.0796
Level     1,  Iter    38:    Energy =   0.0793
Level     1,  Iter    39:    Energy =   0.0797
Level     1,  Iter    40:    Energy =   0.0794
Level     1,  Iter    41:    Energy =   0.0798
Level     1,  Iter    42:    Energy =   0.0795
Level     1,  Iter    43:    Energy =   0.0799
Level     1,  Iter    44:    Energy =   0.0796
Level     1,  Iter    45:    Energy =   0.0799
Level     1,  Iter    46:    Energy =   0.0797
Level     1,  Iter    47:    Energy =   0.0800
Level     1,  Iter    48:    Energy =   0.0798
Level     1,  Iter    49:    Energy =   0.0801
Level     1,  Iter    50:    Energy =   0.0798
Level     1,  Iter    51:    Energy =   0.0802
Level     1,  Iter    52:    Energy =   0.0799
Level     1,  Iter    53:    Energy =   0.0803
Level     1,  Iter    54:    Energy =   0.0800
Level     1,  Iter    55:    Energy =   0.0804
Level     1,  Iter    56:    Energy =   0.0801
Level     1,  Iter    57:    Energy =   0.0804
Level     1,  Iter    58:    Energy =   0.0802
Level     1,  Iter    59:    Energy =   0.0805
END OF LEVEL     1    DetJac Range:   0.1496  to   3.3097 
  Avg. Gradient Time  : 0.0478s  39.92% 
  Avg. Gaussian Time  : 0.0576s  48.10% 
  Avg. Iteration Time : 0.1198s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0427
Level     2,  Iter     1:    Energy =   0.0448
Level     2,  Iter     2:    Energy =   0.0467
Level     2,  Iter     3:    Energy =   0.0481
Level     2,  Iter     4:    Energy =   0.0493
Level     2,  Iter     5:    Energy =   0.0502
Level     2,  Iter     6:    Energy =   0.0511
Level     2,  Iter     7:    Energy =   0.0524
Level     2,  Iter     8:    Energy =   0.0536
Level     2,  Iter     9:    Energy =   0.0547
Level     2,  Iter    10:    Energy =   0.0557
Level     2,  Iter    11:    Energy =   0.0562
Level     2,  Iter    12:    Energy =   0.0566
Level     2,  Iter    13:    Energy =   0.0570
Level     2,  Iter    14:    Energy =   0.0574
Level     2,  Iter    15:    Energy =   0.0579
Level     2,  Iter    16:    Energy =   0.0583
Level     2,  Iter    17:    Energy =   0.0589
Level     2,  Iter    18:    Energy =   0.0595
Level     2,  Iter    19:    Energy =   0.0593
END OF LEVEL     2    DetJac Range:   0.0997  to   6.4583 
  Avg. Gradient Time  : 0.3319s  37.02% 
  Avg. Gaussian Time  : 0.4696s  52.38% 
  Avg. Iteration Time : 0.8964s 

real	0m29.893s
user	0m52.576s
sys	0m2.976s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.876923 0.882692
+ echo 'CHUNK 0.876923 0.882692 1'
CHUNK 0.876923 0.882692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.876923 0.882692 1
====================================
         PROGRESS: 0.876923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=023
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 023
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 023 right 0
+ local tid=023
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1608.04 	 OutFr   0.0000 	 RMSD     2.5141
Iter 002 	 Temp     3.72 	 Delta  1664.93 	 OutFr   0.0000 	 RMSD     1.8791
Iter 003 	 Temp     3.46 	 Delta  1585.89 	 OutFr   0.0000 	 RMSD     1.9353
Iter 004 	 Temp     3.22 	 Delta  1479.11 	 OutFr   0.0000 	 RMSD     1.9348
Iter 005 	 Temp     2.99 	 Delta  1374.40 	 OutFr   0.0000 	 RMSD     1.9205
Iter 006 	 Temp     2.78 	 Delta  1278.48 	 OutFr   0.0000 	 RMSD     1.9018
Iter 007 	 Temp     2.59 	 Delta  1189.58 	 OutFr   0.0000 	 RMSD     1.8821
Iter 008 	 Temp     2.41 	 Delta  1105.16 	 OutFr   0.0000 	 RMSD     1.8635
Iter 009 	 Temp     2.24 	 Delta  1025.39 	 OutFr   0.0000 	 RMSD     1.8464
Iter 010 	 Temp     2.08 	 Delta   951.52 	 OutFr   0.0000 	 RMSD     1.8308
Iter 011 	 Temp     1.94 	 Delta   883.69 	 OutFr   0.0000 	 RMSD     1.8171
Iter 012 	 Temp     1.80 	 Delta   820.70 	 OutFr   0.0000 	 RMSD     1.8044
Iter 013 	 Temp     1.67 	 Delta   761.56 	 OutFr   0.0000 	 RMSD     1.7928
Iter 014 	 Temp     1.56 	 Delta   706.56 	 OutFr   0.0027 	 RMSD     1.7830
Iter 015 	 Temp     1.45 	 Delta   656.08 	 OutFr   0.0081 	 RMSD     1.7742
Iter 016 	 Temp     1.35 	 Delta   610.34 	 OutFr   0.0081 	 RMSD     1.7661
Iter 017 	 Temp     1.25 	 Delta   570.56 	 OutFr   0.0108 	 RMSD     1.7604
Iter 018 	 Temp     1.16 	 Delta   535.41 	 OutFr   0.0136 	 RMSD     1.7558
Iter 019 	 Temp     1.08 	 Delta   500.49 	 OutFr   0.0217 	 RMSD     1.7505
Iter 020 	 Temp     1.01 	 Delta   464.69 	 OutFr   0.0217 	 RMSD     1.7455
Iter 021 	 Temp     0.94 	 Delta   433.23 	 OutFr   0.0352 	 RMSD     1.7420
Iter 022 	 Temp     0.87 	 Delta   407.32 	 OutFr   0.0434 	 RMSD     1.7400
Iter 023 	 Temp     0.81 	 Delta   381.80 	 OutFr   0.0488 	 RMSD     1.7391
Iter 024 	 Temp     0.75 	 Delta   355.58 	 OutFr   0.0678 	 RMSD     1.7395
Iter 025 	 Temp     0.70 	 Delta   330.93 	 OutFr   0.0813 	 RMSD     1.7408
Iter 026 	 Temp     0.65 	 Delta   310.15 	 OutFr   0.1030 	 RMSD     1.7424
Iter 027 	 Temp     0.61 	 Delta   293.91 	 OutFr   0.1220 	 RMSD     1.7441
Iter 028 	 Temp     0.56 	 Delta   279.55 	 OutFr   0.1247 	 RMSD     1.7461
Iter 029 	 Temp     0.52 	 Delta   262.66 	 OutFr   0.1463 	 RMSD     1.7473
Iter 030 	 Temp     0.49 	 Delta   242.98 	 OutFr   0.1707 	 RMSD     1.7479
Iter 031 	 Temp     0.45 	 Delta   222.53 	 OutFr   0.2060 	 RMSD     1.7488
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.IMVjh3jY/mybin.nii.gz
+ vtklevelset /tmp/ashs.IMVjh3jY/mybin.nii.gz /tmp/ashs.IMVjh3jY/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.IMVjh3jY/mymesh.vtk /tmp/ashs.IMVjh3jY/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 2857.48776589   0.89751856
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.IMVjh3jY/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 12.8128 to 37.3316
   Y : -15.6049 to 27.4741
   Z : -25.8269 to 6.28163
   Image resolution  : 100 by 153 by 121
   Image box origin  : {7.8128, -20.6049, -30.8269}
   Image box size    : {34.7222, 53.125, 42.3495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-7.8128, 20.6049, -30.8269]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat -o /tmp/ashs.IMVjh3jY/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat -o /tmp/ashs.IMVjh3jY/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.IMVjh3jY/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.882692 0.888462
+ echo 'CHUNK 0.882692 0.888462 0.5'
CHUNK 0.882692 0.888462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.882692 0.888462 0.5
====================================
         PROGRESS: 0.882692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.IMVjh3jY/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.IMVjh3jY/fixed_hw.nii.gz /tmp/ashs.IMVjh3jY/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54775, moving = 0.78336
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.35936, 2.36618], [0.982092, 0.963206, 0.965988]
Level     0,  Iter     0:    Energy =   0.0527
Level     0,  Iter     1:    Energy =   0.0603
Level     0,  Iter     2:    Energy =   0.0665
Level     0,  Iter     3:    Energy =   0.0723
Level     0,  Iter     4:    Energy =   0.0765
Level     0,  Iter     5:    Energy =   0.0804
Level     0,  Iter     6:    Energy =   0.0827
Level     0,  Iter     7:    Energy =   0.0852
Level     0,  Iter     8:    Energy =   0.0872
Level     0,  Iter     9:    Energy =   0.0886
Level     0,  Iter    10:    Energy =   0.0899
Level     0,  Iter    11:    Energy =   0.0907
Level     0,  Iter    12:    Energy =   0.0912
Level     0,  Iter    13:    Energy =   0.0914
Level     0,  Iter    14:    Energy =   0.0918
Level     0,  Iter    15:    Energy =   0.0919
Level     0,  Iter    16:    Energy =   0.0922
Level     0,  Iter    17:    Energy =   0.0922
Level     0,  Iter    18:    Energy =   0.0924
Level     0,  Iter    19:    Energy =   0.0924
Level     0,  Iter    20:    Energy =   0.0926
Level     0,  Iter    21:    Energy =   0.0926
Level     0,  Iter    22:    Energy =   0.0927
Level     0,  Iter    23:    Energy =   0.0928
Level     0,  Iter    24:    Energy =   0.0929
Level     0,  Iter    25:    Energy =   0.0930
Level     0,  Iter    26:    Energy =   0.0931
Level     0,  Iter    27:    Energy =   0.0931
Level     0,  Iter    28:    Energy =   0.0933
Level     0,  Iter    29:    Energy =   0.0933
Level     0,  Iter    30:    Energy =   0.0934
Level     0,  Iter    31:    Energy =   0.0934
Level     0,  Iter    32:    Energy =   0.0935
Level     0,  Iter    33:    Energy =   0.0935
Level     0,  Iter    34:    Energy =   0.0936
Level     0,  Iter    35:    Energy =   0.0936
Level     0,  Iter    36:    Energy =   0.0937
Level     0,  Iter    37:    Energy =   0.0936
Level     0,  Iter    38:    Energy =   0.0938
Level     0,  Iter    39:    Energy =   0.0936
Level     0,  Iter    40:    Energy =   0.0938
Level     0,  Iter    41:    Energy =   0.0937
Level     0,  Iter    42:    Energy =   0.0939
Level     0,  Iter    43:    Energy =   0.0938
Level     0,  Iter    44:    Energy =   0.0939
Level     0,  Iter    45:    Energy =   0.0939
Level     0,  Iter    46:    Energy =   0.0940
Level     0,  Iter    47:    Energy =   0.0939
Level     0,  Iter    48:    Energy =   0.0940
Level     0,  Iter    49:    Energy =   0.0939
Level     0,  Iter    50:    Energy =   0.0941
Level     0,  Iter    51:    Energy =   0.0940
Level     0,  Iter    52:    Energy =   0.0941
Level     0,  Iter    53:    Energy =   0.0940
Level     0,  Iter    54:    Energy =   0.0941
Level     0,  Iter    55:    Energy =   0.0940
Level     0,  Iter    56:    Energy =   0.0941
Level     0,  Iter    57:    Energy =   0.0940
Level     0,  Iter    58:    Energy =   0.0941
Level     0,  Iter    59:    Energy =   0.0940
END OF LEVEL     0    DetJac Range:   0.2817  to   2.7284 
  Avg. Gradient Time  : 0.0078s  37.91% 
  Avg. Gaussian Time  : 0.0096s  46.87% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.195, 1.20248], [0.491046, 0.487857, 0.490912]
Level     1,  Iter     0:    Energy =   0.0658
Level     1,  Iter     1:    Energy =   0.0699
Level     1,  Iter     2:    Energy =   0.0730
Level     1,  Iter     3:    Energy =   0.0751
Level     1,  Iter     4:    Energy =   0.0772
Level     1,  Iter     5:    Energy =   0.0792
Level     1,  Iter     6:    Energy =   0.0813
Level     1,  Iter     7:    Energy =   0.0831
Level     1,  Iter     8:    Energy =   0.0847
Level     1,  Iter     9:    Energy =   0.0858
Level     1,  Iter    10:    Energy =   0.0867
Level     1,  Iter    11:    Energy =   0.0873
Level     1,  Iter    12:    Energy =   0.0874
Level     1,  Iter    13:    Energy =   0.0875
Level     1,  Iter    14:    Energy =   0.0875
Level     1,  Iter    15:    Energy =   0.0876
Level     1,  Iter    16:    Energy =   0.0877
Level     1,  Iter    17:    Energy =   0.0877
Level     1,  Iter    18:    Energy =   0.0878
Level     1,  Iter    19:    Energy =   0.0878
Level     1,  Iter    20:    Energy =   0.0879
Level     1,  Iter    21:    Energy =   0.0880
Level     1,  Iter    22:    Energy =   0.0880
Level     1,  Iter    23:    Energy =   0.0881
Level     1,  Iter    24:    Energy =   0.0881
Level     1,  Iter    25:    Energy =   0.0882
Level     1,  Iter    26:    Energy =   0.0882
Level     1,  Iter    27:    Energy =   0.0883
Level     1,  Iter    28:    Energy =   0.0883
Level     1,  Iter    29:    Energy =   0.0884
Level     1,  Iter    30:    Energy =   0.0883
Level     1,  Iter    31:    Energy =   0.0884
Level     1,  Iter    32:    Energy =   0.0884
Level     1,  Iter    33:    Energy =   0.0885
Level     1,  Iter    34:    Energy =   0.0885
Level     1,  Iter    35:    Energy =   0.0885
Level     1,  Iter    36:    Energy =   0.0885
Level     1,  Iter    37:    Energy =   0.0885
Level     1,  Iter    38:    Energy =   0.0886
Level     1,  Iter    39:    Energy =   0.0886
Level     1,  Iter    40:    Energy =   0.0886
Level     1,  Iter    41:    Energy =   0.0886
Level     1,  Iter    42:    Energy =   0.0886
Level     1,  Iter    43:    Energy =   0.0887
Level     1,  Iter    44:    Energy =   0.0887
Level     1,  Iter    45:    Energy =   0.0887
Level     1,  Iter    46:    Energy =   0.0887
Level     1,  Iter    47:    Energy =   0.0888
Level     1,  Iter    48:    Energy =   0.0887
Level     1,  Iter    49:    Energy =   0.0888
Level     1,  Iter    50:    Energy =   0.0888
Level     1,  Iter    51:    Energy =   0.0888
Level     1,  Iter    52:    Energy =   0.0888
Level     1,  Iter    53:    Energy =   0.0888
Level     1,  Iter    54:    Energy =   0.0888
Level     1,  Iter    55:    Energy =   0.0888
Level     1,  Iter    56:    Energy =   0.0888
Level     1,  Iter    57:    Energy =   0.0888
Level     1,  Iter    58:    Energy =   0.0888
Level     1,  Iter    59:    Energy =   0.0888
END OF LEVEL     1    DetJac Range:   0.1396  to   3.7601 
  Avg. Gradient Time  : 0.0455s  39.79% 
  Avg. Gaussian Time  : 0.0552s  48.29% 
  Avg. Iteration Time : 0.1143s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0482
Level     2,  Iter     1:    Energy =   0.0506
Level     2,  Iter     2:    Energy =   0.0527
Level     2,  Iter     3:    Energy =   0.0545
Level     2,  Iter     4:    Energy =   0.0559
Level     2,  Iter     5:    Energy =   0.0573
Level     2,  Iter     6:    Energy =   0.0587
Level     2,  Iter     7:    Energy =   0.0600
Level     2,  Iter     8:    Energy =   0.0610
Level     2,  Iter     9:    Energy =   0.0618
Level     2,  Iter    10:    Energy =   0.0626
Level     2,  Iter    11:    Energy =   0.0631
Level     2,  Iter    12:    Energy =   0.0635
Level     2,  Iter    13:    Energy =   0.0639
Level     2,  Iter    14:    Energy =   0.0643
Level     2,  Iter    15:    Energy =   0.0647
Level     2,  Iter    16:    Energy =   0.0651
Level     2,  Iter    17:    Energy =   0.0654
Level     2,  Iter    18:    Energy =   0.0656
Level     2,  Iter    19:    Energy =   0.0659
END OF LEVEL     2    DetJac Range:   0.0817  to   5.5045 
  Avg. Gradient Time  : 0.3217s  37.24% 
  Avg. Gaussian Time  : 0.4505s  52.15% 
  Avg. Iteration Time : 0.8638s 

real	0m28.785s
user	0m51.132s
sys	0m2.744s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.882692 0.888462
+ echo 'CHUNK 0.882692 0.888462 1'
CHUNK 0.882692 0.888462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.882692 0.888462 1
====================================
         PROGRESS: 0.882692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=024
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 024
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 024 right 0
+ local tid=024
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1970.60 	 OutFr   0.0000 	 RMSD     3.3062
Iter 002 	 Temp     3.72 	 Delta  1854.59 	 OutFr   0.0000 	 RMSD     2.1038
Iter 003 	 Temp     3.46 	 Delta  1752.01 	 OutFr   0.0000 	 RMSD     2.1029
Iter 004 	 Temp     3.22 	 Delta  1658.37 	 OutFr   0.0000 	 RMSD     2.0782
Iter 005 	 Temp     2.99 	 Delta  1566.56 	 OutFr   0.0000 	 RMSD     2.0556
Iter 006 	 Temp     2.78 	 Delta  1472.26 	 OutFr   0.0000 	 RMSD     2.0355
Iter 007 	 Temp     2.59 	 Delta  1375.89 	 OutFr   0.0000 	 RMSD     2.0187
Iter 008 	 Temp     2.41 	 Delta  1282.11 	 OutFr   0.0000 	 RMSD     2.0052
Iter 009 	 Temp     2.24 	 Delta  1195.02 	 OutFr   0.0000 	 RMSD     1.9943
Iter 010 	 Temp     2.08 	 Delta  1115.77 	 OutFr   0.0000 	 RMSD     1.9854
Iter 011 	 Temp     1.94 	 Delta  1043.94 	 OutFr   0.0000 	 RMSD     1.9780
Iter 012 	 Temp     1.80 	 Delta   978.91 	 OutFr   0.0054 	 RMSD     1.9713
Iter 013 	 Temp     1.67 	 Delta   919.65 	 OutFr   0.0081 	 RMSD     1.9647
Iter 014 	 Temp     1.56 	 Delta   864.94 	 OutFr   0.0081 	 RMSD     1.9586
Iter 015 	 Temp     1.45 	 Delta   814.41 	 OutFr   0.0108 	 RMSD     1.9534
Iter 016 	 Temp     1.35 	 Delta   768.27 	 OutFr   0.0136 	 RMSD     1.9490
Iter 017 	 Temp     1.25 	 Delta   725.91 	 OutFr   0.0136 	 RMSD     1.9461
Iter 018 	 Temp     1.16 	 Delta   685.88 	 OutFr   0.0163 	 RMSD     1.9440
Iter 019 	 Temp     1.08 	 Delta   646.50 	 OutFr   0.0190 	 RMSD     1.9429
Iter 020 	 Temp     1.01 	 Delta   608.61 	 OutFr   0.0244 	 RMSD     1.9425
Iter 021 	 Temp     0.94 	 Delta   576.59 	 OutFr   0.0244 	 RMSD     1.9417
Iter 022 	 Temp     0.87 	 Delta   549.51 	 OutFr   0.0352 	 RMSD     1.9417
Iter 023 	 Temp     0.81 	 Delta   521.32 	 OutFr   0.0488 	 RMSD     1.9428
Iter 024 	 Temp     0.75 	 Delta   490.99 	 OutFr   0.0515 	 RMSD     1.9441
Iter 025 	 Temp     0.70 	 Delta   460.56 	 OutFr   0.0623 	 RMSD     1.9456
Iter 026 	 Temp     0.65 	 Delta   428.29 	 OutFr   0.0867 	 RMSD     1.9474
Iter 027 	 Temp     0.61 	 Delta   394.29 	 OutFr   0.1084 	 RMSD     1.9499
Iter 028 	 Temp     0.56 	 Delta   360.12 	 OutFr   0.1463 	 RMSD     1.9527
Iter 029 	 Temp     0.52 	 Delta   323.72 	 OutFr   0.1816 	 RMSD     1.9561
Iter 030 	 Temp     0.49 	 Delta   285.68 	 OutFr   0.2385 	 RMSD     1.9600
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.66fFeRbZ/mybin.nii.gz
+ vtklevelset /tmp/ashs.66fFeRbZ/mybin.nii.gz /tmp/ashs.66fFeRbZ/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.66fFeRbZ/mymesh.vtk /tmp/ashs.66fFeRbZ/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 2781.77041455   0.87373623
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.66fFeRbZ/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.6477 to 35.2867
   Y : -10.6136 to 33.0441
   Z : -25.4503 to 3.86447
   Image resolution  : 97 by 155 by 113
   Image box origin  : {6.6477, -15.6136, -30.4503}
   Image box size    : {33.6805, 53.8194, 39.5495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.6477, 15.6136, -30.4503]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat -o /tmp/ashs.66fFeRbZ/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat -o /tmp/ashs.66fFeRbZ/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.66fFeRbZ/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.888462 0.894231
+ echo 'CHUNK 0.888462 0.894231 0.5'
CHUNK 0.888462 0.894231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.888462 0.894231 0.5
====================================
         PROGRESS: 0.888462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.66fFeRbZ/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.66fFeRbZ/fixed_hw.nii.gz /tmp/ashs.66fFeRbZ/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.551847, moving = 0.641714
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.3902, 2.36213], [0.952629, 0.975797, 0.964336]
Level     0,  Iter     0:    Energy =   0.0336
Level     0,  Iter     1:    Energy =   0.0385
Level     0,  Iter     2:    Energy =   0.0426
Level     0,  Iter     3:    Energy =   0.0471
Level     0,  Iter     4:    Energy =   0.0518
Level     0,  Iter     5:    Energy =   0.0563
Level     0,  Iter     6:    Energy =   0.0590
Level     0,  Iter     7:    Energy =   0.0609
Level     0,  Iter     8:    Energy =   0.0623
Level     0,  Iter     9:    Energy =   0.0633
Level     0,  Iter    10:    Energy =   0.0641
Level     0,  Iter    11:    Energy =   0.0649
Level     0,  Iter    12:    Energy =   0.0659
Level     0,  Iter    13:    Energy =   0.0669
Level     0,  Iter    14:    Energy =   0.0677
Level     0,  Iter    15:    Energy =   0.0686
Level     0,  Iter    16:    Energy =   0.0697
Level     0,  Iter    17:    Energy =   0.0708
Level     0,  Iter    18:    Energy =   0.0720
Level     0,  Iter    19:    Energy =   0.0724
Level     0,  Iter    20:    Energy =   0.0727
Level     0,  Iter    21:    Energy =   0.0726
Level     0,  Iter    22:    Energy =   0.0731
Level     0,  Iter    23:    Energy =   0.0730
Level     0,  Iter    24:    Energy =   0.0736
Level     0,  Iter    25:    Energy =   0.0734
Level     0,  Iter    26:    Energy =   0.0740
Level     0,  Iter    27:    Energy =   0.0737
Level     0,  Iter    28:    Energy =   0.0742
Level     0,  Iter    29:    Energy =   0.0740
Level     0,  Iter    30:    Energy =   0.0742
Level     0,  Iter    31:    Energy =   0.0740
Level     0,  Iter    32:    Energy =   0.0744
Level     0,  Iter    33:    Energy =   0.0741
Level     0,  Iter    34:    Energy =   0.0746
Level     0,  Iter    35:    Energy =   0.0743
Level     0,  Iter    36:    Energy =   0.0747
Level     0,  Iter    37:    Energy =   0.0744
Level     0,  Iter    38:    Energy =   0.0749
Level     0,  Iter    39:    Energy =   0.0746
Level     0,  Iter    40:    Energy =   0.0752
Level     0,  Iter    41:    Energy =   0.0748
Level     0,  Iter    42:    Energy =   0.0751
Level     0,  Iter    43:    Energy =   0.0748
Level     0,  Iter    44:    Energy =   0.0753
Level     0,  Iter    45:    Energy =   0.0750
Level     0,  Iter    46:    Energy =   0.0752
Level     0,  Iter    47:    Energy =   0.0750
Level     0,  Iter    48:    Energy =   0.0753
Level     0,  Iter    49:    Energy =   0.0751
Level     0,  Iter    50:    Energy =   0.0754
Level     0,  Iter    51:    Energy =   0.0752
Level     0,  Iter    52:    Energy =   0.0755
Level     0,  Iter    53:    Energy =   0.0753
Level     0,  Iter    54:    Energy =   0.0755
Level     0,  Iter    55:    Energy =   0.0753
Level     0,  Iter    56:    Energy =   0.0756
Level     0,  Iter    57:    Energy =   0.0753
Level     0,  Iter    58:    Energy =   0.0756
Level     0,  Iter    59:    Energy =   0.0754
END OF LEVEL     0    DetJac Range:   0.3568  to   2.7796 
  Avg. Gradient Time  : 0.0073s  37.76% 
  Avg. Gaussian Time  : 0.0090s  46.77% 
  Avg. Iteration Time : 0.0193s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.1951, 1.20179], [0.486035, 0.487898, 0.490627]
Level     1,  Iter     0:    Energy =   0.0520
Level     1,  Iter     1:    Energy =   0.0563
Level     1,  Iter     2:    Energy =   0.0594
Level     1,  Iter     3:    Energy =   0.0624
Level     1,  Iter     4:    Energy =   0.0648
Level     1,  Iter     5:    Energy =   0.0670
Level     1,  Iter     6:    Energy =   0.0688
Level     1,  Iter     7:    Energy =   0.0703
Level     1,  Iter     8:    Energy =   0.0714
Level     1,  Iter     9:    Energy =   0.0725
Level     1,  Iter    10:    Energy =   0.0729
Level     1,  Iter    11:    Energy =   0.0735
Level     1,  Iter    12:    Energy =   0.0734
Level     1,  Iter    13:    Energy =   0.0742
Level     1,  Iter    14:    Energy =   0.0743
Level     1,  Iter    15:    Energy =   0.0747
Level     1,  Iter    16:    Energy =   0.0746
Level     1,  Iter    17:    Energy =   0.0751
Level     1,  Iter    18:    Energy =   0.0750
Level     1,  Iter    19:    Energy =   0.0753
Level     1,  Iter    20:    Energy =   0.0753
Level     1,  Iter    21:    Energy =   0.0755
Level     1,  Iter    22:    Energy =   0.0756
Level     1,  Iter    23:    Energy =   0.0757
Level     1,  Iter    24:    Energy =   0.0758
Level     1,  Iter    25:    Energy =   0.0759
Level     1,  Iter    26:    Energy =   0.0760
Level     1,  Iter    27:    Energy =   0.0760
Level     1,  Iter    28:    Energy =   0.0761
Level     1,  Iter    29:    Energy =   0.0762
Level     1,  Iter    30:    Energy =   0.0762
Level     1,  Iter    31:    Energy =   0.0763
Level     1,  Iter    32:    Energy =   0.0763
Level     1,  Iter    33:    Energy =   0.0764
Level     1,  Iter    34:    Energy =   0.0763
Level     1,  Iter    35:    Energy =   0.0765
Level     1,  Iter    36:    Energy =   0.0764
Level     1,  Iter    37:    Energy =   0.0766
Level     1,  Iter    38:    Energy =   0.0765
Level     1,  Iter    39:    Energy =   0.0767
Level     1,  Iter    40:    Energy =   0.0766
Level     1,  Iter    41:    Energy =   0.0768
Level     1,  Iter    42:    Energy =   0.0767
Level     1,  Iter    43:    Energy =   0.0769
Level     1,  Iter    44:    Energy =   0.0768
Level     1,  Iter    45:    Energy =   0.0770
Level     1,  Iter    46:    Energy =   0.0769
Level     1,  Iter    47:    Energy =   0.0771
Level     1,  Iter    48:    Energy =   0.0770
Level     1,  Iter    49:    Energy =   0.0772
Level     1,  Iter    50:    Energy =   0.0771
Level     1,  Iter    51:    Energy =   0.0772
Level     1,  Iter    52:    Energy =   0.0771
Level     1,  Iter    53:    Energy =   0.0773
Level     1,  Iter    54:    Energy =   0.0772
Level     1,  Iter    55:    Energy =   0.0774
Level     1,  Iter    56:    Energy =   0.0772
Level     1,  Iter    57:    Energy =   0.0774
Level     1,  Iter    58:    Energy =   0.0773
Level     1,  Iter    59:    Energy =   0.0774
END OF LEVEL     1    DetJac Range:   0.1472  to   3.4358 
  Avg. Gradient Time  : 0.0424s  40.16% 
  Avg. Gaussian Time  : 0.0507s  47.97% 
  Avg. Iteration Time : 0.1056s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0408
Level     2,  Iter     1:    Energy =   0.0431
Level     2,  Iter     2:    Energy =   0.0452
Level     2,  Iter     3:    Energy =   0.0472
Level     2,  Iter     4:    Energy =   0.0489
Level     2,  Iter     5:    Energy =   0.0502
Level     2,  Iter     6:    Energy =   0.0513
Level     2,  Iter     7:    Energy =   0.0523
Level     2,  Iter     8:    Energy =   0.0532
Level     2,  Iter     9:    Energy =   0.0540
Level     2,  Iter    10:    Energy =   0.0546
Level     2,  Iter    11:    Energy =   0.0552
Level     2,  Iter    12:    Energy =   0.0558
Level     2,  Iter    13:    Energy =   0.0563
Level     2,  Iter    14:    Energy =   0.0567
Level     2,  Iter    15:    Energy =   0.0571
Level     2,  Iter    16:    Energy =   0.0575
Level     2,  Iter    17:    Energy =   0.0579
Level     2,  Iter    18:    Energy =   0.0582
Level     2,  Iter    19:    Energy =   0.0584
END OF LEVEL     2    DetJac Range:   0.0679  to   4.4463 
  Avg. Gradient Time  : 0.2985s  37.43% 
  Avg. Gaussian Time  : 0.4140s  51.92% 
  Avg. Iteration Time : 0.7974s 

real	0m26.673s
user	0m46.960s
sys	0m2.700s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.888462 0.894231
+ echo 'CHUNK 0.888462 0.894231 1'
CHUNK 0.888462 0.894231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.888462 0.894231 1
====================================
         PROGRESS: 0.888462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=025
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 025
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 025 right 0
+ local tid=025
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1973.69 	 OutFr   0.0000 	 RMSD     3.3197
Iter 002 	 Temp     3.72 	 Delta  1830.31 	 OutFr   0.0000 	 RMSD     2.2278
Iter 003 	 Temp     3.46 	 Delta  1755.97 	 OutFr   0.0000 	 RMSD     2.2695
Iter 004 	 Temp     3.22 	 Delta  1694.43 	 OutFr   0.0000 	 RMSD     2.2458
Iter 005 	 Temp     2.99 	 Delta  1642.18 	 OutFr   0.0000 	 RMSD     2.2173
Iter 006 	 Temp     2.78 	 Delta  1600.86 	 OutFr   0.0000 	 RMSD     2.1912
Iter 007 	 Temp     2.59 	 Delta  1565.36 	 OutFr   0.0027 	 RMSD     2.1690
Iter 008 	 Temp     2.41 	 Delta  1528.68 	 OutFr   0.0027 	 RMSD     2.1511
Iter 009 	 Temp     2.24 	 Delta  1485.60 	 OutFr   0.0027 	 RMSD     2.1356
Iter 010 	 Temp     2.08 	 Delta  1433.01 	 OutFr   0.0027 	 RMSD     2.1215
Iter 011 	 Temp     1.94 	 Delta  1370.65 	 OutFr   0.0027 	 RMSD     2.1090
Iter 012 	 Temp     1.80 	 Delta  1302.03 	 OutFr   0.0027 	 RMSD     2.0980
Iter 013 	 Temp     1.67 	 Delta  1234.59 	 OutFr   0.0027 	 RMSD     2.0883
Iter 014 	 Temp     1.56 	 Delta  1172.94 	 OutFr   0.0054 	 RMSD     2.0802
Iter 015 	 Temp     1.45 	 Delta  1112.83 	 OutFr   0.0081 	 RMSD     2.0741
Iter 016 	 Temp     1.35 	 Delta  1051.48 	 OutFr   0.0136 	 RMSD     2.0696
Iter 017 	 Temp     1.25 	 Delta   987.14 	 OutFr   0.0271 	 RMSD     2.0665
Iter 018 	 Temp     1.16 	 Delta   917.58 	 OutFr   0.0352 	 RMSD     2.0644
Iter 019 	 Temp     1.08 	 Delta   841.77 	 OutFr   0.0352 	 RMSD     2.0630
Iter 020 	 Temp     1.01 	 Delta   759.82 	 OutFr   0.0488 	 RMSD     2.0627
Iter 021 	 Temp     0.94 	 Delta   674.96 	 OutFr   0.0678 	 RMSD     2.0624
Iter 022 	 Temp     0.87 	 Delta   592.39 	 OutFr   0.0976 	 RMSD     2.0624
Iter 023 	 Temp     0.81 	 Delta   515.11 	 OutFr   0.1192 	 RMSD     2.0639
Iter 024 	 Temp     0.75 	 Delta   441.46 	 OutFr   0.1355 	 RMSD     2.0670
Iter 025 	 Temp     0.70 	 Delta   374.56 	 OutFr   0.1518 	 RMSD     2.0728
Iter 026 	 Temp     0.65 	 Delta   327.25 	 OutFr   0.1897 	 RMSD     2.0808
Iter 027 	 Temp     0.61 	 Delta   294.08 	 OutFr   0.2222 	 RMSD     2.0879
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.QU1Wc9pW/mybin.nii.gz
+ vtklevelset /tmp/ashs.QU1Wc9pW/mybin.nii.gz /tmp/ashs.QU1Wc9pW/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.QU1Wc9pW/mymesh.vtk /tmp/ashs.QU1Wc9pW/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 3183.76453021 2660.45560094   0.83563202
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.QU1Wc9pW/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 12.6639 to 37.0775
   Y : -11.8447 to 27.6302
   Z : -16.4375 to 13.6891
   Image resolution  : 100 by 143 by 115
   Image box origin  : {7.6639, -16.8447, -21.4375}
   Image box size    : {34.7222, 49.6527, 40.2495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-7.6639, 16.8447, -21.4375]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat -o /tmp/ashs.QU1Wc9pW/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat -o /tmp/ashs.QU1Wc9pW/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.QU1Wc9pW/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.894231 0.9
+ echo 'CHUNK 0.894231 0.9 0.5'
CHUNK 0.894231 0.9 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.894231 0.9 0.5
====================================
         PROGRESS: 0.894231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.QU1Wc9pW/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.QU1Wc9pW/fixed_hw.nii.gz /tmp/ashs.QU1Wc9pW/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.54725, moving = 0.421476
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.38892, 2.40394], [0.982092, 0.975272, 0.981404]
Level     0,  Iter     0:    Energy =   0.0286
Level     0,  Iter     1:    Energy =   0.0332
Level     0,  Iter     2:    Energy =   0.0381
Level     0,  Iter     3:    Energy =   0.0418
Level     0,  Iter     4:    Energy =   0.0453
Level     0,  Iter     5:    Energy =   0.0492
Level     0,  Iter     6:    Energy =   0.0517
Level     0,  Iter     7:    Energy =   0.0539
Level     0,  Iter     8:    Energy =   0.0561
Level     0,  Iter     9:    Energy =   0.0580
Level     0,  Iter    10:    Energy =   0.0599
Level     0,  Iter    11:    Energy =   0.0614
Level     0,  Iter    12:    Energy =   0.0628
Level     0,  Iter    13:    Energy =   0.0637
Level     0,  Iter    14:    Energy =   0.0648
Level     0,  Iter    15:    Energy =   0.0653
Level     0,  Iter    16:    Energy =   0.0658
Level     0,  Iter    17:    Energy =   0.0663
Level     0,  Iter    18:    Energy =   0.0671
Level     0,  Iter    19:    Energy =   0.0676
Level     0,  Iter    20:    Energy =   0.0682
Level     0,  Iter    21:    Energy =   0.0688
Level     0,  Iter    22:    Energy =   0.0696
Level     0,  Iter    23:    Energy =   0.0699
Level     0,  Iter    24:    Energy =   0.0703
Level     0,  Iter    25:    Energy =   0.0709
Level     0,  Iter    26:    Energy =   0.0713
Level     0,  Iter    27:    Energy =   0.0716
Level     0,  Iter    28:    Energy =   0.0723
Level     0,  Iter    29:    Energy =   0.0723
Level     0,  Iter    30:    Energy =   0.0728
Level     0,  Iter    31:    Energy =   0.0730
Level     0,  Iter    32:    Energy =   0.0735
Level     0,  Iter    33:    Energy =   0.0735
Level     0,  Iter    34:    Energy =   0.0740
Level     0,  Iter    35:    Energy =   0.0738
Level     0,  Iter    36:    Energy =   0.0744
Level     0,  Iter    37:    Energy =   0.0741
Level     0,  Iter    38:    Energy =   0.0747
Level     0,  Iter    39:    Energy =   0.0743
Level     0,  Iter    40:    Energy =   0.0749
Level     0,  Iter    41:    Energy =   0.0747
Level     0,  Iter    42:    Energy =   0.0752
Level     0,  Iter    43:    Energy =   0.0749
Level     0,  Iter    44:    Energy =   0.0754
Level     0,  Iter    45:    Energy =   0.0751
Level     0,  Iter    46:    Energy =   0.0756
Level     0,  Iter    47:    Energy =   0.0753
Level     0,  Iter    48:    Energy =   0.0757
Level     0,  Iter    49:    Energy =   0.0755
Level     0,  Iter    50:    Energy =   0.0759
Level     0,  Iter    51:    Energy =   0.0756
Level     0,  Iter    52:    Energy =   0.0761
Level     0,  Iter    53:    Energy =   0.0757
Level     0,  Iter    54:    Energy =   0.0762
Level     0,  Iter    55:    Energy =   0.0758
Level     0,  Iter    56:    Energy =   0.0763
Level     0,  Iter    57:    Energy =   0.0759
Level     0,  Iter    58:    Energy =   0.0764
Level     0,  Iter    59:    Energy =   0.0760
END OF LEVEL     0    DetJac Range:   0.2331  to   2.1436 
  Avg. Gradient Time  : 0.0068s  37.64% 
  Avg. Gaussian Time  : 0.0085s  46.90% 
  Avg. Iteration Time : 0.0181s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19446, 1.20197], [0.491046, 0.487636, 0.490702]
Level     1,  Iter     0:    Energy =   0.0491
Level     1,  Iter     1:    Energy =   0.0523
Level     1,  Iter     2:    Energy =   0.0547
Level     1,  Iter     3:    Energy =   0.0565
Level     1,  Iter     4:    Energy =   0.0580
Level     1,  Iter     5:    Energy =   0.0594
Level     1,  Iter     6:    Energy =   0.0608
Level     1,  Iter     7:    Energy =   0.0622
Level     1,  Iter     8:    Energy =   0.0633
Level     1,  Iter     9:    Energy =   0.0643
Level     1,  Iter    10:    Energy =   0.0652
Level     1,  Iter    11:    Energy =   0.0660
Level     1,  Iter    12:    Energy =   0.0666
Level     1,  Iter    13:    Energy =   0.0666
Level     1,  Iter    14:    Energy =   0.0672
Level     1,  Iter    15:    Energy =   0.0672
Level     1,  Iter    16:    Energy =   0.0677
Level     1,  Iter    17:    Energy =   0.0676
Level     1,  Iter    18:    Energy =   0.0680
Level     1,  Iter    19:    Energy =   0.0680
Level     1,  Iter    20:    Energy =   0.0684
Level     1,  Iter    21:    Energy =   0.0684
Level     1,  Iter    22:    Energy =   0.0688
Level     1,  Iter    23:    Energy =   0.0687
Level     1,  Iter    24:    Energy =   0.0690
Level     1,  Iter    25:    Energy =   0.0690
Level     1,  Iter    26:    Energy =   0.0692
Level     1,  Iter    27:    Energy =   0.0692
Level     1,  Iter    28:    Energy =   0.0694
Level     1,  Iter    29:    Energy =   0.0694
Level     1,  Iter    30:    Energy =   0.0695
Level     1,  Iter    31:    Energy =   0.0695
Level     1,  Iter    32:    Energy =   0.0696
Level     1,  Iter    33:    Energy =   0.0696
Level     1,  Iter    34:    Energy =   0.0697
Level     1,  Iter    35:    Energy =   0.0698
Level     1,  Iter    36:    Energy =   0.0700
Level     1,  Iter    37:    Energy =   0.0699
Level     1,  Iter    38:    Energy =   0.0701
Level     1,  Iter    39:    Energy =   0.0700
Level     1,  Iter    40:    Energy =   0.0702
Level     1,  Iter    41:    Energy =   0.0701
Level     1,  Iter    42:    Energy =   0.0703
Level     1,  Iter    43:    Energy =   0.0702
Level     1,  Iter    44:    Energy =   0.0704
Level     1,  Iter    45:    Energy =   0.0703
Level     1,  Iter    46:    Energy =   0.0704
Level     1,  Iter    47:    Energy =   0.0703
Level     1,  Iter    48:    Energy =   0.0705
Level     1,  Iter    49:    Energy =   0.0704
Level     1,  Iter    50:    Energy =   0.0705
Level     1,  Iter    51:    Energy =   0.0704
Level     1,  Iter    52:    Energy =   0.0706
Level     1,  Iter    53:    Energy =   0.0704
Level     1,  Iter    54:    Energy =   0.0706
Level     1,  Iter    55:    Energy =   0.0704
Level     1,  Iter    56:    Energy =   0.0706
Level     1,  Iter    57:    Energy =   0.0704
Level     1,  Iter    58:    Energy =   0.0706
Level     1,  Iter    59:    Energy =   0.0705
END OF LEVEL     1    DetJac Range:   0.0882  to   2.9726 
  Avg. Gradient Time  : 0.0405s  40.17% 
  Avg. Gaussian Time  : 0.0483s  47.91% 
  Avg. Iteration Time : 0.1007s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0362
Level     2,  Iter     1:    Energy =   0.0382
Level     2,  Iter     2:    Energy =   0.0396
Level     2,  Iter     3:    Energy =   0.0409
Level     2,  Iter     4:    Energy =   0.0421
Level     2,  Iter     5:    Energy =   0.0431
Level     2,  Iter     6:    Energy =   0.0439
Level     2,  Iter     7:    Energy =   0.0447
Level     2,  Iter     8:    Energy =   0.0454
Level     2,  Iter     9:    Energy =   0.0462
Level     2,  Iter    10:    Energy =   0.0470
Level     2,  Iter    11:    Energy =   0.0476
Level     2,  Iter    12:    Energy =   0.0482
Level     2,  Iter    13:    Energy =   0.0488
Level     2,  Iter    14:    Energy =   0.0492
Level     2,  Iter    15:    Energy =   0.0496
Level     2,  Iter    16:    Energy =   0.0498
Level     2,  Iter    17:    Energy =   0.0501
Level     2,  Iter    18:    Energy =   0.0504
Level     2,  Iter    19:    Energy =   0.0506
END OF LEVEL     2    DetJac Range:   0.0640  to   4.1031 
  Avg. Gradient Time  : 0.2889s  37.32% 
  Avg. Gaussian Time  : 0.4027s  52.02% 
  Avg. Iteration Time : 0.7742s 

real	0m25.699s
user	0m45.096s
sys	0m2.648s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.894231 0.9
+ echo 'CHUNK 0.894231 0.9 1'
CHUNK 0.894231 0.9 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.894231 0.9 1
====================================
         PROGRESS: 0.894231               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 4 successful
------------------------------------------------
[0m
****************************************
Starting stage 5: Boostrapped joint label fusion
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 5: Boostrapped joint label fusion
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=1
+ side=left
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
Side: left
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 1
+ [[ 1 -ne 1 ]]
+ [[ '' -ne 1 ]]
+ ashs_label_fusion_apply 1
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ BOOTSTRAP=1
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Bootstrap: 1
+ [[ 1 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz -raw-posteriors tse_native_chunk_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_left.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 16, 4], [66, 66, 43] (187308 pixels)
Computing mask based on input segmentations
  Skipping 103249 out of 187308 voxels.
........................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_left.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -g tse_native_chunk_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_corr_usegray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
80:100:51
loading tse_native_chunk_left.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 389639
tc: 18361
mean intensity : sample #  195.847:30234
center location: (37.4859,47.9833,21.0406) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2595
tc: 18361
center location: (28.7918,43.5422,10.5983) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3401
tc: 18361
center location: (33.9406,46.2236,20.2809) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 7118
tc: 18361
center location: (44.1535,49.1845,21.0404) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 1 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 244
tc: 18361
center location: (55.3911,50.5809,29.593) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3800
tc: 18361
center location: (47.2434,48.2436,25.3709) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 550
tc: 18361
center location: (41.5736,54.6241,23.4683) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 0
tc: 18361
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 653
tc: 18361
center location: (34.7721,48.4612,43.0689) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_corr_nogray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
80:100:51
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 389639
tc: 18361
center location: (37.4859,47.9833,21.0406) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2595
tc: 18361
center location: (28.7918,43.5422,10.5983) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3401
tc: 18361
center location: (33.9406,46.2236,20.2809) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 7118
tc: 18361
center location: (44.1535,49.1845,21.0404) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 244
tc: 18361
center location: (55.3911,50.5809,29.593) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3800
tc: 18361
center location: (47.2434,48.2436,25.3709) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 1 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 550
tc: 18361
center location: (41.5736,54.6241,23.4683) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 0
tc: 18361
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_left_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 653
tc: 18361
center location: (34.7721,48.4612,43.0689) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz
+ [[ -n '' ]]
++ [[ 1 -eq 1 ]]
++ echo bootstrap
+ MALFMODE=bootstrap
+ ashs_segmentation_qc left bootstrap heur
+ local side=left
+ local malfmode=bootstrap
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.indGMTTK/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.indGMTTK/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.indGMTTK/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.indGMTTK/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.indGMTTK/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.indGMTTK/sag_seg_%02d.png
++ ls /tmp/ashs.indGMTTK/cor_mprage_00.png /tmp/ashs.indGMTTK/cor_mprage_01.png /tmp/ashs.indGMTTK/cor_mprage_02.png /tmp/ashs.indGMTTK/cor_mprage_03.png /tmp/ashs.indGMTTK/cor_mprage_04.png /tmp/ashs.indGMTTK/cor_seg_00.png /tmp/ashs.indGMTTK/cor_seg_03.png /tmp/ashs.indGMTTK/cor_seg_06.png /tmp/ashs.indGMTTK/cor_seg_09.png /tmp/ashs.indGMTTK/cor_seg_12.png /tmp/ashs.indGMTTK/cor_tse_00.png /tmp/ashs.indGMTTK/cor_tse_01.png /tmp/ashs.indGMTTK/cor_tse_02.png /tmp/ashs.indGMTTK/cor_tse_03.png /tmp/ashs.indGMTTK/cor_tse_04.png /tmp/ashs.indGMTTK/sag_mprage_00.png /tmp/ashs.indGMTTK/sag_mprage_01.png /tmp/ashs.indGMTTK/sag_seg_00.png /tmp/ashs.indGMTTK/sag_seg_03.png /tmp/ashs.indGMTTK/sag_tse_00.png /tmp/ashs.indGMTTK/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_mprage_00.png /tmp/ashs.indGMTTK/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_mprage_01.png /tmp/ashs.indGMTTK/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_mprage_02.png /tmp/ashs.indGMTTK/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_mprage_03.png /tmp/ashs.indGMTTK/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_mprage_04.png /tmp/ashs.indGMTTK/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_seg_00.png /tmp/ashs.indGMTTK/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_seg_03.png /tmp/ashs.indGMTTK/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_seg_06.png /tmp/ashs.indGMTTK/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_seg_09.png /tmp/ashs.indGMTTK/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_seg_12.png /tmp/ashs.indGMTTK/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_tse_00.png /tmp/ashs.indGMTTK/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_tse_01.png /tmp/ashs.indGMTTK/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_tse_02.png /tmp/ashs.indGMTTK/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_tse_03.png /tmp/ashs.indGMTTK/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_tse_04.png /tmp/ashs.indGMTTK/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_mprage_00.png /tmp/ashs.indGMTTK/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_mprage_01.png /tmp/ashs.indGMTTK/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_seg_00.png /tmp/ashs.indGMTTK/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_seg_03.png /tmp/ashs.indGMTTK/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_tse_00.png /tmp/ashs.indGMTTK/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_tse_01.png /tmp/ashs.indGMTTK/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.indGMTTK/cor_tse_00.png /tmp/ashs.indGMTTK/cor_tse_01.png /tmp/ashs.indGMTTK/cor_tse_02.png /tmp/ashs.indGMTTK/cor_tse_03.png /tmp/ashs.indGMTTK/cor_tse_04.png /tmp/ashs.indGMTTK/sag_tse_00.png /tmp/ashs.indGMTTK/sag_tse_01.png /tmp/ashs.indGMTTK/cor_mprage_00.png /tmp/ashs.indGMTTK/cor_mprage_01.png /tmp/ashs.indGMTTK/cor_mprage_02.png /tmp/ashs.indGMTTK/cor_mprage_03.png /tmp/ashs.indGMTTK/cor_mprage_04.png /tmp/ashs.indGMTTK/sag_mprage_00.png /tmp/ashs.indGMTTK/sag_mprage_01.png /tmp/ashs.indGMTTK/cor_seg_00.png /tmp/ashs.indGMTTK/cor_seg_03.png /tmp/ashs.indGMTTK/cor_seg_06.png /tmp/ashs.indGMTTK/cor_seg_09.png /tmp/ashs.indGMTTK/cor_seg_12.png /tmp/ashs.indGMTTK/sag_seg_00.png /tmp/ashs.indGMTTK/sag_seg_03.png /tmp/ashs.indGMTTK/qa.png
+ convert /tmp/ashs.indGMTTK/qa.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa
+ montage -label 25846:left /tmp/ashs.indGMTTK/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_bootstrap_heur_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,bootstrap_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_bootstrap_heur_left_qa.png
+ ashs_segmentation_qc left bootstrap corr_usegray
+ local side=left
+ local malfmode=bootstrap
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.indGMTTK/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.indGMTTK/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.indGMTTK/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.indGMTTK/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.indGMTTK/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.indGMTTK/sag_seg_%02d.png
++ ls /tmp/ashs.indGMTTK/cor_mprage_00.png /tmp/ashs.indGMTTK/cor_mprage_01.png /tmp/ashs.indGMTTK/cor_mprage_02.png /tmp/ashs.indGMTTK/cor_mprage_03.png /tmp/ashs.indGMTTK/cor_mprage_04.png /tmp/ashs.indGMTTK/cor_seg_00.png /tmp/ashs.indGMTTK/cor_seg_03.png /tmp/ashs.indGMTTK/cor_seg_06.png /tmp/ashs.indGMTTK/cor_seg_09.png /tmp/ashs.indGMTTK/cor_seg_12.png /tmp/ashs.indGMTTK/cor_tse_00.png /tmp/ashs.indGMTTK/cor_tse_01.png /tmp/ashs.indGMTTK/cor_tse_02.png /tmp/ashs.indGMTTK/cor_tse_03.png /tmp/ashs.indGMTTK/cor_tse_04.png /tmp/ashs.indGMTTK/sag_mprage_00.png /tmp/ashs.indGMTTK/sag_mprage_01.png /tmp/ashs.indGMTTK/sag_seg_00.png /tmp/ashs.indGMTTK/sag_seg_03.png /tmp/ashs.indGMTTK/sag_tse_00.png /tmp/ashs.indGMTTK/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_mprage_00.png /tmp/ashs.indGMTTK/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_mprage_01.png /tmp/ashs.indGMTTK/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_mprage_02.png /tmp/ashs.indGMTTK/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_mprage_03.png /tmp/ashs.indGMTTK/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_mprage_04.png /tmp/ashs.indGMTTK/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_seg_00.png /tmp/ashs.indGMTTK/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_seg_03.png /tmp/ashs.indGMTTK/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_seg_06.png /tmp/ashs.indGMTTK/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_seg_09.png /tmp/ashs.indGMTTK/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_seg_12.png /tmp/ashs.indGMTTK/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_tse_00.png /tmp/ashs.indGMTTK/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_tse_01.png /tmp/ashs.indGMTTK/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_tse_02.png /tmp/ashs.indGMTTK/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_tse_03.png /tmp/ashs.indGMTTK/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_tse_04.png /tmp/ashs.indGMTTK/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_mprage_00.png /tmp/ashs.indGMTTK/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_mprage_01.png /tmp/ashs.indGMTTK/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_seg_00.png /tmp/ashs.indGMTTK/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_seg_03.png /tmp/ashs.indGMTTK/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_tse_00.png /tmp/ashs.indGMTTK/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_tse_01.png /tmp/ashs.indGMTTK/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.indGMTTK/cor_tse_00.png /tmp/ashs.indGMTTK/cor_tse_01.png /tmp/ashs.indGMTTK/cor_tse_02.png /tmp/ashs.indGMTTK/cor_tse_03.png /tmp/ashs.indGMTTK/cor_tse_04.png /tmp/ashs.indGMTTK/sag_tse_00.png /tmp/ashs.indGMTTK/sag_tse_01.png /tmp/ashs.indGMTTK/cor_mprage_00.png /tmp/ashs.indGMTTK/cor_mprage_01.png /tmp/ashs.indGMTTK/cor_mprage_02.png /tmp/ashs.indGMTTK/cor_mprage_03.png /tmp/ashs.indGMTTK/cor_mprage_04.png /tmp/ashs.indGMTTK/sag_mprage_00.png /tmp/ashs.indGMTTK/sag_mprage_01.png /tmp/ashs.indGMTTK/cor_seg_00.png /tmp/ashs.indGMTTK/cor_seg_03.png /tmp/ashs.indGMTTK/cor_seg_06.png /tmp/ashs.indGMTTK/cor_seg_09.png /tmp/ashs.indGMTTK/cor_seg_12.png /tmp/ashs.indGMTTK/sag_seg_00.png /tmp/ashs.indGMTTK/sag_seg_03.png /tmp/ashs.indGMTTK/qa.png
+ convert /tmp/ashs.indGMTTK/qa.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa
+ montage -label 25846:left /tmp/ashs.indGMTTK/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,bootstrap_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_left_qa.png
+ ashs_segmentation_qc left bootstrap corr_nogray
+ local side=left
+ local malfmode=bootstrap
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.indGMTTK/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.indGMTTK/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.indGMTTK/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.indGMTTK/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.indGMTTK/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.indGMTTK/sag_seg_%02d.png
++ ls /tmp/ashs.indGMTTK/cor_mprage_00.png /tmp/ashs.indGMTTK/cor_mprage_01.png /tmp/ashs.indGMTTK/cor_mprage_02.png /tmp/ashs.indGMTTK/cor_mprage_03.png /tmp/ashs.indGMTTK/cor_mprage_04.png /tmp/ashs.indGMTTK/cor_seg_00.png /tmp/ashs.indGMTTK/cor_seg_03.png /tmp/ashs.indGMTTK/cor_seg_06.png /tmp/ashs.indGMTTK/cor_seg_09.png /tmp/ashs.indGMTTK/cor_seg_12.png /tmp/ashs.indGMTTK/cor_tse_00.png /tmp/ashs.indGMTTK/cor_tse_01.png /tmp/ashs.indGMTTK/cor_tse_02.png /tmp/ashs.indGMTTK/cor_tse_03.png /tmp/ashs.indGMTTK/cor_tse_04.png /tmp/ashs.indGMTTK/sag_mprage_00.png /tmp/ashs.indGMTTK/sag_mprage_01.png /tmp/ashs.indGMTTK/sag_seg_00.png /tmp/ashs.indGMTTK/sag_seg_03.png /tmp/ashs.indGMTTK/sag_tse_00.png /tmp/ashs.indGMTTK/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_mprage_00.png /tmp/ashs.indGMTTK/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_mprage_01.png /tmp/ashs.indGMTTK/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_mprage_02.png /tmp/ashs.indGMTTK/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_mprage_03.png /tmp/ashs.indGMTTK/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_mprage_04.png /tmp/ashs.indGMTTK/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_seg_00.png /tmp/ashs.indGMTTK/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_seg_03.png /tmp/ashs.indGMTTK/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_seg_06.png /tmp/ashs.indGMTTK/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_seg_09.png /tmp/ashs.indGMTTK/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_seg_12.png /tmp/ashs.indGMTTK/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_tse_00.png /tmp/ashs.indGMTTK/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_tse_01.png /tmp/ashs.indGMTTK/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_tse_02.png /tmp/ashs.indGMTTK/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_tse_03.png /tmp/ashs.indGMTTK/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/cor_tse_04.png /tmp/ashs.indGMTTK/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_mprage_00.png /tmp/ashs.indGMTTK/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_mprage_01.png /tmp/ashs.indGMTTK/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_seg_00.png /tmp/ashs.indGMTTK/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_seg_03.png /tmp/ashs.indGMTTK/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_tse_00.png /tmp/ashs.indGMTTK/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.indGMTTK/sag_tse_01.png /tmp/ashs.indGMTTK/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.indGMTTK/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.indGMTTK/cor_tse_00.png /tmp/ashs.indGMTTK/cor_tse_01.png /tmp/ashs.indGMTTK/cor_tse_02.png /tmp/ashs.indGMTTK/cor_tse_03.png /tmp/ashs.indGMTTK/cor_tse_04.png /tmp/ashs.indGMTTK/sag_tse_00.png /tmp/ashs.indGMTTK/sag_tse_01.png /tmp/ashs.indGMTTK/cor_mprage_00.png /tmp/ashs.indGMTTK/cor_mprage_01.png /tmp/ashs.indGMTTK/cor_mprage_02.png /tmp/ashs.indGMTTK/cor_mprage_03.png /tmp/ashs.indGMTTK/cor_mprage_04.png /tmp/ashs.indGMTTK/sag_mprage_00.png /tmp/ashs.indGMTTK/sag_mprage_01.png /tmp/ashs.indGMTTK/cor_seg_00.png /tmp/ashs.indGMTTK/cor_seg_03.png /tmp/ashs.indGMTTK/cor_seg_06.png /tmp/ashs.indGMTTK/cor_seg_09.png /tmp/ashs.indGMTTK/cor_seg_12.png /tmp/ashs.indGMTTK/sag_seg_00.png /tmp/ashs.indGMTTK/sag_seg_03.png /tmp/ashs.indGMTTK/qa.png
+ convert /tmp/ashs.indGMTTK/qa.png -bordercolor Black -border 1x1 /tmp/ashs.indGMTTK/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa
+ montage -label 25846:left /tmp/ashs.indGMTTK/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,bootstrap_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_left_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.9 -v be=0.95 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.9 0.95'
CHUNK 0.9 0.95
+ echo 1
+ awk -v bs=0.9 -v be=0.95 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.9 0.925
+ echo 'CHUNK 0.9 0.925 1'
CHUNK 0.9 0.925 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.9 0.925 1
====================================
         PROGRESS: 0.9               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=1
+ side=right
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
Side: right
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 1
+ [[ 1 -ne 1 ]]
+ [[ '' -ne 1 ]]
+ ashs_label_fusion_apply 1
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ BOOTSTRAP=1
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Bootstrap: 1
+ [[ 1 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz -raw-posteriors tse_native_chunk_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_right.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 14, 4], [72, 71, 41] (209592 pixels)
Computing mask based on input segmentations
  Skipping 111603 out of 209592 voxels.
........................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_right.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -g tse_native_chunk_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_corr_usegray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
84:99:49
loading tse_native_chunk_right.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 387924
tc: 19560
mean intensity : sample #  211.975:32307
center location: (41.2817,48.1219,20.5372) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2572
tc: 19560
center location: (50.2754,40.9166,10.617) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3469
tc: 19560
center location: (46.1889,46.677,20.7741) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 8122
tc: 19560
center location: (33.6777,50.1341,19.4167) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 1 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 309
tc: 19560
center location: (21.3495,51.1772,29.8632) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 4088
tc: 19560
center location: (29.945,49.4664,24.3348) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 404
tc: 19560
center location: (32.6028,54.7135,24.3345) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 22
tc: 19560
center location: (18.4266,43.5338,27.3265) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 574
tc: 19560
center location: (45.6819,54.1758,42.3953) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_corr_nogray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
84:99:49
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 387924
tc: 19560
center location: (41.2817,48.1219,20.5372) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2572
tc: 19560
center location: (50.2754,40.9166,10.617) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3469
tc: 19560
center location: (46.1889,46.677,20.7741) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 8122
tc: 19560
center location: (33.6777,50.1341,19.4167) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 309
tc: 19560
center location: (21.3495,51.1772,29.8632) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 4088
tc: 19560
center location: (29.945,49.4664,24.3348) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 1 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 404
tc: 19560
center location: (32.6028,54.7135,24.3345) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 22
tc: 19560
center location: (18.4266,43.5338,27.3265) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/posterior_right_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 574
tc: 19560
center location: (45.6819,54.1758,42.3953) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz
+ [[ -n '' ]]
++ [[ 1 -eq 1 ]]
++ echo bootstrap
+ MALFMODE=bootstrap
+ ashs_segmentation_qc right bootstrap heur
+ local side=right
+ local malfmode=bootstrap
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.cmTmXzL2/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.cmTmXzL2/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.cmTmXzL2/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.cmTmXzL2/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.cmTmXzL2/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.cmTmXzL2/sag_seg_%02d.png
++ ls /tmp/ashs.cmTmXzL2/cor_mprage_00.png /tmp/ashs.cmTmXzL2/cor_mprage_01.png /tmp/ashs.cmTmXzL2/cor_mprage_02.png /tmp/ashs.cmTmXzL2/cor_mprage_03.png /tmp/ashs.cmTmXzL2/cor_mprage_04.png /tmp/ashs.cmTmXzL2/cor_seg_00.png /tmp/ashs.cmTmXzL2/cor_seg_03.png /tmp/ashs.cmTmXzL2/cor_seg_06.png /tmp/ashs.cmTmXzL2/cor_seg_09.png /tmp/ashs.cmTmXzL2/cor_seg_12.png /tmp/ashs.cmTmXzL2/cor_tse_00.png /tmp/ashs.cmTmXzL2/cor_tse_01.png /tmp/ashs.cmTmXzL2/cor_tse_02.png /tmp/ashs.cmTmXzL2/cor_tse_03.png /tmp/ashs.cmTmXzL2/cor_tse_04.png /tmp/ashs.cmTmXzL2/sag_mprage_00.png /tmp/ashs.cmTmXzL2/sag_mprage_01.png /tmp/ashs.cmTmXzL2/sag_seg_00.png /tmp/ashs.cmTmXzL2/sag_seg_03.png /tmp/ashs.cmTmXzL2/sag_tse_00.png /tmp/ashs.cmTmXzL2/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_mprage_00.png /tmp/ashs.cmTmXzL2/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_mprage_01.png /tmp/ashs.cmTmXzL2/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_mprage_02.png /tmp/ashs.cmTmXzL2/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_mprage_03.png /tmp/ashs.cmTmXzL2/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_mprage_04.png /tmp/ashs.cmTmXzL2/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_seg_00.png /tmp/ashs.cmTmXzL2/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_seg_03.png /tmp/ashs.cmTmXzL2/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_seg_06.png /tmp/ashs.cmTmXzL2/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_seg_09.png /tmp/ashs.cmTmXzL2/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_seg_12.png /tmp/ashs.cmTmXzL2/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_tse_00.png /tmp/ashs.cmTmXzL2/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_tse_01.png /tmp/ashs.cmTmXzL2/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_tse_02.png /tmp/ashs.cmTmXzL2/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_tse_03.png /tmp/ashs.cmTmXzL2/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_tse_04.png /tmp/ashs.cmTmXzL2/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_mprage_00.png /tmp/ashs.cmTmXzL2/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_mprage_01.png /tmp/ashs.cmTmXzL2/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_seg_00.png /tmp/ashs.cmTmXzL2/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_seg_03.png /tmp/ashs.cmTmXzL2/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_tse_00.png /tmp/ashs.cmTmXzL2/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_tse_01.png /tmp/ashs.cmTmXzL2/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.cmTmXzL2/cor_tse_00.png /tmp/ashs.cmTmXzL2/cor_tse_01.png /tmp/ashs.cmTmXzL2/cor_tse_02.png /tmp/ashs.cmTmXzL2/cor_tse_03.png /tmp/ashs.cmTmXzL2/cor_tse_04.png /tmp/ashs.cmTmXzL2/sag_tse_00.png /tmp/ashs.cmTmXzL2/sag_tse_01.png /tmp/ashs.cmTmXzL2/cor_mprage_00.png /tmp/ashs.cmTmXzL2/cor_mprage_01.png /tmp/ashs.cmTmXzL2/cor_mprage_02.png /tmp/ashs.cmTmXzL2/cor_mprage_03.png /tmp/ashs.cmTmXzL2/cor_mprage_04.png /tmp/ashs.cmTmXzL2/sag_mprage_00.png /tmp/ashs.cmTmXzL2/sag_mprage_01.png /tmp/ashs.cmTmXzL2/cor_seg_00.png /tmp/ashs.cmTmXzL2/cor_seg_03.png /tmp/ashs.cmTmXzL2/cor_seg_06.png /tmp/ashs.cmTmXzL2/cor_seg_09.png /tmp/ashs.cmTmXzL2/cor_seg_12.png /tmp/ashs.cmTmXzL2/sag_seg_00.png /tmp/ashs.cmTmXzL2/sag_seg_03.png /tmp/ashs.cmTmXzL2/qa.png
+ convert /tmp/ashs.cmTmXzL2/qa.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa
+ montage -label 25846:right /tmp/ashs.cmTmXzL2/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_bootstrap_heur_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,bootstrap_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_bootstrap_heur_right_qa.png
+ ashs_segmentation_qc right bootstrap corr_usegray
+ local side=right
+ local malfmode=bootstrap
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.cmTmXzL2/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.cmTmXzL2/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.cmTmXzL2/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.cmTmXzL2/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.cmTmXzL2/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.cmTmXzL2/sag_seg_%02d.png
++ ls /tmp/ashs.cmTmXzL2/cor_mprage_00.png /tmp/ashs.cmTmXzL2/cor_mprage_01.png /tmp/ashs.cmTmXzL2/cor_mprage_02.png /tmp/ashs.cmTmXzL2/cor_mprage_03.png /tmp/ashs.cmTmXzL2/cor_mprage_04.png /tmp/ashs.cmTmXzL2/cor_seg_00.png /tmp/ashs.cmTmXzL2/cor_seg_03.png /tmp/ashs.cmTmXzL2/cor_seg_06.png /tmp/ashs.cmTmXzL2/cor_seg_09.png /tmp/ashs.cmTmXzL2/cor_seg_12.png /tmp/ashs.cmTmXzL2/cor_tse_00.png /tmp/ashs.cmTmXzL2/cor_tse_01.png /tmp/ashs.cmTmXzL2/cor_tse_02.png /tmp/ashs.cmTmXzL2/cor_tse_03.png /tmp/ashs.cmTmXzL2/cor_tse_04.png /tmp/ashs.cmTmXzL2/sag_mprage_00.png /tmp/ashs.cmTmXzL2/sag_mprage_01.png /tmp/ashs.cmTmXzL2/sag_seg_00.png /tmp/ashs.cmTmXzL2/sag_seg_03.png /tmp/ashs.cmTmXzL2/sag_tse_00.png /tmp/ashs.cmTmXzL2/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_mprage_00.png /tmp/ashs.cmTmXzL2/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_mprage_01.png /tmp/ashs.cmTmXzL2/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_mprage_02.png /tmp/ashs.cmTmXzL2/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_mprage_03.png /tmp/ashs.cmTmXzL2/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_mprage_04.png /tmp/ashs.cmTmXzL2/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_seg_00.png /tmp/ashs.cmTmXzL2/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_seg_03.png /tmp/ashs.cmTmXzL2/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_seg_06.png /tmp/ashs.cmTmXzL2/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_seg_09.png /tmp/ashs.cmTmXzL2/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_seg_12.png /tmp/ashs.cmTmXzL2/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_tse_00.png /tmp/ashs.cmTmXzL2/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_tse_01.png /tmp/ashs.cmTmXzL2/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_tse_02.png /tmp/ashs.cmTmXzL2/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_tse_03.png /tmp/ashs.cmTmXzL2/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_tse_04.png /tmp/ashs.cmTmXzL2/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_mprage_00.png /tmp/ashs.cmTmXzL2/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_mprage_01.png /tmp/ashs.cmTmXzL2/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_seg_00.png /tmp/ashs.cmTmXzL2/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_seg_03.png /tmp/ashs.cmTmXzL2/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_tse_00.png /tmp/ashs.cmTmXzL2/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_tse_01.png /tmp/ashs.cmTmXzL2/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.cmTmXzL2/cor_tse_00.png /tmp/ashs.cmTmXzL2/cor_tse_01.png /tmp/ashs.cmTmXzL2/cor_tse_02.png /tmp/ashs.cmTmXzL2/cor_tse_03.png /tmp/ashs.cmTmXzL2/cor_tse_04.png /tmp/ashs.cmTmXzL2/sag_tse_00.png /tmp/ashs.cmTmXzL2/sag_tse_01.png /tmp/ashs.cmTmXzL2/cor_mprage_00.png /tmp/ashs.cmTmXzL2/cor_mprage_01.png /tmp/ashs.cmTmXzL2/cor_mprage_02.png /tmp/ashs.cmTmXzL2/cor_mprage_03.png /tmp/ashs.cmTmXzL2/cor_mprage_04.png /tmp/ashs.cmTmXzL2/sag_mprage_00.png /tmp/ashs.cmTmXzL2/sag_mprage_01.png /tmp/ashs.cmTmXzL2/cor_seg_00.png /tmp/ashs.cmTmXzL2/cor_seg_03.png /tmp/ashs.cmTmXzL2/cor_seg_06.png /tmp/ashs.cmTmXzL2/cor_seg_09.png /tmp/ashs.cmTmXzL2/cor_seg_12.png /tmp/ashs.cmTmXzL2/sag_seg_00.png /tmp/ashs.cmTmXzL2/sag_seg_03.png /tmp/ashs.cmTmXzL2/qa.png
+ convert /tmp/ashs.cmTmXzL2/qa.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa
+ montage -label 25846:right /tmp/ashs.cmTmXzL2/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,bootstrap_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_right_qa.png
+ ashs_segmentation_qc right bootstrap corr_nogray
+ local side=right
+ local malfmode=bootstrap
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.cmTmXzL2/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.cmTmXzL2/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.cmTmXzL2/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.cmTmXzL2/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.cmTmXzL2/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.cmTmXzL2/sag_seg_%02d.png
++ ls /tmp/ashs.cmTmXzL2/cor_mprage_00.png /tmp/ashs.cmTmXzL2/cor_mprage_01.png /tmp/ashs.cmTmXzL2/cor_mprage_02.png /tmp/ashs.cmTmXzL2/cor_mprage_03.png /tmp/ashs.cmTmXzL2/cor_mprage_04.png /tmp/ashs.cmTmXzL2/cor_seg_00.png /tmp/ashs.cmTmXzL2/cor_seg_03.png /tmp/ashs.cmTmXzL2/cor_seg_06.png /tmp/ashs.cmTmXzL2/cor_seg_09.png /tmp/ashs.cmTmXzL2/cor_seg_12.png /tmp/ashs.cmTmXzL2/cor_tse_00.png /tmp/ashs.cmTmXzL2/cor_tse_01.png /tmp/ashs.cmTmXzL2/cor_tse_02.png /tmp/ashs.cmTmXzL2/cor_tse_03.png /tmp/ashs.cmTmXzL2/cor_tse_04.png /tmp/ashs.cmTmXzL2/sag_mprage_00.png /tmp/ashs.cmTmXzL2/sag_mprage_01.png /tmp/ashs.cmTmXzL2/sag_seg_00.png /tmp/ashs.cmTmXzL2/sag_seg_03.png /tmp/ashs.cmTmXzL2/sag_tse_00.png /tmp/ashs.cmTmXzL2/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_mprage_00.png /tmp/ashs.cmTmXzL2/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_mprage_01.png /tmp/ashs.cmTmXzL2/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_mprage_02.png /tmp/ashs.cmTmXzL2/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_mprage_03.png /tmp/ashs.cmTmXzL2/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_mprage_04.png /tmp/ashs.cmTmXzL2/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_seg_00.png /tmp/ashs.cmTmXzL2/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_seg_03.png /tmp/ashs.cmTmXzL2/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_seg_06.png /tmp/ashs.cmTmXzL2/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_seg_09.png /tmp/ashs.cmTmXzL2/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_seg_12.png /tmp/ashs.cmTmXzL2/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_tse_00.png /tmp/ashs.cmTmXzL2/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_tse_01.png /tmp/ashs.cmTmXzL2/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_tse_02.png /tmp/ashs.cmTmXzL2/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_tse_03.png /tmp/ashs.cmTmXzL2/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/cor_tse_04.png /tmp/ashs.cmTmXzL2/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_mprage_00.png /tmp/ashs.cmTmXzL2/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_mprage_01.png /tmp/ashs.cmTmXzL2/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_seg_00.png /tmp/ashs.cmTmXzL2/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_seg_03.png /tmp/ashs.cmTmXzL2/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_tse_00.png /tmp/ashs.cmTmXzL2/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.cmTmXzL2/sag_tse_01.png /tmp/ashs.cmTmXzL2/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.cmTmXzL2/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.cmTmXzL2/cor_tse_00.png /tmp/ashs.cmTmXzL2/cor_tse_01.png /tmp/ashs.cmTmXzL2/cor_tse_02.png /tmp/ashs.cmTmXzL2/cor_tse_03.png /tmp/ashs.cmTmXzL2/cor_tse_04.png /tmp/ashs.cmTmXzL2/sag_tse_00.png /tmp/ashs.cmTmXzL2/sag_tse_01.png /tmp/ashs.cmTmXzL2/cor_mprage_00.png /tmp/ashs.cmTmXzL2/cor_mprage_01.png /tmp/ashs.cmTmXzL2/cor_mprage_02.png /tmp/ashs.cmTmXzL2/cor_mprage_03.png /tmp/ashs.cmTmXzL2/cor_mprage_04.png /tmp/ashs.cmTmXzL2/sag_mprage_00.png /tmp/ashs.cmTmXzL2/sag_mprage_01.png /tmp/ashs.cmTmXzL2/cor_seg_00.png /tmp/ashs.cmTmXzL2/cor_seg_03.png /tmp/ashs.cmTmXzL2/cor_seg_06.png /tmp/ashs.cmTmXzL2/cor_seg_09.png /tmp/ashs.cmTmXzL2/cor_seg_12.png /tmp/ashs.cmTmXzL2/sag_seg_00.png /tmp/ashs.cmTmXzL2/sag_seg_03.png /tmp/ashs.cmTmXzL2/qa.png
+ convert /tmp/ashs.cmTmXzL2/qa.png -bordercolor Black -border 1x1 /tmp/ashs.cmTmXzL2/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa
+ montage -label 25846:right /tmp/ashs.cmTmXzL2/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,bootstrap_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.9 -v be=0.95 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.9 0.95'
CHUNK 0.9 0.95
+ echo 1
+ awk -v bs=0.9 -v be=0.95 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.925 0.95
+ echo 'CHUNK 0.925 0.95 1'
CHUNK 0.925 0.95 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.925 0.95 1
====================================
         PROGRESS: 0.925               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 5 successful
------------------------------------------------
[0m
****************************************
Starting stage 6: Final QA
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 6: Final QA
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
+ [[ '' -ne 1 ]]
+ WSUB=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion
+ WQA=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa
+ ASHS_LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ for side in '${SIDES}'
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_left_lfseg_heur.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_left_lfseg_corr_usegray.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_left_lfseg_corr_nogray.nii.gz
+ for side in '${SIDES}'
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_right_lfseg_heur.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_right_lfseg_corr_usegray.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_right_lfseg_corr_nogray.nii.gz
+ for side in '${SIDES}'
+ SMASV=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz ]]
+ c3d -verbose /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -int 0 -trim 10x10x0mm -resample 400x400x100% -as REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -stretch 1% 99% 0 255 -clip 0 255 -reslice-identity -push REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -reslice-identity -push REF -foreach -slice z 50% -flip xy -info -endfor -popas S -popas S2 -as G -type uchar -info -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/gray_left.png -clear -push G -push S -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/masv_left.png -clear -push G -push S2 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/final_left.png -clear -push G -push S -push S2 -scale -1 -add -thresh 0 0 0 1 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/bc_left.png
Reading #1 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
Trimming #1
  Wrapping non-background voxels with margin of 10 10 0 mm.
  Extracting bounding box [0, 0, 4] [80, 98, 42]
Resampling #1 to have[320, 392, 42] voxels.
  Interpolation method: 0
  Background intensity: 0
  Input spacing: [0.4375, 0.4375, 1.1]
  Input origin: [3.0862, -26.7795, -31.008]
  Output spacing: [0.109375, 0.109375, 1.1]
  Output origin: [2.91499, -26.7097, -31.1482]
Reading #2 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
Quantile 0.01 maps to 75
Quantile 0.99 maps to 931
Scaling #2 by 0.297897 and adding -22.3423
Clipping out-of-range intensities in #2
  Intensity range: 0 to 255
  Reference voxel [0, 0, 0] => moving voxel [269.625, 207.625, 4]
  Reference voxel [160, 196, 21] => moving voxel [309.625, 256.625, 25]
  Reference voxel [319, 391, 41] => moving voxel [349.375, 305.375, 45]
Reslicing #2 with reference1
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Reading #3 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
  Reference voxel [0, 0, 0] => moving voxel [-0.375, -0.375, 4]
  Reference voxel [160, 196, 21] => moving voxel [39.625, 48.625, 25]
  Reference voxel [319, 391, 41] => moving voxel [79.375, 97.375, 45]
Reslicing #3 with reference2
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Repeating commands for all 3 images
Extracting slice 21 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 21] [320, 392, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [320, 392, 1];  bb = {[-38.5969 25.3141 16.8593], [-3.59691 68.1891 17.9593]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 152.821];  orient = Oblique, closest to RIA

Extracting slice 21 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 21] [320, 392, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [320, 392, 1];  bb = {[-38.5969 25.3141 16.8593], [-3.59691 68.1891 17.9593]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 5];  orient = Oblique, closest to RIA

Extracting slice 21 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 21] [320, 392, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [320, 392, 1];  bb = {[-38.5969 25.3141 16.8593], [-3.59691 68.1891 17.9593]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 6];  orient = Oblique, closest to RIA

Image #1: dim = [320, 392, 1];  bb = {[-38.5969 25.3141 16.8593], [-3.59691 68.1891 17.9593]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 152.821];  orient = Oblique, closest to RIA

Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/gray_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/masv_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/final_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Scaling #3 by -1 and adding 0
Adding #2 and 1
Thresholding #2
  Mapping range [0, 0] to 0
  Values outside are mapped to 1
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/bc_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ for side in '${SIDES}'
+ SMASV=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz ]]
+ c3d -verbose /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -int 0 -trim 10x10x0mm -resample 400x400x100% -as REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz -stretch 1% 99% 0 255 -clip 0 255 -reslice-identity -push REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -reslice-identity -push REF -foreach -slice z 50% -flip xy -info -endfor -popas S -popas S2 -as G -type uchar -info -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/gray_right.png -clear -push G -push S -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/masv_right.png -clear -push G -push S2 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/final_right.png -clear -push G -push S -push S2 -scale -1 -add -thresh 0 0 0 1 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/bc_right.png
Reading #1 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
Trimming #1
  Wrapping non-background voxels with margin of 10 10 0 mm.
  Extracting bounding box [0, 0, 4] [84, 99, 41]
Resampling #1 to have[336, 396, 41] voxels.
  Interpolation method: 0
  Background intensity: 0
  Input spacing: [0.4375, 0.4375, 1.1]
  Input origin: [-43.9619, -30.8487, -28.3123]
  Output spacing: [0.109375, 0.109375, 1.1]
  Output origin: [-44.1331, -30.7789, -28.4525]
Reading #2 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/tse.nii.gz
Quantile 0.01 maps to 75
Quantile 0.99 maps to 931
Scaling #2 by 0.297897 and adding -22.3423
Clipping out-of-range intensities in #2
  Intensity range: 0 to 255
  Reference voxel [0, 0, 0] => moving voxel [161.625, 212.625, 4]
  Reference voxel [168, 198, 20.5] => moving voxel [203.625, 262.125, 24.5]
  Reference voxel [335, 395, 40] => moving voxel [245.375, 311.375, 44]
Reslicing #2 with reference1
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Reading #3 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
  Reference voxel [0, 0, 0] => moving voxel [-0.375, -0.375, 4]
  Reference voxel [168, 198, 20.5] => moving voxel [41.625, 49.125, 24.5]
  Reference voxel [335, 395, 40] => moving voxel [83.375, 98.375, 44]
Reslicing #3 with reference2
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Repeating commands for all 3 images
Extracting slice 20 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 20] [336, 396, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [336, 396, 1];  bb = {[6.63313 30.4431 19.3668], [43.3831 73.7556 20.4668]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 187.377];  orient = Oblique, closest to RIA

Extracting slice 20 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 20] [336, 396, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [336, 396, 1];  bb = {[6.63313 30.4431 19.3668], [43.3831 73.7556 20.4668]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 6];  orient = Oblique, closest to RIA

Extracting slice 20 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 20] [336, 396, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [336, 396, 1];  bb = {[6.63313 30.4431 19.3668], [43.3831 73.7556 20.4668]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 6];  orient = Oblique, closest to RIA

Image #1: dim = [336, 396, 1];  bb = {[6.63313 30.4431 19.3668], [43.3831 73.7556 20.4668]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 187.377];  orient = Oblique, closest to RIA

Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/gray_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/masv_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/final_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Scaling #3 by -1 and adding 0
Adding #2 and 1
Thresholding #2
  Mapping range [0, 0] to 0
  Values outside are mapped to 1
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa/bc_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/qa
+ cat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.95 -v be=0.98 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.95 0.98'
CHUNK 0.95 0.98
+ echo 1
+ awk -v bs=0.95 -v be=0.98 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.95 0.98
+ echo 'CHUNK 0.95 0.98 1'
CHUNK 0.95 0.98 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.95 0.98 1
====================================
         PROGRESS: 0.95               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 6 successful
------------------------------------------------
[0m
****************************************
Starting stage 7: Statistics and volume computation
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 7: Statistics and volume 
computation
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_extractstats_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  SUBJECT: 25846
+ [[ '' -ne 1 ]]
+ WSUB=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion
+ WSTAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final
+ cat /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ awk '$1 > 0 {split($0,arr,"\""); sub(/[ \t]+/,"_",arr[2]); print $1,arr[2]}'
+ LABIDS=($(cat $TMPDIR/labels.txt | awk '{print $1}'))
++ cat /tmp/ashs.ObAtKN2w/labels.txt
++ awk '{print $1}'
+ LABNAMES=($(cat $TMPDIR/labels.txt | awk '{print $2}'))
++ cat /tmp/ashs.ObAtKN2w/labels.txt
++ awk '{print $2}'
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ raw == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz ]]
+ STATS=/tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz -dup -lstat
+ tee /tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      389639     82037.276     80   100    51
    1       1.00000     0.00000     1.00000     1.00000        2595       546.369     46    54    18
    2       2.00000     0.00000     2.00000     2.00000        3401       716.070     41    26    37
    3       3.00000     0.00000     3.00000     3.00000        7118      1498.673     54    41    37
    4       4.00000     0.00000     4.00000     4.00000         244        51.373     19    11    25
    5       5.00000     0.00000     5.00000     5.00000        3800       800.078     36    19    31
    6       6.00000     0.00000     6.00000     6.00000         550       115.801     31    18    26
    8       8.00000     0.00000     8.00000     8.00000         653       137.487     25    19     4
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_left_raw_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_left_raw_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=18
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=546.369
+ [[ -n 18 ]]
+ echo 25846 left ERC 18 546.369
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=716.070
+ [[ -n 37 ]]
+ echo 25846 left SUB 37 716.070
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1498.673
+ [[ -n 37 ]]
+ echo 25846 left CA1 37 1498.673
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=25
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=51.373
+ [[ -n 25 ]]
+ echo 25846 left CA2 25 51.373
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=31
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=800.078
+ [[ -n 31 ]]
+ echo 25846 left DG 31 800.078
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=26
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=115.801
+ [[ -n 26 ]]
+ echo 25846 left CA3 26 115.801
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=
+ [[ -n '' ]]
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=4
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=137.487
+ [[ -n 4 ]]
+ echo 25846 left Tail 4 137.487
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ raw == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz ]]
+ STATS=/tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz -dup -lstat
+ tee /tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      387924     81676.188     84    99    49
    1       1.00000     0.00000     1.00000     1.00000        2572       541.527     43    55    17
    2       2.00000     0.00000     2.00000     2.00000        3469       730.387     41    26    36
    3       3.00000     0.00000     3.00000     3.00000        8122      1710.062     60    40    37
    4       4.00000     0.00000     4.00000     4.00000         309        65.059     22    13    23
    5       5.00000     0.00000     5.00000     5.00000        4088       860.716     42    22    31
    6       6.00000     0.00000     6.00000     6.00000         404        85.061     34    12    25
    7       7.00000     0.00000     7.00000     7.00000          22         4.632     10     2    10
    8       8.00000     0.00000     8.00000     8.00000         574       120.854     27    21     4
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_right_raw_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_right_raw_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=17
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=541.527
+ [[ -n 17 ]]
+ echo 25846 right ERC 17 541.527
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=36
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=730.387
+ [[ -n 36 ]]
+ echo 25846 right SUB 36 730.387
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1710.062
+ [[ -n 37 ]]
+ echo 25846 right CA1 37 1710.062
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=65.059
+ [[ -n 23 ]]
+ echo 25846 right CA2 23 65.059
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=31
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=860.716
+ [[ -n 31 ]]
+ echo 25846 right DG 31 860.716
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=25
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=85.061
+ [[ -n 25 ]]
+ echo 25846 right CA3 25 85.061
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=10
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=4.632
+ [[ -n 10 ]]
+ echo 25846 right Cyst 10 4.632
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=4
++ cat /tmp/ashs.ObAtKN2w/rawvols_raw_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=120.854
+ [[ -n 4 ]]
+ echo 25846 right Tail 4 120.854
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ heur == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz ]]
+ STATS=/tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -dup -lstat
+ tee /tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      389639     82037.276     80   100    51
    1       1.00000     0.00000     1.00000     1.00000        2595       546.369     46    54    18
    2       2.00000     0.00000     2.00000     2.00000        3401       716.070     41    26    37
    3       3.00000     0.00000     3.00000     3.00000        7118      1498.673     54    41    37
    4       4.00000     0.00000     4.00000     4.00000         244        51.373     19    11    25
    5       5.00000     0.00000     5.00000     5.00000        3800       800.078     36    19    31
    6       6.00000     0.00000     6.00000     6.00000         550       115.801     31    18    26
    8       8.00000     0.00000     8.00000     8.00000         653       137.487     25    19     4
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_left_heur_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_left_heur_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=18
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=546.369
+ [[ -n 18 ]]
+ echo 25846 left ERC 18 546.369
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=716.070
+ [[ -n 37 ]]
+ echo 25846 left SUB 37 716.070
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1498.673
+ [[ -n 37 ]]
+ echo 25846 left CA1 37 1498.673
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=25
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=51.373
+ [[ -n 25 ]]
+ echo 25846 left CA2 25 51.373
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=31
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=800.078
+ [[ -n 31 ]]
+ echo 25846 left DG 31 800.078
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=26
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=115.801
+ [[ -n 26 ]]
+ echo 25846 left CA3 26 115.801
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=
+ [[ -n '' ]]
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=4
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=137.487
+ [[ -n 4 ]]
+ echo 25846 left Tail 4 137.487
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ heur == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz ]]
+ STATS=/tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -dup -lstat
+ tee /tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      387924     81676.188     84    99    49
    1       1.00000     0.00000     1.00000     1.00000        2572       541.527     43    55    17
    2       2.00000     0.00000     2.00000     2.00000        3469       730.387     41    26    36
    3       3.00000     0.00000     3.00000     3.00000        8122      1710.062     60    40    37
    4       4.00000     0.00000     4.00000     4.00000         309        65.059     22    13    23
    5       5.00000     0.00000     5.00000     5.00000        4088       860.716     42    22    31
    6       6.00000     0.00000     6.00000     6.00000         404        85.061     34    12    25
    7       7.00000     0.00000     7.00000     7.00000          22         4.632     10     2    10
    8       8.00000     0.00000     8.00000     8.00000         574       120.854     27    21     4
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_right_heur_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_right_heur_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=17
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=541.527
+ [[ -n 17 ]]
+ echo 25846 right ERC 17 541.527
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=36
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=730.387
+ [[ -n 36 ]]
+ echo 25846 right SUB 36 730.387
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1710.062
+ [[ -n 37 ]]
+ echo 25846 right CA1 37 1710.062
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=65.059
+ [[ -n 23 ]]
+ echo 25846 right CA2 23 65.059
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=31
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=860.716
+ [[ -n 31 ]]
+ echo 25846 right DG 31 860.716
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=25
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=85.061
+ [[ -n 25 ]]
+ echo 25846 right CA3 25 85.061
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=10
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=4.632
+ [[ -n 10 ]]
+ echo 25846 right Cyst 10 4.632
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=4
++ cat /tmp/ashs.ObAtKN2w/rawvols_heur_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=120.854
+ [[ -n 4 ]]
+ echo 25846 right Tail 4 120.854
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ corr_usegray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz ]]
+ STATS=/tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -dup -lstat
+ tee /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      389368     81980.217     80   100    51
    1       1.00000     0.00000     1.00000     1.00000        3018       635.430     44    54    19
    2       2.00000     0.00000     2.00000     2.00000        3379       711.438     41    25    39
    3       3.00000     0.00000     3.00000     3.00000        7488      1576.575     54    41    38
    4       4.00000     0.00000     4.00000     4.00000          62        13.054      7     8    17
    5       5.00000     0.00000     5.00000     5.00000        3896       820.291     35    18    32
    6       6.00000     0.00000     6.00000     6.00000         173        36.425     29    16    24
    8       8.00000     0.00000     8.00000     8.00000         616       129.697     23    18     6
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_left_corr_usegray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_left_corr_usegray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=19
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=635.430
+ [[ -n 19 ]]
+ echo 25846 left ERC 19 635.430
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=39
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=711.438
+ [[ -n 39 ]]
+ echo 25846 left SUB 39 711.438
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=38
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1576.575
+ [[ -n 38 ]]
+ echo 25846 left CA1 38 1576.575
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=17
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=13.054
+ [[ -n 17 ]]
+ echo 25846 left CA2 17 13.054
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=32
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=820.291
+ [[ -n 32 ]]
+ echo 25846 left DG 32 820.291
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=24
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=36.425
+ [[ -n 24 ]]
+ echo 25846 left CA3 24 36.425
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=
+ [[ -n '' ]]
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=6
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=129.697
+ [[ -n 6 ]]
+ echo 25846 left Tail 6 129.697
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ corr_usegray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz ]]
+ STATS=/tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -dup -lstat
+ tee /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      388984     81899.367     84    99    49
    1       1.00000     0.00000     1.00000     1.00000        1764       371.405     39    53    17
    2       2.00000     0.00000     2.00000     2.00000        3219       677.750     39    24    37
    3       3.00000     0.00000     3.00000     3.00000        8635      1818.072     61    40    38
    4       4.00000     0.00000     4.00000     4.00000          48        10.106     21    12    20
    5       5.00000     0.00000     5.00000     5.00000        4314       908.299     41    20    32
    6       6.00000     0.00000     6.00000     6.00000         143        30.108     35    12    24
    7       7.00000     0.00000     7.00000     7.00000          46         9.685     12     4    10
    8       8.00000     0.00000     8.00000     8.00000         331        69.691     23    15     6
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_right_corr_usegray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_right_corr_usegray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=17
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=371.405
+ [[ -n 17 ]]
+ echo 25846 right ERC 17 371.405
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=677.750
+ [[ -n 37 ]]
+ echo 25846 right SUB 37 677.750
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=38
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1818.072
+ [[ -n 38 ]]
+ echo 25846 right CA1 38 1818.072
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=20
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=10.106
+ [[ -n 20 ]]
+ echo 25846 right CA2 20 10.106
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=32
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=908.299
+ [[ -n 32 ]]
+ echo 25846 right DG 32 908.299
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=24
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=30.108
+ [[ -n 24 ]]
+ echo 25846 right CA3 24 30.108
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=10
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=9.685
+ [[ -n 10 ]]
+ echo 25846 right Cyst 10 9.685
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=6
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_usegray_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=69.691
+ [[ -n 6 ]]
+ echo 25846 right Tail 6 69.691
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ corr_nogray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz ]]
+ STATS=/tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -dup -lstat
+ tee /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      389709     82052.014     80   100    51
    1       1.00000     0.00000     1.00000     1.00000        2841       598.164     41    51    19
    2       2.00000     0.00000     2.00000     2.00000        3370       709.543     41    25    37
    3       3.00000     0.00000     3.00000     3.00000        7279      1532.571     54    41    38
    4       4.00000     0.00000     4.00000     4.00000          57        12.001      7     7    17
    5       5.00000     0.00000     5.00000     5.00000        3851       810.816     33    19    31
    6       6.00000     0.00000     6.00000     6.00000         192        40.425     29    15    24
    8       8.00000     0.00000     8.00000     8.00000         701       147.593     22    18     6
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_left_corr_nogray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_left_corr_nogray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=19
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=598.164
+ [[ -n 19 ]]
+ echo 25846 left ERC 19 598.164
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=709.543
+ [[ -n 37 ]]
+ echo 25846 left SUB 37 709.543
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=38
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1532.571
+ [[ -n 38 ]]
+ echo 25846 left CA1 38 1532.571
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=17
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=12.001
+ [[ -n 17 ]]
+ echo 25846 left CA2 17 12.001
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=31
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=810.816
+ [[ -n 31 ]]
+ echo 25846 left DG 31 810.816
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=24
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=40.425
+ [[ -n 24 ]]
+ echo 25846 left CA3 24 40.425
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=
+ [[ -n '' ]]
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=6
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=147.593
+ [[ -n 6 ]]
+ echo 25846 left Tail 6 147.593
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ corr_nogray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz ]]
+ STATS=/tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -dup -lstat
+ tee /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      388996     81901.894     84    99    49
    1       1.00000     0.00000     1.00000     1.00000        1716       361.298     40    54    17
    2       2.00000     0.00000     2.00000     2.00000        3254       685.120     38    24    37
    3       3.00000     0.00000     3.00000     3.00000        8584      1807.334     60    40    38
    4       4.00000     0.00000     4.00000     4.00000          56        11.791     17    12    12
    5       5.00000     0.00000     5.00000     5.00000        4416       929.775     41    21    33
    6       6.00000     0.00000     6.00000     6.00000         158        33.266     34    12    22
    7       7.00000     0.00000     7.00000     7.00000          31         6.527     11     4     9
    8       8.00000     0.00000     8.00000     8.00000         273        57.479     22    14     6
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_right_corr_nogray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/final/25846_right_corr_nogray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=17
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=361.298
+ [[ -n 17 ]]
+ echo 25846 right ERC 17 361.298
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=685.120
+ [[ -n 37 ]]
+ echo 25846 right SUB 37 685.120
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=38
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1807.334
+ [[ -n 38 ]]
+ echo 25846 right CA1 38 1807.334
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=12
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=11.791
+ [[ -n 12 ]]
+ echo 25846 right CA2 12 11.791
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=33
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=929.775
+ [[ -n 33 ]]
+ echo 25846 right DG 33 929.775
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=22
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=33.266
+ [[ -n 22 ]]
+ echo 25846 right CA3 22 33.266
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=9
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=6.527
+ [[ -n 9 ]]
+ echo 25846 right Cyst 9 6.527
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=6
++ cat /tmp/ashs.ObAtKN2w/rawvols_corr_nogray_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=57.479
+ [[ -n 6 ]]
+ echo 25846 right Tail 6 57.479
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ manual == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ manual == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ [[ -f /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz ]]
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz /tmp/ashs.ObAtKN2w/icv.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/mprage.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 24
++ voxel_size /tmp/ashs.ObAtKN2w/icv.nii.gz
+++ c3d /tmp/ashs.ObAtKN2w/icv.nii.gz -info-full
+++ grep Spacing
+++ sed -e 's/[^0-9\.]/ /g'
+++ awk '{print $1*$2*$3}'
++ echo 0.343
+ VVOX=0.343
++ c3d /tmp/ashs.ObAtKN2w/icv.nii.gz -thresh 0.5 inf 1 0 -dup -lstat
++ tail -n 1
++ awk '{print $6}'
+ VOLUME=4373806
++ echo '0.343 4373806'
++ awk '{print $1*$2}'
+ ICV=1.50022e+06
+ echo 25846 1.50022e+06
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.98 -v be=1.0 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.98 1.0'
CHUNK 0.98 1.0
+ echo 1
+ awk -v bs=0.98 -v be=1.0 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.98 1
+ echo 'CHUNK 0.98 1 1'
CHUNK 0.98 1 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.98 1 1
====================================
         PROGRESS: 0.98               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 7 successful
------------------------------------------------
[0m
Beginning ASHS for:  25846
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/n42_t2.nii
Beginning ASHS for:  25846
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 112: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/originalskullstripped: No such file or directory
Beginning ASHS for:  25846
Beginning ASHS for:  25846
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 139: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/DenoiseT1N4T2Utrecht: No such file or directory
Beginning ASHS for:  25846
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 149: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/25846/DenoiseT1N4T2Utrecht: No such file or directory
