Changed directory to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs.

JobID: 5668751
======
Time: Thu Jan  7 19:32:33 GMT 2021
Running on master node: wbic-cs-40
Current directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Nodes allocated:
================
wbic-cs-40

numtasks=1, numnodes=1, mpi_tasks_per_node=1 (OMP_NUM_THREADS=1)

Executing command:
==================
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh /lustre/scratch/wbic-beta/ccn30/ENCRYPT 26395/20200921_U-ID49971 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

mkdir: cannot create directory â€˜/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395â€™: File exists
Beginning ASHS for:  26395
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/t2.nii
ASHS started at 19:32:33


 ASHS completed for 26395 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  26395
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/n42_t2.nii
ASHS started at 19:32:33


 ASHS completed for 26395 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  26395
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/n42_t2.nii
ASHS started at 19:32:33


 ASHS completed for 26395 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  26395
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/n42_t2.nii
ASHS started at 19:32:33


 ASHS completed for 26395 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  26395
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/t2.nii
ASHS started at 19:32:33


 ASHS completed for 26395 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  26395
ASHS started at 19:32:33


 ASHS completed for 26395 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  26395
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 164: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht: No such file or directory
ASHS started at 19:32:33
ashs_main execution log
  timestamp:   Thu Jan  7 19:32:33 GMT 2021
  invocation:  /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_main.sh -I 26395 -a /home/ccn30/ENCRYPT/atlases/utrechtatlas -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/n42_t2.nii -w /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht
  directory:   /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseBrain
  environment:
    ASHS_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii
    ASHS_ROOT=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
    ASHS_SUBJID=26395
    ASHS_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/n42_t2.nii
    ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht
Atlas    : /home/ccn30/ENCRYPT/atlases/utrechtatlas
T1 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii
T2 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/n42_t2.nii
WorkDir  : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht
Not using SGE or GNU parallel
****************************************
Starting stage 1: Normalization to T1 population template
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 1: Normalization to T1 population 
template
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_template_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  Skip Rigid: 
  Skip Ants: 
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp
+ WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/flirt_t2_to_t1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ TEMP_T1_FULL=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz
+ TEMP_T1_MASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_AFF_T1TEMP_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz
+ SUBJ_MPRAGE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/mprage_d.nii.gz
+ echo 'ASHS_MPRAGE_DENOISE = 0'
ASHS_MPRAGE_DENOISE = 0
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/mprage_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/mprage_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/mprage.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/mprage_d.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/n42_t2.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/tse_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/n42_t2.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/tse_raw.nii.gz
+ SUBJ_TSE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/tse_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/tse_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/tse.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/tse_d.nii.gz
+ ashs_align_t1t2 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht
+ local OVERRIDE_MAT=
+ local OVERRIDE_MODE=
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat ]]
+ export FSLOUTPUTTYPE=NIFTI_GZ
+ FSLOUTPUTTYPE=NIFTI_GZ
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/tse.nii.gz -resample 100x100x100% -region 20x20x0% 60x60x100% -type short -o /tmp/ashs.GAt9QRm5/tse_iso.nii.gz
+ [[ -n '' ]]
+ local INIT_RIGID
+ [[ -n '' ]]
+ INIT_RIGID=-ia-identity
+ greedy -d 3 -a -dof 6 -m MI -n 100x100x10 -i /tmp/ashs.GAt9QRm5/tse_iso.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/mprage.nii.gz -ia-identity -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat
Executing with the default number of threads: 24
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1851.07   GNORM= 44.4344
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1878.108      22.564       0.023
   2    3     -1886.958      11.586       1.000
   3    4     -1889.840       7.623       1.000
   4    5     -1890.878       9.391       1.000
   5    6     -1891.565       5.484       1.000
   6    7     -1891.713       5.118       1.000
   7    8     -1891.928       3.273       1.000
   8    9     -1891.972       2.828       1.000
   9   10     -1892.053       1.847       1.000
  10   12     -1892.065       2.355       0.407
  11   14     -1892.065       2.205       0.124
  12   15     -1892.073       1.369       1.000
  13   16     -1892.074       1.211       1.000
  14   18     -1892.078       0.683       0.491
  15   20     -1892.078       1.043       0.309
  16   21     -1892.079       0.475       1.000
  17   22     -1892.079       1.270       1.000
  18   23     -1892.081       0.921       1.000
  19   24     -1892.083       0.648       1.000
  20   25     -1892.085       1.035       1.000
  21   30     -1892.098       0.926       0.981
  22   32     -1892.099       1.280       0.372
  23   34     -1892.099       0.966       0.148
  24   35     -1892.101       1.471       1.000
  25   36     -1892.104       0.947       1.000
  26   37     -1892.106       1.594       1.000
  27   38     -1892.107       0.922       1.000
  28   40     -1892.108       0.885       0.094
  29   43     -1892.108       1.332       2.857
  30   45     -1892.108       1.558       0.455
  31   46     -1892.109       1.894       1.000
  32   48     -1892.109       1.932       0.378
  33   49     -1892.110       1.412       1.000
  34   51     -1892.110       1.085       0.151
  35   58     -1892.110       1.313       0.007
  36   60     -1892.111       1.331       0.290
  37   62     -1892.111       1.782       0.122
  38   65     -1892.111       0.707       1.697
  39   66     -1892.111       1.555       1.000
  40   67     -1892.111       0.678       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999823 0.00475922 0.0182055 -0.785678 
-0.00463 0.999964 -0.00713303 0.489248 
-0.0182388 0.00704748 0.999809 -1.45722 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2091.6   GNORM= 73.4162
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2104.952      67.780       0.014
   2    3     -2120.620      27.463       1.000
   3    4     -2126.693      21.372       1.000
   4    5     -2136.309      25.989       1.000
   5    6     -2138.118      36.682       1.000
   6    7     -2141.237       9.971       1.000
   7    8     -2141.847       8.264       1.000
   8    9     -2142.831       9.404       1.000
   9   10     -2143.855       5.681       1.000
  10   12     -2144.155       2.806       0.458
  11   14     -2144.167       1.658       0.276
  12   15     -2144.174       0.701       1.000
  13   16     -2144.177       0.669       1.000
  14   18     -2144.180       0.576       0.519
  15   19     -2144.181       0.483       1.000
  16   20     -2144.182       0.308       1.000
  17   21     -2144.182       0.213       1.000
  18   23     -2144.182       0.414       5.000
  19   24     -2144.183       0.568       1.000
  20   26     -2144.183       0.431       0.346
  21   27     -2144.184       0.237       1.000
  22   29     -2144.184       0.166       0.300
  23   30     -2144.184       0.133       1.000
  24   31     -2144.184       0.122       1.000
  25   33     -2144.184       0.087       0.421
  26   35     -2144.184       0.063       0.331
  27   36     -2144.184       0.054       1.000
  28   37     -2144.184       0.091       1.000
  29   38     -2144.184       0.053       1.000
  30   39     -2144.184       0.065       1.000
  31   41     -2144.184       0.085       0.363
  32   42     -2144.184       0.053       1.000
  33   44     -2144.184       0.072       0.031
  34   45     -2144.184       0.040       1.000
  35   46     -2144.184       0.016       1.000
  36   48     -2144.184       0.030       0.378
  37   50     -2144.184       0.023       5.000
  38   52     -2144.184       0.022       0.270
  39   53     -2144.184       0.016       1.000
  40   56     -2144.184       0.018       0.078
  41   57     -2144.184       0.019       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999955 0.000170622 0.00946141 -0.244995 
-0.000270852 0.999944 0.0105933 -0.165679 
-0.00945907 -0.0105954 0.999899 -0.330394 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2405.53   GNORM= 73.932
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2409.799      19.784       0.001
   2    4     -2410.342      15.590       1.000
   3    5     -2411.392      20.809       1.000
   4    6     -2413.778      34.308       1.000
   5    7     -2416.608      34.965       1.000
   6    9     -2416.977      34.148       0.127
   7   10     -2418.161      12.353       1.000
   8   11     -2418.340       3.990       1.000
Final RAS Transform: 
0.999965 -0.000262652 0.00838783 -0.142513 
0.000133466 0.999881 0.0153985 -0.275312 
-0.00839088 -0.0153968 0.999846 -0.12124 
0 0 0 1 

+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.25
+ local PROGRESS=0.25
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.25'
CHUNK 0 0.2 0.25
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.25
====================================
         PROGRESS: 0               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat ]]
+ greedy -d 3 -a -dof 6 -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat -n 400x0x0x0 -ia-image-centers -search 400 5 5
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 61.72
Rigid search -> Initial best: -299.679 5.89806e-17 -7.15264e-19 -1.39057e-16 1.74365 52.2472 22.538
New best: -529.901 0.0466339 0.00759078 0.0670481 -2.61227 58.9508 31.1131
New best: -534.288 0.0810471 0.015444 0.120831 3.67416 52.3014 27.4642
New best: -539.422 -0.0556997 0.0101424 0.0825242 4.65785 54.4576 27.3095
New best: -604.016 0.0715428 0.0724489 -0.0507586 7.22479 63.7243 34.2277
New best: -639.554 -0.00384622 0.00132025 0.00363836 7.95543 60.4571 36.3605
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -639.555   GNORM= 81.8076
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -641.317      31.071       0.012
   2    5      -641.537      27.328       0.045
   3    8      -641.681      17.815       0.072
   4   11      -641.758      15.216       0.071
   5   12      -641.794      15.551       1.000
   6   16      -642.318      59.626       8.384
   7   22      -642.723      32.999       0.181
   8   24      -642.733      25.323       0.225
   9   26      -642.753      21.125       0.130
  10   27      -642.783       8.788       1.000
  11   28      -642.790       9.475       1.000
  12   29      -642.802      14.763       1.000
  13   34      -642.865      18.033       1.445
  14   36      -642.867      21.797       0.099
  15   37      -642.906      17.529       1.000
  16   39      -642.913      13.283       0.321
  17   40      -642.920       9.183       1.000
  18   43      -643.139      74.344       0.937
  19   45      -643.142      70.787       0.045
  20   46      -643.198      48.540       1.000
  21   47      -643.263      20.770       1.000
  22   48      -643.278      14.758       1.000
  23   49      -643.288      10.043       1.000
  24   50      -643.290      27.105       1.000
  25   51      -643.296      11.601       1.000
  26   52      -643.299       8.259       1.000
  27   53      -643.306      12.427       1.000
  28   54      -643.313      14.127       1.000
  29   55      -643.315      54.400       1.000
  30   56      -643.344      25.032       1.000
  31   57      -643.356      13.912       1.000
  32   58      -643.374      18.324       1.000
  33   60      -643.378      18.307       0.245
  34   62      -643.390      19.620       0.311
  35   64      -643.396      20.379       0.186
  36   65      -643.402      20.535       1.000
  37   66      -643.405       9.983       1.000
  38   67      -643.406       4.357       1.000
  39   68      -643.407       1.537       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999734 -0.0224157 -0.00537492 7.75042 
0.0224475 0.99973 0.0059481 60.5442 
0.00524014 -0.00606718 0.999968 36.4271 
0 0 0 1 

Final RAS Transform: 
0.999734 -0.0224157 -0.00537492 7.75042 
0.0224475 0.99973 0.0059481 60.5442 
0.00524014 -0.00606718 0.999968 36.4271 
0 0 0 1 

Final RAS Transform: 
0.999734 -0.0224157 -0.00537492 7.75042 
0.0224475 0.99973 0.0059481 60.5442 
0.00524014 -0.00606718 0.999968 36.4271 
0 0 0 1 

Final RAS Transform: 
0.999734 -0.0224157 -0.00537492 7.75042 
0.0224475 0.99973 0.0059481 60.5442 
0.00524014 -0.00606718 0.999968 36.4271 
0 0 0 1 


real	1m33.748s
user	2m27.204s
sys	0m7.916s
+ greedy -d 3 -a -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template.mat -n 400x80x40x0 -ia /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 61.72
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -643.405   GNORM= 68.3605
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -987.611      46.789       0.073
   2    4     -1289.056      20.733       1.000
   3    6     -2113.680      33.576       5.000
   4    7     -2410.191       0.182       1.000
   5    8     -2410.421       0.229       1.000
   6    9     -2410.439       0.275       1.000
   7   10     -2410.496       0.131       1.000
   8   11     -2410.561       0.125       1.000
   9   13     -2410.570       0.132       0.235
  10   14     -2410.594       0.087       1.000
  11   15     -2410.609       0.115       1.000
  12   16     -2410.639       0.130       1.000
  13   17     -2410.739       0.096       1.000
  14   18     -2410.823       0.195       1.000
  15   20     -2410.842       0.155       0.363
  16   21     -2410.875       0.101       1.000
  17   22     -2410.926       0.123       1.000
  18   23     -2410.934       0.314       1.000
  19   25     -2410.936       0.179       0.295
  20   26     -2410.993       0.203       1.000
  21   27     -2411.060       0.141       1.000
  22   28     -2411.079       0.227       1.000
  23   30     -2411.119       0.139       0.309
  24   32     -2411.142       0.173       0.271
  25   34     -2411.146       0.147       0.253
  26   35     -2411.156       0.285       1.000
  27   36     -2411.158       0.148       1.000
  28   37     -2411.168       0.169       1.000
  29   38     -2411.173       0.102       1.000
  30   39     -2411.174       0.117       1.000
  31   40     -2411.181       0.079       1.000
  32   41     -2411.186       0.122       1.000
  33   42     -2411.192       0.055       1.000
  34   45     -2411.193       0.078       0.102
  35   50     -2411.193       0.094       0.029
  36   53     -2411.194       0.166       0.053
  37   54     -2411.195       0.066       1.000
  38   55     -2411.196       0.046       1.000
  39   56     -2411.197       0.155       1.000
  40   57     -2411.198       0.080       1.000
  41   58     -2411.199       0.093       1.000
  42   59     -2411.200       0.082       1.000
  43   60     -2411.205       0.078       1.000
  44   62     -2411.207       0.189       0.355
  45   63     -2411.209       0.039       1.000
  46   64     -2411.209       0.045       1.000
  47   65     -2411.212       0.068       1.000
  48   67     -2411.221       0.092       0.465
  49   69     -2411.244       0.146       0.409
  50   70     -2411.244       0.170       1.000
  51   73     -2411.305       0.155       1.429
  52   76     -2411.306       0.048       0.005
  53   77     -2411.311       0.122       1.000
  54   79     -2411.318       0.205       5.000
  55   80     -2411.322       0.053       1.000
  56   81     -2411.322       0.082       1.000
  57   82     -2411.325       0.215       1.000
  58   83     -2411.326       0.110       1.000
  59   84     -2411.327       0.061       1.000
  60   85     -2411.329       0.086       1.000
  61   86     -2411.331       0.344       1.000
  62   87     -2411.336       0.231       1.000
  63   88     -2411.339       0.378       1.000
  64   89     -2411.341       0.076       1.000
  65   90     -2411.342       0.091       1.000
  66   91     -2411.354       0.205       1.000
  67   92     -2411.358       0.142       1.000
  68   93     -2411.360       0.109       1.000
  69   94     -2411.363       0.289       1.000
  70   96     -2411.364       0.212       0.247
  71   97     -2411.364       0.183       1.000
  72   98     -2411.366       0.058       1.000
  73   99     -2411.367       0.055       1.000
  74  101     -2411.368       0.063       0.444
  75  102     -2411.370       0.321       1.000
  76  103     -2411.373       0.114       1.000
  77  104     -2411.376       0.108       1.000
  78  107     -2411.378       0.066       0.039
  79  110     -2411.378       0.080       0.063
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
9.87709 -0.101291 -1.5555 -10.4957 
-0.39857 6.09792 1.08583 190.944 
-2.08828 -0.957246 3.99359 76.7948 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2677.82   GNORM= 0.0807882
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2677.833       0.106      12.378
   2    3     -2677.846       0.043       1.000
   3    4     -2677.855       0.044       1.000
   4    7     -2677.893       0.071       0.701
   5    8     -2677.903       0.040       1.000
   6   10     -2677.906       0.044       0.088
   7   13     -2677.913       0.083      21.000
   8   15     -2677.945       0.048       0.212
   9   17     -2677.956       0.046       0.385
  10   19     -2677.976       0.054       5.000
  11   21     -2678.002       0.058       0.254
  12   23     -2678.029       0.057       0.344
  13   24     -2678.033       0.042       1.000
  14   25     -2678.044       0.049       1.000
  15   28     -2678.055       0.035       0.698
  16   33     -2678.058       0.041       1.242
  17   36     -2678.058       0.113       0.026
  18   38     -2678.059       0.043       0.124
  19   40     -2678.061       0.037       0.096
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
9.85398 -0.062085 -1.62186 -12.6844 
-0.378702 6.0609 1.12353 191.411 
-2.10449 -0.866098 3.99505 79.741 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2800.05   GNORM= 0.0721929
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2800.078       0.043      13.852
   2    3     -2800.083       0.028       1.000
   3    5     -2800.084       0.023       0.371
   4    6     -2800.086       0.025       1.000
   5    9     -2800.086       0.029       0.031
   6   12     -2800.086       0.012       0.078
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
9.85392 -0.0617156 -1.62173 -12.9488 
-0.378648 6.06027 1.12327 192.183 
-2.10456 -0.866174 3.99473 79.9839 
0 0 0 1 

Final RAS Transform: 
9.85392 -0.0617156 -1.62173 -12.9488 
-0.378648 6.06027 1.12327 192.183 
-2.10456 -0.866174 3.99473 79.9839 
0 0 0 1 


real	3m43.840s
user	6m46.184s
sys	0m8.500s
+ greedy -d 3 -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template.mat -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/test_greedy_affine.nii.gz
Executing with the default number of threads: 24
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat
+ ln -sf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/test_greedy_affine.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.nii.gz
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.5'
CHUNK 0 0.2 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.5
====================================
         PROGRESS: 0               
====================================
+ [[ -n '' ]]
+ greedy -d 3 -m NCC 2x2x2 -e 0.5 -n 60x60x20x0 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz -oinv /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz -gm /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 0
LEVEL 1 of 4
  Smoothing sigmas: [9.11606, 9.11606, 6.92825], [3.72161, 3.72161, 2.82845]
Level     0,  Iter     0:    Energy =  -0.0000
Level     0,  Iter     1:    Energy =  -0.0000
Level     0,  Iter     2:    Energy =   0.0000
Level     0,  Iter     3:    Energy =   0.0000
Level     0,  Iter     4:    Energy =   0.0001
Level     0,  Iter     5:    Energy =   0.0001
Level     0,  Iter     6:    Energy =   0.0002
Level     0,  Iter     7:    Energy =   0.0002
Level     0,  Iter     8:    Energy =   0.0002
Level     0,  Iter     9:    Energy =   0.0003
Level     0,  Iter    10:    Energy =   0.0004
Level     0,  Iter    11:    Energy =   0.0004
Level     0,  Iter    12:    Energy =   0.0004
Level     0,  Iter    13:    Energy =   0.0005
Level     0,  Iter    14:    Energy =   0.0005
Level     0,  Iter    15:    Energy =   0.0006
Level     0,  Iter    16:    Energy =   0.0006
Level     0,  Iter    17:    Energy =   0.0006
Level     0,  Iter    18:    Energy =   0.0007
Level     0,  Iter    19:    Energy =   0.0008
Level     0,  Iter    20:    Energy =   0.0008
Level     0,  Iter    21:    Energy =   0.0009
Level     0,  Iter    22:    Energy =   0.0009
Level     0,  Iter    23:    Energy =   0.0009
Level     0,  Iter    24:    Energy =   0.0010
Level     0,  Iter    25:    Energy =   0.0010
Level     0,  Iter    26:    Energy =   0.0010
Level     0,  Iter    27:    Energy =   0.0010
Level     0,  Iter    28:    Energy =   0.0010
Level     0,  Iter    29:    Energy =   0.0010
Level     0,  Iter    30:    Energy =   0.0011
Level     0,  Iter    31:    Energy =   0.0010
Level     0,  Iter    32:    Energy =   0.0010
Level     0,  Iter    33:    Energy =   0.0010
Level     0,  Iter    34:    Energy =   0.0011
Level     0,  Iter    35:    Energy =   0.0011
Level     0,  Iter    36:    Energy =   0.0011
Level     0,  Iter    37:    Energy =   0.0011
Level     0,  Iter    38:    Energy =   0.0011
Level     0,  Iter    39:    Energy =   0.0011
Level     0,  Iter    40:    Energy =   0.0011
Level     0,  Iter    41:    Energy =   0.0012
Level     0,  Iter    42:    Energy =   0.0011
Level     0,  Iter    43:    Energy =   0.0011
Level     0,  Iter    44:    Energy =   0.0012
Level     0,  Iter    45:    Energy =   0.0012
Level     0,  Iter    46:    Energy =   0.0012
Level     0,  Iter    47:    Energy =   0.0012
Level     0,  Iter    48:    Energy =   0.0012
Level     0,  Iter    49:    Energy =   0.0012
Level     0,  Iter    50:    Energy =   0.0012
Level     0,  Iter    51:    Energy =   0.0013
Level     0,  Iter    52:    Energy =   0.0013
Level     0,  Iter    53:    Energy =   0.0013
Level     0,  Iter    54:    Energy =   0.0013
Level     0,  Iter    55:    Energy =   0.0013
Level     0,  Iter    56:    Energy =   0.0013
Level     0,  Iter    57:    Energy =   0.0013
Level     0,  Iter    58:    Energy =   0.0013
Level     0,  Iter    59:    Energy =   0.0013
END OF LEVEL     0    DetJac Range:   0.3116  to   1.7213 
  Avg. Gradient Time  : 0.0199s  37.67% 
  Avg. Gaussian Time  : 0.0260s  49.21% 
  Avg. Iteration Time : 0.0529s 
LEVEL 2 of 4
  Smoothing sigmas: [4.55803, 4.55803, 3.46412], [1.86081, 1.86081, 1.41422]
Level     1,  Iter     0:    Energy =   0.0004
Level     1,  Iter     1:    Energy =   0.0004
Level     1,  Iter     2:    Energy =   0.0005
Level     1,  Iter     3:    Energy =   0.0005
big value: 1115.522246
Level     1,  Iter     4:    Energy =   0.0005
Level     1,  Iter     5:    Energy =   0.0005
Level     1,  Iter     6:    Energy =   0.0005
Level     1,  Iter     7:    Energy =   0.0005
Level     1,  Iter     8:    Energy =   0.0006
Level     1,  Iter     9:    Energy =   0.0006
Level     1,  Iter    10:    Energy =   0.0005
Level     1,  Iter    11:    Energy =   0.0006
Level     1,  Iter    12:    Energy =   0.0006
Level     1,  Iter    13:    Energy =   0.0006
Level     1,  Iter    14:    Energy =   0.0006
Level     1,  Iter    15:    Energy =   0.0006
Level     1,  Iter    16:    Energy =   0.0007
Level     1,  Iter    17:    Energy =   0.0007
Level     1,  Iter    18:    Energy =   0.0006
Level     1,  Iter    19:    Energy =   0.0007
Level     1,  Iter    20:    Energy =   0.0007
Level     1,  Iter    21:    Energy =   0.0007
Level     1,  Iter    22:    Energy =   0.0007
Level     1,  Iter    23:    Energy =   0.0007
Level     1,  Iter    24:    Energy =   0.0007
Level     1,  Iter    25:    Energy =   0.0007
Level     1,  Iter    26:    Energy =   0.0007
Level     1,  Iter    27:    Energy =   0.0007
Level     1,  Iter    28:    Energy =   0.0007
Level     1,  Iter    29:    Energy =   0.0007
Level     1,  Iter    30:    Energy =   0.0007
Level     1,  Iter    31:    Energy =   0.0007
Level     1,  Iter    32:    Energy =   0.0007
Level     1,  Iter    33:    Energy =   0.0007
Level     1,  Iter    34:    Energy =   0.0007
Level     1,  Iter    35:    Energy =   0.0007
Level     1,  Iter    36:    Energy =   0.0007
Level     1,  Iter    37:    Energy =   0.0007
Level     1,  Iter    38:    Energy =   0.0007
Level     1,  Iter    39:    Energy =   0.0007
Level     1,  Iter    40:    Energy =   0.0007
Level     1,  Iter    41:    Energy =   0.0007
Level     1,  Iter    42:    Energy =   0.0007
Level     1,  Iter    43:    Energy =   0.0007
Level     1,  Iter    44:    Energy =   0.0007
Level     1,  Iter    45:    Energy =   0.0007
Level     1,  Iter    46:    Energy =   0.0007
Level     1,  Iter    47:    Energy =   0.0007
Level     1,  Iter    48:    Energy =   0.0007
Level     1,  Iter    49:    Energy =   0.0007
Level     1,  Iter    50:    Energy =   0.0007
Level     1,  Iter    51:    Energy =   0.0007
Level     1,  Iter    52:    Energy =   0.0007
Level     1,  Iter    53:    Energy =   0.0007
Level     1,  Iter    54:    Energy =   0.0007
Level     1,  Iter    55:    Energy =   0.0008
Level     1,  Iter    56:    Energy =   0.0008
Level     1,  Iter    57:    Energy =   0.0008
Level     1,  Iter    58:    Energy =   0.0008
Level     1,  Iter    59:    Energy =   0.0007
END OF LEVEL     1    DetJac Range:   0.0554  to   1.9134 
  Avg. Gradient Time  : 0.1443s  37.26% 
  Avg. Gaussian Time  : 0.2012s  51.96% 
  Avg. Iteration Time : 0.3872s 
LEVEL 3 of 4
  Smoothing sigmas: [2.27901, 2.27901, 1.73206], [0.930404, 0.930404, 0.707111]
Level     2,  Iter     0:    Energy =   0.0002
Level     2,  Iter     1:    Energy =   0.0002
Level     2,  Iter     2:    Energy =   0.0002
Level     2,  Iter     3:    Energy =   0.0002
Level     2,  Iter     4:    Energy =   0.0002
big value: 1934.547484
Level     2,  Iter     5:    Energy =   0.0002
Level     2,  Iter     6:    Energy =   0.0002
Level     2,  Iter     7:    Energy =   0.0002
Level     2,  Iter     8:    Energy =   0.0002
Level     2,  Iter     9:    Energy =   0.0002
Level     2,  Iter    10:    Energy =   0.0002
Level     2,  Iter    11:    Energy =   0.0003
Level     2,  Iter    12:    Energy =   0.0003
Level     2,  Iter    13:    Energy =   0.0003
Level     2,  Iter    14:    Energy =   0.0003
big value: 2615.217103
Level     2,  Iter    15:    Energy =   0.0002
Level     2,  Iter    16:    Energy =   0.0002
Level     2,  Iter    17:    Energy =   0.0003
Level     2,  Iter    18:    Energy =   0.0003
Level     2,  Iter    19:    Energy =   0.0002
END OF LEVEL     2    DetJac Range:   0.1190  to   1.6832 
  Avg. Gradient Time  : 1.2668s  31.94% 
  Avg. Gaussian Time  : 2.3919s  60.31% 
  Avg. Iteration Time : 3.9658s 
LEVEL 4 of 4
  Smoothing sigmas: [1.13951, 1.13951, 0.866031], [0.465202, 0.465202, 0.353556]
slurmstepd: error: Job 5668751 exceeded memory limit (7188132 > 7168000), being killed
slurmstepd: error: Exceeded job memory limit
slurmstepd: error: *** JOB 5668751 ON wbic-cs-40 CANCELLED AT 2021-01-07T19:43:32 ***
